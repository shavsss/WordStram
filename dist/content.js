(()=>{"use strict";var e,t,n={186:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([e.id,"/**\n * Gemini Chat Styles\n * These styles are used by the Gemini chat component\n */\n\n/* Main container */\n.wordstream-gemini-chat {\n  position: fixed;\n  right: 20px;\n  bottom: 20px;\n  width: 350px;\n  height: 450px;\n  background-color: white;\n  border-radius: 10px;\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  z-index: 9999;\n}\n\n/* Header */\n.wordstream-gemini-chat-header {\n  padding: 12px 16px;\n  background-color: #4285F4;\n  color: white;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n}\n\n.wordstream-gemini-chat-header h3 {\n  margin: 0;\n  font-size: 16px;\n  font-weight: 500;\n}\n\n.wordstream-gemini-chat-subtitle {\n  font-size: 12px;\n  opacity: 0.8;\n  margin-left: 10px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 150px;\n}\n\n.wordstream-gemini-chat-close {\n  background: none;\n  border: none;\n  color: white;\n  font-size: 20px;\n  cursor: pointer;\n  padding: 0;\n  margin-left: auto;\n  line-height: 1;\n}\n\n/* Extra styles for FloatingWindow when used with Gemini */\n.wordstream-gemini-window .wordstream-floating-window-header {\n  background: linear-gradient(135deg, #8E2DE2, #4A00E0);\n}\n\n/* Messages container */\n.wordstream-gemini-chat-messages {\n  flex: 1;\n  overflow-y: auto;\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  height: calc(100% - 60px);\n  background-color: #f8f9fa;\n  border-radius: 0 0 8px 8px;\n}\n\n/* Welcome message */\n.wordstream-gemini-chat-welcome {\n  text-align: center;\n  padding: 20px;\n  margin: auto 0;\n  color: #5f6368;\n  background-color: rgba(255, 255, 255, 0.7);\n  border-radius: 12px;\n  -webkit-backdrop-filter: blur(10px);\n          backdrop-filter: blur(10px);\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);\n  border: 1px solid rgba(0, 0, 0, 0.1);\n}\n\n.wordstream-gemini-chat-welcome h4 {\n  margin: 0 0 10px;\n  color: #4285F4;\n  font-size: 18px;\n  font-weight: 600;\n}\n\n.wordstream-gemini-chat-welcome p {\n  margin: 0;\n  font-size: 14px;\n  line-height: 1.5;\n}\n\n/* Message bubbles */\n.wordstream-gemini-chat-message {\n  display: flex;\n  flex-direction: column;\n  max-width: 85%;\n  animation: fadeIn 0.3s ease;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.wordstream-gemini-chat-user {\n  align-self: flex-end;\n}\n\n.wordstream-gemini-chat-assistant {\n  align-self: flex-start;\n}\n\n.wordstream-gemini-chat-bubble {\n  padding: 12px 16px;\n  border-radius: 18px;\n  font-size: 14px;\n  line-height: 1.5;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n}\n\n.wordstream-gemini-chat-user .wordstream-gemini-chat-bubble {\n  background: linear-gradient(135deg, #4A00E0, #8E2DE2);\n  color: white;\n  border-bottom-right-radius: 4px;\n}\n\n.wordstream-gemini-chat-assistant .wordstream-gemini-chat-bubble {\n  background-color: white;\n  color: #202124;\n  border-bottom-left-radius: 4px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n}\n\n/* Loading animation */\n.wordstream-gemini-chat-loading {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 12px;\n}\n\n.wordstream-gemini-chat-loading span {\n  display: inline-block;\n  width: 8px;\n  height: 8px;\n  background-color: #5f6368;\n  border-radius: 50%;\n  animation: pulse 1.4s infinite ease-in-out;\n}\n\n.wordstream-gemini-chat-loading span:nth-child(2) {\n  animation-delay: 0.2s;\n}\n\n.wordstream-gemini-chat-loading span:nth-child(3) {\n  animation-delay: 0.4s;\n}\n\n@keyframes pulse {\n  0%, 100% {\n    transform: scale(0.6);\n    opacity: 0.6;\n  }\n  50% {\n    transform: scale(1.2);\n    opacity: 1;\n  }\n}\n\n/* Error message */\n.wordstream-gemini-chat-error {\n  color: #d93025;\n  font-size: 14px;\n  padding: 12px;\n  background-color: rgba(217, 48, 37, 0.1);\n  border-radius: 8px;\n  margin: 10px 0;\n  border-left: 3px solid #d93025;\n}\n\n/* Input area */\n.wordstream-gemini-chat-input-container {\n  display: flex;\n  padding: 12px;\n  background-color: rgba(255, 255, 255, 0.8);\n  -webkit-backdrop-filter: blur(5px);\n          backdrop-filter: blur(5px);\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  position: sticky;\n  bottom: 0;\n  border-radius: 0 0 8px 8px;\n}\n\n.wordstream-gemini-chat-input {\n  flex: 1;\n  border: 1px solid #dadce0;\n  border-radius: 20px;\n  padding: 10px 16px;\n  font-size: 14px;\n  resize: none;\n  max-height: 120px;\n  min-height: 40px;\n  font-family: inherit;\n  background-color: white;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);\n  transition: all 0.2s ease;\n}\n\n.wordstream-gemini-chat-input:focus {\n  outline: none;\n  border-color: #4285F4;\n  box-shadow: 0 1px 5px rgba(66, 133, 244, 0.3);\n}\n\n.wordstream-gemini-chat-send {\n  background: linear-gradient(135deg, #4A00E0, #8E2DE2);\n  color: white;\n  border: none;\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  margin-left: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n  font-size: 18px;\n}\n\n.wordstream-gemini-chat-send::before {\n  content: \"→\";\n  font-family: monospace;\n}\n\n.wordstream-gemini-chat-send:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n}\n\n.wordstream-gemini-chat-send:disabled {\n  background: #dadce0;\n  cursor: not-allowed;\n  transform: none;\n  box-shadow: none;\n}\n\n.wordstream-gemini-chat-send:disabled::before {\n  content: \"...\";\n  font-size: 14px;\n}\n\n/* Scrollbar styling */\n.wordstream-gemini-chat-messages::-webkit-scrollbar {\n  width: 6px;\n}\n\n.wordstream-gemini-chat-messages::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.wordstream-gemini-chat-messages::-webkit-scrollbar-thumb {\n  background-color: rgba(0, 0, 0, 0.15);\n  border-radius: 3px;\n}\n\n.wordstream-gemini-chat-messages::-webkit-scrollbar-thumb:hover {\n  background-color: rgba(0, 0, 0, 0.25);\n}\n\n/* Dark mode support */\n@media (prefers-color-scheme: dark) {\n  .wordstream-gemini-chat-messages {\n    background-color: #202124;\n  }\n  \n  .wordstream-gemini-chat-welcome {\n    background-color: rgba(32, 33, 36, 0.7);\n    border: 1px solid rgba(255, 255, 255, 0.1);\n    color: #e0e0e0;\n  }\n  \n  .wordstream-gemini-chat-welcome h4 {\n    color: #8ab4f8;\n  }\n  \n  .wordstream-gemini-chat-assistant .wordstream-gemini-chat-bubble {\n    background-color: #303134;\n    color: #e0e0e0;\n    border: 1px solid rgba(255, 255, 255, 0.1);\n  }\n  \n  .wordstream-gemini-chat-error {\n    background-color: rgba(217, 48, 37, 0.2);\n  }\n  \n  .wordstream-gemini-chat-input-container {\n    background-color: rgba(32, 33, 36, 0.8);\n    border-top: 1px solid rgba(255, 255, 255, 0.1);\n  }\n  \n  .wordstream-gemini-chat-input {\n    background-color: #303134;\n    color: #e0e0e0;\n    border-color: #5f6368;\n  }\n  \n  .wordstream-gemini-chat-input:focus {\n    border-color: #8ab4f8;\n    box-shadow: 0 1px 5px rgba(138, 180, 248, 0.3);\n  }\n  \n  .wordstream-gemini-chat-loading span {\n    background-color: #9aa0a6;\n  }\n  \n  .wordstream-gemini-chat-messages::-webkit-scrollbar-thumb {\n    background-color: rgba(255, 255, 255, 0.15);\n  }\n  \n  .wordstream-gemini-chat-messages::-webkit-scrollbar-thumb:hover {\n    background-color: rgba(255, 255, 255, 0.25);\n  }\n} ",""]);const l=i},10:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([e.id,"/**\n * Floating Window Styles\n * These styles are used by the floating window component\n */\n\n.wordstream-floating-window {\n  position: fixed;\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  z-index: 999999;\n  resize: both;\n  min-width: 300px;\n  min-height: 200px;\n  transition: box-shadow 0.2s ease;\n}\n\n.wordstream-floating-window.dragging {\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);\n  opacity: 0.95;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n}\n\n.wordstream-floating-window-header {\n  padding: 12px;\n  background-color: #4285F4;\n  color: white;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  cursor: move;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n}\n\n.wordstream-floating-window-title {\n  margin: 0;\n  font-size: 16px;\n  font-weight: 500;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.wordstream-floating-window-close {\n  background: none;\n  border: none;\n  color: white;\n  font-size: 20px;\n  cursor: pointer;\n  padding: 0;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  transition: background-color 0.2s;\n}\n\n.wordstream-floating-window-close:hover {\n  background-color: rgba(255, 255, 255, 0.2);\n}\n\n.wordstream-floating-window-content {\n  flex: 1;\n  overflow: auto;\n  position: relative;\n  background-color: #f8f8f8;\n}\n\n/* Resize handle styles */\n.wordstream-floating-window::-webkit-resizer {\n  background-color: rgba(0, 0, 0, 0.1);\n  border-bottom-right-radius: 8px;\n  border-top-left-radius: 4px;\n}\n\n/* Dark mode support */\n@media (prefers-color-scheme: dark) {\n  .wordstream-floating-window {\n    background-color: #2d2d2d;\n    color: #e0e0e0;\n    border: 1px solid #444;\n  }\n  \n  .wordstream-floating-window-content {\n    background-color: #1e1e1e;\n  }\n  \n  .wordstream-floating-window-header {\n    background-color: #3367d6;\n  }\n} ",""]);const l=i},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var l=0;l<this.length;l++){var s=this[l][0];null!=s&&(i[s]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&i[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),t.push(c))}},t}},601:e=>{e.exports=function(e){return e[1]}},551:(e,t,n)=>{var r=n(540),o=n(194);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function s(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var c=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function h(e,t,n,r,o,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new h(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new h(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new h(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new h(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new h(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new h(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(m,e)||!d.call(p,e)&&(f.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new h(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new h(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new h(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),N=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),z=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var W=Symbol.iterator;function O(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=W&&e[W]||e["@@iterator"])?e:null}var F,M=Object.assign;function R(e){if(void 0===F)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var D=!1;function U(e,t){if(!e||D)return"";D=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),a=r.stack.split("\n"),i=o.length-1,l=a.length-1;1<=i&&0<=l&&o[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==a[l]){if(1!==i||1!==l)do{if(i--,0>--l||o[i]!==a[l]){var s="\n"+o[i].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=i&&0<=l);break}}}finally{D=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?R(e):""}function $(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case C:return"Profiler";case E:return"StrictMode";case _:return"Suspense";case L:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case z:t=e._payload,e=e._init;try{return H(e(t))}catch(e){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function j(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=j(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=j(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,j(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+j(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:j(n)}}function ae(e,t){var n=j(t.value),r=j(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function he(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=he(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ee=null;function Ce(e){if(e=wo(e)){if("function"!=typeof Se)throw Error(a(280));var t=e.stateNode;t&&(t=So(t),Se(e.stateNode,e.type,t))}}function Te(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function Ne(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Pe(e,t){return e(t)}function _e(){}var Le=!1;function Ie(e,t,n){if(Le)return e(t,n);Le=!0;try{return Pe(e,t,n)}finally{Le=!1,(null!==ke||null!==Ee)&&(_e(),Ne())}}function ze(e,t){var n=e.stateNode;if(null===n)return null;var r=So(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Ae=!1;if(c)try{var We={};Object.defineProperty(We,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch(ce){Ae=!1}function Oe(e,t,n,r,o,a,i,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Fe=!1,Me=null,Re=!1,De=null,Ue={onError:function(e){Fe=!0,Me=e}};function $e(e,t,n,r,o,a,i,l,s){Fe=!1,Me=null,Oe.apply(Ue,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function je(e){if(He(e)!==e)throw Error(a(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return je(o),e;if(i===r)return je(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var l=!1,s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}if(!l){for(s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ye=o.unstable_scheduleCallback,Qe=o.unstable_cancelCallback,Ge=o.unstable_shouldYield,Ke=o.unstable_requestPaint,Xe=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/st|0)|0},lt=Math.log,st=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,i=268435455&n;if(0!==i){var l=i&~o;0!==l?r=dt(l):0!==(a&=i)&&(r=dt(a))}else 0!==(i=n&~o)?r=dt(i):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&!(t&o)&&((o=r&-r)>=(a=t&-t)||16===o&&4194240&a))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-it(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=ut;return!(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var xt,St,kt,Et,Ct,Tt=!1,Nt=[],Pt=null,_t=null,Lt=null,It=new Map,zt=new Map,At=[],Wt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zt.delete(t.pointerId)}}function Ft(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},null!==t&&(null!==(t=wo(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Mt(e){var t=bo(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void Ct(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Rt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wo(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Dt(e,t,n){Rt(e)&&n.delete(t)}function Ut(){Tt=!1,null!==Pt&&Rt(Pt)&&(Pt=null),null!==_t&&Rt(_t)&&(_t=null),null!==Lt&&Rt(Lt)&&(Lt=null),It.forEach(Dt),zt.forEach(Dt)}function $t(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ut)))}function Ht(e){function t(t){return $t(t,e)}if(0<Nt.length){$t(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Pt&&$t(Pt,e),null!==_t&&$t(_t,e),null!==Lt&&$t(Lt,e),It.forEach(t),zt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Mt(n),null===n.blockedOn&&At.shift()}var Bt=w.ReactCurrentBatchConfig,jt=!0;function Vt(e,t,n,r){var o=bt,a=Bt.transition;Bt.transition=null;try{bt=1,Yt(e,t,n,r)}finally{bt=o,Bt.transition=a}}function qt(e,t,n,r){var o=bt,a=Bt.transition;Bt.transition=null;try{bt=4,Yt(e,t,n,r)}finally{bt=o,Bt.transition=a}}function Yt(e,t,n,r){if(jt){var o=Gt(e,t,n,r);if(null===o)jr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Pt=Ft(Pt,e,t,n,r,o),!0;case"dragenter":return _t=Ft(_t,e,t,n,r,o),!0;case"mouseover":return Lt=Ft(Lt,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return It.set(a,Ft(It.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,zt.set(a,Ft(zt.get(a)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Wt.indexOf(e)){for(;null!==o;){var a=wo(o);if(null!==a&&xt(a),null===(a=Gt(e,t,n,r))&&jr(e,t,r,Qt,n),a===o)break;o=a}null!==o&&r.stopPropagation()}else jr(e,t,r,null,n)}}var Qt=null;function Gt(e,t,n,r){if(Qt=null,null!==(e=bo(e=xe(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,o="value"in Xt?Xt.value:Xt.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===o[a-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,ln,sn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),dn=M({},un,{view:0,detail:0}),fn=on(dn),pn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(an=e.screenX-sn.screenX,ln=e.screenY-sn.screenY):ln=an=0,sn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=on(pn),hn=on(M({},pn,{dataTransfer:0})),gn=on(M({},dn,{relatedTarget:0})),vn=on(M({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(M({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Cn(){return En}var Tn=M({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=on(Tn),Pn=on(M({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=on(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Ln=on(M({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=M({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zn=on(In),An=[9,13,27,32],Wn=c&&"CompositionEvent"in window,On=null;c&&"documentMode"in document&&(On=document.documentMode);var Fn=c&&"TextEvent"in window&&!On,Mn=c&&(!Wn||On&&8<On&&11>=On),Rn=String.fromCharCode(32),Dn=!1;function Un(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Vn(e,t,n,r){Te(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Yn=null;function Qn(e){Rr(e,0)}function Gn(e){if(Y(xo(e)))return e}function Kn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"==typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Yn=qn=null)}function nr(e){if("value"===e.propertyName&&Gn(Yn)){var t=[];Vn(t,Yn,e,xe(e)),Ie(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Yn)}function ar(e,t){if("click"===e)return Gn(t)}function ir(e,t){if("input"===e||"change"===e)return Gn(t)}var lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function sr(e,t){if(lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!lr(e[o],t[o]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=void 0===r.end?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=cr(n,a);var i=cr(n,r);o&&i&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&sr(yr,r)||(yr=r,0<(r=qr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},Er={};function Cr(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Tr=Cr("animationend"),Nr=Cr("animationiteration"),Pr=Cr("animationstart"),_r=Cr("transitionend"),Lr=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(e,t){Lr.set(e,t),s(t,[e])}for(var Ar=0;Ar<Ir.length;Ar++){var Wr=Ir[Ar];zr(Wr.toLowerCase(),"on"+(Wr[0].toUpperCase()+Wr.slice(1)))}zr(Tr,"onAnimationEnd"),zr(Nr,"onAnimationIteration"),zr(Pr,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(_r,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,i,l,s,u){if($e.apply(this,arguments),Fe){if(!Fe)throw Error(a(198));var c=Me;Fe=!1,Me=null,Re||(Re=!0,De=c)}}(r,t,void 0,e),e.currentTarget=null}function Rr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==a&&o.isPropagationStopped())break e;Mr(o,l,u),a=s}else for(i=0;i<r.length;i++){if(s=(l=r[i]).instance,u=l.currentTarget,l=l.listener,s!==a&&o.isPropagationStopped())break e;Mr(o,l,u),a=s}}}if(Re)throw e=De,Re=!1,De=null,e}function Dr(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var $r="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[$r]){e[$r]=!0,i.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$r]||(t[$r]=!0,Ur("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Kt(t)){case 1:var o=Vt;break;case 4:o=qt;break;default:o=Yt}n=o.bind(null,t,n,e),o=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function jr(e,t,n,r,o){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var l=r.stateNode.containerInfo;if(l===o||8===l.nodeType&&l.parentNode===o)break;if(4===i)for(i=r.return;null!==i;){var s=i.tag;if((3===s||4===s)&&((s=i.stateNode.containerInfo)===o||8===s.nodeType&&s.parentNode===o))return;i=i.return}for(;null!==l;){if(null===(i=bo(l)))return;if(5===(s=i.tag)||6===s){r=a=i;continue e}l=l.parentNode}}r=r.return}Ie((function(){var r=a,o=xe(n),i=[];e:{var l=Lr.get(e);if(void 0!==l){var s=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":u="focus",s=gn;break;case"focusout":u="blur",s=gn;break;case"beforeblur":case"afterblur":s=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=_n;break;case Tr:case Nr:case Pr:s=vn;break;case _r:s=Ln;break;case"scroll":s=fn;break;case"wheel":s=zn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Pn}var c=!!(4&t),d=!c&&"scroll"===e,f=c?null!==l?l+"Capture":null:l;c=[];for(var p,m=r;null!==m;){var h=(p=m).stateNode;if(5===p.tag&&null!==h&&(p=h,null!==f&&(null!=(h=ze(m,f))&&c.push(Vr(m,h,p)))),d)break;m=m.return}0<c.length&&(l=new s(l,u,null,n,o),i.push({event:l,listeners:c}))}}if(!(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!bo(u)&&!u[ho])&&(s||l)&&(l=o.window===o?o:(l=o.ownerDocument)?l.defaultView||l.parentWindow:window,s?(s=r,null!==(u=(u=n.relatedTarget||n.toElement)?bo(u):null)&&(u!==(d=He(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(s=null,u=r),s!==u)){if(c=mn,h="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(c=Pn,h="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==s?l:xo(s),p=null==u?l:xo(u),(l=new c(h,m+"leave",s,n,o)).target=d,l.relatedTarget=p,h=null,bo(o)===r&&((c=new c(f,m+"enter",u,n,o)).target=p,c.relatedTarget=d,h=c),d=h,s&&u)e:{for(f=u,m=0,p=c=s;p;p=Yr(p))m++;for(p=0,h=f;h;h=Yr(h))p++;for(;0<m-p;)c=Yr(c),m--;for(;0<p-m;)f=Yr(f),p--;for(;m--;){if(c===f||null!==f&&c===f.alternate)break e;c=Yr(c),f=Yr(f)}c=null}else c=null;null!==s&&Qr(i,l,s,c,!1),null!==u&&null!==d&&Qr(i,d,u,c,!0)}if("select"===(s=(l=r?xo(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===s&&"file"===l.type)var g=Kn;else if(jn(l))if(Xn)g=ir;else{g=or;var v=rr}else(s=l.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(g=ar);switch(g&&(g=g(e,r))?Vn(i,g,n,o):(v&&v(e,l,r),"focusout"===e&&(v=l._wrapperState)&&v.controlled&&"number"===l.type&&ee(l,"number",l.value)),v=r?xo(r):window,e){case"focusin":(jn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(i,n,o);break;case"selectionchange":if(hr)break;case"keydown":case"keyup":wr(i,n,o)}var y;if(Wn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=en()):(Jt="value"in(Xt=o)?Xt.value:Xt.textContent,Hn=!0)),0<(v=qr(r,b)).length&&(b=new wn(b,e,null,n,o),i.push({event:b,listeners:v}),y?b.data=y:null!==(y=$n(n))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(Dn=!0,Rn);case"textInput":return(e=t.data)===Rn&&Dn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Wn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(o=new wn("onBeforeInput","beforeinput",null,n,o),i.push({event:o,listeners:r}),o.data=y))}Rr(i,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=ze(e,n))&&r.unshift(Vr(e,a,o)),null!=(a=ze(e,t))&&r.push(Vr(e,a,o))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,o){for(var a=t._reactName,i=[];null!==n&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(null!==s&&s===r)break;5===l.tag&&null!==u&&(l=u,o?null!=(s=ze(n,a))&&i.unshift(Vr(n,s,l)):o||null!=(s=ze(n,a))&&i.push(Vr(n,s,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Gr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Xr(e){return("string"==typeof e?e:""+e).replace(Gr,"\n").replace(Kr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"==typeof setTimeout?setTimeout:void 0,oo="function"==typeof clearTimeout?clearTimeout:void 0,ao="function"==typeof Promise?Promise:void 0,io="function"==typeof queueMicrotask?queueMicrotask:void 0!==ao?function(e){return ao.resolve(null).then(e).catch(lo)}:ro;function lo(e){setTimeout((function(){throw e}))}function so(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Ht(t)}function uo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function co(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),po="__reactFiber$"+fo,mo="__reactProps$"+fo,ho="__reactContainer$"+fo,go="__reactEvents$"+fo,vo="__reactListeners$"+fo,yo="__reactHandles$"+fo;function bo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ho]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=co(e);null!==e;){if(n=e[po])return n;e=co(e)}return t}n=(e=n).parentNode}return null}function wo(e){return!(e=e[po]||e[ho])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function So(e){return e[mo]||null}var ko=[],Eo=-1;function Co(e){return{current:e}}function To(e){0>Eo||(e.current=ko[Eo],ko[Eo]=null,Eo--)}function No(e,t){Eo++,ko[Eo]=e.current,e.current=t}var Po={},_o=Co(Po),Lo=Co(!1),Io=Po;function zo(e,t){var n=e.type.contextTypes;if(!n)return Po;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in n)a[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ao(e){return null!=(e=e.childContextTypes)}function Wo(){To(Lo),To(_o)}function Oo(e,t,n){if(_o.current!==Po)throw Error(a(168));No(_o,t),No(Lo,n)}function Fo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,B(e)||"Unknown",o));return M({},n,r)}function Mo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Po,Io=_o.current,No(_o,e),No(Lo,Lo.current),!0}function Ro(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Fo(e,t,Io),r.__reactInternalMemoizedMergedChildContext=e,To(Lo),To(_o),No(_o,e)):To(Lo),No(Lo,n)}var Do=null,Uo=!1,$o=!1;function Ho(e){null===Do?Do=[e]:Do.push(e)}function Bo(){if(!$o&&null!==Do){$o=!0;var e=0,t=bt;try{var n=Do;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Do=null,Uo=!1}catch(t){throw null!==Do&&(Do=Do.slice(e+1)),Ye(Ze,Bo),t}finally{bt=t,$o=!1}}return null}var jo=[],Vo=0,qo=null,Yo=0,Qo=[],Go=0,Ko=null,Xo=1,Jo="";function Zo(e,t){jo[Vo++]=Yo,jo[Vo++]=qo,qo=e,Yo=t}function ea(e,t,n){Qo[Go++]=Xo,Qo[Go++]=Jo,Qo[Go++]=Ko,Ko=e;var r=Xo;e=Jo;var o=32-it(r)-1;r&=~(1<<o),n+=1;var a=32-it(t)+o;if(30<a){var i=o-o%5;a=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Xo=1<<32-it(t)+o|n<<o|r,Jo=a+e}else Xo=1<<a|n<<o|r,Jo=e}function ta(e){null!==e.return&&(Zo(e,1),ea(e,1,0))}function na(e){for(;e===qo;)qo=jo[--Vo],jo[Vo]=null,Yo=jo[--Vo],jo[Vo]=null;for(;e===Ko;)Ko=Qo[--Go],Qo[Go]=null,Jo=Qo[--Go],Qo[Go]=null,Xo=Qo[--Go],Qo[Go]=null}var ra=null,oa=null,aa=!1,ia=null;function la(e,t){var n=Iu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ra=e,oa=uo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ra=e,oa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ko?{id:Xo,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Iu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ra=e,oa=null,!0);default:return!1}}function ua(e){return!(!(1&e.mode)||128&e.flags)}function ca(e){if(aa){var t=oa;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=uo(n.nextSibling);var r=ra;t&&sa(e,t)?la(r,n):(e.flags=-4097&e.flags|2,aa=!1,ra=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,aa=!1,ra=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function fa(e){if(e!==ra)return!1;if(!aa)return da(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oa)){if(ua(e))throw pa(),Error(a(418));for(;t;)la(e,t),t=uo(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oa=uo(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oa=null}}else oa=ra?uo(e.stateNode.nextSibling):null;return!0}function pa(){for(var e=oa;e;)e=uo(e.nextSibling)}function ma(){oa=ra=null,aa=!1}function ha(e){null===ia?ia=[e]:ia.push(e)}var ga=w.ReactCurrentBatchConfig;function va(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=r,i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=o.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ya(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ba(e){return(0,e._init)(e._payload)}function wa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Au(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mu(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===z&&ba(a)===t.type)?((r=o(t,n.props)).ref=va(e,t,n),r.return=e,r):((r=Wu(n.type,n.key,n.props,null,e.mode,r)).ref=va(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ru(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Ou(n,e.mode,r,a)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Mu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Wu(t.type,t.key,t.props,null,e.mode,n)).ref=va(e,null,t),n.return=e,n;case S:return(t=Ru(t,e.mode,n)).return=e,t;case z:return f(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Ou(t,e.mode,n,null)).return=e,t;ya(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===o?u(e,t,n,r):null;case S:return n.key===o?c(e,t,n,r):null;case z:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||O(n))return null!==o?null:d(e,t,n,r,null);ya(e,n)}return null}function m(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case z:return m(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,o,null);ya(t,r)}return null}function h(o,a,l,s){for(var u=null,c=null,d=a,h=a=0,g=null;null!==d&&h<l.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var v=p(o,d,l[h],s);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),a=i(v,a,h),null===c?u=v:c.sibling=v,c=v,d=g}if(h===l.length)return n(o,d),aa&&Zo(o,h),u;if(null===d){for(;h<l.length;h++)null!==(d=f(o,l[h],s))&&(a=i(d,a,h),null===c?u=d:c.sibling=d,c=d);return aa&&Zo(o,h),u}for(d=r(o,d);h<l.length;h++)null!==(g=m(d,o,h,l[h],s))&&(e&&null!==g.alternate&&d.delete(null===g.key?h:g.key),a=i(g,a,h),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(o,e)})),aa&&Zo(o,h),u}function g(o,l,s,u){var c=O(s);if("function"!=typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var d=c=null,h=l,g=l=0,v=null,y=s.next();null!==h&&!y.done;g++,y=s.next()){h.index>g?(v=h,h=null):v=h.sibling;var b=p(o,h,y.value,u);if(null===b){null===h&&(h=v);break}e&&h&&null===b.alternate&&t(o,h),l=i(b,l,g),null===d?c=b:d.sibling=b,d=b,h=v}if(y.done)return n(o,h),aa&&Zo(o,g),c;if(null===h){for(;!y.done;g++,y=s.next())null!==(y=f(o,y.value,u))&&(l=i(y,l,g),null===d?c=y:d.sibling=y,d=y);return aa&&Zo(o,g),c}for(h=r(o,h);!y.done;g++,y=s.next())null!==(y=m(h,o,g,y.value,u))&&(e&&null!==y.alternate&&h.delete(null===y.key?g:y.key),l=i(y,l,g),null===d?c=y:d.sibling=y,d=y);return e&&h.forEach((function(e){return t(o,e)})),aa&&Zo(o,g),c}return function e(r,a,i,s){if("object"==typeof i&&null!==i&&i.type===k&&null===i.key&&(i=i.props.children),"object"==typeof i&&null!==i){switch(i.$$typeof){case x:e:{for(var u=i.key,c=a;null!==c;){if(c.key===u){if((u=i.type)===k){if(7===c.tag){n(r,c.sibling),(a=o(c,i.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===z&&ba(u)===c.type){n(r,c.sibling),(a=o(c,i.props)).ref=va(r,c,i),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}i.type===k?((a=Ou(i.props.children,r.mode,s,i.key)).return=r,r=a):((s=Wu(i.type,i.key,i.props,null,r.mode,s)).ref=va(r,a,i),s.return=r,r=s)}return l(r);case S:e:{for(c=i.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){n(r,a.sibling),(a=o(a,i.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ru(i,r.mode,s)).return=r,r=a}return l(r);case z:return e(r,a,(c=i._init)(i._payload),s)}if(te(i))return h(r,a,i,s);if(O(i))return g(r,a,i,s);ya(r,i)}return"string"==typeof i&&""!==i||"number"==typeof i?(i=""+i,null!==a&&6===a.tag?(n(r,a.sibling),(a=o(a,i)).return=r,r=a):(n(r,a),(a=Mu(i,r.mode,s)).return=r,r=a),l(r)):n(r,a)}}var xa=wa(!0),Sa=wa(!1),ka=Co(null),Ea=null,Ca=null,Ta=null;function Na(){Ta=Ca=Ea=null}function Pa(e){var t=ka.current;To(ka),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function La(e,t){Ea=e,Ta=Ca=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(bl=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(Ta!==e)if(e={context:e,memoizedValue:t,next:null},null===Ca){if(null===Ea)throw Error(a(308));Ca=e,Ea.dependencies={lanes:0,firstContext:e}}else Ca=Ca.next=e;return t}var za=null;function Aa(e){null===za?za=[e]:za.push(e)}function Wa(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Aa(t)):(n.next=o.next,o.next=n),t.interleaved=n,Oa(e,r)}function Oa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Fa=!1;function Ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Ps){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Oa(e,n)}return null===(o=r.interleaved)?(t.next=t,Aa(r)):(t.next=o.next,o.next=t),r.interleaved=t,Oa(e,n)}function $a(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?o=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ba(e,t,n,r){var o=e.updateQueue;Fa=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var s=l,u=s.next;s.next=null,null===i?a=u:i.next=u,i=s;var c=e.alternate;null!==c&&((l=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===l?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=s))}if(null!==a){var d=o.baseState;for(i=0,c=u=s=null,l=a;;){var f=l.lane,p=l.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,h=l;switch(f=t,p=n,h.tag){case 1:if("function"==typeof(m=h.payload)){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=h.payload)?m.call(p,d,f):m))break e;d=M({},d,f);break e;case 2:Fa=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(f=o.effects)?o.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===c?(u=c=p,s=d):c=c.next=p,i|=f;if(null===(l=l.next)){if(null===(l=o.shared.pending))break;l=(f=l).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}if(null===c&&(s=d),o.baseState=s,o.firstBaseUpdate=u,o.lastBaseUpdate=c,null!==(t=o.shared.interleaved)){o=t;do{i|=o.lane,o=o.next}while(o!==t)}else null===a&&(o.shared.lanes=0);Fs|=i,e.lanes=i,e.memoizedState=d}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(a(191,o));o.call(r)}}}var Va={},qa=Co(Va),Ya=Co(Va),Qa=Co(Va);function Ga(e){if(e===Va)throw Error(a(174));return e}function Ka(e,t){switch(No(Qa,t),No(Ya,e),No(qa,Va),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}To(qa),No(qa,t)}function Xa(){To(qa),To(Ya),To(Qa)}function Ja(e){Ga(Qa.current);var t=Ga(qa.current),n=se(t,e.type);t!==n&&(No(Ya,e),No(qa,n))}function Za(e){Ya.current===e&&(To(qa),To(Ya))}var ei=Co(0);function ti(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ni=[];function ri(){for(var e=0;e<ni.length;e++)ni[e]._workInProgressVersionPrimary=null;ni.length=0}var oi=w.ReactCurrentDispatcher,ai=w.ReactCurrentBatchConfig,ii=0,li=null,si=null,ui=null,ci=!1,di=!1,fi=0,pi=0;function mi(){throw Error(a(321))}function hi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function gi(e,t,n,r,o,i){if(ii=i,li=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oi.current=null===e||null===e.memoizedState?Zi:el,e=n(r,o),di){i=0;do{if(di=!1,fi=0,25<=i)throw Error(a(301));i+=1,ui=si=null,t.updateQueue=null,oi.current=tl,e=n(r,o)}while(di)}if(oi.current=Ji,t=null!==si&&null!==si.next,ii=0,ui=si=li=null,ci=!1,t)throw Error(a(300));return e}function vi(){var e=0!==fi;return fi=0,e}function yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ui?li.memoizedState=ui=e:ui=ui.next=e,ui}function bi(){if(null===si){var e=li.alternate;e=null!==e?e.memoizedState:null}else e=si.next;var t=null===ui?li.memoizedState:ui.next;if(null!==t)ui=t,si=e;else{if(null===e)throw Error(a(310));e={memoizedState:(si=e).memoizedState,baseState:si.baseState,baseQueue:si.baseQueue,queue:si.queue,next:null},null===ui?li.memoizedState=ui=e:ui=ui.next=e}return ui}function wi(e,t){return"function"==typeof t?t(e):t}function xi(e){var t=bi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=si,o=r.baseQueue,i=n.pending;if(null!==i){if(null!==o){var l=o.next;o.next=i.next,i.next=l}r.baseQueue=o=i,n.pending=null}if(null!==o){i=o.next,r=r.baseState;var s=l=null,u=null,c=i;do{var d=c.lane;if((ii&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(s=u=f,l=r):u=u.next=f,li.lanes|=d,Fs|=d}c=c.next}while(null!==c&&c!==i);null===u?l=r:u.next=s,lr(r,t.memoizedState)||(bl=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{i=o.lane,li.lanes|=i,Fs|=i,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Si(e){var t=bi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var l=o=o.next;do{i=e(i,l.action),l=l.next}while(l!==o);lr(i,t.memoizedState)||(bl=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ki(){}function Ei(e,t){var n=li,r=bi(),o=t(),i=!lr(r.memoizedState,o);if(i&&(r.memoizedState=o,bl=!0),r=r.queue,Fi(Ni.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==ui&&1&ui.memoizedState.tag){if(n.flags|=2048,Ii(9,Ti.bind(null,n,r,o,t),void 0,null),null===_s)throw Error(a(349));30&ii||Ci(n,t,o)}return o}function Ci(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=li.updateQueue)?(t={lastEffect:null,stores:null},li.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ti(e,t,n,r){t.value=n,t.getSnapshot=r,Pi(t)&&_i(e)}function Ni(e,t,n){return n((function(){Pi(t)&&_i(e)}))}function Pi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(e){return!0}}function _i(e){var t=Oa(e,1);null!==t&&nu(t,e,1,-1)}function Li(e){var t=yi();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:e},t.queue=e,e=e.dispatch=Qi.bind(null,li,e),[t.memoizedState,e]}function Ii(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=li.updateQueue)?(t={lastEffect:null,stores:null},li.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zi(){return bi().memoizedState}function Ai(e,t,n,r){var o=yi();li.flags|=e,o.memoizedState=Ii(1|t,n,void 0,void 0===r?null:r)}function Wi(e,t,n,r){var o=bi();r=void 0===r?null:r;var a=void 0;if(null!==si){var i=si.memoizedState;if(a=i.destroy,null!==r&&hi(r,i.deps))return void(o.memoizedState=Ii(t,n,a,r))}li.flags|=e,o.memoizedState=Ii(1|t,n,a,r)}function Oi(e,t){return Ai(8390656,8,e,t)}function Fi(e,t){return Wi(2048,8,e,t)}function Mi(e,t){return Wi(4,2,e,t)}function Ri(e,t){return Wi(4,4,e,t)}function Di(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ui(e,t,n){return n=null!=n?n.concat([e]):null,Wi(4,4,Di.bind(null,t,e),n)}function $i(){}function Hi(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&hi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bi(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&hi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ji(e,t,n){return 21&ii?(lr(n,t)||(n=ht(),li.lanes|=n,Fs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bl=!0),e.memoizedState=n)}function Vi(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ai.transition;ai.transition={};try{e(!1),t()}finally{bt=n,ai.transition=r}}function qi(){return bi().memoizedState}function Yi(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gi(e))Ki(t,n);else if(null!==(n=Wa(e,t,n,r))){nu(n,e,r,eu()),Xi(n,t,r)}}function Qi(e,t,n){var r=tu(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gi(e))Ki(t,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=a(i,n);if(o.hasEagerState=!0,o.eagerState=l,lr(l,i)){var s=t.interleaved;return null===s?(o.next=o,Aa(t)):(o.next=s.next,s.next=o),void(t.interleaved=o)}}catch(e){}null!==(n=Wa(e,t,o,r))&&(nu(n,e,r,o=eu()),Xi(n,t,r))}}function Gi(e){var t=e.alternate;return e===li||null!==t&&t===li}function Ki(e,t){di=ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xi(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ji={readContext:Ia,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},Zi={readContext:Ia,useCallback:function(e,t){return yi().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:Oi,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ai(4194308,4,Di.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ai(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ai(4,2,e,t)},useMemo:function(e,t){var n=yi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yi.bind(null,li,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yi().memoizedState=e},useState:Li,useDebugValue:$i,useDeferredValue:function(e){return yi().memoizedState=e},useTransition:function(){var e=Li(!1),t=e[0];return e=Vi.bind(null,e[1]),yi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=li,o=yi();if(aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===_s)throw Error(a(349));30&ii||Ci(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Oi(Ni.bind(null,r,i,e),[e]),r.flags|=2048,Ii(9,Ti.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=yi(),t=_s.identifierPrefix;if(aa){var n=Jo;t=":"+t+"R"+(n=(Xo&~(1<<32-it(Xo)-1)).toString(32)+n),0<(n=fi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},el={readContext:Ia,useCallback:Hi,useContext:Ia,useEffect:Fi,useImperativeHandle:Ui,useInsertionEffect:Mi,useLayoutEffect:Ri,useMemo:Bi,useReducer:xi,useRef:zi,useState:function(){return xi(wi)},useDebugValue:$i,useDeferredValue:function(e){return ji(bi(),si.memoizedState,e)},useTransition:function(){return[xi(wi)[0],bi().memoizedState]},useMutableSource:ki,useSyncExternalStore:Ei,useId:qi,unstable_isNewReconciler:!1},tl={readContext:Ia,useCallback:Hi,useContext:Ia,useEffect:Fi,useImperativeHandle:Ui,useInsertionEffect:Mi,useLayoutEffect:Ri,useMemo:Bi,useReducer:Si,useRef:zi,useState:function(){return Si(wi)},useDebugValue:$i,useDeferredValue:function(e){var t=bi();return null===si?t.memoizedState=e:ji(t,si.memoizedState,e)},useTransition:function(){return[Si(wi)[0],bi().memoizedState]},useMutableSource:ki,useSyncExternalStore:Ei,useId:qi,unstable_isNewReconciler:!1};function nl(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rl(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ol={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),o=tu(e),a=Da(r,o);a.payload=t,null!=n&&(a.callback=n),null!==(t=Ua(e,a,o))&&(nu(t,e,o,r),$a(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),o=tu(e),a=Da(r,o);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=Ua(e,a,o))&&(nu(t,e,o,r),$a(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),o=Da(n,r);o.tag=2,null!=t&&(o.callback=t),null!==(t=Ua(e,o,r))&&(nu(t,e,r,n),$a(t,e,r))}};function al(e,t,n,r,o,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(o,a))}function il(e,t,n){var r=!1,o=Po,a=t.contextType;return"object"==typeof a&&null!==a?a=Ia(a):(o=Ao(t)?Io:_o.current,a=(r=null!=(r=t.contextTypes))?zo(e,o):Po),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ol,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function ll(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ol.enqueueReplaceState(t,t.state,null)}function sl(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ma(e);var a=t.contextType;"object"==typeof a&&null!==a?o.context=Ia(a):(a=Ao(t)?Io:_o.current,o.context=zo(e,a)),o.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(rl(e,t,a,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&ol.enqueueReplaceState(o,o.state,null),Ba(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function ul(e,t){try{var n="",r=t;do{n+=$(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function cl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function dl(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var fl="function"==typeof WeakMap?WeakMap:Map;function pl(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){js||(js=!0,Vs=r),dl(0,t)},n}function ml(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){dl(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){dl(0,t),"function"!=typeof r&&(null===qs?qs=new Set([this]):qs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function hl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fl;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function gl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vl(e,t,n,r,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Ua(n,t,1))),n.lanes|=1),e)}var yl=w.ReactCurrentOwner,bl=!1;function wl(e,t,n,r){t.child=null===e?Sa(t,null,n,r):xa(t,e.child,n,r)}function xl(e,t,n,r,o){n=n.render;var a=t.ref;return La(t,o),r=gi(e,t,n,r,a,o),n=vi(),null===e||bl?(aa&&n&&ta(t),t.flags|=1,wl(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,jl(e,t,o))}function Sl(e,t,n,r,o){if(null===e){var a=n.type;return"function"!=typeof a||zu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,kl(e,t,a,r,o))}if(a=e.child,!(e.lanes&o)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(i,r)&&e.ref===t.ref)return jl(e,t,o)}return t.flags|=1,(e=Au(a,r)).ref=t.ref,e.return=t,t.child=e}function kl(e,t,n,r,o){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bl=!1,t.pendingProps=r=a,!(e.lanes&o))return t.lanes=e.lanes,jl(e,t,o);131072&e.flags&&(bl=!0)}}return Tl(e,t,n,r,o)}function El(e,t,n){var r=t.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,No(As,zs),zs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,No(As,zs),zs|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},No(As,zs),zs|=n;else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,No(As,zs),zs|=r;return wl(e,t,o,n),t.child}function Cl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tl(e,t,n,r,o){var a=Ao(n)?Io:_o.current;return a=zo(t,a),La(t,o),n=gi(e,t,n,r,a,o),r=vi(),null===e||bl?(aa&&r&&ta(t),t.flags|=1,wl(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,jl(e,t,o))}function Nl(e,t,n,r,o){if(Ao(n)){var a=!0;Mo(t)}else a=!1;if(La(t,o),null===t.stateNode)Bl(e,t),il(t,n,r),sl(t,n,r,o),r=!0;else if(null===e){var i=t.stateNode,l=t.memoizedProps;i.props=l;var s=i.context,u=n.contextType;"object"==typeof u&&null!==u?u=Ia(u):u=zo(t,u=Ao(n)?Io:_o.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof i.getSnapshotBeforeUpdate;d||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(l!==r||s!==u)&&ll(t,i,r,u),Fa=!1;var f=t.memoizedState;i.state=f,Ba(t,r,i,o),s=t.memoizedState,l!==r||f!==s||Lo.current||Fa?("function"==typeof c&&(rl(t,n,c,r),s=t.memoizedState),(l=Fa||al(t,n,l,r,f,s,u))?(d||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),i.props=r,i.state=s,i.context=u,r=l):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Ra(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:nl(t.type,l),i.props=u,d=t.pendingProps,f=i.context,"object"==typeof(s=n.contextType)&&null!==s?s=Ia(s):s=zo(t,s=Ao(n)?Io:_o.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(l!==d||f!==s)&&ll(t,i,r,s),Fa=!1,f=t.memoizedState,i.state=f,Ba(t,r,i,o);var m=t.memoizedState;l!==d||f!==m||Lo.current||Fa?("function"==typeof p&&(rl(t,n,p,r),m=t.memoizedState),(u=Fa||al(t,n,u,r,f,m,s)||!1)?(c||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,m,s),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,m,s)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),i.props=r,i.state=m,i.context=s,r=u):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Pl(e,t,n,r,a,o)}function Pl(e,t,n,r,o,a){Cl(e,t);var i=!!(128&t.flags);if(!r&&!i)return o&&Ro(t,n,!1),jl(e,t,a);r=t.stateNode,yl.current=t;var l=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=xa(t,e.child,null,a),t.child=xa(t,null,l,a)):wl(e,t,l,a),t.memoizedState=r.state,o&&Ro(t,n,!0),t.child}function _l(e){var t=e.stateNode;t.pendingContext?Oo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oo(0,t.context,!1),Ka(e,t.containerInfo)}function Ll(e,t,n,r,o){return ma(),ha(o),t.flags|=256,wl(e,t,n,r),t.child}var Il,zl,Al,Wl,Ol={dehydrated:null,treeContext:null,retryLane:0};function Fl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ml(e,t,n){var r,o=t.pendingProps,i=ei.current,l=!1,s=!!(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&!!(2&i)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),No(ei,1&i),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=o.children,e=o.fallback,l?(o=t.mode,l=t.child,s={mode:"hidden",children:s},1&o||null===l?l=Fu(s,o,0,null):(l.childLanes=0,l.pendingProps=s),e=Ou(e,o,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Fl(n),t.memoizedState=Ol,e):Rl(t,s));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,o,i,l){if(n)return 256&t.flags?(t.flags&=-257,Dl(e,t,l,r=cl(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Fu({mode:"visible",children:r.children},o,0,null),(i=Ou(i,o,l,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,1&t.mode&&xa(t,e.child,null,l),t.child.memoizedState=Fl(l),t.memoizedState=Ol,i);if(!(1&t.mode))return Dl(e,t,l,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var s=r.dgst;return r=s,Dl(e,t,l,r=cl(i=Error(a(419)),r,void 0))}if(s=!!(l&e.childLanes),bl||s){if(null!==(r=_s)){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=o&(r.suspendedLanes|l)?0:o)&&o!==i.retryLane&&(i.retryLane=o,Oa(e,o),nu(r,e,o,-1))}return hu(),Dl(e,t,l,r=cl(Error(a(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Nu.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,oa=uo(o.nextSibling),ra=t,aa=!0,ia=null,null!==e&&(Qo[Go++]=Xo,Qo[Go++]=Jo,Qo[Go++]=Ko,Xo=e.id,Jo=e.overflow,Ko=t),t=Rl(t,r.children),t.flags|=4096,t)}(e,t,s,o,r,i,n);if(l){l=o.fallback,s=t.mode,r=(i=e.child).sibling;var u={mode:"hidden",children:o.children};return 1&s||t.child===i?(o=Au(i,u)).subtreeFlags=14680064&i.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=u,t.deletions=null),null!==r?l=Au(r,l):(l=Ou(l,s,n,null)).flags|=2,l.return=t,o.return=t,o.sibling=l,t.child=o,o=l,l=t.child,s=null===(s=e.child.memoizedState)?Fl(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},l.memoizedState=s,l.childLanes=e.childLanes&~n,t.memoizedState=Ol,o}return e=(l=e.child).sibling,o=Au(l,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Rl(e,t){return(t=Fu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Dl(e,t,n,r){return null!==r&&ha(r),xa(t,e.child,null,n),(e=Rl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ul(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function $l(e,t,n,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function Hl(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(wl(e,t,r.children,n),2&(r=ei.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ul(e,n,t);else if(19===e.tag)Ul(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(No(ei,r),1&t.mode)switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ti(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),$l(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ti(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}$l(t,!0,n,null,a);break;case"together":$l(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Bl(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Au(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Au(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vl(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ql(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yl(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ql(t),null;case 1:case 17:return Ao(t.type)&&Wo(),ql(t),null;case 3:return r=t.stateNode,Xa(),To(Lo),To(_o),ri(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ia&&(iu(ia),ia=null))),zl(e,t),ql(t),null;case 5:Za(t);var o=Ga(Qa.current);if(n=t.type,null!==e&&null!=t.stateNode)Al(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return ql(t),null}if(e=Ga(qa.current),fa(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[po]=t,r[mo]=i,e=!!(1&t.mode),n){case"dialog":Dr("cancel",r),Dr("close",r);break;case"iframe":case"object":case"embed":Dr("load",r);break;case"video":case"audio":for(o=0;o<Or.length;o++)Dr(Or[o],r);break;case"source":Dr("error",r);break;case"img":case"image":case"link":Dr("error",r),Dr("load",r);break;case"details":Dr("toggle",r);break;case"input":K(r,i),Dr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Dr("invalid",r);break;case"textarea":oe(r,i),Dr("invalid",r)}for(var s in ye(n,i),o=null,i)if(i.hasOwnProperty(s)){var u=i[s];"children"===s?"string"==typeof u?r.textContent!==u&&(!0!==i.suppressHydrationWarning&&Jr(r.textContent,u,e),o=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(!0!==i.suppressHydrationWarning&&Jr(r.textContent,u,e),o=["children",""+u]):l.hasOwnProperty(s)&&null!=u&&"onScroll"===s&&Dr("scroll",r)}switch(n){case"input":q(r),Z(r,i,!0);break;case"textarea":q(r),ie(r);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(r.onclick=Zr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[po]=t,e[mo]=r,Il(e,t,!1,!1),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Dr("cancel",e),Dr("close",e),o=r;break;case"iframe":case"object":case"embed":Dr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Or.length;o++)Dr(Or[o],e);o=r;break;case"source":Dr("error",e),o=r;break;case"img":case"image":case"link":Dr("error",e),Dr("load",e),o=r;break;case"details":Dr("toggle",e),o=r;break;case"input":K(e,r),o=G(e,r),Dr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=M({},r,{value:void 0}),Dr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Dr("invalid",e)}for(i in ye(n,o),u=o)if(u.hasOwnProperty(i)){var c=u[i];"style"===i?ge(e,c):"dangerouslySetInnerHTML"===i?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===i?"string"==typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"==typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(l.hasOwnProperty(i)?null!=c&&"onScroll"===i&&Dr("scroll",e):null!=c&&b(e,i,c,s))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+j(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ql(t),null;case 6:if(e&&null!=t.stateNode)Wl(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ga(Qa.current),Ga(qa.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(i=r.nodeValue!==n)&&null!==(e=ra))switch(e.tag){case 3:Jr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,!!(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return ql(t),null;case 13:if(To(ei),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==oa&&1&t.mode&&!(128&t.flags))pa(),ma(),t.flags|=98560,i=!1;else if(i=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[po]=t}else ma(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ql(t),i=!1}else null!==ia&&(iu(ia),ia=null),i=!0;if(!i)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ei.current?0===Ws&&(Ws=3):hu())),null!==t.updateQueue&&(t.flags|=4),ql(t),null);case 4:return Xa(),zl(e,t),null===e&&Hr(t.stateNode.containerInfo),ql(t),null;case 10:return Pa(t.type._context),ql(t),null;case 19:if(To(ei),null===(i=t.memoizedState))return ql(t),null;if(r=!!(128&t.flags),null===(s=i.rendering))if(r)Vl(i,!1);else{if(0!==Ws||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(s=ti(e))){for(t.flags|=128,Vl(i,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(s=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return No(ei,1&ei.current|2),t.child}e=e.sibling}null!==i.tail&&Xe()>Hs&&(t.flags|=128,r=!0,Vl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ti(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!aa)return ql(t),null}else 2*Xe()-i.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=128,r=!0,Vl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=i.last)?n.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xe(),t.sibling=null,n=ei.current,No(ei,r?1&n|2:1&n),t):(ql(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&zs)&&(ql(t),6&t.subtreeFlags&&(t.flags|=8192)):ql(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ql(e,t){switch(na(t),t.tag){case 1:return Ao(t.type)&&Wo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xa(),To(Lo),To(_o),ri(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(To(ei),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ma()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return To(ei),null;case 4:return Xa(),null;case 10:return Pa(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Il=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},zl=function(){},Al=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ga(qa.current);var a,i=null;switch(n){case"input":o=G(e,o),r=G(e,r),i=[];break;case"select":o=M({},o,{value:void 0}),r=M({},r,{value:void 0}),i=[];break;case"textarea":o=re(e,o),r=re(e,r),i=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&null!=o[c])if("style"===c){var s=o[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(l.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(s=null!=o?o[c]:void 0,r.hasOwnProperty(c)&&u!==s&&(null!=u||null!=s))if("style"===c)if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(i||(i=[]),i.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,s=s?s.__html:void 0,null!=u&&s!==u&&(i=i||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(i=i||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(l.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Dr("scroll",e),i||s===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}},Wl=function(e,t,n,r){n!==r&&(t.flags|=4)};var Gl=!1,Kl=!1,Xl="function"==typeof WeakSet?WeakSet:Set,Jl=null;function Zl(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Eu(e,t,n)}else n.current=null}function es(e,t,n){try{n()}catch(n){Eu(e,t,n)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,void 0!==a&&es(t,n,a)}o=o.next}while(o!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function os(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[mo],delete t[go],delete t[vo],delete t[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function is(e){return 5===e.tag||3===e.tag||4===e.tag}function ls(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||is(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function us(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(us(e,t,n),e=e.sibling;null!==e;)us(e,t,n),e=e.sibling}var cs=null,ds=!1;function fs(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"==typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(ot,n)}catch(e){}switch(n.tag){case 5:Kl||Zl(n,t);case 6:var r=cs,o=ds;cs=null,fs(e,t,n),ds=o,null!==(cs=r)&&(ds?(e=cs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cs.removeChild(n.stateNode));break;case 18:null!==cs&&(ds?(e=cs,n=n.stateNode,8===e.nodeType?so(e.parentNode,n):1===e.nodeType&&so(e,n),Ht(e)):so(cs,n.stateNode));break;case 4:r=cs,o=ds,cs=n.stateNode.containerInfo,ds=!0,fs(e,t,n),cs=r,ds=o;break;case 0:case 11:case 14:case 15:if(!Kl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var a=o,i=a.destroy;a=a.tag,void 0!==i&&(2&a||4&a)&&es(n,t,i),o=o.next}while(o!==r)}fs(e,t,n);break;case 1:if(!Kl&&(Zl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Eu(n,t,e)}fs(e,t,n);break;case 21:fs(e,t,n);break;case 22:1&n.mode?(Kl=(r=Kl)||null!==n.memoizedState,fs(e,t,n),Kl=r):fs(e,t,n);break;default:fs(e,t,n)}}function ms(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xl),t.forEach((function(t){var r=Pu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function hs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,l=t,s=l;e:for(;null!==s;){switch(s.tag){case 5:cs=s.stateNode,ds=!1;break e;case 3:case 4:cs=s.stateNode.containerInfo,ds=!0;break e}s=s.return}if(null===cs)throw Error(a(160));ps(i,l,o),cs=null,ds=!1;var u=o.alternate;null!==u&&(u.return=null),o.return=null}catch(e){Eu(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gs(t,e),t=t.sibling}function gs(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hs(t,e),vs(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(t){Eu(e,e.return,t)}try{ns(5,e,e.return)}catch(t){Eu(e,e.return,t)}}break;case 1:hs(t,e),vs(e),512&r&&null!==n&&Zl(n,n.return);break;case 5:if(hs(t,e),vs(e),512&r&&null!==n&&Zl(n,n.return),32&e.flags){var o=e.stateNode;try{fe(o,"")}catch(t){Eu(e,e.return,t)}}if(4&r&&null!=(o=e.stateNode)){var i=e.memoizedProps,l=null!==n?n.memoizedProps:i,s=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===s&&"radio"===i.type&&null!=i.name&&X(o,i),be(s,l);var c=be(s,i);for(l=0;l<u.length;l+=2){var d=u[l],f=u[l+1];"style"===d?ge(o,f):"dangerouslySetInnerHTML"===d?de(o,f):"children"===d?fe(o,f):b(o,d,f,c)}switch(s){case"input":J(o,i);break;case"textarea":ae(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;null!=m?ne(o,!!i.multiple,m,!1):p!==!!i.multiple&&(null!=i.defaultValue?ne(o,!!i.multiple,i.defaultValue,!0):ne(o,!!i.multiple,i.multiple?[]:"",!1))}o[mo]=i}catch(t){Eu(e,e.return,t)}}break;case 6:if(hs(t,e),vs(e),4&r){if(null===e.stateNode)throw Error(a(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(t){Eu(e,e.return,t)}}break;case 3:if(hs(t,e),vs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(t){Eu(e,e.return,t)}break;case 4:default:hs(t,e),vs(e);break;case 13:hs(t,e),vs(e),8192&(o=e.child).flags&&(i=null!==o.memoizedState,o.stateNode.isHidden=i,!i||null!==o.alternate&&null!==o.alternate.memoizedState||($s=Xe())),4&r&&ms(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Kl=(c=Kl)||d,hs(t,e),Kl=c):hs(t,e),vs(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&1&e.mode)for(Jl=e,d=e.child;null!==d;){for(f=Jl=d;null!==Jl;){switch(m=(p=Jl).child,p.tag){case 0:case 11:case 14:case 15:ns(4,p,p.return);break;case 1:Zl(p,p.return);var h=p.stateNode;if("function"==typeof h.componentWillUnmount){r=p,n=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(e){Eu(r,n,e)}}break;case 5:Zl(p,p.return);break;case 22:if(null!==p.memoizedState){xs(f);continue}}null!==m?(m.return=p,Jl=m):xs(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{o=f.stateNode,c?"function"==typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none":(s=f.stateNode,l=null!=(u=f.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,s.style.display=he("display",l))}catch(t){Eu(e,e.return,t)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(t){Eu(e,e.return,t)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:hs(t,e),vs(e),4&r&&ms(e);case 21:}}function vs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(is(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(fe(o,""),r.flags&=-33),us(e,ls(e),o);break;case 3:case 4:var i=r.stateNode.containerInfo;ss(e,ls(e),i);break;default:throw Error(a(161))}}catch(t){Eu(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ys(e,t,n){Jl=e,bs(e,t,n)}function bs(e,t,n){for(var r=!!(1&e.mode);null!==Jl;){var o=Jl,a=o.child;if(22===o.tag&&r){var i=null!==o.memoizedState||Gl;if(!i){var l=o.alternate,s=null!==l&&null!==l.memoizedState||Kl;l=Gl;var u=Kl;if(Gl=i,(Kl=s)&&!u)for(Jl=o;null!==Jl;)s=(i=Jl).child,22===i.tag&&null!==i.memoizedState?Ss(o):null!==s?(s.return=i,Jl=s):Ss(o);for(;null!==a;)Jl=a,bs(a,t,n),a=a.sibling;Jl=o,Gl=l,Kl=u}ws(e)}else 8772&o.subtreeFlags&&null!==a?(a.return=o,Jl=a):ws(e)}}function ws(e){for(;null!==Jl;){var t=Jl;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Kl||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Kl)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:nl(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&ja(t,i,r);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,l,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ht(f)}}}break;default:throw Error(a(163))}Kl||512&t.flags&&os(t)}catch(e){Eu(t,t.return,e)}}if(t===e){Jl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jl=n;break}Jl=t.return}}function xs(e){for(;null!==Jl;){var t=Jl;if(t===e){Jl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jl=n;break}Jl=t.return}}function Ss(e){for(;null!==Jl;){var t=Jl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(e){Eu(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(e){Eu(t,o,e)}}var a=t.return;try{os(t)}catch(e){Eu(t,a,e)}break;case 5:var i=t.return;try{os(t)}catch(e){Eu(t,i,e)}}}catch(e){Eu(t,t.return,e)}if(t===e){Jl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Jl=l;break}Jl=t.return}}var ks,Es=Math.ceil,Cs=w.ReactCurrentDispatcher,Ts=w.ReactCurrentOwner,Ns=w.ReactCurrentBatchConfig,Ps=0,_s=null,Ls=null,Is=0,zs=0,As=Co(0),Ws=0,Os=null,Fs=0,Ms=0,Rs=0,Ds=null,Us=null,$s=0,Hs=1/0,Bs=null,js=!1,Vs=null,qs=null,Ys=!1,Qs=null,Gs=0,Ks=0,Xs=null,Js=-1,Zs=0;function eu(){return 6&Ps?Xe():-1!==Js?Js:Js=Xe()}function tu(e){return 1&e.mode?2&Ps&&0!==Is?Is&-Is:null!==ga.transition?(0===Zs&&(Zs=ht()),Zs):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Kt(e.type):1}function nu(e,t,n,r){if(50<Ks)throw Ks=0,Xs=null,Error(a(185));vt(e,n,r),2&Ps&&e===_s||(e===_s&&(!(2&Ps)&&(Ms|=n),4===Ws&&lu(e,Is)),ru(e,r),1===n&&0===Ps&&!(1&t.mode)&&(Hs=Xe()+500,Uo&&Bo()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),l=1<<i,s=o[i];-1===s?l&n&&!(l&r)||(o[i]=pt(l,t)):s<=t&&(e.expiredLanes|=l),a&=~l}}(e,t);var r=ft(e,e===_s?Is:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Uo=!0,Ho(e)}(su.bind(null,e)):Ho(su.bind(null,e)),io((function(){!(6&Ps)&&Bo()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=_u(n,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ou(e,t){if(Js=-1,Zs=0,6&Ps)throw Error(a(327));var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=ft(e,e===_s?Is:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=gu(e,r);else{t=r;var o=Ps;Ps|=2;var i=mu();for(_s===e&&Is===t||(Bs=null,Hs=Xe()+500,fu(e,t));;)try{yu();break}catch(t){pu(e,t)}Na(),Cs.current=i,Ps=o,null!==Ls?t=0:(_s=null,Is=0,t=Ws)}if(0!==t){if(2===t&&(0!==(o=mt(e))&&(r=o,t=au(e,o))),1===t)throw n=Os,fu(e,0),lu(e,r),ru(e,Xe()),n;if(6===t)lu(e,r);else{if(o=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!lr(a(),o))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=gu(e,r),2===t&&(i=mt(e),0!==i&&(r=i,t=au(e,i))),1!==t)))throw n=Os,fu(e,0),lu(e,r),ru(e,Xe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xu(e,Us,Bs);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=$s+500-Xe())){if(0!==ft(e,0))break;if(((o=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(xu.bind(null,e,Us,Bs),t);break}xu(e,Us,Bs);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var l=31-it(r);i=1<<l,(l=t[l])>o&&(o=l),r&=~i}if(r=o,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ro(xu.bind(null,e,Us,Bs),r);break}xu(e,Us,Bs);break;default:throw Error(a(329))}}}return ru(e,Xe()),e.callbackNode===n?ou.bind(null,e):null}function au(e,t){var n=Ds;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Us,Us=n,null!==t&&iu(t)),e}function iu(e){null===Us?Us=e:Us.push.apply(Us,e)}function lu(e,t){for(t&=~Rs,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function su(e){if(6&Ps)throw Error(a(327));Su();var t=ft(e,0);if(!(1&t))return ru(e,Xe()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=au(e,r))}if(1===n)throw n=Os,fu(e,0),lu(e,t),ru(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,Us,Bs),ru(e,Xe()),null}function uu(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=n)&&(Hs=Xe()+500,Uo&&Bo())}}function cu(e){null!==Qs&&0===Qs.tag&&!(6&Ps)&&Su();var t=Ps;Ps|=1;var n=Ns.transition,r=bt;try{if(Ns.transition=null,bt=1,e)return e()}finally{bt=r,Ns.transition=n,!(6&(Ps=t))&&Bo()}}function du(){zs=As.current,To(As)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Ls)for(n=Ls.return;null!==n;){var r=n;switch(na(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Wo();break;case 3:Xa(),To(Lo),To(_o),ri();break;case 5:Za(r);break;case 4:Xa();break;case 13:case 19:To(ei);break;case 10:Pa(r.type._context);break;case 22:case 23:du()}n=n.return}if(_s=e,Ls=e=Au(e.current,null),Is=zs=t,Ws=0,Os=null,Rs=Ms=Fs=0,Us=Ds=null,null!==za){for(t=0;t<za.length;t++)if(null!==(r=(n=za[t]).interleaved)){n.interleaved=null;var o=r.next,a=n.pending;if(null!==a){var i=a.next;a.next=o,r.next=i}n.pending=r}za=null}return e}function pu(e,t){for(;;){var n=Ls;try{if(Na(),oi.current=Ji,ci){for(var r=li.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ci=!1}if(ii=0,ui=si=li=null,di=!1,fi=0,Ts.current=null,null===n||null===n.return){Ws=1,Os=t,Ls=null;break}e:{var i=e,l=n.return,s=n,u=t;if(t=Is,s.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,d=s,f=d.tag;if(!(1&d.mode||0!==f&&11!==f&&15!==f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=gl(l);if(null!==m){m.flags&=-257,vl(m,l,s,0,t),1&m.mode&&hl(i,c,t),u=c;var h=(t=m).updateQueue;if(null===h){var g=new Set;g.add(u),t.updateQueue=g}else h.add(u);break e}if(!(1&t)){hl(i,c,t),hu();break e}u=Error(a(426))}else if(aa&&1&s.mode){var v=gl(l);if(null!==v){!(65536&v.flags)&&(v.flags|=256),vl(v,l,s,0,t),ha(ul(u,s));break e}}i=u=ul(u,s),4!==Ws&&(Ws=2),null===Ds?Ds=[i]:Ds.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Ha(i,pl(0,u,t));break e;case 1:s=u;var y=i.type,b=i.stateNode;if(!(128&i.flags||"function"!=typeof y.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==qs&&qs.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Ha(i,ml(i,s,t));break e}}i=i.return}while(null!==i)}wu(n)}catch(e){t=e,Ls===n&&null!==n&&(Ls=n=n.return);continue}break}}function mu(){var e=Cs.current;return Cs.current=Ji,null===e?Ji:e}function hu(){0!==Ws&&3!==Ws&&2!==Ws||(Ws=4),null===_s||!(268435455&Fs)&&!(268435455&Ms)||lu(_s,Is)}function gu(e,t){var n=Ps;Ps|=2;var r=mu();for(_s===e&&Is===t||(Bs=null,fu(e,t));;)try{vu();break}catch(t){pu(e,t)}if(Na(),Ps=n,Cs.current=r,null!==Ls)throw Error(a(261));return _s=null,Is=0,Ws}function vu(){for(;null!==Ls;)bu(Ls)}function yu(){for(;null!==Ls&&!Ge();)bu(Ls)}function bu(e){var t=ks(e.alternate,e,zs);e.memoizedProps=e.pendingProps,null===t?wu(e):Ls=t,Ts.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Ql(n,t)))return n.flags&=32767,void(Ls=n);if(null===e)return Ws=6,void(Ls=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Yl(n,t,zs)))return void(Ls=n);if(null!==(t=t.sibling))return void(Ls=t);Ls=t=e}while(null!==t);0===Ws&&(Ws=5)}function xu(e,t,n){var r=bt,o=Ns.transition;try{Ns.transition=null,bt=1,function(e,t,n,r){do{Su()}while(null!==Qs);if(6&Ps)throw Error(a(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-it(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}(e,i),e===_s&&(Ls=_s=null,Is=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Ys||(Ys=!0,_u(tt,(function(){return Su(),null}))),i=!!(15990&n.flags),!!(15990&n.subtreeFlags)||i){i=Ns.transition,Ns.transition=null;var l=bt;bt=1;var s=Ps;Ps|=4,Ts.current=null,function(e,t){if(eo=jt,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(e){n=null;break e}var l=0,s=-1,u=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||0!==o&&3!==f.nodeType||(s=l+o),f!==i||0!==r&&3!==f.nodeType||(u=l+r),3===f.nodeType&&(l+=f.nodeValue.length),null!==(m=f.firstChild);)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++c===o&&(s=l),p===i&&++d===r&&(u=l),null!==(m=f.nextSibling))break;p=(f=p).parentNode}f=m}n=-1===s||-1===u?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},jt=!1,Jl=t;null!==Jl;)if(e=(t=Jl).child,1028&t.subtreeFlags&&null!==e)e.return=t,Jl=e;else for(;null!==Jl;){t=Jl;try{var h=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==h){var g=h.memoizedProps,v=h.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:nl(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(e){Eu(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Jl=e;break}Jl=t.return}h=ts,ts=!1}(e,n),gs(n,e),mr(to),jt=!!eo,to=eo=null,e.current=n,ys(n,e,o),Ke(),Ps=s,bt=l,Ns.transition=i}else e.current=n;if(Ys&&(Ys=!1,Qs=e,Gs=o),i=e.pendingLanes,0===i&&(qs=null),function(e){if(at&&"function"==typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(ot,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),ru(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(js)throw js=!1,e=Vs,Vs=null,e;!!(1&Gs)&&0!==e.tag&&Su(),i=e.pendingLanes,1&i?e===Xs?Ks++:(Ks=0,Xs=e):Ks=0,Bo()}(e,t,n,r)}finally{Ns.transition=o,bt=r}return null}function Su(){if(null!==Qs){var e=wt(Gs),t=Ns.transition,n=bt;try{if(Ns.transition=null,bt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,Gs=0,6&Ps)throw Error(a(331));var o=Ps;for(Ps|=4,Jl=e.current;null!==Jl;){var i=Jl,l=i.child;if(16&Jl.flags){var s=i.deletions;if(null!==s){for(var u=0;u<s.length;u++){var c=s[u];for(Jl=c;null!==Jl;){var d=Jl;switch(d.tag){case 0:case 11:case 15:ns(8,d,i)}var f=d.child;if(null!==f)f.return=d,Jl=f;else for(;null!==Jl;){var p=(d=Jl).sibling,m=d.return;if(as(d),d===c){Jl=null;break}if(null!==p){p.return=m,Jl=p;break}Jl=m}}}var h=i.alternate;if(null!==h){var g=h.child;if(null!==g){h.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Jl=i}}if(2064&i.subtreeFlags&&null!==l)l.return=i,Jl=l;else e:for(;null!==Jl;){if(2048&(i=Jl).flags)switch(i.tag){case 0:case 11:case 15:ns(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Jl=y;break e}Jl=i.return}}var b=e.current;for(Jl=b;null!==Jl;){var w=(l=Jl).child;if(2064&l.subtreeFlags&&null!==w)w.return=l,Jl=w;else e:for(l=b;null!==Jl;){if(2048&(s=Jl).flags)try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(e){Eu(s,s.return,e)}if(s===l){Jl=null;break e}var x=s.sibling;if(null!==x){x.return=s.return,Jl=x;break e}Jl=s.return}}if(Ps=o,Bo(),at&&"function"==typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(ot,e)}catch(e){}r=!0}return r}finally{bt=n,Ns.transition=t}}return!1}function ku(e,t,n){e=Ua(e,t=pl(0,t=ul(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),ru(e,t))}function Eu(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===qs||!qs.has(r))){t=Ua(t,e=ml(t,e=ul(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),ru(t,e));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,_s===e&&(Is&n)===n&&(4===Ws||3===Ws&&(130023424&Is)===Is&&500>Xe()-$s?fu(e,0):Rs|=n),ru(e,t)}function Tu(e,t){0===t&&(1&e.mode?(t=ct,!(130023424&(ct<<=1))&&(ct=4194304)):t=1);var n=eu();null!==(e=Oa(e,t))&&(vt(e,t,n),ru(e,n))}function Nu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Pu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tu(e,n)}function _u(e,t){return Ye(e,t)}function Lu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Iu(e,t,n,r){return new Lu(e,t,n,r)}function zu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Au(e,t){var n=e.alternate;return null===n?((n=Iu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wu(e,t,n,r,o,i){var l=2;if(r=e,"function"==typeof e)zu(e)&&(l=1);else if("string"==typeof e)l=5;else e:switch(e){case k:return Ou(n.children,o,i,t);case E:l=8,o|=8;break;case C:return(e=Iu(12,n,t,2|o)).elementType=C,e.lanes=i,e;case _:return(e=Iu(13,n,t,o)).elementType=_,e.lanes=i,e;case L:return(e=Iu(19,n,t,o)).elementType=L,e.lanes=i,e;case A:return Fu(n,o,i,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case T:l=10;break e;case N:l=9;break e;case P:l=11;break e;case I:l=14;break e;case z:l=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Iu(l,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function Ou(e,t,n,r){return(e=Iu(7,e,r,t)).lanes=n,e}function Fu(e,t,n,r){return(e=Iu(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Mu(e,t,n){return(e=Iu(6,e,null,t)).lanes=n,e}function Ru(e,t,n){return(t=Iu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Du(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,r,o,a,i,l,s){return e=new Du(e,t,n,l,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Iu(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(a),e}function $u(e){if(!e)return Po;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ao(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ao(n))return Fo(e,n,t)}return t}function Hu(e,t,n,r,o,a,i,l,s){return(e=Uu(n,r,!0,e,0,a,0,l,s)).context=$u(null),n=e.current,(a=Da(r=eu(),o=tu(n))).callback=null!=t?t:null,Ua(n,a,o),e.current.lanes=o,vt(e,o,r),ru(e,r),e}function Bu(e,t,n,r){var o=t.current,a=eu(),i=tu(o);return n=$u(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ua(o,t,i))&&(nu(e,o,i,a),$a(e,o,i)),i}function ju(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qu(e,t){Vu(e,t),(e=e.alternate)&&Vu(e,t)}ks=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Lo.current)bl=!0;else{if(!(e.lanes&n||128&t.flags))return bl=!1,function(e,t,n){switch(t.tag){case 3:_l(t),ma();break;case 5:Ja(t);break;case 1:Ao(t.type)&&Mo(t);break;case 4:Ka(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;No(ka,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(No(ei,1&ei.current),t.flags|=128,null):n&t.child.childLanes?Ml(e,t,n):(No(ei,1&ei.current),null!==(e=jl(e,t,n))?e.sibling:null);No(ei,1&ei.current);break;case 19:if(r=!!(n&t.childLanes),128&e.flags){if(r)return Hl(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),No(ei,ei.current),r)break;return null;case 22:case 23:return t.lanes=0,El(e,t,n)}return jl(e,t,n)}(e,t,n);bl=!!(131072&e.flags)}else bl=!1,aa&&1048576&t.flags&&ea(t,Yo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bl(e,t),e=t.pendingProps;var o=zo(t,_o.current);La(t,n),o=gi(null,t,r,e,o,n);var i=vi();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ao(r)?(i=!0,Mo(t)):i=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ma(t),o.updater=ol,t.stateNode=o,o._reactInternals=t,sl(t,r,e,n),t=Pl(null,t,r,!0,i,n)):(t.tag=0,aa&&i&&ta(t),wl(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bl(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"==typeof e)return zu(e)?1:0;if(null!=e){if((e=e.$$typeof)===P)return 11;if(e===I)return 14}return 2}(r),e=nl(r,e),o){case 0:t=Tl(null,t,r,e,n);break e;case 1:t=Nl(null,t,r,e,n);break e;case 11:t=xl(null,t,r,e,n);break e;case 14:t=Sl(null,t,r,nl(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Tl(e,t,r,o=t.elementType===r?o:nl(r,o),n);case 1:return r=t.type,o=t.pendingProps,Nl(e,t,r,o=t.elementType===r?o:nl(r,o),n);case 3:e:{if(_l(t),null===e)throw Error(a(387));r=t.pendingProps,o=(i=t.memoizedState).element,Ra(e,t),Ba(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ll(e,t,r,n,o=ul(Error(a(423)),t));break e}if(r!==o){t=Ll(e,t,r,n,o=ul(Error(a(424)),t));break e}for(oa=uo(t.stateNode.containerInfo.firstChild),ra=t,aa=!0,ia=null,n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ma(),r===o){t=jl(e,t,n);break e}wl(e,t,r,n)}t=t.child}return t;case 5:return Ja(t),null===e&&ca(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,l=o.children,no(r,o)?l=null:null!==i&&no(r,i)&&(t.flags|=32),Cl(e,t),wl(e,t,l,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Ml(e,t,n);case 4:return Ka(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xa(t,null,r,n):wl(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,xl(e,t,r,o=t.elementType===r?o:nl(r,o),n);case 7:return wl(e,t,t.pendingProps,n),t.child;case 8:case 12:return wl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,l=o.value,No(ka,r._currentValue),r._currentValue=l,null!==i)if(lr(i.value,l)){if(i.children===o.children&&!Lo.current){t=jl(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var s=i.dependencies;if(null!==s){l=i.child;for(var u=s.firstContext;null!==u;){if(u.context===r){if(1===i.tag){(u=Da(-1,n&-n)).tag=2;var c=i.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,null!==(u=i.alternate)&&(u.lanes|=n),_a(i.return,n,t),s.lanes|=n;break}u=u.next}}else if(10===i.tag)l=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(a(341));l.lanes|=n,null!==(s=l.alternate)&&(s.lanes|=n),_a(l,n,t),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===t){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}wl(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,La(t,n),r=r(o=Ia(o)),t.flags|=1,wl(e,t,r,n),t.child;case 14:return o=nl(r=t.type,t.pendingProps),Sl(e,t,r,o=nl(r.type,o),n);case 15:return kl(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:nl(r,o),Bl(e,t),t.tag=1,Ao(r)?(e=!0,Mo(t)):e=!1,La(t,n),il(t,r,o),sl(t,r,o,n),Pl(null,t,r,!0,e,n);case 19:return Hl(e,t,n);case 22:return El(e,t,n)}throw Error(a(156,t.tag))};var Yu="function"==typeof reportError?reportError:function(e){console.error(e)};function Qu(e){this._internalRoot=e}function Gu(e){this._internalRoot=e}function Ku(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function Zu(e,t,n,r,o){var a=n._reactRootContainer;if(a){var i=a;if("function"==typeof o){var l=o;o=function(){var e=ju(i);l.call(e)}}Bu(t,i,e,o)}else i=function(e,t,n,r,o){if(o){if("function"==typeof r){var a=r;r=function(){var e=ju(i);a.call(e)}}var i=Hu(t,r,e,0,null,!1,0,"",Ju);return e._reactRootContainer=i,e[ho]=i.current,Hr(8===e.nodeType?e.parentNode:e),cu(),i}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof r){var l=r;r=function(){var e=ju(s);l.call(e)}}var s=Uu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=s,e[ho]=s.current,Hr(8===e.nodeType?e.parentNode:e),cu((function(){Bu(t,s,n,r)})),s}(n,t,e,o,r);return ju(i)}Gu.prototype.render=Qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Bu(e,t,null,null)},Gu.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Bu(null,e,null,null)})),t[ho]=null}},Gu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Mt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Xe()),!(6&Ps)&&(Hs=Xe()+500,Bo()))}break;case 13:cu((function(){var t=Oa(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),qu(e,1)}},St=function(e){if(13===e.tag){var t=Oa(e,134217728);if(null!==t)nu(t,e,134217728,eu());qu(e,134217728)}},kt=function(e){if(13===e.tag){var t=tu(e),n=Oa(e,t);if(null!==n)nu(n,e,t,eu());qu(e,t)}},Et=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=So(r);if(!o)throw Error(a(90));Y(r),J(r,o)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Pe=uu,_e=cu;var ec={usingClientEntryPoint:!1,Events:[wo,xo,So,Te,Ne,uu]},tc={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{ot=rc.inject(nc),at=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ku(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ku(e))throw Error(a(299));var n=!1,r="",o=Yu;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Uu(e,1,!1,null,0,n,0,r,o),e[ho]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Qu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(a(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ku(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,o=!1,i="",l=Yu;if(null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Hu(t,null,e,1,null!=n?n:null,o,0,i,l),e[ho]=t.current,Hr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Gu(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(a(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(a(40));return!!e._reactRootContainer&&(cu((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[ho]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},961:(e,t,n)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(551)},731:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<a(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,i=o>>>1;r<i;){var l=2*(r+1)-1,s=e[l],u=l+1,c=e[u];if(0>a(s,n))u<o&&0>a(c,s)?(e[r]=c,e[u]=n,r=u):(e[r]=s,e[l]=n,r=l);else{if(!(u<o&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var u=[],c=[],d=1,f=null,p=3,m=!1,h=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)o(c);else{if(!(t.startTime<=e))break;o(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function x(e){if(g=!1,w(e),!h)if(null!==r(u))h=!0,A(S);else{var t=r(c);null!==t&&W(x,t.startTime-e)}}function S(e,n){h=!1,g&&(g=!1,y(T),T=-1),m=!0;var a=p;try{for(w(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!_());){var i=f.callback;if("function"==typeof i){f.callback=null,p=f.priorityLevel;var l=i(f.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?f.callback=l:f===r(u)&&o(u),w(n)}else o(u);f=r(u)}if(null!==f)var s=!0;else{var d=r(c);null!==d&&W(x,d.startTime-n),s=!1}return s}finally{f=null,p=a,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,C=null,T=-1,N=5,P=-1;function _(){return!(t.unstable_now()-P<N)}function L(){if(null!==C){var e=t.unstable_now();P=e;var n=!0;try{n=C(!0,e)}finally{n?k():(E=!1,C=null)}}else E=!1}if("function"==typeof b)k=function(){b(L)};else if("undefined"!=typeof MessageChannel){var I=new MessageChannel,z=I.port2;I.port1.onmessage=L,k=function(){z.postMessage(null)}}else k=function(){v(L,0)};function A(e){C=e,E||(E=!0,k())}function W(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){h||m||(h=!0,A(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,a){var i=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>i?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(g?(y(T),T=-1):g=!0,W(x,a-i))):(e.sortIndex=l,n(u,e),h||m||(h=!0,A(S))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},194:(e,t,n)=>{e.exports=n(731)},287:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,h(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var o,a={},i=null,l=null;if(null!=t)for(o in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)S.call(t,o)&&!E.hasOwnProperty(o)&&(a[o]=t[o]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(o in s=e.defaultProps)void 0===a[o]&&(a[o]=s[o]);return{$$typeof:n,type:e,key:i,ref:l,props:a,_owner:k.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function P(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(e,t,o,a,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var s=!1;if(null===e)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return i=i(s=e),e=""===a?"."+P(s,0):a,x(i)?(o="",null!=e&&(o=e.replace(N,"$&/")+"/"),_(i,t,o,"",(function(e){return e}))):null!=i&&(T(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,o+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(N,"$&/")+"/")+e)),t.push(i)),1;if(s=0,a=""===a?".":a+":",x(e))for(var u=0;u<e.length;u++){var c=a+P(l=e[u],u);s+=_(l,t,o,c,i)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(l=e.next()).done;)s+=_(l=l.value,t,o,c=a+P(l,u++),i);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function L(e,t,n){if(null==e)return e;var r=[],o=0;return _(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var z={current:null},A={transition:null},W={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:A,ReactCurrentOwner:k};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:L,forEach:function(e,t,n){L(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return L(e,(function(){t++})),t},toArray:function(e){return L(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=i,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,t.act=O,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=h({},e.props),a=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)S.call(t,u)&&!E.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==s?s[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){s=Array(u);for(var c=0;c<u;c++)s[c]=arguments[c+2];o.children=s}return{$$typeof:n,type:e.type,key:a,ref:i,props:o,_owner:l}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return z.current.useCallback(e,t)},t.useContext=function(e){return z.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return z.current.useDeferredValue(e)},t.useEffect=function(e,t){return z.current.useEffect(e,t)},t.useId=function(){return z.current.useId()},t.useImperativeHandle=function(e,t,n){return z.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return z.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return z.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return z.current.useMemo(e,t)},t.useReducer=function(e,t,n){return z.current.useReducer(e,t,n)},t.useRef=function(e){return z.current.useRef(e)},t.useState=function(e){return z.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return z.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return z.current.useTransition()},t.version="18.3.1"},540:(e,t,n)=>{e.exports=n(287)},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],l=0;l<e.length;l++){var s=e[l],u=r.base?s[0]+r.base:s[0],c=a[u]||0,d="".concat(u," ").concat(c);a[u]=c+1;var f=n(d),p={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==f)t[f].references++,t[f].updater(p);else{var m=o(p,r);r.byIndex=l,t.splice(l,0,{identifier:d,updater:m,references:1})}i.push(d)}return i}function o(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var l=n(a[i]);t[l].references--}for(var s=r(e,o),u=0;u<a.length;u++){var c=n(a[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}a=s}}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},159:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},220:(e,t,n)=>{n.d(t,{Ay:()=>a,dg:()=>o});var r=n(540);n(961);const o=({onClose:e,showGemini:t=!0,showNotes:n=!0,onGeminiClick:o,onNotesClick:a})=>r.createElement("div",{className:"wordstream-floating-controls"},r.createElement("div",{className:"wordstream-floating-controls-buttons"},t&&r.createElement("button",{className:"wordstream-floating-controls-button gemini",onClick:o},"AI"),n&&r.createElement("button",{className:"wordstream-floating-controls-button notes",onClick:a},"Notes"),r.createElement("button",{className:"wordstream-floating-controls-button close",onClick:e},"×"))),a=o},467:(e,t,n)=>{n.d(t,{Nd:()=>i,Wc:()=>o,sK:()=>a});var r=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))};const o={MODEL:"gemini-1.5-pro",API_VERSION:"v1",MAX_TOKENS:4096,FALLBACK_API_KEY:"AIzaSyC9LYYnWBb4OvIZhisFHpYTnbBV3XFvzYE",DEFAULTS:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024},getApiUrl(e,t){const n=t||this.MODEL;return`https://generativelanguage.googleapis.com/${this.API_VERSION}/models/${n}:generateContent?key=${e}`}},a={isUserAuthenticated(){return r(this,void 0,void 0,(function*(){var e,t,n;try{if("undefined"!=typeof window&&!0===(null===(t=null===(e=window.WordStream)||void 0===e?void 0:e.local)||void 0===t?void 0:t.isAuthenticated))return!0;if("undefined"!=typeof chrome&&(null===(n=chrome.runtime)||void 0===n?void 0:n.id)){const e=yield new Promise((e=>{chrome.runtime.sendMessage({action:"GET_AUTH_STATE"},(t=>{chrome.runtime.lastError?e({isAuthenticated:!1}):e(t||{isAuthenticated:!1})}))}));return!0===(null==e?void 0:e.isAuthenticated)}if("undefined"!=typeof chrome&&chrome.storage){const e=yield new Promise((e=>{chrome.storage.local.get(["wordstream_user_info"],(t=>{chrome.runtime.lastError?e({}):e(t)}))}));return!!(null==e?void 0:e.wordstream_user_info)}return!1}catch(e){return console.error("WordStream: Error checking authentication status:",e),!1}}))}},i={retryWithAuth(e){return r(this,void 0,void 0,(function*(){var t;try{if(!(yield a.isUserAuthenticated()))throw new Error("Authentication required");return yield e()}catch(n){if(n instanceof Error&&(n.message.includes("permission-denied")||n.message.includes("Missing or insufficient permissions"))&&"undefined"!=typeof chrome&&(null===(t=chrome.runtime)||void 0===t?void 0:t.id))return yield new Promise((e=>{chrome.runtime.sendMessage({action:"REFRESH_AUTH_STATE"},(()=>{e()}))})),yield e();throw n}}))}}},928:(e,t,n)=>{n.r(t),n.d(t,{createNotesPanel:()=>s,saveNotes:()=>i,toggleNotesPanel:()=>u});var r=n(704),o=n(467),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))};function i(){return a(this,void 0,void 0,(function*(){const e=document.getElementById("wordstream-notes-textarea");if(!e)return;const t=e.value.trim();if(!t)return;const n=function(){if(window.location.hostname.includes("youtube.com")){const e=new URLSearchParams(window.location.search).get("v");if(e)return e}return btoa(window.location.pathname).substring(0,20)}(),r=function(){if(window.location.hostname.includes("youtube.com")){const e=document.querySelector("h1.title.style-scope.ytd-video-primary-info-renderer");if(e&&e.textContent)return e.textContent.trim()}return document.title||"Untitled Page"}();try{yield o.Nd.retryWithAuth((()=>a(this,void 0,void 0,(function*(){const e=yield function(){return a(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{chrome.runtime.sendMessage({action:"GET_AUTH_STATE"},(n=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e(n)}))}))}))}();if(!e.isAuthenticated||!e.user)throw function(){let e=document.getElementById("wordstream-auth-required-message");if(e)e.style.display="block";else{e=document.createElement("div"),e.id="wordstream-auth-required-message",e.style.cssText="\n      position: fixed;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      background-color: white;\n      padding: 24px;\n      border-radius: 8px;\n      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n      z-index: 10000;\n      max-width: 400px;\n      text-align: center;\n      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n    ";const t=document.createElement("h3");t.textContent="Authentication Required",t.style.margin="0 0 16px 0";const n=document.createElement("p");n.textContent="You need to be signed in to save notes. Please sign in to continue.",n.style.marginBottom="20px";const r=document.createElement("button");r.textContent="Sign In",r.style.cssText="\n      background-color: #f59e0b;\n      color: white;\n      border: none;\n      border-radius: 4px;\n      padding: 10px 20px;\n      font-weight: 500;\n      cursor: pointer;\n      margin-right: 10px;\n    ",r.addEventListener("click",(()=>{chrome.runtime.sendMessage({action:"OPEN_AUTH_POPUP"}),e&&e.parentNode&&e.parentNode.removeChild(e)}));const o=document.createElement("button");o.textContent="Close",o.style.cssText="\n      background-color: #e5e7eb;\n      color: #374151;\n      border: none;\n      border-radius: 4px;\n      padding: 10px 20px;\n      font-weight: 500;\n      cursor: pointer;\n    ",o.addEventListener("click",(()=>{e&&e.parentNode&&e.parentNode.removeChild(e)}));const a=document.createElement("div");a.appendChild(r),a.appendChild(o),e.appendChild(t),e.appendChild(n),e.appendChild(a),document.body.appendChild(e)}}(),new Error("Authentication required");const o={userId:e.user.uid,videoId:n,videoTitle:r,pageUrl:window.location.href,content:t,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};yield function(e){return a(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{chrome.runtime.sendMessage({action:"SAVE_NOTE",data:e},(e=>{chrome.runtime.lastError?n(chrome.runtime.lastError):e&&e.success?t():n(new Error((null==e?void 0:e.error)||"Failed to save note"))}))}))}))}(o),console.log("WordStream: Note saved successfully to Firebase"),l("Notes saved successfully!")}))))}catch(e){console.error("WordStream: Error saving notes:",e),l("Error saving notes. Please make sure you are signed in.")}}))}function l(e,t=3e3){let n=document.getElementById("wordstream-toast");n||(n=document.createElement("div"),n.id="wordstream-toast",n.style.cssText="\n      position: fixed;\n      bottom: 20px;\n      right: 20px;\n      background-color: #374151;\n      color: white;\n      padding: 12px 20px;\n      border-radius: 4px;\n      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n      font-size: 14px;\n      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n      z-index: 10000;\n      opacity: 0;\n      transition: opacity 0.3s ease;\n    ",document.body.appendChild(n)),n.textContent=e,n.style.opacity="1",setTimeout((()=>{n&&(n.style.opacity="0")}),t)}function s(){let e=document.getElementById("wordstream-notes-panel");if(e)return e.style.display="block",e;e=document.createElement("div"),e.id="wordstream-notes-panel",e.style.cssText="\n    position: fixed;\n    top: 570px;\n    left: 20px;\n    width: 350px;\n    height: 400px;\n    background-color: white;\n    border-radius: 12px;\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n    z-index: 9998;\n    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n  ";const t=document.createElement("div");t.style.cssText="\n    padding: 12px 16px;\n    border-bottom: 1px solid #e2e8f0;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    background-color: #f59e0b;\n    color: white;\n    cursor: move;\n  ";const n=document.createElement("h3");n.textContent="Notes",n.style.cssText="\n    margin: 0;\n    font-size: 16px;\n    font-weight: 600;\n  ";const o=document.createElement("div");o.style.cssText="\n    display: flex;\n    gap: 8px;\n  ";const a=document.createElement("button");a.innerHTML="&#8722;",a.style.cssText="\n    background: none;\n    border: none;\n    color: white;\n    font-size: 16px;\n    cursor: pointer;\n    width: 24px;\n    height: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 4px;\n  ",a.addEventListener("click",(t=>{t.stopPropagation(),e.style.display="none",window.wordstreamState.isNotesPanelOpen=!1}));const l=document.createElement("button");l.innerHTML="&#10005;",l.style.cssText="\n    background: none;\n    border: none;\n    color: white;\n    font-size: 16px;\n    cursor: pointer;\n    width: 24px;\n    height: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 4px;\n  ",l.addEventListener("click",(t=>{t.stopPropagation(),e.style.display="none",window.wordstreamState.isNotesPanelOpen=!1})),o.appendChild(a),o.appendChild(l),t.appendChild(n),t.appendChild(o);const s=document.createElement("div");s.style.cssText="\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n    padding: 16px;\n  ";const u=document.createElement("textarea");u.id="wordstream-notes-textarea",u.placeholder="Write notes about this video or page...",u.style.cssText="\n    flex-grow: 1;\n    border: 1px solid #e2e8f0;\n    border-radius: 8px;\n    padding: 12px;\n    font-size: 14px;\n    line-height: 1.5;\n    resize: none;\n    margin-bottom: 16px;\n    font-family: inherit;\n  ";const c=document.createElement("button");c.textContent="Save Notes",c.style.cssText="\n    background-color: #f59e0b;\n    color: white;\n    border: none;\n    border-radius: 8px;\n    padding: 10px 16px;\n    font-size: 14px;\n    font-weight: 500;\n    cursor: pointer;\n    transition: background-color 0.2s;\n  ",c.onmouseover=()=>{c.style.backgroundColor="#d97706"},c.onmouseout=()=>{c.style.backgroundColor="#f59e0b"},c.addEventListener("click",i),s.appendChild(u),s.appendChild(c),e.appendChild(t),e.appendChild(s),document.body.appendChild(e),(0,r.e)(e,t);const d=localStorage.getItem("wordstream-notes-panel-position");if(d)try{const t=JSON.parse(d);e.style.top=t.top,e.style.right=t.right,e.style.bottom=t.bottom,e.style.left=t.left}catch(e){console.error("WordStream: Error loading saved position",e)}return e}function u(){if(window.wordstreamState.isNotesPanelOpen){const e=document.getElementById("wordstream-notes-panel");e&&(e.style.display="none",window.wordstreamState.isNotesPanelOpen=!1)}else s(),window.wordstreamState.isNotesPanelOpen=!0}},704:(e,t,n)=>{function r(e,t){let n=0,r=0,o=0,a=0;const i=t||e;let l=!1;function s(t){if(!l)return;t.preventDefault(),n=o-t.clientX,r=a-t.clientY,o=t.clientX,a=t.clientY;let i=e.offsetTop-r,s=e.offsetLeft-n;i<0&&(i=0),s<0&&(s=0),i+e.clientHeight>window.innerHeight&&(i=window.innerHeight-e.clientHeight),s+e.clientWidth>window.innerWidth&&(s=window.innerWidth-e.clientWidth),e.style.top=i+"px",e.style.left=s+"px","wordstream-chat-panel"===e.id?localStorage.setItem("wordstream-chat-panel-position",JSON.stringify({top:e.style.top,left:e.style.left})):"wordstream-notes-panel"===e.id?localStorage.setItem("wordstream-notes-panel-position",JSON.stringify({top:e.style.top,left:e.style.left})):"wordstream-container"===e.id&&localStorage.setItem("wordstream-container-position",JSON.stringify({top:e.style.top,left:e.style.left}))}function u(){l=!1,document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",u)}i&&(i.addEventListener("mousedown",(function(e){e.preventDefault(),o=e.clientX,a=e.clientY,l=!0,document.addEventListener("mousemove",s),document.addEventListener("mouseup",u)})),i.style.cursor="move")}n.d(t,{e:()=>r})},816:(e,t,n)=>{n.r(t),n.d(t,{NetflixCaptionDetector:()=>x,UniversalCaptionDetector:()=>k,YouTubeCaptionDetector:()=>v,getCaptionDetector:()=>W,getDetectorForCurrentSite:()=>A,hasAuthIssues:()=>O,setAuthIssuesDetected:()=>F,setAuthenticated:()=>M,startDetection:()=>U});var r=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))};function o(e){try{if(e instanceof Error)return e.message;if("string"==typeof e)return e;if(e&&"object"==typeof e)try{return JSON.stringify(e)}catch(e){return"Object error - cannot stringify"}return String(e)}catch(e){return"Unknown error - cannot format"}}class a{translate(e,t){return r(this,void 0,void 0,(function*(){try{if(!chrome||!chrome.runtime)return console.error("WordStream: Chrome runtime API not available"),{success:!1,error:"Chrome runtime not available"};console.log("WordStream: Translating word:",e,"to language:",t);const n={type:"TRANSLATE",data:{text:e,targetLang:t}};try{const e=yield chrome.runtime.sendMessage(n);return e?e.success?(console.log("WordStream: Translation succeeded:",e.translation),{success:!0,translatedText:e.translation,detectedSourceLanguage:e.detectedSourceLanguage}):(console.error("WordStream: Translation failed:",e.error),{success:!1,error:e.error||"Translation failed"}):(console.error("WordStream: No translation response received"),{success:!1,error:"No response from background script"})}catch(e){return console.error("WordStream: Error sending translation message:",o(e)),{success:!1,error:`Error sending message: ${o(e)}`}}}catch(e){return console.error("WordStream: Translation provider error:",o(e)),{success:!1,error:`Translation error: ${o(e)}`}}}))}}const i=[{code:"en",name:"English",nativeName:"English",rtl:!1},{code:"es",name:"Spanish",nativeName:"Español",rtl:!1},{code:"fr",name:"French",nativeName:"Français",rtl:!1},{code:"de",name:"German",nativeName:"Deutsch",rtl:!1},{code:"it",name:"Italian",nativeName:"Italiano",rtl:!1},{code:"pt",name:"Portuguese",nativeName:"Português",rtl:!1},{code:"ru",name:"Russian",nativeName:"Русский",rtl:!1},{code:"zh",name:"Chinese",nativeName:"中文",rtl:!1},{code:"ja",name:"Japanese",nativeName:"日本語",rtl:!1},{code:"ko",name:"Korean",nativeName:"한국어",rtl:!1},{code:"ar",name:"Arabic",nativeName:"العربية",rtl:!0},{code:"hi",name:"Hindi",nativeName:"हिन्दी",rtl:!1},{code:"he",name:"Hebrew",nativeName:"עברית",rtl:!0}];var l=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))};class s{constructor(){this.provider=new a}static getInstance(){return s.instance||(s.instance=new s),s.instance}isUserAuthenticated(){return l(this,void 0,void 0,(function*(){var e,t,n;if("undefined"!=typeof window&&!0===(null===(t=null===(e=window.WordStream)||void 0===e?void 0:e.local)||void 0===t?void 0:t.isAuthenticated))return!0;if("undefined"!=typeof chrome&&(null===(n=chrome.storage)||void 0===n?void 0:n.local))try{if(!0===(yield chrome.storage.local.get("isAuthenticated")).isAuthenticated)return!0}catch(e){console.error("WordStream Translation: Error checking auth in storage:",e)}return!1}))}detectTextLanguage(e){if(!e)return"auto";if(/[\u0590-\u05FF]/.test(e))return"he";return/[a-zA-Z]/.test(e)?"en":"auto"}translateToHebrew(e){return l(this,void 0,void 0,(function*(){if(!e)return{success:!1,error:"No text provided"};if(!(yield this.isUserAuthenticated()))return console.log("WordStream: Translation blocked - user not authenticated"),{success:!1,error:"Authentication required"};try{return console.log("WordStream: Translating to Hebrew:",e),yield this.translate(e,"he")}catch(e){return this.handleTranslationError(e,"Error translating to Hebrew")}}))}translateToEnglish(e){return l(this,void 0,void 0,(function*(){if(!e)return{success:!1,error:"No text provided"};if(!(yield this.isUserAuthenticated()))return console.log("WordStream: Translation blocked - user not authenticated"),{success:!1,error:"Authentication required"};try{return console.log("WordStream: Translating to English:",e),yield this.translate(e,"en")}catch(e){return this.handleTranslationError(e,"Error translating to English")}}))}translate(e,t){return l(this,void 0,void 0,(function*(){if(!e)return{success:!1,error:"No text provided"};let n=!1;try{n=yield this.isUserAuthenticated()}catch(e){console.warn("WordStream: Auth check failed but allowing translation:",e),n=!0}if(!n)return console.log("WordStream: Translation blocked - user not authenticated"),{success:!1,error:"Authentication required"};try{console.log(`WordStream: Translating to ${t}:`,e);let n="en";"auto"===(r=t)||i.some((e=>e.code===r))?n=t:console.warn(`WordStream: Language code ${t} not supported, defaulting to English`);try{return yield this.provider.translate(e,n)}catch(t){return console.warn("WordStream: Primary translation provider failed, trying fallback:",t),this.fallbackTranslate(e,n)}}catch(e){return this.handleTranslationError(e,`Error translating to ${t}`)}var r}))}fallbackTranslate(e,t){return l(this,void 0,void 0,(function*(){try{const n="he"===t?"en":"he",r={en:{hello:"שלום",goodbye:"להתראות",yes:"כן",no:"לא","thank you":"תודה",please:"בבקשה"},he:{שלום:"hello",להתראות:"goodbye",כן:"yes",לא:"no",תודה:"thank you",בבקשה:"please"}}[t];return r&&r[e.toLowerCase()]?{success:!0,translatedText:r[e.toLowerCase()],detectedSourceLanguage:n}:{success:!0,translatedText:`${e} [!]`,detectedSourceLanguage:n,error:"Using fallback translation"}}catch(e){return{success:!1,error:"Fallback translation failed"}}}))}storeTranslation(e,t,n,r){return l(this,void 0,void 0,(function*(){console.log("WordStream: Storing translation for future use",{word:e,translation:t,sourceLanguage:n,targetLanguage:r})}))}translateAndStore(e){return l(this,arguments,void 0,(function*(e,t="auto"){try{let n="auto",r=t;"auto"===t&&(n=this.detectTextLanguage(e),r="en"===n?"he":"en");const o=yield this.translate(e,r);if(o.success&&o.translatedText)return yield this.storeTranslation(e,o.translatedText,o.detectedSourceLanguage||n,r),o.translatedText;throw new Error(o.error||"Unknown translation error")}catch(e){return console.error("WordStream: Error in translateAndStore:",this.safeStringifyError(e)),`Translation error: ${this.safeStringifyError(e)}`}}))}handleTranslationError(e,t){const n=this.safeStringifyError(e);return console.error(`WordStream: ${t}:`,n),{success:!1,error:`${t}: ${n}`}}safeStringifyError(e){if(!e)return"Unknown error";if(e instanceof Error)return e.message||e.toString();if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(e){return"Unserializable error"}}}function u(e){return"iw"===e||"he-IL"===e?"he":"in"===e?"id":"jw"===e?"jv":e||"auto"}var c=n(961),d=n.t(c,2),f=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))};function p(e){try{if(e instanceof Error)return e.message;if("string"==typeof e)return e;if(e&&"object"==typeof e)try{return JSON.stringify(e)}catch(e){return"Object error - cannot stringify"}return String(e)}catch(e){return"Unknown error - cannot format"}}class m{constructor(){this.observer=null,this.popup=null,this.lastProcessedText=new WeakMap,this.animationFrameId=null,this.controlsContainer=null,this.videoUpdateInterval=null,this.currentVideoTime=0,this.videoDuration=0,this.controlsRoot=null,this.handleDocumentClick=e=>{this.popup&&e.target!==this.popup&&!this.popup.contains(e.target)&&(document.body.removeChild(this.popup),this.popup=null,document.removeEventListener("click",this.handleDocumentClick))},this.translationService=s.getInstance(),this.initializeObserver()}waitForChromeAPI(){return f(this,arguments,void 0,(function*(e=5,t=500){return new Promise((n=>{let r=0;const o=setInterval((()=>{chrome&&chrome.runtime&&chrome.storage?(clearInterval(o),n(!0)):r>=e&&(clearInterval(o),n(!1)),r++}),t)}))}))}handleWordClick(e){return f(this,void 0,void 0,(function*(){var t,n;if(e.preventDefault(),e.stopPropagation(),e.target&&e.target instanceof HTMLElement)try{if(!(yield this.waitForChromeAPI()))return void this.showTranslationPopup("Extension not initialized. Please refresh the page.",e);const r=yield this.checkAuthentication();if(!r.isAuthenticated)return void this.showAuthRequiredPopup(e);const o=null===(t=e.target.textContent)||void 0===t?void 0:t.trim();if(!o)return;const a=yield new Promise(((e,t)=>{chrome.storage.sync.get(["settings"],(n=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e(n)}))})),i=(null===(n=null==a?void 0:a.settings)||void 0===n?void 0:n.targetLanguage)||"en",l=yield this.getTranslation(o,i);this.showTranslationPopup(l.translatedText||"Translation error",e),this.saveWord(o,l,i,r.user.uid)}catch(t){console.error(`WordStream ${this.source}: Error in handleWordClick:`,p(t)),this.showTranslationPopup(`Error: ${p(t)}`,e)}else console.error("WordStream: Invalid event target for handleWordClick")}))}checkAuthentication(){return f(this,void 0,void 0,(function*(){return new Promise((e=>{chrome.runtime.sendMessage({action:"GET_AUTH_STATE"},(t=>{!chrome.runtime.lastError&&t?e(t):e({isAuthenticated:!1})}))}))}))}showAuthRequiredPopup(e){const t=document.createElement("div");t.className="wordstream-auth-popup",Object.assign(t.style,{position:"fixed",zIndex:"9999",backgroundColor:"#333",color:"#fff",padding:"12px 16px",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.3)",fontSize:"14px",maxWidth:"280px",top:e.clientY-30+"px",left:e.clientX-140+"px",textAlign:"center"});const n=document.createElement("div");n.textContent="Authentication Required",n.style.fontWeight="bold",n.style.marginBottom="8px",t.appendChild(n);const r=document.createElement("div");r.textContent="Please sign in to use the translation feature.",r.style.marginBottom="12px",t.appendChild(r);const o=document.createElement("button");o.textContent="Sign In",o.style.cssText="\n      background-color: #4f46e5;\n      color: white;\n      border: none;\n      border-radius: 4px;\n      padding: 6px 12px;\n      font-size: 13px;\n      cursor: pointer;\n      margin-right: 8px;\n    ",o.addEventListener("click",(()=>{chrome.runtime.sendMessage({action:"OPEN_AUTH_POPUP"}),document.body.removeChild(t)})),t.appendChild(o);const a=document.createElement("button");a.textContent="Close",a.style.cssText="\n      background-color: transparent;\n      color: #aaa;\n      border: 1px solid #aaa;\n      border-radius: 4px;\n      padding: 6px 12px;\n      font-size: 13px;\n      cursor: pointer;\n    ",a.addEventListener("click",(()=>{document.body.removeChild(t)})),t.appendChild(a),document.body.appendChild(t),setTimeout((()=>{t.parentNode&&t.parentNode.removeChild(t)}),1e4)}showTranslationPopup(e,t){this.popup&&(document.body.removeChild(this.popup),this.popup=null),this.popup=document.createElement("div"),this.popup.className="wordstream-translation-popup";const n=t.target.getBoundingClientRect();Object.assign(this.popup.style,{position:"fixed",zIndex:"9999",backgroundColor:"#333",color:"#fff",padding:"8px 12px",borderRadius:"4px",boxShadow:"0 2px 10px rgba(0,0,0,0.2)",fontSize:"14px",maxWidth:"300px",top:n.top-40+"px",left:`${n.left+n.width/2}px`,transform:"translateY(-50%)",opacity:"0",transition:"opacity 0.2s ease-in-out"});const r=document.createElement("div");r.className="original-word",r.textContent=t.target.textContent||"",Object.assign(r.style,{fontSize:"12px",color:"#aaa",marginBottom:"4px"}),this.popup.appendChild(r);const o=document.createElement("div");o.className="translated-word",o.textContent=e,Object.assign(o.style,{fontWeight:"bold"}),this.popup.appendChild(o),document.body.appendChild(this.popup),setTimeout((()=>{this.popup&&(this.popup.style.opacity="1")}),10),document.addEventListener("click",this.handleDocumentClick),setTimeout((()=>{this.popup&&(document.body.removeChild(this.popup),this.popup=null,document.removeEventListener("click",this.handleDocumentClick))}),3e3)}cleanup(){this.observer&&(this.observer.disconnect(),this.observer=null),this.popup&&(document.body.removeChild(this.popup),this.popup=null),document.removeEventListener("click",this.handleDocumentClick),this.videoUpdateInterval&&(clearInterval(this.videoUpdateInterval),this.videoUpdateInterval=null),this.removeFloatingControls()}processTextNode(e){if(!e||!e.textContent)return;const t=e.textContent.trim();if(!t)return;if(this.lastProcessedText.get(e)===t)return;const n=e.parentNode;if(!n)return;const r=t.split(/\s+/).filter((e=>e.length>0)),o=document.createDocumentFragment();r.forEach(((e,t)=>{const n=document.createElement("span");n.className="wordstream-word",n.textContent=e,n.addEventListener("click",(e=>{e.stopPropagation(),this.handleWordClick(e)})),o.appendChild(n),t<r.length-1&&o.appendChild(document.createTextNode(" "))})),n.replaceChild(o,e),this.lastProcessedText.set(e,t)}getTextNodesIn(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_TEXT);let r;for(;r=n.nextNode();)r instanceof Text&&t.push(r);return t}getTranslation(e,t){return f(this,void 0,void 0,(function*(){try{const n=yield this.translationService.translate(e,t);if(console.log(`WordStream ${this.source}: Translation result:`,n),!n.success){if(n.translatedText)return console.warn(`WordStream ${this.source}: Using fallback translation despite error:`,n.error),{success:!0,translatedText:n.translatedText,detectedSourceLanguage:n.detectedSourceLanguage||"unknown",isFallback:!0};throw new Error(n.error||"Unknown translation error")}if(!n.translatedText)throw new Error("Translation succeeded but no translated text returned");return n}catch(t){return console.error(`WordStream ${this.source}: Translation error:`,t),{success:!0,translatedText:`${e} [Translation unavailable]`,detectedSourceLanguage:"unknown",isFallback:!0,error:t instanceof Error?t.message:String(t)}}}))}saveWord(e,t,n,r){return f(this,void 0,void 0,(function*(){try{const o={originalWord:e,targetWord:t.translatedText,sourceLanguage:t.detectedSourceLanguage||"auto",targetLanguage:n,timestamp:(new Date).toISOString(),context:{source:this.source,videoTitle:document.title||"",url:window.location.href,captionsLanguage:"auto"},stats:{successRate:0,totalReviews:0,lastReview:(new Date).toISOString()},userId:r};chrome.runtime.sendMessage({action:"SAVE_TRANSLATION",translation:o},(e=>{chrome.runtime.lastError?console.error(`WordStream ${this.source}: Error saving translation:`,chrome.runtime.lastError):e&&e.success?console.log(`WordStream ${this.source}: Translation saved successfully`):console.error(`WordStream ${this.source}: Failed to save translation:`,(null==e?void 0:e.error)||"Unknown error")}))}catch(e){console.error(`WordStream ${this.source}: Error saving translation:`,e)}}))}}var h=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))};function g(){return h(this,void 0,void 0,(function*(){var e;try{const t=yield new Promise(((e,t)=>{chrome.storage.sync.get(["words_metadata","words_groups"],(n=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e(n)}))}));if(!t.words_metadata){const t=yield new Promise(((e,t)=>{chrome.storage.sync.get(["words"],(n=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e(n)}))}));return console.log("WordStream: Loaded words in old format:",(null===(e=t.words)||void 0===e?void 0:e.length)||0),t.words||[]}if(!t.words_groups||!Array.isArray(t.words_groups))return console.log("WordStream: No word groups found"),[];const n=yield new Promise(((e,n)=>{chrome.storage.sync.get(t.words_groups,(t=>{chrome.runtime.lastError?n(chrome.runtime.lastError):e(t)}))})),r=[];for(const e of t.words_groups)n[e]&&Array.isArray(n[e])&&r.push(...n[e]);return console.log("WordStream: Loaded words in new format:",r.length),r}catch(e){return console.error("WordStream: Error loading words:",function(e){try{if(e instanceof Error)return e.message;if("string"==typeof e)return e;if(e&&"object"==typeof e)try{return JSON.stringify(e)}catch(e){return"Object error - cannot stringify"}return String(e)}catch(e){return"Unknown error - cannot format"}}(e)),[]}}))}class v extends m{constructor(){super(),this.source="youtube",this.processedNodes=new Set,this.checkInterval=null,this.isProcessing=!1,this.processingDebouncer=null,this.DEBOUNCE_DELAY=10,this.ghostLayer=null,this.controlsContainer=null,this.videoUpdateInterval=null,this.currentVideoTime=0,this.videoDuration=0,this.controlsRoot=null,this.captionContainer=null,this.handleDocumentClick=e=>{this.popup&&!this.popup.contains(e.target)&&(this.popup.remove(),document.removeEventListener("click",this.handleDocumentClick))},this.translationService=s.getInstance(),this.initializeObserver()}initializeObserver(){this.observer=new MutationObserver((e=>{this.animationFrameId&&cancelAnimationFrame(this.animationFrameId),this.animationFrameId=requestAnimationFrame((()=>{const t=new Set;e.forEach((e=>{if("characterData"===e.type&&e.target instanceof Text){const n=e.target.parentElement;(null==n?void 0:n.classList.contains("ytp-caption-segment"))&&t.add(e.target)}else"childList"===e.type&&e.addedNodes.forEach((e=>{if(e instanceof Text){const n=e.parentElement;(null==n?void 0:n.classList.contains("ytp-caption-segment"))&&t.add(e)}else e instanceof HTMLElement&&e.classList.contains("ytp-caption-segment")&&e.childNodes.forEach((e=>{e instanceof Text&&t.add(e)}))}))})),t.forEach((e=>this.processTextNode(e))),this.animationFrameId=null}))}))}startObserving(e){this.observer&&e&&(this.observer.observe(e,{childList:!0,subtree:!0,characterData:!0}),console.log("WordStream YouTube: Started observing caption container"),this.processCaption(e))}stopObserving(){this.observer&&(this.observer.disconnect(),console.log("WordStream YouTube: Stopped observing caption container")),this.checkInterval&&(clearInterval(this.checkInterval),this.checkInterval=null)}isCaptionSegment(e){return e instanceof HTMLElement&&e.classList.contains("ytp-caption-segment")}needsSpaceBetweenWords(e,t){return!/[.,!?:;]$/.test(e)&&!/^[.,!?:;]/.test(t)}detectCaptionsLanguage(){return{language:"auto",languageName:"Auto-Detected",isAuto:!0}}getSubtitleContext(e){try{const t=e.closest(".ytp-caption-segment");return t&&t.textContent||""}catch(e){return console.error("WordStream YouTube: Error getting subtitle context:",e),""}}detect(){return h(this,void 0,void 0,(function*(){try{console.log("WordStream: YouTube caption detector attempting to detect captions");const e=document.querySelector(".ytp-caption-window-container")||document.querySelector(".captions-text")||document.querySelector(".caption-window");return e instanceof HTMLElement?(console.log("WordStream: YouTube caption container found"),this.captionContainer=e,this.startObserving(e),e):(console.log("WordStream: YouTube caption container not found"),null)}catch(e){return console.error("WordStream: Error detecting YouTube captions:",e),null}}))}processCaption(e){this.processTextContainer(e)}processTextContainer(e){this.getTextNodesIn(e).forEach((e=>this.processTextNode(e)))}addFloatingControls(){console.log("WordStream: Caption auto-translation is activated for authenticated users")}renderControls(e,t=!0,r=!1,o=!1){if(this.controlsRoot&&(this.controlsRoot.unmount(),this.controlsRoot=null),!r&&!o)return;if(!this.controlsRoot){const t=n(961);this.controlsRoot=t.createRoot(e)}const a=n(540),i=n(220).Ay;this.controlsRoot.render(a.createElement(i,{onClose:()=>{!t&&e.parentNode&&e.parentNode.removeChild(e)},showGemini:r,showNotes:o,onGeminiClick:()=>{try{window.dispatchEvent(new CustomEvent("wordstream:toggle_gemini"))}catch(e){console.error("WordStream: Error toggling Gemini:",e)}},onNotesClick:()=>{try{window.dispatchEvent(new CustomEvent("wordstream:toggle_notes"))}catch(e){console.error("WordStream: Error toggling notes:",e)}}}))}getVideoId(){return new URL(window.location.href).searchParams.get("v")||""}getPlayerApi(){return document.querySelector("#movie_player")}handleWordClick(e){return h(this,void 0,void 0,(function*(){var t,n;if(!e.target)return;e.preventDefault(),e.stopPropagation();const r=e.target.textContent||"";if(r.trim()){console.log("WordStream YouTube: Handling click for word:",r);try{const o=this.showTranslationPopup("Translating...",e);let a,i="en";try{i=yield this.getTargetLanguage()}catch(e){console.warn("WordStream YouTube: Error getting target language, using default:",e)}try{a=yield this.getTranslation(r,i)}catch(e){console.error("WordStream YouTube: Translation error:",e),a={success:!0,translatedText:`${r} [Translation error]`,detectedSourceLanguage:"unknown",isFallback:!0}}this.updateTranslationPopup(o,a.translatedText||"Translation error");let l=!1;try{if("undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.id)if("undefined"!=typeof window&&!0===(null===(n=null===(t=window.WordStream)||void 0===t?void 0:t.local)||void 0===n?void 0:n.isAuthenticated))l=!0;else{const e=yield new Promise((e=>{const t=setTimeout((()=>{console.warn("WordStream YouTube: Auth check timed out"),e({isAuthenticated:!1})}),2e3);chrome.runtime.sendMessage({action:"GET_AUTH_STATE"},(n=>{if(clearTimeout(t),chrome.runtime.lastError)return console.warn("WordStream YouTube: Auth check error:",chrome.runtime.lastError),void e({isAuthenticated:!1});e(n||{isAuthenticated:!1})}))}));l=!0===(null==e?void 0:e.isAuthenticated)}else console.warn("WordStream YouTube: Extension context invalidated, can't check authentication")}catch(e){console.error("WordStream YouTube: Error checking authentication:",e),l=!1}if(!l)return console.log("WordStream YouTube: Word translation shown, but saving skipped - user not authenticated"),void setTimeout((()=>{const e=document.createElement("div");e.className="wordstream-signin-prompt",e.textContent="Sign in to save words",e.style.cssText="\n            font-size: 11px;\n            color: #999;\n            margin-top: 5px;\n            text-align: center;\n            cursor: pointer;\n          ",e.onclick=e=>{var t;e.stopPropagation();try{(null===(t=null===chrome||void 0===chrome?void 0:chrome.runtime)||void 0===t?void 0:t.id)&&chrome.runtime.sendMessage({action:"OPEN_SIGNIN_POPUP"})}catch(e){console.error("WordStream YouTube: Error opening signin popup:",e)}};const t=document.querySelector(".wordstream-translation-popup");t&&t.appendChild(e)}),500);try{yield this.saveWord(r,a,i)}catch(e){console.error("WordStream YouTube: Error saving word:",e)}}catch(t){console.error("WordStream YouTube: Error handling word click:",t),this.showTranslationPopup(`Error: ${t instanceof Error?t.message:String(t)}`,e)}}}))}showTranslationPopup(e,t){const n=document.querySelector(".wordstream-translation-popup");n&&n.remove();const r=document.createElement("div");r.className="wordstream-translation-popup",r.style.cssText="\n      position: absolute;\n      z-index: 99999;\n      background: white;\n      border-radius: 4px;\n      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\n      padding: 8px 12px;\n      max-width: 300px;\n      word-break: break-word;\n      transform: translateX(-50%);\n      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n      font-size: 14px;\n      transition: opacity 0.2s ease;\n    ",r.textContent=e;const o=t.target.getBoundingClientRect();return r.style.left=o.left+o.width/2+"px",r.style.top=o.bottom+window.scrollY+10+"px",document.body.appendChild(r),setTimeout((()=>{document.addEventListener("click",this.handleDocumentClick)}),10),r}updateTranslationPopup(e,t){e&&document.body.contains(e)&&(e.textContent=t)}cleanup(){this.observer&&(this.observer.disconnect(),this.observer=null),this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.popup&&(this.popup.remove(),this.popup=null),this.checkInterval&&(clearInterval(this.checkInterval),this.checkInterval=null),this.isProcessing=!1,this.processedNodes.clear();document.querySelectorAll(".wordstream-word").forEach((e=>{var t;const n=e.cloneNode(!0);null===(t=e.parentNode)||void 0===t||t.replaceChild(n,e)})),this.removeFloatingControls()}processTextNode(e){if(!e||!e.textContent)return;const t=e.textContent.trim();if(!t)return;const n=this.lastProcessedText.get(e);if(n===t)return;const r=e.parentNode;if(!r)return;const o=document.createElement("div");o.style.cssText="\n      position: absolute;\n      visibility: hidden;\n      pointer-events: none;\n      width: 100%;\n    ",o.textContent=n||"",r.appendChild(o);const a=t.split(/[\s\u200B-\u200D\uFEFF]+/).filter((e=>e.length>0)),i=document.createDocumentFragment();a.forEach(((e,t)=>{const n=document.createElement("span");n.className="wordstream-word",n.textContent=e,n.addEventListener("click",(e=>{e.stopPropagation(),this.handleWordClick(e)}),{passive:!1}),i.appendChild(n),t<a.length-1&&i.appendChild(document.createTextNode(" "))})),r.replaceChild(i,e),this.lastProcessedText.set(e,t),requestAnimationFrame((()=>{o.remove()}))}detectCaptionLanguage(e){var t;return u(e.getAttribute("lang")||(null===(t=e.closest("[lang]"))||void 0===t?void 0:t.getAttribute("lang"))||document.documentElement.lang||"auto")}getTargetLanguage(){return h(this,void 0,void 0,(function*(){if(!(yield this.waitForChromeAPI(10,1500)))throw console.error("WordStream YouTube: Chrome API initialization failed"),new Error("Extension not initialized. Please refresh the page.");try{const e=(yield new Promise(((e,t)=>{chrome.storage.sync.get(["settings"],(n=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e(n)}))}))).settings,t=(null==e?void 0:e.targetLanguage)||"en";return console.log("WordStream YouTube: Using target language:",t),t}catch(e){throw console.error("WordStream YouTube: Error getting storage settings:",e),new Error(`Storage error: ${e}`)}}))}getTranslation(e,t){return h(this,void 0,void 0,(function*(){try{const n=yield this.translationService.translate(e,t);if(console.log("WordStream YouTube: Translation result:",n),!n.success)throw new Error(n.error||"Unknown translation error");if(!n.translatedText)throw new Error("Translation succeeded but no translated text returned");return n}catch(e){throw console.error("WordStream YouTube: Translation error:",e),new Error(`Translation error: ${e}`)}}))}saveWord(e,t,n){return h(this,void 0,void 0,(function*(){try{let r;try{r=yield g()}catch(e){console.error("WordStream YouTube: Error loading words:",e),r=[]}const o={id:`${e}-${Date.now()}`,originalWord:e,targetWord:t.translatedText,sourceLanguage:t.detectedSourceLanguage||"auto",targetLanguage:n,timestamp:(new Date).toISOString(),context:{source:"youtube",videoTitle:document.title,url:window.location.href,captionsLanguage:t.detectedSourceLanguage||"auto"},stats:{successRate:0,totalReviews:0,lastReview:(new Date).toISOString()}};try{console.log(`Checking if word "${e}" already exists...`);const t=e.trim().toLowerCase();if(r.some((e=>{var r;return(null===(r=e.originalWord)||void 0===r?void 0:r.trim().toLowerCase())===t&&e.sourceLanguage===o.sourceLanguage&&e.targetLanguage===n})))console.log("WordStream YouTube: Word already exists, not saving duplicate");else{console.log(`Adding new word: "${e}" (${o.sourceLanguage} → ${n})`);const t=100;let a=[...r,o];a.length>t&&(console.log(`WordStream YouTube: Too many saved words (${a.length}), removing oldest`),a.sort(((e,t)=>new Date(e.timestamp||0).getTime()-new Date(t.timestamp||0).getTime())),a=a.slice(-t));const i={},l=10;a.forEach(((e,t)=>{const n=`words_group_${Math.floor(t/l)}`;i[n]||(i[n]=[]),i[n].push(e)}));const s={totalGroups:Object.keys(i).length,totalWords:a.length,lastUpdated:(new Date).toISOString()};yield new Promise(((e,t)=>{chrome.storage.sync.set({words_metadata:s},(()=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e()}))}));for(const[e,t]of Object.entries(i))yield new Promise(((n,r)=>{chrome.storage.sync.set({[e]:t},(()=>{chrome.runtime.lastError?r(chrome.runtime.lastError):n()}))}));let u;try{u=yield new Promise(((e,t)=>{chrome.storage.sync.get(["stats"],(n=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e(n.stats||{})}))}))}catch(e){console.error("WordStream YouTube: Error loading stats:",e),u={}}const c=new Date,d=u.lastActive?new Date(u.lastActive):new Date(0),f=new Date(c.getFullYear(),c.getMonth(),c.getDate()),p=new Date(d.getFullYear(),d.getMonth(),d.getDate()),m=Math.abs(f.getTime()-p.getTime()),h=Math.ceil(m/864e5);let g=u.streak||0,v=u.todayWords||0;h>=1?v=1:v+=1,1===h?g+=1:h>1&&(g=1),yield new Promise(((e,t)=>{chrome.storage.sync.set({stats:{totalWords:a.length,lastSaved:c.toISOString(),todayWords:v,streak:g,lastActive:c.toISOString()}},(()=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e()}))})),yield new Promise(((e,t)=>{chrome.storage.sync.set({words_groups:Object.keys(i)},(()=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e()}))})),console.log("WordStream YouTube: Word saved successfully")}}catch(e){console.error("WordStream YouTube: Error saving word:",e)}}catch(e){console.error("WordStream YouTube: Error in saveWord:",e)}}))}removeFloatingControls(){if(this.controlsContainer&&this.controlsContainer.parentNode){if(this.controlsRoot){try{"function"==typeof this.controlsRoot.unmount?this.controlsRoot.unmount():void 0!==d&&c.unmountComponentAtNode&&c.unmountComponentAtNode(this.controlsContainer)}catch(e){console.error("WordStream: Error unmounting controls:",e)}this.controlsRoot=null}this.controlsContainer.parentNode.removeChild(this.controlsContainer),this.controlsContainer=null}this.ghostLayer&&this.ghostLayer.parentNode&&(this.ghostLayer.parentNode.removeChild(this.ghostLayer),this.ghostLayer=null)}}var y=n(540),b=n(220),w=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))};class x extends m{constructor(){super(...arguments),this.source="netflix"}initializeObserver(){this.observer=new MutationObserver((e=>{this.animationFrameId&&cancelAnimationFrame(this.animationFrameId),this.animationFrameId=requestAnimationFrame((()=>{const t=new Set;e.forEach((e=>{if("characterData"===e.type&&e.target instanceof Text){const n=e.target.parentElement;(null==n?void 0:n.classList.contains("player-timedtext-text-container"))&&t.add(e.target)}else"childList"===e.type&&e.addedNodes.forEach((e=>{if(e instanceof Text){const n=e.parentElement;(null==n?void 0:n.classList.contains("player-timedtext-text-container"))&&t.add(e)}else e instanceof HTMLElement&&e.classList.contains("player-timedtext-text-container")&&e.childNodes.forEach((e=>{e instanceof Text&&t.add(e)}))}))})),t.forEach((e=>this.processTextNode(e))),this.animationFrameId=null}))}))}detect(){return w(this,void 0,void 0,(function*(){const e=document.querySelector(".player-timedtext");return e?(this.addFloatingControls(),e):new Promise((e=>{const t=new MutationObserver(((t,n)=>{const r=document.querySelector(".player-timedtext");r&&(n.disconnect(),this.addFloatingControls(),e(r))}));t.observe(document.body,{childList:!0,subtree:!0}),setTimeout((()=>{t.disconnect(),e(null)}),1e4)}))}))}processCaption(e){e&&(this.processTextContainer(e),this.startObserving(e))}processTextContainer(e){if(!e)return;this.getTextNodesIn(e).forEach((e=>this.processTextNode(e)))}detectCaptionsLanguage(){try{const e=document.querySelector(".track-list-subtitles");if(e){const t=e.querySelector('[aria-selected="true"]');if(t){const e=t.textContent||"",n=e.toLowerCase().includes("auto-generated");return{language:t.getAttribute("data-lang")||t.getAttribute("lang")||"en",languageName:e,isAuto:n}}}const t=document.querySelector(".VideoContainer");if(t){const e=t.getAttribute("lang")||document.documentElement.lang;if(e)return{language:e,languageName:e,isAuto:!1}}return{language:"auto",languageName:"Auto-Detected",isAuto:!0}}catch(e){return console.error("WordStream Netflix: Error detecting captions language:",e),{language:"auto",languageName:"Auto-Detected",isAuto:!0}}}getSubtitleContext(e){try{const t=e.closest(".player-timedtext-text-container");return t&&t.textContent||""}catch(e){return console.error("WordStream Netflix: Error getting subtitle context:",e),""}}startObserving(e){this.observer&&e&&(this.observer.observe(e,{childList:!0,subtree:!0,characterData:!0}),console.log("WordStream Netflix: Started observing caption container"))}stopObserving(){this.observer&&(this.observer.disconnect(),console.log("WordStream Netflix: Stopped observing caption container"))}addFloatingControls(){this.controlsContainer&&this.removeFloatingControls(),this.controlsContainer=document.createElement("div"),this.controlsContainer.className="wordstream-floating-controls",this.controlsContainer.style.position="absolute",this.controlsContainer.style.top="10px",this.controlsContainer.style.right="10px",this.controlsContainer.style.zIndex="9999";const e=document.querySelector(".watch-video")||document.querySelector(".NFPlayer")||document.querySelector(".VideoContainer");e instanceof HTMLElement&&(e.appendChild(this.controlsContainer),this.renderControls(this.controlsContainer,!0,!0,!0),console.log("WordStream Netflix: Added floating controls"))}removeFloatingControls(){if(this.controlsContainer&&this.controlsContainer.parentNode){if(this.controlsRoot){try{c.unmountComponentAtNode(this.controlsContainer)}catch(e){console.error("WordStream Netflix: Error unmounting controls:",e)}this.controlsRoot=null}this.controlsContainer.parentNode.removeChild(this.controlsContainer),this.controlsContainer=null}}renderControls(e,t=!0,n=!1,r=!1){if(e)try{this.controlsRoot&&(c.unmountComponentAtNode(e),this.controlsRoot=null),this.controlsRoot=c.createRoot(e),this.controlsRoot.render(y.createElement(b.dg,{source:"netflix",showGemini:n,showNotes:r,persist:t}))}catch(e){console.error("WordStream Netflix: Error rendering controls:",e)}}}var S=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))};class k extends m{constructor(){super(...arguments),this.source="universal",this.videoElements=[],this.captionContainers=[],this.activeContainer=null,this.scanInterval=null}initializeObserver(){this.observer=new MutationObserver((e=>{this.animationFrameId&&cancelAnimationFrame(this.animationFrameId),this.animationFrameId=requestAnimationFrame((()=>{const t=new Set;let n=!1;e.forEach((e=>{if("characterData"===e.type&&e.target instanceof Text){const r=e.target.parentElement;r&&(this.isInCaptionContainer(r)||this.hasCaptionLikeAttributes(r))&&(t.add(e.target),!this.isInCaptionContainer(r)&&this.hasCaptionLikeAttributes(r)&&(this.addCaptionContainer(this.findCaptionContainer(r)),n=!0))}else"childList"===e.type&&e.addedNodes.forEach((e=>{if(e instanceof Text){const r=e.parentElement;r&&(this.isInCaptionContainer(r)||this.hasCaptionLikeAttributes(r))&&(t.add(e),!this.isInCaptionContainer(r)&&this.hasCaptionLikeAttributes(r)&&(this.addCaptionContainer(this.findCaptionContainer(r)),n=!0))}else if(e instanceof HTMLElement){this.hasCaptionLikeAttributes(e)&&(this.addCaptionContainer(e),n=!0);this.getTextNodesIn(e).forEach((e=>{const r=e.parentElement;r&&(this.isInCaptionContainer(r)||this.hasCaptionLikeAttributes(r))&&(t.add(e),!this.isInCaptionContainer(r)&&this.hasCaptionLikeAttributes(r)&&(this.addCaptionContainer(this.findCaptionContainer(r)),n=!0))}))}}))})),t.forEach((e=>this.processTextNode(e))),n&&this.captionContainers.forEach((e=>{this.startObserving(e)})),this.animationFrameId=null}))}))}isInCaptionContainer(e){return this.captionContainers.some((t=>t===e||t.contains(e)))}findCaptionContainer(e){let t=e,n=0;for(;t&&n<5;){if(this.hasCaptionLikeAttributes(t,!0))return t;t=t.parentElement,n++}return e}addCaptionContainer(e){this.isInCaptionContainer(e)||(console.log("WordStream Universal: Found new caption container",e),this.captionContainers.push(e),this.activeContainer=e)}hasCaptionLikeAttributes(e,t=!1){var n;if(!e)return!1;e.tagName.toLowerCase();const r=e.className.toLowerCase(),o=e.id.toLowerCase(),a=(e.getAttribute("aria-label")||"").toLowerCase();if(t){if(["caption-window","subtitle-container","captions-area","transcript-container","video-text","player-text"].some((e=>r.includes(e)||o.includes(e)||a.includes(e))))return!0}const i=["caption","subtitle","cue","transcript","cc","sub","track","vtt","text-track","texttrak"].some((e=>r.includes(e)||o.includes(e)||a.includes(e))),l=this.isOverlayingVideo(e),s=(e.classList.contains("active")||"block"===e.style.display||e.style.visibility,(null===(n=e.textContent)||void 0===n?void 0:n.trim().length)>0),u="absolute"===e.style.position||""!==e.style.bottom||"fixed"===e.style.position;return t?i||l&&u:(i||l)&&s}isOverlayingVideo(e){if(0===this.videoElements.length)return!1;let t=e,n=null,r=0;for(;t&&r<10;){if(t.querySelector("video")){n=t.querySelector("video");break}t=t.parentElement,r++}if(!n){for(const t of this.videoElements){const n=t.getBoundingClientRect(),r=e.getBoundingClientRect();if(!(r.right<n.left||r.left>n.right||r.bottom<n.top||r.top>n.bottom))return!0}return!1}return!0}detect(){return S(this,void 0,void 0,(function*(){return console.log("WordStream Universal: Detecting captions..."),this.videoElements=Array.from(document.querySelectorAll("video")),console.log("WordStream Universal: Found",this.videoElements.length,"video elements"),this.findCaptionContainers(),this.captionContainers.length>0?(this.activeContainer=this.captionContainers[0],this.addFloatingControls(),this.startObserving(this.activeContainer),console.log("WordStream Universal: Found caption container",this.activeContainer),this.activeContainer):(this.videoElements.length>0&&(console.log("WordStream Universal: Setting up caption scanning..."),this.setupCaptionScanning()),this.videoElements.length>0?this.videoElements[0].parentElement:null)}))}findCaptionContainers(){this.captionContainers=[];const e=document.querySelectorAll("div, span, p, section");for(const t of e)this.hasCaptionLikeAttributes(t,!0)&&this.addCaptionContainer(t);this.videoElements.forEach((e=>{const t=e.parentElement;if(t){const e=t.querySelectorAll("div, span, p");for(const t of e)this.hasCaptionLikeAttributes(t,!0)&&this.addCaptionContainer(t)}}))}setupCaptionScanning(){this.scanInterval&&clearInterval(this.scanInterval),this.scanInterval=window.setInterval((()=>{this.findCaptionContainers(),this.captionContainers.length>0&&(this.captionContainers.forEach((e=>{this.startObserving(e)})),this.activeContainer=this.captionContainers[0],this.addFloatingControls(),this.scanInterval&&(clearInterval(this.scanInterval),this.scanInterval=null),console.log("WordStream Universal: Found caption containers during scan",this.captionContainers))}),2e3)}processCaption(e){if(!e)return;console.log("WordStream Universal: Processing caption container",e),this.addCaptionContainer(e);this.getTextNodesIn(e).forEach((e=>this.processTextNode(e))),this.startObserving(e)}startObserving(e){this.observer&&e&&(e.dataset.wordstreamObserved||(e.dataset.wordstreamObserved="true",this.observer.observe(e,{childList:!0,subtree:!0,characterData:!0,attributes:!0,attributeFilter:["class","style"]}),console.log("WordStream Universal: Started observing caption container",e)))}stopObserving(){this.observer&&(this.observer.disconnect(),console.log("WordStream Universal: Stopped observing")),this.scanInterval&&(clearInterval(this.scanInterval),this.scanInterval=null)}cleanup(){super.cleanup(),this.scanInterval&&(clearInterval(this.scanInterval),this.scanInterval=null),this.videoElements=[],this.captionContainers=[],this.activeContainer=null,console.log("WordStream Universal: Cleaned up resources")}addFloatingControls(){this.controlsContainer&&this.removeFloatingControls(),this.controlsContainer=document.createElement("div"),this.controlsContainer.className="wordstream-floating-controls",this.controlsContainer.style.position="absolute",this.controlsContainer.style.top="10px",this.controlsContainer.style.right="10px",this.controlsContainer.style.zIndex="9999";let e=null;if(this.videoElements.length>0){e=this.videoElements[0].parentElement,e&&e.offsetWidth<400&&(e=e.parentElement)}!e&&this.activeContainer&&(e=this.activeContainer.parentElement),e||(e=document.body),e&&(e===document.body&&(this.controlsContainer.style.position="fixed",this.controlsContainer.style.top="20px",this.controlsContainer.style.right="20px"),e.appendChild(this.controlsContainer),this.renderControls(this.controlsContainer,!0,!0,!0),console.log("WordStream Universal: Added floating controls to",e))}removeFloatingControls(){if(this.controlsContainer&&this.controlsContainer.parentNode){if(this.controlsRoot){try{c.unmountComponentAtNode(this.controlsContainer)}catch(e){console.error("WordStream Universal: Error unmounting controls:",e)}this.controlsRoot=null}this.controlsContainer.parentNode.removeChild(this.controlsContainer),this.controlsContainer=null}}renderControls(e,t=!0,n=!1,r=!1){if(e)try{this.controlsRoot&&(c.unmountComponentAtNode(e),this.controlsRoot=null),this.controlsRoot=c.createRoot(e),this.controlsRoot.render(y.createElement(b.dg,{source:"universal",showGemini:n,showNotes:r,persist:t}))}catch(e){console.error("WordStream Universal: Error rendering controls:",e)}}detectCaptionsLanguage(){if(this.videoElements.length>0){const e=this.videoElements[0].textTracks;if(e&&e.length>0)for(let t=0;t<e.length;t++){const n=e[t];if("showing"===n.mode&&n.language)return{language:n.language,languageName:n.label||n.language,isAuto:!1}}}const e=document.documentElement.lang;return e?{language:e,languageName:e,isAuto:!1}:{language:"auto",languageName:"Auto-Detected",isAuto:!0}}getSubtitleContext(e){try{const t=e.closest("p, div, span, .caption, .subtitle");return t?t.textContent||"":e.textContent||""}catch(e){return console.error("WordStream Universal: Error getting subtitle context:",e),""}}}var E=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))};let C=null,T=!1,N="",P=null,_=null,L=null,I=!1,z=!1;function A(){const e=window.location.href;return e.includes("youtube.com")?(console.log("WordStream: Detected YouTube site, initializing YouTube detector"),new v):e.includes("netflix.com")?(console.log("WordStream: Detected Netflix site, initializing Netflix detector"),new x):(console.log("WordStream: Using universal detector for this site"),new k)}function W(e){switch(R(),e){case"youtube":C=new v;break;case"netflix":C=new x;break;case"universal":C=new k;break;default:console.log("WordStream: Unknown source type, using universal detector"),C=new k}return C}function O(){return I}function F(e){I=e,console.log(`WordStream: Auth issues detected flag set to ${e}`)}function M(e){z=e,console.log(`WordStream: User authentication status set to ${e}`),e&&C&&U(!0)}function R(){C&&(C.cleanup(),C=null),P&&(P.disconnect(),P=null),_&&(_.disconnect(),_=null),L&&(clearInterval(L),L=null),T=!1,N=""}function D(){return E(this,void 0,void 0,(function*(){return new Promise((e=>{chrome.runtime.sendMessage({action:"GET_AUTH_STATE"},(t=>{if(chrome.runtime.lastError||!t)return console.log("WordStream: Error checking auth status or not authenticated"),void e(!1);const n=t.isAuthenticated||!1;console.log(`WordStream: User authentication status: ${n}`),z=n,e(n)}))}))}))}function U(){return E(this,arguments,void 0,(function*(e=!1){const t=C||function(){const e=A();return C=e,e}();if(t){console.log("WordStream: Starting caption detection...");try{if(!z&&!I){const e=yield D();z=e}const n=yield t.detect();n?(console.log("WordStream: Captions found, processing..."),t.processCaption(n),(z||I)&&t.startObserving(n)):e?(console.log("WordStream: No captions found, will retry in 1 second"),setTimeout((()=>U(!0)),1e3)):(console.log("WordStream: No captions found, will retry on player state changes"),setTimeout((()=>{console.log("WordStream: Additional retry for caption detection"),U(!0)}),3e3))}catch(e){console.error("WordStream: Error detecting captions:",e),setTimeout((()=>{console.log("WordStream: Retrying caption detection after error"),U(!0)}),2e3)}}}))}function $(e){var t;const n=(null===(t=Array.from(e.classList).find((e=>e.endsWith("-mode"))))||void 0===t?void 0:t.replace("-mode",""))||"",r=e.classList.contains("ad-showing");n===N&&r===T||(console.log("WordStream: Player state changed",{previousState:N,currentState:n,wasAdPlaying:T,isAdPlaying:r}),N=n,T=r,U(!0))}function H(e){e.dataset.wordstreamObserved||(e.dataset.wordstreamObserved="true",P&&P.disconnect(),P=new MutationObserver((t=>{t.forEach((t=>{"attributes"===t.type&&"class"===t.attributeName&&$(e)}))})),P.observe(e,{attributes:!0,attributeFilter:["class"]}),$(e))}"undefined"!=typeof document&&(document.addEventListener("wordstream:token_refresh_failed",(()=>{console.log("WordStream: Token refresh failure detected in caption detector"),F(!0),U(!0)})),document.addEventListener("wordstream:auth_error",(()=>{console.log("WordStream: Auth error detected in caption detector"),F(!0),U(!0)})),document.addEventListener("wordstream:auth_state_changed",(e=>{var t;const n=(null===(t=e.detail)||void 0===t?void 0:t.isAuthenticated)||!1;console.log(`WordStream: Auth state changed event received, authenticated: ${n}`),M(n)}))),D().then((e=>{console.log(`WordStream: Initial auth check completed: ${e}`),e&&U(!0)}));let B=window.location.href;_=new MutationObserver((()=>{if(window.location.href!==B)return B=window.location.href,console.log("WordStream: URL changed, restarting detection"),R(),void U(!0);document.querySelectorAll("video").forEach((e=>{const t=e.parentElement;t instanceof HTMLElement&&H(t)}));[document.querySelector("#movie_player"),document.querySelector(".html5-video-player"),document.querySelector(".watch-video"),document.querySelector(".NFPlayer"),document.querySelector(".VideoContainer")].forEach((e=>{e instanceof HTMLElement&&H(e)}))})),_.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["class"]});let j=0;L=setInterval((()=>{j++,(function(){const e=document.querySelectorAll("video");let t=!1;return e.forEach((e=>{const n=e.parentElement;n instanceof HTMLElement&&(H(n),t=!0)})),[document.querySelector("#movie_player"),document.querySelector(".html5-video-player"),document.querySelector(".watch-video"),document.querySelector(".NFPlayer"),document.querySelector(".VideoContainer")].forEach((e=>{e instanceof HTMLElement&&(H(e),t=!0)})),t}()||j>=30)&&L&&(clearInterval(L),L=null)}),1e3)}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var a=r[e]={id:e,exports:{}};return n[e](a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var a=Object.create(null);o.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&r&&n;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,o.d(a,i),a},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nc=void 0;var a=o(928),i=o(704),l=(o(540),o(72)),s=o.n(l),u=o(825),c=o.n(u),d=o(659),f=o.n(d),p=o(56),m=o.n(p),h=o(159),g=o.n(h),v=o(113),y=o.n(v),b=o(10),w={};w.styleTagTransform=y(),w.setAttributes=m(),w.insert=f().bind(null,"head"),w.domAPI=c(),w.insertStyleElement=g();s()(b.A,w);b.A&&b.A.locals&&b.A.locals;var x=o(186),S={};S.styleTagTransform=y(),S.setAttributes=m(),S.insert=f().bind(null,"head"),S.domAPI=c(),S.insertStyleElement=g();s()(x.A,S);x.A&&x.A.locals&&x.A.locals;var k=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))};function E(){return k(this,void 0,void 0,(function*(){return new Promise((e=>{chrome.storage.local.get(["wordstream_user_info"],(t=>{t&&t.wordstream_user_info?e(t.wordstream_user_info):e(null)}))}))}))}var C=o(467),T=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))};C.Wc.MODEL,C.Wc.MAX_TOKENS;function N(){return Date.now().toString(36)+Math.random().toString(36).substring(2)}function P(e,t){return T(this,arguments,void 0,(function*(e,t,n="",r={}){var o,a;try{const i=yield E();if(!i)throw new Error("User not authenticated. Please sign in to use this feature.");const l={videoTitle:n};if(window.location.hostname.includes("youtube.com")){const e=new URLSearchParams(window.location.search);l.videoId=e.get("v")||void 0;const t=document.querySelector("div#description-inline-expander");t&&(l.description=(null===(o=t.textContent)||void 0===o?void 0:o.trim())||void 0);const n=document.querySelector("div#owner #channel-name");n&&(l.channelName=(null===(a=n.textContent)||void 0===a?void 0:a.trim())||void 0),l.videoId&&(l.videoURL=`https://www.youtube.com/watch?v=${l.videoId}`)}else l.videoURL=window.location.href,l.videoTitle=document.title;const s=t.map((e=>({role:e.role,content:e.content}))),u=r.language||localStorage.getItem("wordstream-language")||"en",c=yield new Promise(((t,n)=>{const r=setTimeout((()=>{n(new Error("Request to Gemini API timed out"))}),3e4);try{chrome.runtime.sendMessage({action:"GEMINI_CHAT",query:e,history:s,context:l,language:u,userId:i.uid},(e=>{var o;return clearTimeout(r),chrome.runtime.lastError?(console.error("Error sending message to Gemini:",chrome.runtime.lastError),chrome.runtime.lastError.message&&chrome.runtime.lastError.message.includes("message port closed")?(console.log("WordStream: Using fallback response due to closed message port"),void t("I'm sorry, but I couldn't process your request through the Gemini API. The connection was interrupted. Please try again later.")):void n(new Error(chrome.runtime.lastError.message||"Unknown runtime error"))):e&&e.success?void t(e.content||e.answer||"No response content"):(null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.includes("API key"))?void n(new Error("Gemini API key not configured. Please set up your API key in the extension settings.")):void n(new Error((null==e?void 0:e.error)||"Failed to get response from Gemini"))}))}catch(e){clearTimeout(r),console.error("Error in sendMessage:",e),t("I'm sorry, but I couldn't connect to the Gemini API. Please try again later.")}}));return yield function(e,t,n,r,o){return T(this,void 0,void 0,(function*(){try{const a={role:"user",content:t,timestamp:Date.now(),id:N()},i={role:"assistant",content:n,timestamp:Date.now(),id:N()};let l=yield function(){return T(this,void 0,void 0,(function*(){return new Promise((e=>{chrome.storage.local.get(["gemini_active_session"],(t=>{t&&t.gemini_active_session?e(t.gemini_active_session):e(null)}))}))}))}();if(l)yield chrome.runtime.sendMessage({action:"UPDATE_CHAT",chatId:l,updates:{messages:[...r,a,i].map((e=>({role:e.role,content:e.content,timestamp:e.timestamp||Date.now(),id:e.id||N()}))),updatedAt:Date.now(),context:o}});else{l=N();const t=o.videoTitle||"Chat Session";yield chrome.storage.local.set({gemini_active_session:l}),yield chrome.runtime.sendMessage({action:"SAVE_CHAT",chat:{id:l,title:t,messages:[...r.map((e=>Object.assign(Object.assign({},e),{timestamp:Date.now(),id:N()}))),a,i],context:o,createdAt:Date.now(),updatedAt:Date.now(),userId:e}})}}catch(e){console.error("Error saving Gemini chat to Firebase:",e)}}))}(i.uid,e,c,t,l),c}catch(e){if(console.error("Error in sendToGemini:",e),e instanceof Error){if(e.message.includes("API key"))throw new Error("Gemini API key not configured. Please set up your API key in the extension settings.");if(e.message.includes("timed out"))throw new Error("The request to Gemini timed out. Please check your internet connection and try again.");if(e.message.includes("quota"))throw new Error("Your Gemini API quota has been exceeded. Please try again later.");if(e.message.includes("message port closed"))return"I'm sorry, I couldn't process your request through the Gemini API. The connection was interrupted. Please try again later.";if(e.message.includes("not authenticated"))throw new Error("Please sign in to use the Gemini AI features.")}throw e}}))}var _=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))};const L={chatHistory:[]};function I(){if(document.getElementById("wordstream-chat-panel"))return;const e=document.createElement("div");e.id="wordstream-chat-panel",e.className="wordstream-gemini-chat";const t=document.createElement("div");t.className="wordstream-gemini-chat-header";const n=document.createElement("h3");n.textContent="WordStream Assistant";const r=document.createElement("button");r.className="wordstream-gemini-chat-close",r.textContent="×",r.addEventListener("click",(()=>{A()})),t.appendChild(n),t.appendChild(r);const o=document.createElement("div");o.className="wordstream-gemini-chat-messages";const a=document.createElement("div");a.className="wordstream-gemini-chat-welcome",a.innerHTML='\n    <h4>Hello! I\'m your WordStream Assistant</h4>\n    <p>I can help you learn languages while watching videos. Ask me anything about:</p>\n    <ul style="text-align: left; margin-top: 10px; padding-left: 20px;">\n      <li>Translations or explanations of words</li>\n      <li>Grammar clarifications</li>\n      <li>Cultural context from the video</li>\n      <li>Language learning strategies</li>\n      <li>Video content questions</li>\n    </ul>\n    <p style="margin-top: 10px; font-style: italic;">I\'ll respond in the same language you use - Hebrew, English, or any other language!</p>\n  ',o.appendChild(a);const l=document.createElement("div");l.style.cssText="\n    display: flex;\n    padding: 12px;\n    border-top: 1px solid #e2e8f0;\n    background-color: white;\n  ";const s=document.createElement("textarea");s.placeholder="Type your message...",s.style.cssText="\n    flex-grow: 1;\n    border: 1px solid #e2e8f0;\n    border-radius: 18px;\n    padding: 8px 12px;\n    resize: none;\n    height: 40px;\n    max-height: 120px;\n    font-family: inherit;\n    font-size: 14px;\n    overflow-y: auto;\n    margin-right: 8px;\n  ",s.addEventListener("input",(()=>{s.style.height="auto";const e=Math.min(s.scrollHeight,120);s.style.height=`${e}px`}));const u=document.createElement("button");u.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>',u.style.cssText="\n    background-color: #4285F4;\n    border: none;\n    border-radius: 50%;\n    width: 40px;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    color: white;\n    flex-shrink: 0;\n  ";const c=()=>{const e=s.value.trim();if(e){const t=o.querySelector(".wordstream-gemini-chat-welcome");t&&o.removeChild(t),function(e){_(this,void 0,void 0,(function*(){const t=document.getElementById("wordstream-chat-panel");if(!t)return;const n=t.querySelector("div:nth-child(2)");if(!n)return;const r=Array.from(n.children).map((e=>({role:e.classList.contains("user-message")?"user":"assistant",content:e.textContent||""})));z("user",e);try{const t=document.createElement("div");t.className="assistant-message loading",t.innerHTML='<div class="typing-indicator"><span></span><span></span><span></span></div>',t.style.cssText="\n      padding: 12px;\n      background-color: #f1f5f9;\n      border-radius: 12px;\n      margin-bottom: 12px;\n      align-self: flex-start;\n      max-width: 80%;\n      animation: fadeIn 0.3s ease;\n    ",n.appendChild(t),n.scrollTop=n.scrollHeight;const o=window.wordstreamState.selectedLanguage||"en",a=yield P(e,r,document.title,{language:o});t&&t.parentNode&&t.parentNode.removeChild(t),z("ai",a),function(){try{const e=L.chatHistory.slice(-20);localStorage.setItem("wordstream-chat-history",JSON.stringify(e))}catch(e){console.error("Error saving chat history:",e)}}()}catch(e){console.error("WordStream: Error sending chat message",e);const t=n.querySelector(".loading");t&&t.parentNode&&t.parentNode.removeChild(t),e instanceof Error?z("ai",`Error: ${e.message}`):z("ai","An error occurred while sending your message. Please try again.")}}))}(e),s.value="",s.style.height="40px",s.focus()}};u.addEventListener("click",c),s.addEventListener("keydown",(e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),c())})),l.appendChild(s),l.appendChild(u),e.appendChild(t),e.appendChild(o),e.appendChild(l),document.body.appendChild(e),(0,i.e)(e,t);const d=localStorage.getItem("wordstream-chat-position");if(d)try{const t=JSON.parse(d);e.style.top=t.top||"",e.style.right=t.right||"",e.style.bottom=t.bottom||"",e.style.left=t.left||""}catch(e){console.error("Error restoring chat position:",e)}return setTimeout((()=>{s.focus()}),100),window.wordstreamState&&(window.wordstreamState.isChatPanelOpen=!0),e}function z(e,t){const n=document.querySelector("#wordstream-chat-panel > div:nth-child(2)");if(!n)return;const r=document.createElement("div");r.style.cssText=`\n    padding: 10px 14px;\n    border-radius: 18px;\n    max-width: 80%;\n    word-break: break-word;\n    ${"user"===e?"background-color: #e9ecef; align-self: flex-end;":"background-color: #4f46e5; color: white; align-self: flex-start;"}\n  `,r.textContent=t,n.appendChild(r),n.scrollTop=n.scrollHeight}function A(){if(window.wordstreamState.isChatPanelOpen){const e=document.getElementById("wordstream-chat-panel");e&&(e.style.display="none",window.wordstreamState.isChatPanelOpen=!1)}else I(),window.wordstreamState.isChatPanelOpen=!0}var W=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))};console.log("WordStream: Content script initialized");const O={isFeatureActive:!1,isTranslationEnabled:!0,isNotesPanelOpen:!1,selectedLanguage:"he",currentVideoId:"",currentVideoTitle:"",captionsAvailable:!1,videoSpeed:1,speedControllerVisible:!1,isChatPanelOpen:!1,chatHistory:[],isProcessingChatRequest:!1};function F(){let e=document.getElementById("wordstream-panel");if(e)return void(e.style.display="block");e=document.createElement("div"),e.id="wordstream-panel",e.style.cssText="\n    width: 320px;\n    background-color: white;\n    border-radius: 8px;\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n    overflow: hidden;\n    margin-bottom: 10px;\n    animation: slideIn 0.3s ease;\n  ";const t=window.location.hostname.includes("youtube.com"),n=t?"Automatic translation will be enabled when captions are available in the video.":"Translate selected text on this page.",r=t?"Write notes about this video here...":"Write notes about this page...";e.innerHTML=`\n    <style>\n      @keyframes slideIn {\n        from { transform: translateY(20px); opacity: 0; }\n        to { transform: translateY(0); opacity: 1; }\n      }\n      \n      #wordstream-panel {\n        color: #1e293b;\n        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n      }\n      \n      @media (prefers-color-scheme: dark) {\n        #wordstream-panel {\n          background-color: #1e293b;\n          color: #f1f5f9;\n        }\n        \n        #wordstream-panel .tab-button {\n          background-color: #334155;\n          color: #f1f5f9;\n        }\n        \n        #wordstream-panel .tab-button.active {\n          background-color: #3b82f6;\n          color: white;\n        }\n      }\n    </style>\n    \n    <div style="padding: 16px; border-bottom: 1px solid #e2e8f0;">\n      <div style="display: flex; justify-content: space-between; align-items: center;">\n        <h3 style="margin: 0; font-size: 18px; font-weight: 600;">WordStream</h3>\n        <div style="display: flex; gap: 6px;">\n          <button id="wordstream-minimize" style="background: none; border: none; cursor: pointer; padding: 2px;">\n            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n              <line x1="5" y1="12" x2="19" y2="12"></line>\n            </svg>\n          </button>\n          <button id="wordstream-close" style="background: none; border: none; cursor: pointer; padding: 2px;">\n            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n              <line x1="18" y1="6" x2="6" y2="18"></line>\n              <line x1="6" y1="6" x2="18" y2="18"></line>\n            </svg>\n          </button>\n        </div>\n      </div>\n    </div>\n    \n    <div style="display: flex; border-bottom: 1px solid #e2e8f0;">\n      <button class="tab-button active" data-tab="translate" style="flex: 1; padding: 10px; border: none; background: none; cursor: pointer; font-weight: 500; border-bottom: 2px solid #3b82f6;">\n        Translation\n      </button>\n      <button class="tab-button" data-tab="notes" style="flex: 1; padding: 10px; border: none; background: none; cursor: pointer; font-weight: 500; border-bottom: 2px solid transparent;">\n        Notes\n      </button>\n    </div>\n    \n    <div id="wordstream-tab-content" style="height: 320px; overflow-y: auto; padding: 16px;">\n      <div id="translate-tab" class="tab-content">\n        <p style="margin-top: 0;">${n}</p>\n        \n        <div style="margin-top: 12px;">\n          <label style="display: block; margin-bottom: 5px; font-size: 14px; font-weight: 500;">Target Language:</label>\n          <select id="wordstream-target-language" style="width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #e2e8f0;">\n            <option value="he">Hebrew</option>\n            <option value="en">English</option>\n            <option value="es">Spanish</option>\n            <option value="fr">French</option>\n            <option value="de">German</option>\n            <option value="ru">Russian</option>\n            <option value="ar">Arabic</option>\n          </select>\n        </div>\n        \n        <div style="margin-top: 16px; display: flex; align-items: center;">\n          <label style="margin-right: 8px;">Enable automatic translation:</label>\n          <div id="wordstream-translation-toggle" class="toggle-switch" style="position: relative; display: inline-block; width: 40px; height: 20px; background-color: #4f46e5; border-radius: 20px; cursor: pointer;">\n            <div class="toggle-switch-handle" style="position: absolute; top: 2px; left: 22px; width: 16px; height: 16px; background-color: white; border-radius: 50%; transition: left 0.2s;"></div>\n          </div>\n        </div>\n      </div>\n      \n      <div id="notes-tab" class="tab-content" style="display: none;">\n        <textarea id="wordstream-notes" placeholder="${r}" style="width: 100%; height: 200px; padding: 8px; border-radius: 4px; border: 1px solid #e2e8f0; resize: none;"></textarea>\n        \n        <button id="wordstream-save-notes" style="margin-top: 12px; padding: 8px 16px; background-color: #4f46e5; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 500;">\n          Save Notes\n        </button>\n      </div>\n    </div>\n  `;const o=document.getElementById("wordstream-container");o&&(o.prepend(e),M())}function M(){const e=document.getElementById("wordstream-panel");if(!e)return;const t=document.getElementById("wordstream-close");t&&t.addEventListener("click",(()=>{O.isFeatureActive=!1,e.style.display="none"}));const n=document.getElementById("wordstream-minimize");n&&n.addEventListener("click",(()=>{e.style.display="none"}));const r=e.querySelectorAll(".tab-button");r.forEach((e=>{e.addEventListener("click",(e=>{const t=e.target,n=t.getAttribute("data-tab");r.forEach((e=>e.classList.remove("active"))),t.classList.add("active"),document.querySelectorAll(".tab-content").forEach((e=>{e.style.display="none"}));const o=document.getElementById(`${n}-tab`);o&&(o.style.display="block")}))}));const a=document.getElementById("wordstream-translation-toggle");a&&a.addEventListener("click",(()=>{O.isTranslationEnabled=!O.isTranslationEnabled;const e=a.querySelector(".toggle-switch-handle");e&&(O.isTranslationEnabled?(e.style.left="22px",a.style.backgroundColor="#4f46e5"):(e.style.left="2px",a.style.backgroundColor="#94a3b8")),console.log("WordStream: Translation "+(O.isTranslationEnabled?"enabled":"disabled"))}));const i=document.getElementById("wordstream-target-language");i&&(i.value=O.selectedLanguage,i.addEventListener("change",(()=>{O.selectedLanguage=i.value,console.log(`WordStream: Target language changed to ${O.selectedLanguage}`)})));const l=document.getElementById("wordstream-save-notes");l&&Promise.resolve().then(o.bind(o,928)).then((e=>{l.addEventListener("click",e.saveNotes)}))}function R(){window.location.hostname.includes("youtube.com")?function(){var e;const t=new URL(window.location.href).searchParams.get("v");if(t){O.currentVideoId=t;const n=document.querySelector("h1.title")||document.querySelector("h1.ytd-video-primary-info-renderer");n&&(O.currentVideoTitle=(null===(e=n.textContent)||void 0===e?void 0:e.trim())||""),console.log(`WordStream: YouTube video detected - ${O.currentVideoId} - ${O.currentVideoTitle}`),setTimeout(U,2e3)}}():function(){const e=new URL(window.location.href);O.currentVideoId=btoa(e.pathname).substring(0,20),O.currentVideoTitle=document.title||"Untitled Page",console.log(`WordStream: Generic page detected - ${O.currentVideoTitle}`),O.captionsAvailable=!1}()}function D(){let e=window.location.href;new MutationObserver((()=>{e!==window.location.href&&(e=window.location.href,console.log("WordStream: URL changed, updating page info"),R())})).observe(document.body,{childList:!0,subtree:!0})}function U(){document.querySelector(".ytp-subtitles-button")?(O.captionsAvailable=!0,console.log("WordStream: Captions available for this video")):(O.captionsAvailable=!1,console.log("WordStream: No captions available for this video"))}function $(){if(document.getElementById("wordstream-speed-controller"))return;const e=document.createElement("div");e.id="wordstream-speed-controller",e.style.cssText="\n    position: fixed;\n    top: 20px;\n    right: 20px;\n    background-color: rgba(79, 70, 229, 0.85);\n    color: white;\n    border-radius: 10px;\n    padding: 8px 12px;\n    font-family: system-ui, -apple-system, sans-serif;\n    font-size: 14px;\n    z-index: 9999;\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);\n    transition: all 0.3s ease;\n    user-select: none;\n    cursor: move;\n    border: 1px solid rgba(255, 255, 255, 0.2);\n  ",e.onmouseover=()=>{e.style.backgroundColor="rgba(79, 70, 229, 0.95)"},e.onmouseout=()=>{e.style.backgroundColor="rgba(79, 70, 229, 0.85)"};const t=document.createElement("div");t.id="wordstream-speed-display",t.innerText=`${O.videoSpeed}x`,t.style.cssText="\n    font-weight: bold;\n    min-width: 36px;\n    text-align: center;\n    font-size: 16px;\n  ";const n=document.createElement("button");n.id="wordstream-speed-decrease",n.innerText="−",n.style.cssText="\n    background: rgba(0, 0, 0, 0.2);\n    border: none;\n    color: white;\n    width: 28px;\n    height: 28px;\n    border-radius: 6px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    font-size: 18px;\n    padding: 0;\n    font-weight: bold;\n  ";const r=document.createElement("button");r.id="wordstream-speed-increase",r.innerText="+",r.style.cssText="\n    background: rgba(0, 0, 0, 0.2);\n    border: none;\n    color: white;\n    width: 28px;\n    height: 28px;\n    border-radius: 6px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    font-size: 18px;\n    padding: 0;\n    font-weight: bold;\n  ";const o=document.createElement("button");o.id="wordstream-speed-reset",o.innerText="1x",o.style.cssText="\n    background: rgba(0, 0, 0, 0.2);\n    border: none;\n    color: white;\n    padding: 4px 8px;\n    border-radius: 6px;\n    cursor: pointer;\n    font-size: 12px;\n    font-weight: bold;\n  ",n.addEventListener("click",(e=>{e.stopPropagation(),B(-.1)})),r.addEventListener("click",(e=>{e.stopPropagation(),B(.1)})),o.addEventListener("click",(e=>{e.stopPropagation(),j()}));[n,r,o].forEach((e=>{e.onmouseover=()=>{e.style.backgroundColor="rgba(0, 0, 0, 0.3)"},e.onmouseout=()=>{e.style.backgroundColor="rgba(0, 0, 0, 0.2)"}})),e.appendChild(n),e.appendChild(t),e.appendChild(r),e.appendChild(o),document.body.appendChild(e),O.speedControllerVisible=!0,H(e);const a=localStorage.getItem("wordstream-speed-controller-position");if(a)try{const t=JSON.parse(a);e.style.top=t.top,e.style.right=t.right,e.style.bottom=t.bottom,e.style.left=t.left}catch(e){console.error("WordStream: Error loading saved position",e)}console.log("WordStream: Speed controller injected")}function H(e,t){let n=0,r=0,o=0,a=0;const i=t||e;function l(t){t.preventDefault(),n=o-t.clientX,r=a-t.clientY,o=t.clientX,a=t.clientY;const i=Math.max(0,Math.min(window.innerHeight-e.offsetHeight,e.offsetTop-r)),l=Math.max(0,Math.min(window.innerWidth-e.offsetWidth,e.offsetLeft-n));e.style.top=i+"px",e.style.left=l+"px",e.style.right="auto",e.style.bottom="auto",localStorage.setItem(`${e.id}-position`,JSON.stringify({top:e.style.top,left:e.style.left,right:"auto",bottom:"auto"}))}function s(){document.onmouseup=null,document.onmousemove=null}i.style.cursor="move",i.onmousedown=function(e){e.preventDefault(),o=e.clientX,a=e.clientY,document.onmouseup=s,document.onmousemove=l}}function B(e){const t=document.querySelectorAll("video");if(0===t.length)return void console.log("WordStream: No videos found on page");const n=Math.max(.1,Math.min(4,O.videoSpeed+e));O.videoSpeed=parseFloat(n.toFixed(1)),t.forEach((e=>{e.playbackRate=O.videoSpeed}));const r=document.getElementById("wordstream-speed-display");r&&(r.innerText=`${O.videoSpeed}x`),localStorage.setItem("wordstream-video-speed",O.videoSpeed.toString()),console.log(`WordStream: Changed video speed to ${O.videoSpeed}x`)}function j(){const e=document.querySelectorAll("video");if(0===e.length)return;O.videoSpeed=1,e.forEach((e=>{e.playbackRate=O.videoSpeed}));const t=document.getElementById("wordstream-speed-display");t&&(t.innerText=`${O.videoSpeed}x`),localStorage.setItem("wordstream-video-speed",O.videoSpeed.toString()),console.log("WordStream: Reset video speed to 1.0x")}function V(){const e=document.querySelectorAll("video");if(e.length>0){if(!O.speedControllerVisible){$();const t=localStorage.getItem("wordstream-video-speed");if(t){O.videoSpeed=parseFloat(t),e.forEach((e=>{e.playbackRate=O.videoSpeed}));const n=document.getElementById("wordstream-speed-display");n&&(n.innerText=`${O.videoSpeed}x`)}e.forEach((e=>{e.addEventListener("play",(()=>{e.playbackRate=O.videoSpeed}))}))}}else{const e=document.getElementById("wordstream-speed-controller");e&&(e.remove(),O.speedControllerVisible=!1)}}function q(e,t=3e3){const n=document.getElementById("wordstream-toast");n&&document.body.removeChild(n);const r=document.createElement("div");r.id="wordstream-toast",r.textContent=e,r.style.cssText="\n    position: fixed;\n    bottom: 20px;\n    left: 50%;\n    transform: translateX(-50%);\n    background-color: rgba(0, 0, 0, 0.8);\n    color: white;\n    padding: 10px 20px;\n    border-radius: 5px;\n    font-family: system-ui, -apple-system, sans-serif;\n    font-size: 14px;\n    z-index: 10000;\n    opacity: 0;\n    transition: opacity 0.3s ease;\n  ",document.body.appendChild(r),setTimeout((()=>{r.style.opacity="1"}),10),setTimeout((()=>{r.style.opacity="0",setTimeout((()=>{r.parentNode&&document.body.removeChild(r)}),300)}),t)}function Y(e){return W(this,void 0,void 0,(function*(){if(!function(){var e;try{return Boolean(null===(e=null===chrome||void 0===chrome?void 0:chrome.runtime)||void 0===e?void 0:e.id)}catch(e){return console.error("WordStream: Error checking extension validity:",e),!1}}())throw console.warn("WordStream: Extension context is invalid, cannot send message"),new Error("Extension context invalidated");return new Promise(((t,n)=>{const r=setTimeout((()=>{console.warn("WordStream: Message send timeout",e),n(new Error("Request to background script timed out"))}),5e3);try{chrome.runtime.sendMessage(e,(o=>{var a;if(clearTimeout(r),chrome.runtime.lastError)return console.error("WordStream: Error sending message:",chrome.runtime.lastError),(null===(a=chrome.runtime.lastError.message)||void 0===a?void 0:a.includes("message port closed"))&&(console.log("WordStream: Using fallback due to closed message port"),"GET_AUTH_STATE"===e.action)?void t({isAuthenticated:!1,error:"Communication error"}):void n(new Error(chrome.runtime.lastError.message||"Unknown runtime error"));t(o)}))}catch(e){clearTimeout(r),console.error("WordStream: Error in sendMessage:",e),n(e)}}))}))}function Q(){return W(this,void 0,void 0,(function*(){try{const e=yield Y({action:"GET_AUTH_STATE"}).catch((e=>(console.warn("WordStream: Error getting auth state from background, trying local storage fallback:",e),null)));if(null==e?void 0:e.isAuthenticated)return console.log("WordStream: User is authenticated"),"undefined"!=typeof window&&(window.WordStream||(window.WordStream={}),window.WordStream.local||(window.WordStream.local={}),window.WordStream.local.isAuthenticated=!0),!0;try{const e=yield new Promise((e=>{chrome.storage.local.get(["wordstream_user_info"],(t=>{if(chrome.runtime.lastError)return console.warn("WordStream: Error checking local storage auth:",chrome.runtime.lastError),void e(null);e(t)}))})),t=Boolean(null==e?void 0:e.wordstream_user_info);return"undefined"!=typeof window&&(window.WordStream||(window.WordStream={}),window.WordStream.local||(window.WordStream.local={}),window.WordStream.local.isAuthenticated=t),t}catch(e){console.error("WordStream: Error checking auth in storage:",e)}return console.log("WordStream: User is not authenticated"),!1}catch(e){return console.error("WordStream: Error checking/refreshing auth state:",e),!1}}))}function G(e){if(console.log("WordStream: Updating settings:",e),e.selectedLanguage&&(O.selectedLanguage=e.selectedLanguage,localStorage.setItem("wordstream-language",e.selectedLanguage)),void 0!==e.isTranslationEnabled&&(O.isTranslationEnabled=e.isTranslationEnabled,localStorage.setItem("wordstream-translation-enabled",String(e.isTranslationEnabled))),void 0!==e.showSpeedController){if(e.showSpeedController)O.speedControllerVisible||$();else if(O.speedControllerVisible){const e=document.getElementById("wordstream-speed-controller");e&&(e.remove(),O.speedControllerVisible=!1)}localStorage.setItem("wordstream-speed-controller",String(e.showSpeedController))}if(void 0!==e.showFloatingButtons){const t=document.getElementById("wordstream-container");t&&(t.style.display=e.showFloatingButtons?"flex":"none"),localStorage.setItem("wordstream-floating-buttons",String(e.showFloatingButtons))}}window.wordstreamState=O,function(){W(this,void 0,void 0,(function*(){try{console.log("WordStream: Initializing content script"),function(){const e=document.createElement("div");e.id="wordstream-container",e.style.cssText="\n    position: fixed;\n    top: 50%;\n    left: 20px;\n    transform: translateY(-50%);\n    z-index: 9999;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 10px;\n  ";const t=document.createElement("button");t.id="wordstream-chat-button",t.innerHTML='\n    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n      <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>\n    </svg>\n  ',t.style.cssText="\n    width: 48px;\n    height: 48px;\n    border-radius: 50%;\n    background-color: #10b981;\n    color: white;\n    border: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n    transition: all 0.2s ease;\n  ",t.onmouseover=()=>{t.style.transform="scale(1.05)",t.style.backgroundColor="#059669"},t.onmouseout=()=>{t.style.transform="scale(1)",t.style.backgroundColor="#10b981"},t.addEventListener("click",(()=>{A()}));const n=document.createElement("button");n.id="wordstream-notes-button",n.innerHTML='\n    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n      <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>\n      <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>\n    </svg>\n  ',n.style.cssText="\n    width: 48px;\n    height: 48px;\n    border-radius: 50%;\n    background-color: #f59e0b;\n    color: white;\n    border: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n    transition: all 0.2s ease;\n  ",n.onmouseover=()=>{n.style.transform="scale(1.05)",n.style.backgroundColor="#d97706"},n.onmouseout=()=>{n.style.transform="scale(1)",n.style.backgroundColor="#f59e0b"},n.addEventListener("click",(()=>{(0,a.toggleNotesPanel)()})),e.appendChild(t),e.appendChild(n),document.body.appendChild(e),H(e);const r=localStorage.getItem("wordstream-container-position");if(r)try{const t=JSON.parse(r);e.style.top=t.top,e.style.right=t.right,e.style.bottom=t.bottom,e.style.left=t.left}catch(e){console.error("WordStream: Error loading saved position",e)}console.log("WordStream: UI injected")}(),"true"===localStorage.getItem("wordstream-feature-panel-visible")&&(F(),M()),D(),R(),chrome.runtime.onMessage.addListener(((e,t,n)=>(console.log("WordStream: Received message:",e),"ACTIVATE_FEATURES"===e.action&&(O.isFeatureActive=!0,R(),F(),D(),(window.location.hostname.includes("youtube.com")||window.location.hostname.includes("netflix.com"))&&setTimeout((()=>{Promise.resolve().then(o.bind(o,816)).then((e=>{e.startDetection(!0)})).catch((e=>{console.error("WordStream: Error loading translation module:",e)}))}),3e3),e.settings&&G(e.settings),n({success:!0})),"UPDATE_SETTINGS"===e.action&&(e.settings&&G(e.settings),n({success:!0})),!0)));const e=localStorage.getItem("wordstream-language");e&&(O.selectedLanguage=e);const t=localStorage.getItem("wordstream-translation-enabled");null!==t&&(O.isTranslationEnabled="true"===t);"true"!==localStorage.getItem("wordstream-speed-controller")||O.speedControllerVisible||$();if("false"===localStorage.getItem("wordstream-floating-buttons")){const e=document.getElementById("wordstream-container");e&&(e.style.display="none")}yield Q(),setInterval(Q,3e5),window.location.hostname.includes("youtube.com")?(U(),function(){W(this,void 0,void 0,(function*(){try{(yield C.sK.isUserAuthenticated())?(console.log("WordStream: User is authenticated, enabling caption translation"),"undefined"!=typeof window&&(window.WordStream=window.WordStream||{},window.WordStream.local=window.WordStream.local||{},window.WordStream.local.isAuthenticated=!0),window.location.hostname.includes("youtube.com")&&(console.log("WordStream: Starting caption translation"),q("Starting caption translation..."),Promise.resolve().then(o.bind(o,816)).then((e=>{e.startDetection(!0),setTimeout((()=>{q("Caption translation ready! Click on words to translate them.")}),2e3)})).catch((e=>{console.error("WordStream: Error loading translation module:",e),q("Error starting translation. Please try again.")})))):(console.log("WordStream: User is not authenticated, some features will be limited"),"undefined"!=typeof window&&(window.WordStream=window.WordStream||{},window.WordStream.local=window.WordStream.local||{},window.WordStream.local.isAuthenticated=!1))}catch(e){console.error("WordStream: Error checking authentication:",e)}}))}()):(V(),new MutationObserver((e=>{let t=!1;e.forEach((e=>{e.addedNodes.length>0&&e.addedNodes.forEach((e=>{("VIDEO"===e.nodeName||e.nodeType===Node.ELEMENT_NODE&&e.querySelector("video"))&&(t=!0)}))})),t&&V()})).observe(document.body,{childList:!0,subtree:!0}),setInterval(V,2e3),document.addEventListener("keydown",(e=>{const t=e.target;(!t||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName)&&0!==document.querySelectorAll("video").length&&O.speedControllerVisible&&(e.shiftKey&&"+"===e.key?(e.preventDefault(),B(.1)):e.shiftKey&&"_"===e.key?(e.preventDefault(),B(-.1)):e.shiftKey&&"0"===e.key&&(e.preventDefault(),j()))}))),window.wordStreamIsInitialized=!0}catch(e){console.error("WordStream: Error in content script initialization:",e)}}))}()})();