(()=>{"use strict";var e,t,n={551:(e,t,n)=>{var r=n(540),o=n(982);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function m(e,t,n,r,o,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),F=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var W=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function R(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=P&&e[P]||e["@@iterator"])?e:null}var I,D=Object.assign;function A(e){if(void 0===I)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var O=!1;function $(e,t){if(!e||O)return"";O=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),a=r.stack.split("\n"),i=o.length-1,l=a.length-1;1<=i&&0<=l&&o[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==a[l]){if(1!==i||1!==l)do{if(i--,0>--l||o[i]!==a[l]){var s="\n"+o[i].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=i&&0<=l);break}}}finally{O=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?A(e):""}function B(e){switch(e.tag){case 5:return A(e.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return e=$(e.type,!1);case 11:return e=$(e.type.render,!1);case 1:return e=$(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case C:return"Profiler";case E:return"StrictMode";case L:return"Suspense";case _:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case F:return(e.displayName||"Context")+".Consumer";case z:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return U(e(t))}catch(e){}}return null}function j(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,Ee=null;function Ce(e){if(e=xo(e)){if("function"!=typeof ke)throw Error(a(280));var t=e.stateNode;t&&(t=ko(t),ke(e.stateNode,e.type,t))}}function ze(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Fe(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function Le(){}var _e=!1;function Ne(e,t,n){if(_e)return e(t,n);_e=!0;try{return Te(e,t,n)}finally{_e=!1,(null!==Se||null!==Ee)&&(Le(),Fe())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var r=ko(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var We=!1;if(u)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){We=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ue){We=!1}function Re(e,t,n,r,o,a,i,l,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Ie=!1,De=null,Ae=!1,Oe=null,$e={onError:function(e){Ie=!0,De=e}};function Be(e,t,n,r,o,a,i,l,s){Ie=!1,De=null,Re.apply($e,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ue(e)!==e)throw Error(a(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return He(o),e;if(i===r)return He(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var l=!1,s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}if(!l){for(s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ye=o.unstable_scheduleCallback,Qe=o.unstable_cancelCallback,Ge=o.unstable_shouldYield,Ke=o.unstable_requestPaint,Xe=o.unstable_now,Ze=o.unstable_getCurrentPriorityLevel,Je=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/st|0)|0},lt=Math.log,st=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,i=268435455&n;if(0!==i){var l=i&~o;0!==l?r=dt(l):0!==(a&=i)&&(r=dt(a))}else 0!==(i=n&~o)?r=dt(i):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&!(t&o)&&((o=r&-r)>=(a=t&-t)||16===o&&4194240&a))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-it(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return!(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var wt,kt,St,Et,Ct,zt=!1,Ft=[],Tt=null,Lt=null,_t=null,Nt=new Map,Mt=new Map,Wt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function It(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},null!==t&&(null!==(t=xo(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Dt(e){var t=bo(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=je(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function At(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xo(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ot(e,t,n){At(e)&&n.delete(t)}function $t(){zt=!1,null!==Tt&&At(Tt)&&(Tt=null),null!==Lt&&At(Lt)&&(Lt=null),null!==_t&&At(_t)&&(_t=null),Nt.forEach(Ot),Mt.forEach(Ot)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,zt||(zt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,$t)))}function Ut(e){function t(t){return Bt(t,e)}if(0<Ft.length){Bt(Ft[0],e);for(var n=1;n<Ft.length;n++){var r=Ft[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==Lt&&Bt(Lt,e),null!==_t&&Bt(_t,e),Nt.forEach(t),Mt.forEach(t),n=0;n<Wt.length;n++)(r=Wt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Wt.length&&null===(n=Wt[0]).blockedOn;)Dt(n),null===n.blockedOn&&Wt.shift()}var jt=x.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var o=bt,a=jt.transition;jt.transition=null;try{bt=1,Yt(e,t,n,r)}finally{bt=o,jt.transition=a}}function Vt(e,t,n,r){var o=bt,a=jt.transition;jt.transition=null;try{bt=4,Yt(e,t,n,r)}finally{bt=o,jt.transition=a}}function Yt(e,t,n,r){if(Ht){var o=Gt(e,t,n,r);if(null===o)Hr(e,t,r,Qt,n),Rt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Tt=It(Tt,e,t,n,r,o),!0;case"dragenter":return Lt=It(Lt,e,t,n,r,o),!0;case"mouseover":return _t=It(_t,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return Nt.set(a,It(Nt.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Mt.set(a,It(Mt.get(a)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==o;){var a=xo(o);if(null!==a&&wt(a),null===(a=Gt(e,t,n,r))&&Hr(e,t,r,Qt,n),a===o)break;o=a}null!==o&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Gt(e,t,n,r){if(Qt=null,null!==(e=bo(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=je(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,r=n.length,o="value"in Xt?Xt.value:Xt.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===o[a-t];t++);return Jt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,ln,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=D({},cn,{view:0,detail:0}),fn=on(dn),pn=D({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(an=e.screenX-sn.screenX,ln=e.screenY-sn.screenY):ln=an=0,sn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),hn=on(pn),mn=on(D({},pn,{dataTransfer:0})),gn=on(D({},dn,{relatedTarget:0})),vn=on(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),xn=on(D({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return En}var zn=D({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Fn=on(zn),Tn=on(D({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ln=on(D({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),_n=on(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=D({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=on(Nn),Wn=[9,13,27,32],Pn=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var In=u&&"TextEvent"in window&&!Rn,Dn=u&&(!Pn||Rn&&8<Rn&&11>=Rn),An=String.fromCharCode(32),On=!1;function $n(e,t){switch(e){case"keyup":return-1!==Wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jn[e.type]:"textarea"===t}function qn(e,t,n,r){ze(r),0<(t=Vr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,Yn=null;function Qn(e){Ar(e,0)}function Gn(e){if(Y(wo(e)))return e}function Kn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Zn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"==typeof er.oninput}Zn=Jn}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Vn&&(Vn.detachEvent("onpropertychange",nr),Yn=Vn=null)}function nr(e){if("value"===e.propertyName&&Gn(Yn)){var t=[];qn(t,Yn,e,we(e)),Ne(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(Vn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Yn)}function ar(e,t){if("click"===e)return Gn(t)}function ir(e,t){if("input"===e||"change"===e)return Gn(t)}var lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function sr(e,t){if(lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!lr(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=void 0===r.end?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=ur(n,a);var i=ur(n,r);o&&i&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&sr(yr,r)||(yr=r,0<(r=Vr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Er={};function Cr(e){if(Sr[e])return Sr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var zr=Cr("animationend"),Fr=Cr("animationiteration"),Tr=Cr("animationstart"),Lr=Cr("transitionend"),_r=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){_r.set(e,t),s(t,[e])}for(var Wr=0;Wr<Nr.length;Wr++){var Pr=Nr[Wr];Mr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Mr(zr,"onAnimationEnd"),Mr(Fr,"onAnimationIteration"),Mr(Tr,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Lr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,i,l,s,c){if(Be.apply(this,arguments),Ie){if(!Ie)throw Error(a(198));var u=De;Ie=!1,De=null,Ae||(Ae=!0,Oe=u)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],s=l.instance,c=l.currentTarget;if(l=l.listener,s!==a&&o.isPropagationStopped())break e;Dr(o,l,c),a=s}else for(i=0;i<r.length;i++){if(s=(l=r[i]).instance,c=l.currentTarget,l=l.listener,s!==a&&o.isPropagationStopped())break e;Dr(o,l,c),a=s}}}if(Ae)throw e=Oe,Ae=!1,Oe=null,e}function Or(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(jr(t,e,2,!1),n.add(r))}function $r(e,t,n){var r=0;t&&(r|=4),jr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Br]){e[Br]=!0,i.forEach((function(t){"selectionchange"!==t&&(Ir.has(t)||$r(t,!1,e),$r(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,$r("selectionchange",!1,t))}}function jr(e,t,n,r){switch(Kt(t)){case 1:var o=qt;break;case 4:o=Vt;break;default:o=Yt}n=o.bind(null,t,n,e),o=void 0,!We||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,o){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var l=r.stateNode.containerInfo;if(l===o||8===l.nodeType&&l.parentNode===o)break;if(4===i)for(i=r.return;null!==i;){var s=i.tag;if((3===s||4===s)&&((s=i.stateNode.containerInfo)===o||8===s.nodeType&&s.parentNode===o))return;i=i.return}for(;null!==l;){if(null===(i=bo(l)))return;if(5===(s=i.tag)||6===s){r=a=i;continue e}l=l.parentNode}}r=r.return}Ne((function(){var r=a,o=we(n),i=[];e:{var l=_r.get(e);if(void 0!==l){var s=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Fn;break;case"focusin":c="focus",s=gn;break;case"focusout":c="blur",s=gn;break;case"beforeblur":case"afterblur":s=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Ln;break;case zr:case Fr:case Tr:s=vn;break;case Lr:s=_n;break;case"scroll":s=fn;break;case"wheel":s=Mn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var u=!!(4&t),d=!u&&"scroll"===e,f=u?null!==l?l+"Capture":null:l;u=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==f&&(null!=(m=Me(h,f))&&u.push(qr(h,m,p)))),d)break;h=h.return}0<u.length&&(l=new s(l,c,null,n,o),i.push({event:l,listeners:u}))}}if(!(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[mo])&&(s||l)&&(l=o.window===o?o:(l=o.ownerDocument)?l.defaultView||l.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(u=hn,m="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==s?l:wo(s),p=null==c?l:wo(c),(l=new u(m,h+"leave",s,n,o)).target=d,l.relatedTarget=p,m=null,bo(o)===r&&((u=new u(f,h+"enter",c,n,o)).target=p,u.relatedTarget=d,m=u),d=m,s&&c)e:{for(f=c,h=0,p=u=s;p;p=Yr(p))h++;for(p=0,m=f;m;m=Yr(m))p++;for(;0<h-p;)u=Yr(u),h--;for(;0<p-h;)f=Yr(f),p--;for(;h--;){if(u===f||null!==f&&u===f.alternate)break e;u=Yr(u),f=Yr(f)}u=null}else u=null;null!==s&&Qr(i,l,s,u,!1),null!==c&&null!==d&&Qr(i,d,c,u,!0)}if("select"===(s=(l=r?wo(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===s&&"file"===l.type)var g=Kn;else if(Hn(l))if(Xn)g=ir;else{g=or;var v=rr}else(s=l.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(g=ar);switch(g&&(g=g(e,r))?qn(i,g,n,o):(v&&v(e,l,r),"focusout"===e&&(v=l._wrapperState)&&v.controlled&&"number"===l.type&&ee(l,"number",l.value)),v=r?wo(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(i,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(i,n,o)}var y;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?$n(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=en()):(Zt="value"in(Xt=o)?Xt.value:Xt.textContent,Un=!0)),0<(v=Vr(r,b)).length&&(b=new xn(b,e,null,n,o),i.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=In?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(On=!0,An);case"textInput":return(e=t.data)===An&&On?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Pn&&$n(e,t)?(e=en(),Jt=Zt=Xt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(o=new xn("onBeforeInput","beforeinput",null,n,o),i.push({event:o,listeners:r}),o.data=y))}Ar(i,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=Me(e,n))&&r.unshift(qr(e,a,o)),null!=(a=Me(e,t))&&r.push(qr(e,a,o))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,o){for(var a=t._reactName,i=[];null!==n&&n!==r;){var l=n,s=l.alternate,c=l.stateNode;if(null!==s&&s===r)break;5===l.tag&&null!==c&&(l=c,o?null!=(s=Me(n,a))&&i.unshift(qr(n,s,l)):o||null!=(s=Me(n,a))&&i.push(qr(n,s,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Gr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Xr(e){return("string"==typeof e?e:""+e).replace(Gr,"\n").replace(Kr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Jr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"==typeof setTimeout?setTimeout:void 0,oo="function"==typeof clearTimeout?clearTimeout:void 0,ao="function"==typeof Promise?Promise:void 0,io="function"==typeof queueMicrotask?queueMicrotask:void 0!==ao?function(e){return ao.resolve(null).then(e).catch(lo)}:ro;function lo(e){setTimeout((function(){throw e}))}function so(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Ut(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),po="__reactFiber$"+fo,ho="__reactProps$"+fo,mo="__reactContainer$"+fo,go="__reactEvents$"+fo,vo="__reactListeners$"+fo,yo="__reactHandles$"+fo;function bo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[po])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function xo(e){return!(e=e[po]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ko(e){return e[ho]||null}var So=[],Eo=-1;function Co(e){return{current:e}}function zo(e){0>Eo||(e.current=So[Eo],So[Eo]=null,Eo--)}function Fo(e,t){Eo++,So[Eo]=e.current,e.current=t}var To={},Lo=Co(To),_o=Co(!1),No=To;function Mo(e,t){var n=e.type.contextTypes;if(!n)return To;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in n)a[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Wo(e){return null!=(e=e.childContextTypes)}function Po(){zo(_o),zo(Lo)}function Ro(e,t,n){if(Lo.current!==To)throw Error(a(168));Fo(Lo,t),Fo(_o,n)}function Io(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,j(e)||"Unknown",o));return D({},n,r)}function Do(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||To,No=Lo.current,Fo(Lo,e),Fo(_o,_o.current),!0}function Ao(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Io(e,t,No),r.__reactInternalMemoizedMergedChildContext=e,zo(_o),zo(Lo),Fo(Lo,e)):zo(_o),Fo(_o,n)}var Oo=null,$o=!1,Bo=!1;function Uo(e){null===Oo?Oo=[e]:Oo.push(e)}function jo(){if(!Bo&&null!==Oo){Bo=!0;var e=0,t=bt;try{var n=Oo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Oo=null,$o=!1}catch(t){throw null!==Oo&&(Oo=Oo.slice(e+1)),Ye(Je,jo),t}finally{bt=t,Bo=!1}}return null}var Ho=[],qo=0,Vo=null,Yo=0,Qo=[],Go=0,Ko=null,Xo=1,Zo="";function Jo(e,t){Ho[qo++]=Yo,Ho[qo++]=Vo,Vo=e,Yo=t}function ea(e,t,n){Qo[Go++]=Xo,Qo[Go++]=Zo,Qo[Go++]=Ko,Ko=e;var r=Xo;e=Zo;var o=32-it(r)-1;r&=~(1<<o),n+=1;var a=32-it(t)+o;if(30<a){var i=o-o%5;a=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Xo=1<<32-it(t)+o|n<<o|r,Zo=a+e}else Xo=1<<a|n<<o|r,Zo=e}function ta(e){null!==e.return&&(Jo(e,1),ea(e,1,0))}function na(e){for(;e===Vo;)Vo=Ho[--qo],Ho[qo]=null,Yo=Ho[--qo],Ho[qo]=null;for(;e===Ko;)Ko=Qo[--Go],Qo[Go]=null,Zo=Qo[--Go],Qo[Go]=null,Xo=Qo[--Go],Qo[Go]=null}var ra=null,oa=null,aa=!1,ia=null;function la(e,t){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ra=e,oa=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ra=e,oa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ko?{id:Xo,overflow:Zo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ra=e,oa=null,!0);default:return!1}}function ca(e){return!(!(1&e.mode)||128&e.flags)}function ua(e){if(aa){var t=oa;if(t){var n=t;if(!sa(e,t)){if(ca(e))throw Error(a(418));t=co(n.nextSibling);var r=ra;t&&sa(e,t)?la(r,n):(e.flags=-4097&e.flags|2,aa=!1,ra=e)}}else{if(ca(e))throw Error(a(418));e.flags=-4097&e.flags|2,aa=!1,ra=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function fa(e){if(e!==ra)return!1;if(!aa)return da(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oa)){if(ca(e))throw pa(),Error(a(418));for(;t;)la(e,t),t=co(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oa=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oa=null}}else oa=ra?co(e.stateNode.nextSibling):null;return!0}function pa(){for(var e=oa;e;)e=co(e.nextSibling)}function ha(){oa=ra=null,aa=!1}function ma(e){null===ia?ia=[e]:ia.push(e)}var ga=x.ReactCurrentBatchConfig;function va(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Co(null),ba=null,xa=null,wa=null;function ka(){wa=xa=ba=null}function Sa(e){var t=ya.current;zo(ya),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t){ba=e,wa=xa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(xl=!0),e.firstContext=null)}function za(e){var t=e._currentValue;if(wa!==e)if(e={context:e,memoizedValue:t,next:null},null===xa){if(null===ba)throw Error(a(308));xa=e,ba.dependencies={lanes:0,firstContext:e}}else xa=xa.next=e;return t}var Fa=null;function Ta(e){null===Fa?Fa=[e]:Fa.push(e)}function La(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Ta(t)):(n.next=o.next,o.next=n),t.interleaved=n,_a(e,r)}function _a(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Ls){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,_a(e,n)}return null===(o=r.interleaved)?(t.next=t,Ta(r)):(t.next=o.next,o.next=t),r.interleaved=t,_a(e,n)}function Ia(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Da(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?o=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Aa(e,t,n,r){var o=e.updateQueue;Na=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var s=l,c=s.next;s.next=null,null===i?a=c:i.next=c,i=s;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===l?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=s))}if(null!==a){var d=o.baseState;for(i=0,u=c=s=null,l=a;;){var f=l.lane,p=l.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,m=l;switch(f=t,p=n,m.tag){case 1:if("function"==typeof(h=m.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(f="function"==typeof(h=m.payload)?h.call(p,d,f):h))break e;d=D({},d,f);break e;case 2:Na=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(f=o.effects)?o.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(c=u=p,s=d):u=u.next=p,i|=f;if(null===(l=l.next)){if(null===(l=o.shared.pending))break;l=(f=l).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}if(null===u&&(s=d),o.baseState=s,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{i|=o.lane,o=o.next}while(o!==t)}else null===a&&(o.shared.lanes=0);Ds|=i,e.lanes=i,e.memoizedState=d}}function Oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(a(191,o));o.call(r)}}}var $a=(new r.Component).refs;function Ba(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ua={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),o=nc(e),a=Pa(r,o);a.payload=t,null!=n&&(a.callback=n),null!==(t=Ra(e,a,o))&&(rc(t,e,o,r),Ia(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),o=nc(e),a=Pa(r,o);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=Ra(e,a,o))&&(rc(t,e,o,r),Ia(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),o=Pa(n,r);o.tag=2,null!=t&&(o.callback=t),null!==(t=Ra(e,o,r))&&(rc(t,e,r,n),Ia(t,e,r))}};function ja(e,t,n,r,o,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(o,a))}function Ha(e,t,n){var r=!1,o=To,a=t.contextType;return"object"==typeof a&&null!==a?a=za(a):(o=Wo(t)?No:Lo.current,a=(r=null!=(r=t.contextTypes))?Mo(e,o):To),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ua,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function qa(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ua.enqueueReplaceState(t,t.state,null)}function Va(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=$a,Ma(e);var a=t.contextType;"object"==typeof a&&null!==a?o.context=za(a):(a=Wo(t)?No:Lo.current,o.context=Mo(e,a)),o.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Ba(e,t,a,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Ua.enqueueReplaceState(o,o.state,null),Aa(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function Ya(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=r,i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=o.refs;t===$a&&(t=o.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ga(e){return(0,e._init)(e._payload)}function Ka(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ac(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===M&&Ga(a)===t.type)?((r=o(t,n.props)).ref=Ya(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Ya(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Oc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Ic(n,e.mode,r,a)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Ac(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Ya(e,null,t),n.return=e,n;case k:return(t=Oc(t,e.mode,n)).return=e,t;case M:return f(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Ic(t,e.mode,n,null)).return=e,t;Qa(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===o?c(e,t,n,r):null;case k:return n.key===o?u(e,t,n,r):null;case M:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||R(n))return null!==o?null:d(e,t,n,r,null);Qa(e,n)}return null}function h(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case M:return h(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||R(r))return d(t,e=e.get(n)||null,r,o,null);Qa(t,r)}return null}function m(o,a,l,s){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<l.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(o,d,l[m],s);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),a=i(v,a,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===l.length)return n(o,d),aa&&Jo(o,m),c;if(null===d){for(;m<l.length;m++)null!==(d=f(o,l[m],s))&&(a=i(d,a,m),null===u?c=d:u.sibling=d,u=d);return aa&&Jo(o,m),c}for(d=r(o,d);m<l.length;m++)null!==(g=h(d,o,m,l[m],s))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=i(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(o,e)})),aa&&Jo(o,m),c}function g(o,l,s,c){var u=R(s);if("function"!=typeof u)throw Error(a(150));if(null==(s=u.call(s)))throw Error(a(151));for(var d=u=null,m=l,g=l=0,v=null,y=s.next();null!==m&&!y.done;g++,y=s.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(o,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(o,m),l=i(b,l,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(o,m),aa&&Jo(o,g),u;if(null===m){for(;!y.done;g++,y=s.next())null!==(y=f(o,y.value,c))&&(l=i(y,l,g),null===d?u=y:d.sibling=y,d=y);return aa&&Jo(o,g),u}for(m=r(o,m);!y.done;g++,y=s.next())null!==(y=h(m,o,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),l=i(y,l,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(o,e)})),aa&&Jo(o,g),u}return function e(r,a,i,s){if("object"==typeof i&&null!==i&&i.type===S&&null===i.key&&(i=i.props.children),"object"==typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,u=a;null!==u;){if(u.key===c){if((c=i.type)===S){if(7===u.tag){n(r,u.sibling),(a=o(u,i.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===M&&Ga(c)===u.type){n(r,u.sibling),(a=o(u,i.props)).ref=Ya(r,u,i),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}i.type===S?((a=Ic(i.props.children,r.mode,s,i.key)).return=r,r=a):((s=Rc(i.type,i.key,i.props,null,r.mode,s)).ref=Ya(r,a,i),s.return=r,r=s)}return l(r);case k:e:{for(u=i.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){n(r,a.sibling),(a=o(a,i.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Oc(i,r.mode,s)).return=r,r=a}return l(r);case M:return e(r,a,(u=i._init)(i._payload),s)}if(te(i))return m(r,a,i,s);if(R(i))return g(r,a,i,s);Qa(r,i)}return"string"==typeof i&&""!==i||"number"==typeof i?(i=""+i,null!==a&&6===a.tag?(n(r,a.sibling),(a=o(a,i)).return=r,r=a):(n(r,a),(a=Ac(i,r.mode,s)).return=r,r=a),l(r)):n(r,a)}}var Xa=Ka(!0),Za=Ka(!1),Ja={},ei=Co(Ja),ti=Co(Ja),ni=Co(Ja);function ri(e){if(e===Ja)throw Error(a(174));return e}function oi(e,t){switch(Fo(ni,t),Fo(ti,e),Fo(ei,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}zo(ei),Fo(ei,t)}function ai(){zo(ei),zo(ti),zo(ni)}function ii(e){ri(ni.current);var t=ri(ei.current),n=se(t,e.type);t!==n&&(Fo(ti,e),Fo(ei,n))}function li(e){ti.current===e&&(zo(ei),zo(ti))}var si=Co(0);function ci(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ui=[];function di(){for(var e=0;e<ui.length;e++)ui[e]._workInProgressVersionPrimary=null;ui.length=0}var fi=x.ReactCurrentDispatcher,pi=x.ReactCurrentBatchConfig,hi=0,mi=null,gi=null,vi=null,yi=!1,bi=!1,xi=0,wi=0;function ki(){throw Error(a(321))}function Si(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function Ei(e,t,n,r,o,i){if(hi=i,mi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fi.current=null===e||null===e.memoizedState?ll:sl,e=n(r,o),bi){i=0;do{if(bi=!1,xi=0,25<=i)throw Error(a(301));i+=1,vi=gi=null,t.updateQueue=null,fi.current=cl,e=n(r,o)}while(bi)}if(fi.current=il,t=null!==gi&&null!==gi.next,hi=0,vi=gi=mi=null,yi=!1,t)throw Error(a(300));return e}function Ci(){var e=0!==xi;return xi=0,e}function zi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vi?mi.memoizedState=vi=e:vi=vi.next=e,vi}function Fi(){if(null===gi){var e=mi.alternate;e=null!==e?e.memoizedState:null}else e=gi.next;var t=null===vi?mi.memoizedState:vi.next;if(null!==t)vi=t,gi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(gi=e).memoizedState,baseState:gi.baseState,baseQueue:gi.baseQueue,queue:gi.queue,next:null},null===vi?mi.memoizedState=vi=e:vi=vi.next=e}return vi}function Ti(e,t){return"function"==typeof t?t(e):t}function Li(e){var t=Fi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=gi,o=r.baseQueue,i=n.pending;if(null!==i){if(null!==o){var l=o.next;o.next=i.next,i.next=l}r.baseQueue=o=i,n.pending=null}if(null!==o){i=o.next,r=r.baseState;var s=l=null,c=null,u=i;do{var d=u.lane;if((hi&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(s=c=f,l=r):c=c.next=f,mi.lanes|=d,Ds|=d}u=u.next}while(null!==u&&u!==i);null===c?l=r:c.next=s,lr(r,t.memoizedState)||(xl=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{i=o.lane,mi.lanes|=i,Ds|=i,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _i(e){var t=Fi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var l=o=o.next;do{i=e(i,l.action),l=l.next}while(l!==o);lr(i,t.memoizedState)||(xl=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ni(){}function Mi(e,t){var n=mi,r=Fi(),o=t(),i=!lr(r.memoizedState,o);if(i&&(r.memoizedState=o,xl=!0),r=r.queue,Hi(Ri.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==vi&&1&vi.memoizedState.tag){if(n.flags|=2048,Oi(9,Pi.bind(null,n,r,o,t),void 0,null),null===_s)throw Error(a(349));30&hi||Wi(n,t,o)}return o}function Wi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mi.updateQueue)?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Pi(e,t,n,r){t.value=n,t.getSnapshot=r,Ii(t)&&Di(e)}function Ri(e,t,n){return n((function(){Ii(t)&&Di(e)}))}function Ii(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(e){return!0}}function Di(e){var t=_a(e,1);null!==t&&rc(t,e,1,-1)}function Ai(e){var t=zi();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:e},t.queue=e,e=e.dispatch=nl.bind(null,mi,e),[t.memoizedState,e]}function Oi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mi.updateQueue)?(t={lastEffect:null,stores:null},mi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function $i(){return Fi().memoizedState}function Bi(e,t,n,r){var o=zi();mi.flags|=e,o.memoizedState=Oi(1|t,n,void 0,void 0===r?null:r)}function Ui(e,t,n,r){var o=Fi();r=void 0===r?null:r;var a=void 0;if(null!==gi){var i=gi.memoizedState;if(a=i.destroy,null!==r&&Si(r,i.deps))return void(o.memoizedState=Oi(t,n,a,r))}mi.flags|=e,o.memoizedState=Oi(1|t,n,a,r)}function ji(e,t){return Bi(8390656,8,e,t)}function Hi(e,t){return Ui(2048,8,e,t)}function qi(e,t){return Ui(4,2,e,t)}function Vi(e,t){return Ui(4,4,e,t)}function Yi(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qi(e,t,n){return n=null!=n?n.concat([e]):null,Ui(4,4,Yi.bind(null,t,e),n)}function Gi(){}function Ki(e,t){var n=Fi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Si(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xi(e,t){var n=Fi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Si(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zi(e,t,n){return 21&hi?(lr(n,t)||(n=mt(),mi.lanes|=n,Ds|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xl=!0),e.memoizedState=n)}function Ji(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=pi.transition;pi.transition={};try{e(!1),t()}finally{bt=n,pi.transition=r}}function el(){return Fi().memoizedState}function tl(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rl(e))ol(t,n);else if(null!==(n=La(e,t,n,r))){rc(n,e,r,tc()),al(n,t,r)}}function nl(e,t,n){var r=nc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rl(e))ol(t,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=a(i,n);if(o.hasEagerState=!0,o.eagerState=l,lr(l,i)){var s=t.interleaved;return null===s?(o.next=o,Ta(t)):(o.next=s.next,s.next=o),void(t.interleaved=o)}}catch(e){}null!==(n=La(e,t,o,r))&&(rc(n,e,r,o=tc()),al(n,t,r))}}function rl(e){var t=e.alternate;return e===mi||null!==t&&t===mi}function ol(e,t){bi=yi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function al(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var il={readContext:za,useCallback:ki,useContext:ki,useEffect:ki,useImperativeHandle:ki,useInsertionEffect:ki,useLayoutEffect:ki,useMemo:ki,useReducer:ki,useRef:ki,useState:ki,useDebugValue:ki,useDeferredValue:ki,useTransition:ki,useMutableSource:ki,useSyncExternalStore:ki,useId:ki,unstable_isNewReconciler:!1},ll={readContext:za,useCallback:function(e,t){return zi().memoizedState=[e,void 0===t?null:t],e},useContext:za,useEffect:ji,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Bi(4194308,4,Yi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bi(4,2,e,t)},useMemo:function(e,t){var n=zi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tl.bind(null,mi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},zi().memoizedState=e},useState:Ai,useDebugValue:Gi,useDeferredValue:function(e){return zi().memoizedState=e},useTransition:function(){var e=Ai(!1),t=e[0];return e=Ji.bind(null,e[1]),zi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mi,o=zi();if(aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===_s)throw Error(a(349));30&hi||Wi(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,ji(Ri.bind(null,r,i,e),[e]),r.flags|=2048,Oi(9,Pi.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=zi(),t=_s.identifierPrefix;if(aa){var n=Zo;t=":"+t+"R"+(n=(Xo&~(1<<32-it(Xo)-1)).toString(32)+n),0<(n=xi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sl={readContext:za,useCallback:Ki,useContext:za,useEffect:Hi,useImperativeHandle:Qi,useInsertionEffect:qi,useLayoutEffect:Vi,useMemo:Xi,useReducer:Li,useRef:$i,useState:function(){return Li(Ti)},useDebugValue:Gi,useDeferredValue:function(e){return Zi(Fi(),gi.memoizedState,e)},useTransition:function(){return[Li(Ti)[0],Fi().memoizedState]},useMutableSource:Ni,useSyncExternalStore:Mi,useId:el,unstable_isNewReconciler:!1},cl={readContext:za,useCallback:Ki,useContext:za,useEffect:Hi,useImperativeHandle:Qi,useInsertionEffect:qi,useLayoutEffect:Vi,useMemo:Xi,useReducer:_i,useRef:$i,useState:function(){return _i(Ti)},useDebugValue:Gi,useDeferredValue:function(e){var t=Fi();return null===gi?t.memoizedState=e:Zi(t,gi.memoizedState,e)},useTransition:function(){return[_i(Ti)[0],Fi().memoizedState]},useMutableSource:Ni,useSyncExternalStore:Mi,useId:el,unstable_isNewReconciler:!1};function ul(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function dl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fl(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var pl="function"==typeof WeakMap?WeakMap:Map;function hl(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qs||(qs=!0,Vs=r),fl(0,t)},n}function ml(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){fl(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){fl(0,t),"function"!=typeof r&&(null===Ys?Ys=new Set([this]):Ys.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pl;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=zc.bind(null,e,t,n),t.then(e,e))}function vl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yl(e,t,n,r,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e)}var bl=x.ReactCurrentOwner,xl=!1;function wl(e,t,n,r){t.child=null===e?Za(t,null,n,r):Xa(t,e.child,n,r)}function kl(e,t,n,r,o){n=n.render;var a=t.ref;return Ca(t,o),r=Ei(e,t,n,r,a,o),n=Ci(),null===e||xl?(aa&&n&&ta(t),t.flags|=1,wl(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ql(e,t,o))}function Sl(e,t,n,r,o){if(null===e){var a=n.type;return"function"!=typeof a||Wc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,El(e,t,a,r,o))}if(a=e.child,!(e.lanes&o)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(i,r)&&e.ref===t.ref)return ql(e,t,o)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function El(e,t,n,r,o){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(xl=!1,t.pendingProps=r=a,!(e.lanes&o))return t.lanes=e.lanes,ql(e,t,o);131072&e.flags&&(xl=!0)}}return Fl(e,t,n,r,o)}function Cl(e,t,n){var r=t.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fo(Ps,Ws),Ws|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Fo(Ps,Ws),Ws|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fo(Ps,Ws),Ws|=n;else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Fo(Ps,Ws),Ws|=r;return wl(e,t,o,n),t.child}function zl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Fl(e,t,n,r,o){var a=Wo(n)?No:Lo.current;return a=Mo(t,a),Ca(t,o),n=Ei(e,t,n,r,a,o),r=Ci(),null===e||xl?(aa&&r&&ta(t),t.flags|=1,wl(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ql(e,t,o))}function Tl(e,t,n,r,o){if(Wo(n)){var a=!0;Do(t)}else a=!1;if(Ca(t,o),null===t.stateNode)Hl(e,t),Ha(t,n,r),Va(t,n,r,o),r=!0;else if(null===e){var i=t.stateNode,l=t.memoizedProps;i.props=l;var s=i.context,c=n.contextType;"object"==typeof c&&null!==c?c=za(c):c=Mo(t,c=Wo(n)?No:Lo.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof i.getSnapshotBeforeUpdate;d||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(l!==r||s!==c)&&qa(t,i,r,c),Na=!1;var f=t.memoizedState;i.state=f,Aa(t,r,i,o),s=t.memoizedState,l!==r||f!==s||_o.current||Na?("function"==typeof u&&(Ba(t,n,u,r),s=t.memoizedState),(l=Na||ja(t,n,l,r,f,s,c))?(d||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),i.props=r,i.state=s,i.context=c,r=l):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Wa(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:va(t.type,l),i.props=c,d=t.pendingProps,f=i.context,"object"==typeof(s=n.contextType)&&null!==s?s=za(s):s=Mo(t,s=Wo(n)?No:Lo.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(l!==d||f!==s)&&qa(t,i,r,s),Na=!1,f=t.memoizedState,i.state=f,Aa(t,r,i,o);var h=t.memoizedState;l!==d||f!==h||_o.current||Na?("function"==typeof p&&(Ba(t,n,p,r),h=t.memoizedState),(c=Na||ja(t,n,c,r,f,h,s)||!1)?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,s),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,s)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=s,r=c):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ll(e,t,n,r,a,o)}function Ll(e,t,n,r,o,a){zl(e,t);var i=!!(128&t.flags);if(!r&&!i)return o&&Ao(t,n,!1),ql(e,t,a);r=t.stateNode,bl.current=t;var l=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,l,a)):wl(e,t,l,a),t.memoizedState=r.state,o&&Ao(t,n,!0),t.child}function _l(e){var t=e.stateNode;t.pendingContext?Ro(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ro(0,t.context,!1),oi(e,t.containerInfo)}function Nl(e,t,n,r,o){return ha(),ma(o),t.flags|=256,wl(e,t,n,r),t.child}var Ml,Wl,Pl,Rl,Il={dehydrated:null,treeContext:null,retryLane:0};function Dl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Al(e,t,n){var r,o=t.pendingProps,i=si.current,l=!1,s=!!(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&!!(2&i)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Fo(si,1&i),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=o.children,e=o.fallback,l?(o=t.mode,l=t.child,s={mode:"hidden",children:s},1&o||null===l?l=Dc(s,o,0,null):(l.childLanes=0,l.pendingProps=s),e=Ic(e,o,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Dl(n),t.memoizedState=Il,e):Ol(t,s));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,o,i,l){if(n)return 256&t.flags?(t.flags&=-257,$l(e,t,l,r=dl(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Dc({mode:"visible",children:r.children},o,0,null),(i=Ic(i,o,l,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,1&t.mode&&Xa(t,e.child,null,l),t.child.memoizedState=Dl(l),t.memoizedState=Il,i);if(!(1&t.mode))return $l(e,t,l,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var s=r.dgst;return r=s,$l(e,t,l,r=dl(i=Error(a(419)),r,void 0))}if(s=!!(l&e.childLanes),xl||s){if(null!==(r=_s)){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=o&(r.suspendedLanes|l)?0:o)&&o!==i.retryLane&&(i.retryLane=o,_a(e,o),rc(r,e,o,-1))}return gc(),$l(e,t,l,r=dl(Error(a(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,oa=co(o.nextSibling),ra=t,aa=!0,ia=null,null!==e&&(Qo[Go++]=Xo,Qo[Go++]=Zo,Qo[Go++]=Ko,Xo=e.id,Zo=e.overflow,Ko=t),t=Ol(t,r.children),t.flags|=4096,t)}(e,t,s,o,r,i,n);if(l){l=o.fallback,s=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:o.children};return 1&s||t.child===i?(o=Pc(i,c)).subtreeFlags=14680064&i.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null),null!==r?l=Pc(r,l):(l=Ic(l,s,n,null)).flags|=2,l.return=t,o.return=t,o.sibling=l,t.child=o,o=l,l=t.child,s=null===(s=e.child.memoizedState)?Dl(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},l.memoizedState=s,l.childLanes=e.childLanes&~n,t.memoizedState=Il,o}return e=(l=e.child).sibling,o=Pc(l,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Ol(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $l(e,t,n,r){return null!==r&&ma(r),Xa(t,e.child,null,n),(e=Ol(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Ul(e,t,n,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function jl(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(wl(e,t,r.children,n),2&(r=si.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bl(e,n,t);else if(19===e.tag)Bl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fo(si,r),1&t.mode)switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ci(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ul(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ci(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ul(t,!0,n,null,a);break;case"together":Ul(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Hl(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ql(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ds|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vl(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ql(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yl(t),null;case 1:case 17:return Wo(t.type)&&Po(),Yl(t),null;case 3:return r=t.stateNode,ai(),zo(_o),zo(Lo),di(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ia&&(lc(ia),ia=null))),Wl(e,t),Yl(t),null;case 5:li(t);var o=ri(ni.current);if(n=t.type,null!==e&&null!=t.stateNode)Pl(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Yl(t),null}if(e=ri(ei.current),fa(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[po]=t,r[ho]=i,e=!!(1&t.mode),n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(o=0;o<Rr.length;o++)Or(Rr[o],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":K(r,i),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Or("invalid",r);break;case"textarea":oe(r,i),Or("invalid",r)}for(var s in ye(n,i),o=null,i)if(i.hasOwnProperty(s)){var c=i[s];"children"===s?"string"==typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Zr(r.textContent,c,e),o=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Zr(r.textContent,c,e),o=["children",""+c]):l.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Or("scroll",r)}switch(n){case"input":V(r),J(r,i,!0);break;case"textarea":V(r),ie(r);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(r.onclick=Jr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[po]=t,e[ho]=r,Ml(e,t,!1,!1),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Or("cancel",e),Or("close",e),o=r;break;case"iframe":case"object":case"embed":Or("load",e),o=r;break;case"video":case"audio":for(o=0;o<Rr.length;o++)Or(Rr[o],e);o=r;break;case"source":Or("error",e),o=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),o=r;break;case"details":Or("toggle",e),o=r;break;case"input":K(e,r),o=G(e,r),Or("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=D({},r,{value:void 0}),Or("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Or("invalid",e)}for(i in ye(n,o),c=o)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?ge(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"==typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"==typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(l.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Or("scroll",e):null!=u&&b(e,i,u,s))}switch(n){case"input":V(e),J(e,r,!1);break;case"textarea":V(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Yl(t),null;case 6:if(e&&null!=t.stateNode)Rl(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));if(n=ri(ni.current),ri(ei.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(i=r.nodeValue!==n)&&null!==(e=ra))switch(e.tag){case 3:Zr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,!!(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return Yl(t),null;case 13:if(zo(si),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==oa&&1&t.mode&&!(128&t.flags))pa(),ha(),t.flags|=98560,i=!1;else if(i=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[po]=t}else ha(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yl(t),i=!1}else null!==ia&&(lc(ia),ia=null),i=!0;if(!i)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&si.current?0===Rs&&(Rs=3):gc())),null!==t.updateQueue&&(t.flags|=4),Yl(t),null);case 4:return ai(),Wl(e,t),null===e&&Ur(t.stateNode.containerInfo),Yl(t),null;case 10:return Sa(t.type._context),Yl(t),null;case 19:if(zo(si),null===(i=t.memoizedState))return Yl(t),null;if(r=!!(128&t.flags),null===(s=i.rendering))if(r)Vl(i,!1);else{if(0!==Rs||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(s=ci(e))){for(t.flags|=128,Vl(i,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(s=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fo(si,1&si.current|2),t.child}e=e.sibling}null!==i.tail&&Xe()>js&&(t.flags|=128,r=!0,Vl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ci(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!aa)return Yl(t),null}else 2*Xe()-i.renderingStartTime>js&&1073741824!==n&&(t.flags|=128,r=!0,Vl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=i.last)?n.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xe(),t.sibling=null,n=si.current,Fo(si,r?1&n|2:1&n),t):(Yl(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Ws)&&(Yl(t),6&t.subtreeFlags&&(t.flags|=8192)):Yl(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Gl(e,t){switch(na(t),t.tag){case 1:return Wo(t.type)&&Po(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ai(),zo(_o),zo(Lo),di(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return li(t),null;case 13:if(zo(si),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return zo(si),null;case 4:return ai(),null;case 10:return Sa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ml=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Wl=function(){},Pl=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ri(ei.current);var a,i=null;switch(n){case"input":o=G(e,o),r=G(e,r),i=[];break;case"select":o=D({},o,{value:void 0}),r=D({},r,{value:void 0}),i=[];break;case"textarea":o=re(e,o),r=re(e,r),i=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Jr)}for(u in ye(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var s=o[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(l.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(s=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==s&&(null!=c||null!=s))if("style"===u)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(l.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Or("scroll",e),i||s===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Rl=function(e,t,n,r){n!==r&&(t.flags|=4)};var Kl=!1,Xl=!1,Zl="function"==typeof WeakSet?WeakSet:Set,Jl=null;function es(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Cc(e,t,n)}else n.current=null}function ts(e,t,n){try{n()}catch(n){Cc(e,t,n)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,void 0!==a&&ts(t,n,a)}o=o.next}while(o!==r)}}function os(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function is(e){var t=e.alternate;null!==t&&(e.alternate=null,is(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[ho],delete t[go],delete t[vo],delete t[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ls(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function us(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(us(e,t,n),e=e.sibling;null!==e;)us(e,t,n),e=e.sibling}var ds=null,fs=!1;function ps(e,t,n){for(n=n.child;null!==n;)hs(e,t,n),n=n.sibling}function hs(e,t,n){if(at&&"function"==typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(ot,n)}catch(e){}switch(n.tag){case 5:Xl||es(n,t);case 6:var r=ds,o=fs;ds=null,ps(e,t,n),fs=o,null!==(ds=r)&&(fs?(e=ds,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ds.removeChild(n.stateNode));break;case 18:null!==ds&&(fs?(e=ds,n=n.stateNode,8===e.nodeType?so(e.parentNode,n):1===e.nodeType&&so(e,n),Ut(e)):so(ds,n.stateNode));break;case 4:r=ds,o=fs,ds=n.stateNode.containerInfo,fs=!0,ps(e,t,n),ds=r,fs=o;break;case 0:case 11:case 14:case 15:if(!Xl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var a=o,i=a.destroy;a=a.tag,void 0!==i&&(2&a||4&a)&&ts(n,t,i),o=o.next}while(o!==r)}ps(e,t,n);break;case 1:if(!Xl&&(es(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Cc(n,t,e)}ps(e,t,n);break;case 21:ps(e,t,n);break;case 22:1&n.mode?(Xl=(r=Xl)||null!==n.memoizedState,ps(e,t,n),Xl=r):ps(e,t,n);break;default:ps(e,t,n)}}function ms(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zl),t.forEach((function(t){var r=Lc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,l=t,s=l;e:for(;null!==s;){switch(s.tag){case 5:ds=s.stateNode,fs=!1;break e;case 3:case 4:ds=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ds)throw Error(a(160));hs(i,l,o),ds=null,fs=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(e){Cc(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vs(t,e),t=t.sibling}function vs(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gs(t,e),ys(e),4&r){try{rs(3,e,e.return),os(3,e)}catch(t){Cc(e,e.return,t)}try{rs(5,e,e.return)}catch(t){Cc(e,e.return,t)}}break;case 1:gs(t,e),ys(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(gs(t,e),ys(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var o=e.stateNode;try{fe(o,"")}catch(t){Cc(e,e.return,t)}}if(4&r&&null!=(o=e.stateNode)){var i=e.memoizedProps,l=null!==n?n.memoizedProps:i,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===i.type&&null!=i.name&&X(o,i),be(s,l);var u=be(s,i);for(l=0;l<c.length;l+=2){var d=c[l],f=c[l+1];"style"===d?ge(o,f):"dangerouslySetInnerHTML"===d?de(o,f):"children"===d?fe(o,f):b(o,d,f,u)}switch(s){case"input":Z(o,i);break;case"textarea":ae(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var h=i.value;null!=h?ne(o,!!i.multiple,h,!1):p!==!!i.multiple&&(null!=i.defaultValue?ne(o,!!i.multiple,i.defaultValue,!0):ne(o,!!i.multiple,i.multiple?[]:"",!1))}o[ho]=i}catch(t){Cc(e,e.return,t)}}break;case 6:if(gs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(t){Cc(e,e.return,t)}}break;case 3:if(gs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(t){Cc(e,e.return,t)}break;case 4:default:gs(t,e),ys(e);break;case 13:gs(t,e),ys(e),8192&(o=e.child).flags&&(i=null!==o.memoizedState,o.stateNode.isHidden=i,!i||null!==o.alternate&&null!==o.alternate.memoizedState||(Us=Xe())),4&r&&ms(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xl=(u=Xl)||d,gs(t,e),Xl=u):gs(t,e),ys(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&1&e.mode)for(Jl=e,d=e.child;null!==d;){for(f=Jl=d;null!==Jl;){switch(h=(p=Jl).child,p.tag){case 0:case 11:case 14:case 15:rs(4,p,p.return);break;case 1:es(p,p.return);var m=p.stateNode;if("function"==typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){Cc(r,n,e)}}break;case 5:es(p,p.return);break;case 22:if(null!==p.memoizedState){ks(f);continue}}null!==h?(h.return=p,Jl=h):ks(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{o=f.stateNode,u?"function"==typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none":(s=f.stateNode,l=null!=(c=f.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,s.style.display=me("display",l))}catch(t){Cc(e,e.return,t)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(t){Cc(e,e.return,t)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gs(t,e),ys(e),4&r&&ms(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ls(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(fe(o,""),r.flags&=-33),us(e,ss(e),o);break;case 3:case 4:var i=r.stateNode.containerInfo;cs(e,ss(e),i);break;default:throw Error(a(161))}}catch(t){Cc(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bs(e,t,n){Jl=e,xs(e,t,n)}function xs(e,t,n){for(var r=!!(1&e.mode);null!==Jl;){var o=Jl,a=o.child;if(22===o.tag&&r){var i=null!==o.memoizedState||Kl;if(!i){var l=o.alternate,s=null!==l&&null!==l.memoizedState||Xl;l=Kl;var c=Xl;if(Kl=i,(Xl=s)&&!c)for(Jl=o;null!==Jl;)s=(i=Jl).child,22===i.tag&&null!==i.memoizedState?Ss(o):null!==s?(s.return=i,Jl=s):Ss(o);for(;null!==a;)Jl=a,xs(a,t,n),a=a.sibling;Jl=o,Kl=l,Xl=c}ws(e)}else 8772&o.subtreeFlags&&null!==a?(a.return=o,Jl=a):ws(e)}}function ws(e){for(;null!==Jl;){var t=Jl;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Xl||os(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xl)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:va(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Oa(t,i,r);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Oa(t,l,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ut(f)}}}break;default:throw Error(a(163))}Xl||512&t.flags&&as(t)}catch(e){Cc(t,t.return,e)}}if(t===e){Jl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jl=n;break}Jl=t.return}}function ks(e){for(;null!==Jl;){var t=Jl;if(t===e){Jl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jl=n;break}Jl=t.return}}function Ss(e){for(;null!==Jl;){var t=Jl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{os(4,t)}catch(e){Cc(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(e){Cc(t,o,e)}}var a=t.return;try{as(t)}catch(e){Cc(t,a,e)}break;case 5:var i=t.return;try{as(t)}catch(e){Cc(t,i,e)}}}catch(e){Cc(t,t.return,e)}if(t===e){Jl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Jl=l;break}Jl=t.return}}var Es,Cs=Math.ceil,zs=x.ReactCurrentDispatcher,Fs=x.ReactCurrentOwner,Ts=x.ReactCurrentBatchConfig,Ls=0,_s=null,Ns=null,Ms=0,Ws=0,Ps=Co(0),Rs=0,Is=null,Ds=0,As=0,Os=0,$s=null,Bs=null,Us=0,js=1/0,Hs=null,qs=!1,Vs=null,Ys=null,Qs=!1,Gs=null,Ks=0,Xs=0,Zs=null,Js=-1,ec=0;function tc(){return 6&Ls?Xe():-1!==Js?Js:Js=Xe()}function nc(e){return 1&e.mode?2&Ls&&0!==Ms?Ms&-Ms:null!==ga.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Kt(e.type):1}function rc(e,t,n,r){if(50<Xs)throw Xs=0,Zs=null,Error(a(185));vt(e,n,r),2&Ls&&e===_s||(e===_s&&(!(2&Ls)&&(As|=n),4===Rs&&sc(e,Ms)),oc(e,r),1===n&&0===Ls&&!(1&t.mode)&&(js=Xe()+500,$o&&jo()))}function oc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),l=1<<i,s=o[i];-1===s?l&n&&!(l&r)||(o[i]=pt(l,t)):s<=t&&(e.expiredLanes|=l),a&=~l}}(e,t);var r=ft(e,e===_s?Ms:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){$o=!0,Uo(e)}(cc.bind(null,e)):Uo(cc.bind(null,e)),io((function(){!(6&Ls)&&jo()})),n=null;else{switch(xt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=_c(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Js=-1,ec=0,6&Ls)throw Error(a(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ft(e,e===_s?Ms:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=vc(e,r);else{t=r;var o=Ls;Ls|=2;var i=mc();for(_s===e&&Ms===t||(Hs=null,js=Xe()+500,pc(e,t));;)try{bc();break}catch(t){hc(e,t)}ka(),zs.current=i,Ls=o,null!==Ns?t=0:(_s=null,Ms=0,t=Rs)}if(0!==t){if(2===t&&(0!==(o=ht(e))&&(r=o,t=ic(e,o))),1===t)throw n=Is,pc(e,0),sc(e,r),oc(e,Xe()),n;if(6===t)sc(e,r);else{if(o=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!lr(a(),o))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=vc(e,r),2===t&&(i=ht(e),0!==i&&(r=i,t=ic(e,i))),1!==t)))throw n=Is,pc(e,0),sc(e,r),oc(e,Xe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:kc(e,Bs,Hs);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Us+500-Xe())){if(0!==ft(e,0))break;if(((o=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(kc.bind(null,e,Bs,Hs),t);break}kc(e,Bs,Hs);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var l=31-it(r);i=1<<l,(l=t[l])>o&&(o=l),r&=~i}if(r=o,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cs(r/1960))-r)){e.timeoutHandle=ro(kc.bind(null,e,Bs,Hs),r);break}kc(e,Bs,Hs);break;default:throw Error(a(329))}}}return oc(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function ic(e,t){var n=$s;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Bs,Bs=n,null!==t&&lc(t)),e}function lc(e){null===Bs?Bs=e:Bs.push.apply(Bs,e)}function sc(e,t){for(t&=~Os,t&=~As,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(6&Ls)throw Error(a(327));Sc();var t=ft(e,0);if(!(1&t))return oc(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Is,pc(e,0),sc(e,t),oc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Bs,Hs),oc(e,Xe()),null}function uc(e,t){var n=Ls;Ls|=1;try{return e(t)}finally{0===(Ls=n)&&(js=Xe()+500,$o&&jo())}}function dc(e){null!==Gs&&0===Gs.tag&&!(6&Ls)&&Sc();var t=Ls;Ls|=1;var n=Ts.transition,r=bt;try{if(Ts.transition=null,bt=1,e)return e()}finally{bt=r,Ts.transition=n,!(6&(Ls=t))&&jo()}}function fc(){Ws=Ps.current,zo(Ps)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(na(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Po();break;case 3:ai(),zo(_o),zo(Lo),di();break;case 5:li(r);break;case 4:ai();break;case 13:case 19:zo(si);break;case 10:Sa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(_s=e,Ns=e=Pc(e.current,null),Ms=Ws=t,Rs=0,Is=null,Os=As=Ds=0,Bs=$s=null,null!==Fa){for(t=0;t<Fa.length;t++)if(null!==(r=(n=Fa[t]).interleaved)){n.interleaved=null;var o=r.next,a=n.pending;if(null!==a){var i=a.next;a.next=o,r.next=i}n.pending=r}Fa=null}return e}function hc(e,t){for(;;){var n=Ns;try{if(ka(),fi.current=il,yi){for(var r=mi.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}yi=!1}if(hi=0,vi=gi=mi=null,bi=!1,xi=0,Fs.current=null,null===n||null===n.return){Rs=1,Is=t,Ns=null;break}e:{var i=e,l=n.return,s=n,c=t;if(t=Ms,s.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,d=s,f=d.tag;if(!(1&d.mode||0!==f&&11!==f&&15!==f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=vl(l);if(null!==h){h.flags&=-257,yl(h,l,s,0,t),1&h.mode&&gl(i,u,t),c=u;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(!(1&t)){gl(i,u,t),gc();break e}c=Error(a(426))}else if(aa&&1&s.mode){var v=vl(l);if(null!==v){!(65536&v.flags)&&(v.flags|=256),yl(v,l,s,0,t),ma(ul(c,s));break e}}i=c=ul(c,s),4!==Rs&&(Rs=2),null===$s?$s=[i]:$s.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Da(i,hl(0,c,t));break e;case 1:s=c;var y=i.type,b=i.stateNode;if(!(128&i.flags||"function"!=typeof y.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==Ys&&Ys.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Da(i,ml(i,s,t));break e}}i=i.return}while(null!==i)}wc(n)}catch(e){t=e,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function mc(){var e=zs.current;return zs.current=il,null===e?il:e}function gc(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===_s||!(268435455&Ds)&&!(268435455&As)||sc(_s,Ms)}function vc(e,t){var n=Ls;Ls|=2;var r=mc();for(_s===e&&Ms===t||(Hs=null,pc(e,t));;)try{yc();break}catch(t){hc(e,t)}if(ka(),Ls=n,zs.current=r,null!==Ns)throw Error(a(261));return _s=null,Ms=0,Rs}function yc(){for(;null!==Ns;)xc(Ns)}function bc(){for(;null!==Ns&&!Ge();)xc(Ns)}function xc(e){var t=Es(e.alternate,e,Ws);e.memoizedProps=e.pendingProps,null===t?wc(e):Ns=t,Fs.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Gl(n,t)))return n.flags&=32767,void(Ns=n);if(null===e)return Rs=6,void(Ns=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Ql(n,t,Ws)))return void(Ns=n);if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Rs&&(Rs=5)}function kc(e,t,n){var r=bt,o=Ts.transition;try{Ts.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Gs);if(6&Ls)throw Error(a(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-it(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}(e,i),e===_s&&(Ns=_s=null,Ms=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Qs||(Qs=!0,_c(tt,(function(){return Sc(),null}))),i=!!(15990&n.flags),!!(15990&n.subtreeFlags)||i){i=Ts.transition,Ts.transition=null;var l=bt;bt=1;var s=Ls;Ls|=4,Fs.current=null,function(e,t){if(eo=Ht,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(e){n=null;break e}var l=0,s=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==o&&3!==f.nodeType||(s=l+o),f!==i||0!==r&&3!==f.nodeType||(c=l+r),3===f.nodeType&&(l+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++u===o&&(s=l),p===i&&++d===r&&(c=l),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Ht=!1,Jl=t;null!==Jl;)if(e=(t=Jl).child,1028&t.subtreeFlags&&null!==e)e.return=t,Jl=e;else for(;null!==Jl;){t=Jl;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:va(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(e){Cc(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Jl=e;break}Jl=t.return}m=ns,ns=!1}(e,n),vs(n,e),hr(to),Ht=!!eo,to=eo=null,e.current=n,bs(n,e,o),Ke(),Ls=s,bt=l,Ts.transition=i}else e.current=n;if(Qs&&(Qs=!1,Gs=e,Ks=o),i=e.pendingLanes,0===i&&(Ys=null),function(e){if(at&&"function"==typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(ot,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),oc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(qs)throw qs=!1,e=Vs,Vs=null,e;!!(1&Ks)&&0!==e.tag&&Sc(),i=e.pendingLanes,1&i?e===Zs?Xs++:(Xs=0,Zs=e):Xs=0,jo()}(e,t,n,r)}finally{Ts.transition=o,bt=r}return null}function Sc(){if(null!==Gs){var e=xt(Ks),t=Ts.transition,n=bt;try{if(Ts.transition=null,bt=16>e?16:e,null===Gs)var r=!1;else{if(e=Gs,Gs=null,Ks=0,6&Ls)throw Error(a(331));var o=Ls;for(Ls|=4,Jl=e.current;null!==Jl;){var i=Jl,l=i.child;if(16&Jl.flags){var s=i.deletions;if(null!==s){for(var c=0;c<s.length;c++){var u=s[c];for(Jl=u;null!==Jl;){var d=Jl;switch(d.tag){case 0:case 11:case 15:rs(8,d,i)}var f=d.child;if(null!==f)f.return=d,Jl=f;else for(;null!==Jl;){var p=(d=Jl).sibling,h=d.return;if(is(d),d===u){Jl=null;break}if(null!==p){p.return=h,Jl=p;break}Jl=h}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Jl=i}}if(2064&i.subtreeFlags&&null!==l)l.return=i,Jl=l;else e:for(;null!==Jl;){if(2048&(i=Jl).flags)switch(i.tag){case 0:case 11:case 15:rs(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Jl=y;break e}Jl=i.return}}var b=e.current;for(Jl=b;null!==Jl;){var x=(l=Jl).child;if(2064&l.subtreeFlags&&null!==x)x.return=l,Jl=x;else e:for(l=b;null!==Jl;){if(2048&(s=Jl).flags)try{switch(s.tag){case 0:case 11:case 15:os(9,s)}}catch(e){Cc(s,s.return,e)}if(s===l){Jl=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Jl=w;break e}Jl=s.return}}if(Ls=o,jo(),at&&"function"==typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(ot,e)}catch(e){}r=!0}return r}finally{bt=n,Ts.transition=t}}return!1}function Ec(e,t,n){e=Ra(e,t=hl(0,t=ul(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),oc(e,t))}function Cc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ys||!Ys.has(r))){t=Ra(t,e=ml(t,e=ul(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),oc(t,e));break}}t=t.return}}function zc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,_s===e&&(Ms&n)===n&&(4===Rs||3===Rs&&(130023424&Ms)===Ms&&500>Xe()-Us?pc(e,0):Os|=n),oc(e,t)}function Fc(e,t){0===t&&(1&e.mode?(t=ut,!(130023424&(ut<<=1))&&(ut=4194304)):t=1);var n=tc();null!==(e=_a(e,t))&&(vt(e,t,n),oc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Fc(e,n)}function Lc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Fc(e,n)}function _c(e,t){return Ye(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,n,r){return new Nc(e,t,n,r)}function Wc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,o,i){var l=2;if(r=e,"function"==typeof e)Wc(e)&&(l=1);else if("string"==typeof e)l=5;else e:switch(e){case S:return Ic(n.children,o,i,t);case E:l=8,o|=8;break;case C:return(e=Mc(12,n,t,2|o)).elementType=C,e.lanes=i,e;case L:return(e=Mc(13,n,t,o)).elementType=L,e.lanes=i,e;case _:return(e=Mc(19,n,t,o)).elementType=_,e.lanes=i,e;case W:return Dc(n,o,i,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case z:l=10;break e;case F:l=9;break e;case T:l=11;break e;case N:l=14;break e;case M:l=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Mc(l,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function Ic(e,t,n,r){return(e=Mc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Mc(22,e,r,t)).elementType=W,e.lanes=n,e.stateNode={isHidden:!1},e}function Ac(e,t,n){return(e=Mc(6,e,null,t)).lanes=n,e}function Oc(e,t,n){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $c(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,o,a,i,l,s){return e=new $c(e,t,n,l,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Mc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(a),e}function Uc(e){if(!e)return To;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Wo(n))return Io(e,n,t)}return t}function jc(e,t,n,r,o,a,i,l,s){return(e=Bc(n,r,!0,e,0,a,0,l,s)).context=Uc(null),n=e.current,(a=Pa(r=tc(),o=nc(n))).callback=null!=t?t:null,Ra(n,a,o),e.current.lanes=o,vt(e,o,r),oc(e,r),e}function Hc(e,t,n,r){var o=t.current,a=tc(),i=nc(o);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(o,t,i))&&(rc(e,o,i,a),Ia(e,o,i)),i}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_o.current)xl=!0;else{if(!(e.lanes&n||128&t.flags))return xl=!1,function(e,t,n){switch(t.tag){case 3:_l(t),ha();break;case 5:ii(t);break;case 1:Wo(t.type)&&Do(t);break;case 4:oi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Fo(ya,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Fo(si,1&si.current),t.flags|=128,null):n&t.child.childLanes?Al(e,t,n):(Fo(si,1&si.current),null!==(e=ql(e,t,n))?e.sibling:null);Fo(si,1&si.current);break;case 19:if(r=!!(n&t.childLanes),128&e.flags){if(r)return jl(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Fo(si,si.current),r)break;return null;case 22:case 23:return t.lanes=0,Cl(e,t,n)}return ql(e,t,n)}(e,t,n);xl=!!(131072&e.flags)}else xl=!1,aa&&1048576&t.flags&&ea(t,Yo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hl(e,t),e=t.pendingProps;var o=Mo(t,Lo.current);Ca(t,n),o=Ei(null,t,r,e,o,n);var i=Ci();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wo(r)?(i=!0,Do(t)):i=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ma(t),o.updater=Ua,t.stateNode=o,o._reactInternals=t,Va(t,r,e,n),t=Ll(null,t,r,!0,i,n)):(t.tag=0,aa&&i&&ta(t),wl(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hl(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"==typeof e)return Wc(e)?1:0;if(null!=e){if((e=e.$$typeof)===T)return 11;if(e===N)return 14}return 2}(r),e=va(r,e),o){case 0:t=Fl(null,t,r,e,n);break e;case 1:t=Tl(null,t,r,e,n);break e;case 11:t=kl(null,t,r,e,n);break e;case 14:t=Sl(null,t,r,va(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Fl(e,t,r,o=t.elementType===r?o:va(r,o),n);case 1:return r=t.type,o=t.pendingProps,Tl(e,t,r,o=t.elementType===r?o:va(r,o),n);case 3:e:{if(_l(t),null===e)throw Error(a(387));r=t.pendingProps,o=(i=t.memoizedState).element,Wa(e,t),Aa(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Nl(e,t,r,n,o=ul(Error(a(423)),t));break e}if(r!==o){t=Nl(e,t,r,n,o=ul(Error(a(424)),t));break e}for(oa=co(t.stateNode.containerInfo.firstChild),ra=t,aa=!0,ia=null,n=Za(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===o){t=ql(e,t,n);break e}wl(e,t,r,n)}t=t.child}return t;case 5:return ii(t),null===e&&ua(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,l=o.children,no(r,o)?l=null:null!==i&&no(r,i)&&(t.flags|=32),zl(e,t),wl(e,t,l,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Al(e,t,n);case 4:return oi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):wl(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,kl(e,t,r,o=t.elementType===r?o:va(r,o),n);case 7:return wl(e,t,t.pendingProps,n),t.child;case 8:case 12:return wl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,l=o.value,Fo(ya,r._currentValue),r._currentValue=l,null!==i)if(lr(i.value,l)){if(i.children===o.children&&!_o.current){t=ql(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var s=i.dependencies;if(null!==s){l=i.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Pa(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Ea(i.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===i.tag)l=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(a(341));l.lanes|=n,null!==(s=l.alternate)&&(s.lanes|=n),Ea(l,n,t),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===t){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}wl(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ca(t,n),r=r(o=za(o)),t.flags|=1,wl(e,t,r,n),t.child;case 14:return o=va(r=t.type,t.pendingProps),Sl(e,t,r,o=va(r.type,o),n);case 15:return El(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:va(r,o),Hl(e,t),t.tag=1,Wo(r)?(e=!0,Do(t)):e=!1,Ca(t,n),Ha(t,r,o),Va(t,r,o,n),Ll(null,t,r,!0,e,n);case 19:return jl(e,t,n);case 22:return Cl(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"==typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function eu(e,t,n,r,o){var a=n._reactRootContainer;if(a){var i=a;if("function"==typeof o){var l=o;o=function(){var e=qc(i);l.call(e)}}Hc(t,i,e,o)}else i=function(e,t,n,r,o){if(o){if("function"==typeof r){var a=r;r=function(){var e=qc(i);a.call(e)}}var i=jc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=i,e[mo]=i.current,Ur(8===e.nodeType?e.parentNode:e),dc(),i}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof r){var l=r;r=function(){var e=qc(s);l.call(e)}}var s=Bc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=s,e[mo]=s.current,Ur(8===e.nodeType?e.parentNode:e),dc((function(){Hc(t,s,n,r)})),s}(n,t,e,o,r);return qc(i)}Kc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Kc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Hc(null,e,null,null)})),t[mo]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wt.length&&0!==t&&t<Wt[n].priority;n++);Wt.splice(n,0,e),0===n&&Dt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),oc(t,Xe()),!(6&Ls)&&(js=Xe()+500,jo()))}break;case 13:dc((function(){var t=_a(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Yc(e,1)}},kt=function(e){if(13===e.tag){var t=_a(e,134217728);if(null!==t)rc(t,e,134217728,tc());Yc(e,134217728)}},St=function(e){if(13===e.tag){var t=nc(e),n=_a(e,t);if(null!==n)rc(n,e,t,tc());Yc(e,t)}},Et=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=ko(r);if(!o)throw Error(a(90));Y(r),Z(r,o)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uc,Le=dc;var tu={usingClientEntryPoint:!1,Events:[xo,wo,ko,ze,Fe,uc]},nu={findFiberByHostInstance:bo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{ot=ou.inject(ru),at=ou}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",o=Qc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,o=!1,i="",l=Qc;if(null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=jc(t,null,e,1,null!=n?n:null,o,0,i,l),e[mo]=t.current,Ur(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Kc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},338:(e,t,n)=>{var r=n(961);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},961:(e,t,n)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(551)},287:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var o,a={},i=null,l=null;if(null!=t)for(o in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)k.call(t,o)&&!E.hasOwnProperty(o)&&(a[o]=t[o]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(o in s=e.defaultProps)void 0===a[o]&&(a[o]=s[o]);return{$$typeof:n,type:e,key:i,ref:l,props:a,_owner:S.current}}function z(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var F=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function L(e,t,o,a,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var s=!1;if(null===e)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return i=i(s=e),e=""===a?"."+T(s,0):a,w(i)?(o="",null!=e&&(o=e.replace(F,"$&/")+"/"),L(i,t,o,"",(function(e){return e}))):null!=i&&(z(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,o+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(F,"$&/")+"/")+e)),t.push(i)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var u=a+T(l=e[c],c);s+=L(l,t,o,u,i)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(l=e.next()).done;)s+=L(l=l.value,t,o,u=a+T(l,c++),i);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function _(e,t,n){if(null==e)return e;var r=[],o=0;return L(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},W={transition:null},P={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:W,ReactCurrentOwner:S};t.Children={map:_,forEach:function(e,t,n){_(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return _(e,(function(){t++})),t},toArray:function(e){return _(e,(function(e){return e}))||[]},only:function(e){if(!z(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=i,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),a=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)k.call(t,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];o.children=s}return{$$typeof:n,type:e.type,key:a,ref:i,props:o,_owner:l}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=z,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=W.transition;W.transition={};try{e()}finally{W.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.2.0"},540:(e,t,n)=>{e.exports=n(287)},463:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<a(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,i=o>>>1;r<i;){var l=2*(r+1)-1,s=e[l],c=l+1,u=e[c];if(0>a(s,n))c<o&&0>a(u,s)?(e[r]=u,e[c]=n,r=c):(e[r]=s,e[l]=n,r=l);else{if(!(c<o&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var c=[],u=[],d=1,f=null,p=3,h=!1,m=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,W(k);else{var t=r(u);null!==t&&P(w,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,y(z),z=-1),h=!0;var a=p;try{for(x(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!L());){var i=f.callback;if("function"==typeof i){f.callback=null,p=f.priorityLevel;var l=i(f.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?f.callback=l:f===r(c)&&o(c),x(n)}else o(c);f=r(c)}if(null!==f)var s=!0;else{var d=r(u);null!==d&&P(w,d.startTime-n),s=!1}return s}finally{f=null,p=a,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,C=null,z=-1,F=5,T=-1;function L(){return!(t.unstable_now()-T<F)}function _(){if(null!==C){var e=t.unstable_now();T=e;var n=!0;try{n=C(!0,e)}finally{n?S():(E=!1,C=null)}}else E=!1}if("function"==typeof b)S=function(){b(_)};else if("undefined"!=typeof MessageChannel){var N=new MessageChannel,M=N.port2;N.port1.onmessage=_,S=function(){M.postMessage(null)}}else S=function(){v(_,0)};function W(e){C=e,E||(E=!0,S())}function P(e,n){z=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,W(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,a){var i=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>i?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(y(z),z=-1):g=!0,P(w,a-i))):(e.sortIndex=l,n(c,e),m||h||(m=!0,W(k))),e},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},982:(e,t,n)=>{e.exports=n(463)}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var a=r[e]={exports:{}};return n[e](a,a.exports,o),a.exports}t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var a=Object.create(null);o.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&r&&n;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,o.d(a,i),a},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a=o(540),i=o.t(a,2),l=o(961),s=o.t(l,2);const c="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,u=new Set,d={},f=(e,t,n,r)=>{"function"==typeof d.emitWarning?d.emitWarning(e,t,n,r):console.error(`[${n}] ${t}: ${e}`)};let p=globalThis.AbortController,h=globalThis.AbortSignal;if(void 0===p){h=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(e,t){this._onabort.push(t)}},p=class{constructor(){t()}signal=new h;abort(e){if(!this.signal.aborted){this.signal.reason=e,this.signal.aborted=!0;for(const t of this.signal._onabort)t(e);this.signal.onabort?.(e)}}};let e="1"!==d.env?.LRU_CACHE_IGNORE_AC_WARNING;const t=()=>{e&&(e=!1,f("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");const m=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),g=e=>m(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?v:null:null;class v extends Array{constructor(e){super(e),this.fill(0)}}class y{heap;length;static#e=!1;static create(e){const t=g(e);if(!t)return[];y.#e=!0;const n=new y(e,t);return y.#e=!1,n}constructor(e,t){if(!y.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class b{#t;#n;#r;#o;#a;#i;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#l;#s;#c;#u;#d;#f;#p;#h;#m;#g;#v;#y;#b;#x;#w;#k;#S;static unsafeExposeInternals(e){return{starts:e.#b,ttls:e.#x,sizes:e.#y,keyMap:e.#c,keyList:e.#u,valList:e.#d,next:e.#f,prev:e.#p,get head(){return e.#h},get tail(){return e.#m},free:e.#g,isBackgroundFetch:t=>e.#E(t),backgroundFetch:(t,n,r,o)=>e.#C(t,n,r,o),moveToTail:t=>e.#z(t),indexes:t=>e.#F(t),rindexes:t=>e.#T(t),isStale:t=>e.#L(t)}}get max(){return this.#t}get maxSize(){return this.#n}get calculatedSize(){return this.#s}get size(){return this.#l}get fetchMethod(){return this.#a}get memoMethod(){return this.#i}get dispose(){return this.#r}get disposeAfter(){return this.#o}constructor(e){const{max:t=0,ttl:n,ttlResolution:r=1,ttlAutopurge:o,updateAgeOnGet:a,updateAgeOnHas:i,allowStale:l,dispose:s,disposeAfter:c,noDisposeOnSet:d,noUpdateTTL:p,maxSize:h=0,maxEntrySize:v=0,sizeCalculation:x,fetchMethod:w,memoMethod:k,noDeleteOnFetchRejection:S,noDeleteOnStaleGet:E,allowStaleOnFetchRejection:C,allowStaleOnFetchAbort:z,ignoreFetchAbort:F}=e;if(0!==t&&!m(t))throw new TypeError("max option must be a nonnegative integer");const T=t?g(t):Array;if(!T)throw new Error("invalid max value: "+t);if(this.#t=t,this.#n=h,this.maxEntrySize=v||this.#n,this.sizeCalculation=x,this.sizeCalculation){if(!this.#n&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==k&&"function"!=typeof k)throw new TypeError("memoMethod must be a function if defined");if(this.#i=k,void 0!==w&&"function"!=typeof w)throw new TypeError("fetchMethod must be a function if specified");if(this.#a=w,this.#k=!!w,this.#c=new Map,this.#u=new Array(t).fill(void 0),this.#d=new Array(t).fill(void 0),this.#f=new T(t),this.#p=new T(t),this.#h=0,this.#m=0,this.#g=y.create(t),this.#l=0,this.#s=0,"function"==typeof s&&(this.#r=s),"function"==typeof c?(this.#o=c,this.#v=[]):(this.#o=void 0,this.#v=void 0),this.#w=!!this.#r,this.#S=!!this.#o,this.noDisposeOnSet=!!d,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!S,this.allowStaleOnFetchRejection=!!C,this.allowStaleOnFetchAbort=!!z,this.ignoreFetchAbort=!!F,0!==this.maxEntrySize){if(0!==this.#n&&!m(this.#n))throw new TypeError("maxSize must be a positive integer if specified");if(!m(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#_()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!E,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!i,this.ttlResolution=m(r)||0===r?r:1,this.ttlAutopurge=!!o,this.ttl=n||0,this.ttl){if(!m(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#N()}if(0===this.#t&&0===this.ttl&&0===this.#n)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#n){const e="LRU_CACHE_UNBOUNDED";if((e=>!u.has(e))(e)){u.add(e);f("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,b)}}}getRemainingTTL(e){return this.#c.has(e)?1/0:0}#N(){const e=new v(this.#t),t=new v(this.#t);this.#x=e,this.#b=t,this.#M=(n,r,o=c.now())=>{if(t[n]=0!==r?o:0,e[n]=r,0!==r&&this.ttlAutopurge){const e=setTimeout((()=>{this.#L(n)&&this.#W(this.#u[n],"expire")}),r+1);e.unref&&e.unref()}},this.#P=n=>{t[n]=0!==e[n]?c.now():0},this.#R=(o,a)=>{if(e[a]){const i=e[a],l=t[a];if(!i||!l)return;o.ttl=i,o.start=l,o.now=n||r();const s=o.now-l;o.remainingTTL=i-s}};let n=0;const r=()=>{const e=c.now();if(this.ttlResolution>0){n=e;const t=setTimeout((()=>n=0),this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=o=>{const a=this.#c.get(o);if(void 0===a)return 0;const i=e[a],l=t[a];if(!i||!l)return 1/0;return i-((n||r())-l)},this.#L=o=>{const a=t[o],i=e[o];return!!i&&!!a&&(n||r())-a>i}}#P=()=>{};#R=()=>{};#M=()=>{};#L=()=>!1;#_(){const e=new v(this.#t);this.#s=0,this.#y=e,this.#I=t=>{this.#s-=e[t],e[t]=0},this.#D=(e,t,n,r)=>{if(this.#E(t))return 0;if(!m(n)){if(!r)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof r)throw new TypeError("sizeCalculation must be a function");if(n=r(t,e),!m(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return n},this.#A=(t,n,r)=>{if(e[t]=n,this.#n){const n=this.#n-e[t];for(;this.#s>n;)this.#O(!0)}this.#s+=e[t],r&&(r.entrySize=n,r.totalCalculatedSize=this.#s)}}#I=e=>{};#A=(e,t,n)=>{};#D=(e,t,n,r)=>{if(n||r)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#F({allowStale:e=this.allowStale}={}){if(this.#l)for(let t=this.#m;this.#$(t)&&(!e&&this.#L(t)||(yield t),t!==this.#h);)t=this.#p[t]}*#T({allowStale:e=this.allowStale}={}){if(this.#l)for(let t=this.#h;this.#$(t)&&(!e&&this.#L(t)||(yield t),t!==this.#m);)t=this.#f[t]}#$(e){return void 0!==e&&this.#c.get(this.#u[e])===e}*entries(){for(const e of this.#F())void 0===this.#d[e]||void 0===this.#u[e]||this.#E(this.#d[e])||(yield[this.#u[e],this.#d[e]])}*rentries(){for(const e of this.#T())void 0===this.#d[e]||void 0===this.#u[e]||this.#E(this.#d[e])||(yield[this.#u[e],this.#d[e]])}*keys(){for(const e of this.#F()){const t=this.#u[e];void 0===t||this.#E(this.#d[e])||(yield t)}}*rkeys(){for(const e of this.#T()){const t=this.#u[e];void 0===t||this.#E(this.#d[e])||(yield t)}}*values(){for(const e of this.#F()){void 0===this.#d[e]||this.#E(this.#d[e])||(yield this.#d[e])}}*rvalues(){for(const e of this.#T()){void 0===this.#d[e]||this.#E(this.#d[e])||(yield this.#d[e])}}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,t={}){for(const n of this.#F()){const r=this.#d[n],o=this.#E(r)?r.__staleWhileFetching:r;if(void 0!==o&&e(o,this.#u[n],this))return this.get(this.#u[n],t)}}forEach(e,t=this){for(const n of this.#F()){const r=this.#d[n],o=this.#E(r)?r.__staleWhileFetching:r;void 0!==o&&e.call(t,o,this.#u[n],this)}}rforEach(e,t=this){for(const n of this.#T()){const r=this.#d[n],o=this.#E(r)?r.__staleWhileFetching:r;void 0!==o&&e.call(t,o,this.#u[n],this)}}purgeStale(){let e=!1;for(const t of this.#T({allowStale:!0}))this.#L(t)&&(this.#W(this.#u[t],"expire"),e=!0);return e}info(e){const t=this.#c.get(e);if(void 0===t)return;const n=this.#d[t],r=this.#E(n)?n.__staleWhileFetching:n;if(void 0===r)return;const o={value:r};if(this.#x&&this.#b){const e=this.#x[t],n=this.#b[t];if(e&&n){const t=e-(c.now()-n);o.ttl=t,o.start=Date.now()}}return this.#y&&(o.size=this.#y[t]),o}dump(){const e=[];for(const t of this.#F({allowStale:!0})){const n=this.#u[t],r=this.#d[t],o=this.#E(r)?r.__staleWhileFetching:r;if(void 0===o||void 0===n)continue;const a={value:o};if(this.#x&&this.#b){a.ttl=this.#x[t];const e=c.now()-this.#b[t];a.start=Math.floor(Date.now()-e)}this.#y&&(a.size=this.#y[t]),e.unshift([n,a])}return e}load(e){this.clear();for(const[t,n]of e){if(n.start){const e=Date.now()-n.start;n.start=c.now()-e}this.set(t,n.value,n)}}set(e,t,n={}){if(void 0===t)return this.delete(e),this;const{ttl:r=this.ttl,start:o,noDisposeOnSet:a=this.noDisposeOnSet,sizeCalculation:i=this.sizeCalculation,status:l}=n;let{noUpdateTTL:s=this.noUpdateTTL}=n;const c=this.#D(e,t,n.size||0,i);if(this.maxEntrySize&&c>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),this.#W(e,"set"),this;let u=0===this.#l?void 0:this.#c.get(e);if(void 0===u)u=0===this.#l?this.#m:0!==this.#g.length?this.#g.pop():this.#l===this.#t?this.#O(!1):this.#l,this.#u[u]=e,this.#d[u]=t,this.#c.set(e,u),this.#f[this.#m]=u,this.#p[u]=this.#m,this.#m=u,this.#l++,this.#A(u,c,l),l&&(l.set="add"),s=!1;else{this.#z(u);const n=this.#d[u];if(t!==n){if(this.#k&&this.#E(n)){n.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:t}=n;void 0===t||a||(this.#w&&this.#r?.(t,e,"set"),this.#S&&this.#v?.push([t,e,"set"]))}else a||(this.#w&&this.#r?.(n,e,"set"),this.#S&&this.#v?.push([n,e,"set"]));if(this.#I(u),this.#A(u,c,l),this.#d[u]=t,l){l.set="replace";const e=n&&this.#E(n)?n.__staleWhileFetching:n;void 0!==e&&(l.oldValue=e)}}else l&&(l.set="update")}if(0===r||this.#x||this.#N(),this.#x&&(s||this.#M(u,r,o),l&&this.#R(l,u)),!a&&this.#S&&this.#v){const e=this.#v;let t;for(;t=e?.shift();)this.#o?.(...t)}return this}pop(){try{for(;this.#l;){const e=this.#d[this.#h];if(this.#O(!0),this.#E(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(this.#S&&this.#v){const e=this.#v;let t;for(;t=e?.shift();)this.#o?.(...t)}}}#O(e){const t=this.#h,n=this.#u[t],r=this.#d[t];return this.#k&&this.#E(r)?r.__abortController.abort(new Error("evicted")):(this.#w||this.#S)&&(this.#w&&this.#r?.(r,n,"evict"),this.#S&&this.#v?.push([r,n,"evict"])),this.#I(t),e&&(this.#u[t]=void 0,this.#d[t]=void 0,this.#g.push(t)),1===this.#l?(this.#h=this.#m=0,this.#g.length=0):this.#h=this.#f[t],this.#c.delete(n),this.#l--,t}has(e,t={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:r}=t,o=this.#c.get(e);if(void 0!==o){const e=this.#d[o];if(this.#E(e)&&void 0===e.__staleWhileFetching)return!1;if(!this.#L(o))return n&&this.#P(o),r&&(r.has="hit",this.#R(r,o)),!0;r&&(r.has="stale",this.#R(r,o))}else r&&(r.has="miss");return!1}peek(e,t={}){const{allowStale:n=this.allowStale}=t,r=this.#c.get(e);if(void 0===r||!n&&this.#L(r))return;const o=this.#d[r];return this.#E(o)?o.__staleWhileFetching:o}#C(e,t,n,r){const o=void 0===t?void 0:this.#d[t];if(this.#E(o))return o;const a=new p,{signal:i}=n;i?.addEventListener("abort",(()=>a.abort(i.reason)),{signal:a.signal});const l={signal:a.signal,options:n,context:r},s=(r,o=!1)=>{const{aborted:i}=a.signal,s=n.ignoreFetchAbort&&void 0!==r;if(n.status&&(i&&!o?(n.status.fetchAborted=!0,n.status.fetchError=a.signal.reason,s&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),i&&!s&&!o)return c(a.signal.reason);const d=u;return this.#d[t]===u&&(void 0===r?d.__staleWhileFetching?this.#d[t]=d.__staleWhileFetching:this.#W(e,"fetch"):(n.status&&(n.status.fetchUpdated=!0),this.set(e,r,l.options))),r},c=r=>{const{aborted:o}=a.signal,i=o&&n.allowStaleOnFetchAbort,l=i||n.allowStaleOnFetchRejection,s=l||n.noDeleteOnFetchRejection,c=u;if(this.#d[t]===u){!s||void 0===c.__staleWhileFetching?this.#W(e,"fetch"):i||(this.#d[t]=c.__staleWhileFetching)}if(l)return n.status&&void 0!==c.__staleWhileFetching&&(n.status.returnedStale=!0),c.__staleWhileFetching;if(c.__returned===c)throw r};n.status&&(n.status.fetchDispatched=!0);const u=new Promise(((t,r)=>{const i=this.#a?.(e,o,l);i&&i instanceof Promise&&i.then((e=>t(void 0===e?void 0:e)),r),a.signal.addEventListener("abort",(()=>{n.ignoreFetchAbort&&!n.allowStaleOnFetchAbort||(t(void 0),n.allowStaleOnFetchAbort&&(t=e=>s(e,!0)))}))})).then(s,(e=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=e),c(e)))),d=Object.assign(u,{__abortController:a,__staleWhileFetching:o,__returned:void 0});return void 0===t?(this.set(e,d,{...l.options,status:void 0}),t=this.#c.get(e)):this.#d[t]=d,d}#E(e){if(!this.#k)return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof p}async fetch(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:a=this.ttl,noDisposeOnSet:i=this.noDisposeOnSet,size:l=0,sizeCalculation:s=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:u=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:d=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:p=this.allowStaleOnFetchAbort,context:h,forceRefresh:m=!1,status:g,signal:v}=t;if(!this.#k)return g&&(g.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:r,noDeleteOnStaleGet:o,status:g});const y={allowStale:n,updateAgeOnGet:r,noDeleteOnStaleGet:o,ttl:a,noDisposeOnSet:i,size:l,sizeCalculation:s,noUpdateTTL:c,noDeleteOnFetchRejection:u,allowStaleOnFetchRejection:d,allowStaleOnFetchAbort:p,ignoreFetchAbort:f,status:g,signal:v};let b=this.#c.get(e);if(void 0===b){g&&(g.fetch="miss");const t=this.#C(e,b,y,h);return t.__returned=t}{const t=this.#d[b];if(this.#E(t)){const e=n&&void 0!==t.__staleWhileFetching;return g&&(g.fetch="inflight",e&&(g.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}const o=this.#L(b);if(!m&&!o)return g&&(g.fetch="hit"),this.#z(b),r&&this.#P(b),g&&this.#R(g,b),t;const a=this.#C(e,b,y,h),i=void 0!==a.__staleWhileFetching&&n;return g&&(g.fetch=o?"stale":"refresh",i&&o&&(g.returnedStale=!0)),i?a.__staleWhileFetching:a.__returned=a}}async forceFetch(e,t={}){const n=await this.fetch(e,t);if(void 0===n)throw new Error("fetch() returned undefined");return n}memo(e,t={}){const n=this.#i;if(!n)throw new Error("no memoMethod provided to constructor");const{context:r,forceRefresh:o,...a}=t,i=this.get(e,a);if(!o&&void 0!==i)return i;const l=n(e,i,{options:a,context:r});return this.set(e,l,a),l}get(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:a}=t,i=this.#c.get(e);if(void 0!==i){const t=this.#d[i],l=this.#E(t);return a&&this.#R(a,i),this.#L(i)?(a&&(a.get="stale"),l?(a&&n&&void 0!==t.__staleWhileFetching&&(a.returnedStale=!0),n?t.__staleWhileFetching:void 0):(o||this.#W(e,"expire"),a&&n&&(a.returnedStale=!0),n?t:void 0)):(a&&(a.get="hit"),l?t.__staleWhileFetching:(this.#z(i),r&&this.#P(i),t))}a&&(a.get="miss")}#B(e,t){this.#p[t]=e,this.#f[e]=t}#z(e){e!==this.#m&&(e===this.#h?this.#h=this.#f[e]:this.#B(this.#p[e],this.#f[e]),this.#B(this.#m,e),this.#m=e)}delete(e){return this.#W(e,"delete")}#W(e,t){let n=!1;if(0!==this.#l){const r=this.#c.get(e);if(void 0!==r)if(n=!0,1===this.#l)this.#U(t);else{this.#I(r);const n=this.#d[r];if(this.#E(n)?n.__abortController.abort(new Error("deleted")):(this.#w||this.#S)&&(this.#w&&this.#r?.(n,e,t),this.#S&&this.#v?.push([n,e,t])),this.#c.delete(e),this.#u[r]=void 0,this.#d[r]=void 0,r===this.#m)this.#m=this.#p[r];else if(r===this.#h)this.#h=this.#f[r];else{const e=this.#p[r];this.#f[e]=this.#f[r];const t=this.#f[r];this.#p[t]=this.#p[r]}this.#l--,this.#g.push(r)}}if(this.#S&&this.#v?.length){const e=this.#v;let t;for(;t=e?.shift();)this.#o?.(...t)}return n}clear(){return this.#U("delete")}#U(e){for(const t of this.#T({allowStale:!0})){const n=this.#d[t];if(this.#E(n))n.__abortController.abort(new Error("deleted"));else{const r=this.#u[t];this.#w&&this.#r?.(n,r,e),this.#S&&this.#v?.push([n,r,e])}}if(this.#c.clear(),this.#d.fill(void 0),this.#u.fill(void 0),this.#x&&this.#b&&(this.#x.fill(0),this.#b.fill(0)),this.#y&&this.#y.fill(0),this.#h=0,this.#m=0,this.#g.length=0,this.#s=0,this.#l=0,this.#S&&this.#v){const e=this.#v;let t;for(;t=e?.shift();)this.#o?.(...t)}}}var x=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))};function w(e){try{if(e instanceof Error)return e.message;if("string"==typeof e)return e;if(e&&"object"==typeof e)try{return JSON.stringify(e)}catch(e){return"Object error - cannot stringify"}return String(e)}catch(e){return"Unknown error - cannot format"}}class k{translate(e,t){return x(this,void 0,void 0,(function*(){try{if(!chrome||!chrome.runtime)return console.error("WordStream: Chrome runtime API not available"),{success:!1,error:"Chrome runtime not available"};console.log("WordStream: Translating word:",e,"to language:",t);const n={type:"TRANSLATE_WORD",payload:{text:e,targetLang:t}};try{const e=yield chrome.runtime.sendMessage(n);return e?e.success?(console.log("WordStream: Translation succeeded:",e.translation),{success:!0,translatedText:e.translation,detectedSourceLanguage:e.detectedSourceLanguage}):(console.error("WordStream: Translation failed:",e.error),{success:!1,error:e.error||"Translation failed"}):(console.error("WordStream: No translation response received"),{success:!1,error:"No response from background script"})}catch(e){return console.error("WordStream: Error sending translation message:",w(e)),{success:!1,error:`Error sending message: ${w(e)}`}}}catch(e){return console.error("WordStream: Translation provider error:",w(e)),{success:!1,error:`Translation error: ${w(e)}`}}}))}}const S={auto:"Auto Detect",af:"Afrikaans",sq:"Albanian",am:"Amharic",ar:"Arabic",hy:"Armenian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",bg:"Bulgarian",ca:"Catalan",ceb:"Cebuano",ny:"Chichewa","zh-CN":"Chinese (Simplified)","zh-TW":"Chinese (Traditional)",co:"Corsican",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",eo:"Esperanto",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",fy:"Frisian",gl:"Galician",ka:"Georgian",de:"German",el:"Greek",gu:"Gujarati",ht:"Haitian Creole",ha:"Hausa",haw:"Hawaiian",he:"Hebrew",hi:"Hindi",hmn:"Hmong",hu:"Hungarian",is:"Icelandic",ig:"Igbo",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",jw:"Javanese",kn:"Kannada",kk:"Kazakh",km:"Khmer",ko:"Korean",ku:"Kurdish (Kurmanji)",ky:"Kyrgyz",lo:"Lao",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"Macedonian",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mn:"Mongolian",my:"Myanmar (Burmese)",ne:"Nepali",no:"Norwegian",ps:"Pashto",fa:"Persian",pl:"Polish",pt:"Portuguese",pa:"Punjabi",ro:"Romanian",ru:"Russian",sm:"Samoan",gd:"Scots Gaelic",sr:"Serbian",st:"Sesotho",sn:"Shona",sd:"Sindhi",si:"Sinhala",sk:"Slovak",sl:"Slovenian",so:"Somali",es:"Spanish",su:"Sundanese",sw:"Swahili",sv:"Swedish",tg:"Tajik",ta:"Tamil",te:"Telugu",th:"Thai",tr:"Turkish",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",vi:"Vietnamese",cy:"Welsh",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",zu:"Zulu"};var E=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))};class C{constructor(){this.provider=new k,this.cache=new b({max:1e3,ttl:864e5})}translate(e,t){return E(this,void 0,void 0,(function*(){if(!(t in S))return{success:!1,error:`Unsupported target language: ${t}`};const n=`${e}:${t}`,r=this.cache.get(n);if(r)return r;try{const r=yield this.provider.translate(e,t);return r.success&&this.cache.set(n,r),r}catch(e){return console.error("Translation error:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}))}}function z(e){return"iw"===e||"he-IL"===e?"he":"in"===e?"id":"jw"===e?"jv":e||"auto"}var F=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))};function T(e){try{if(e instanceof Error)return e.message;if("string"==typeof e)return e;if(e&&"object"==typeof e)try{return JSON.stringify(e)}catch(e){return"Object error - cannot stringify"}return String(e)}catch(e){return"Unknown error - cannot format"}}class L{constructor(){this.source="youtube",this.observer=null,this.popup=null,this.processedNodes=new Set,this.checkInterval=null,this.isProcessing=!1,this.lastProcessedText=new WeakMap,this.processingDebouncer=null,this.DEBOUNCE_DELAY=10,this.animationFrameId=null,this.ghostLayer=null,this.controlsContainer=null,this.videoUpdateInterval=null,this.currentVideoTime=0,this.videoDuration=0,this.controlsRoot=null,this.handleDocumentClick=e=>{this.popup&&!this.popup.contains(e.target)&&(this.popup.remove(),document.removeEventListener("click",this.handleDocumentClick))},this.translationService=new C,this.initializeObserver()}initializeObserver(){this.observer=new MutationObserver((e=>{this.animationFrameId&&cancelAnimationFrame(this.animationFrameId),this.animationFrameId=requestAnimationFrame((()=>{const t=new Set;e.forEach((e=>{if("characterData"===e.type&&e.target instanceof Text){const n=e.target.parentElement;(null==n?void 0:n.classList.contains("ytp-caption-segment"))&&t.add(e.target)}else"childList"===e.type&&e.addedNodes.forEach((e=>{if(e instanceof Text){const n=e.parentElement;(null==n?void 0:n.classList.contains("ytp-caption-segment"))&&t.add(e)}else e instanceof HTMLElement&&e.classList.contains("ytp-caption-segment")&&e.childNodes.forEach((e=>{e instanceof Text&&t.add(e)}))}))})),t.forEach((e=>this.processTextNode(e))),this.animationFrameId=null}))}))}startObserving(e){if(this.observer)try{this.observer.observe(e,{childList:!0,characterData:!0,subtree:!0});Array.from(e.getElementsByClassName("ytp-caption-segment")).flatMap((e=>Array.from(e.childNodes))).filter((e=>e.nodeType===Node.TEXT_NODE)).forEach((e=>this.processTextNode(e)))}catch(e){console.error("WordStream: Error starting observation:",e)}else console.warn("WordStream: Observer not initialized")}stopObserving(){if(this.observer)try{this.observer.disconnect(),this.processingDebouncer&&(clearTimeout(this.processingDebouncer),this.processingDebouncer=null)}catch(e){console.error("WordStream: Error stopping observation:",e)}else console.warn("WordStream: Observer not initialized")}isCaptionSegment(e){return e instanceof HTMLElement&&e.classList.contains("ytp-caption-segment")}needsSpaceBetweenWords(e,t){const n=/^[\p{Script=Han}\p{Script=Hiragana}\p{Script=Katakana}\p{Script=Thai}]/u;return!(n.test(e)||n.test(t))}waitForChromeAPI(){return F(this,arguments,void 0,(function*(e=5,t=1e3){var n,r;for(let o=0;o<e;o++){if("undefined"!=typeof chrome&&(null===(n=chrome.runtime)||void 0===n?void 0:n.id)&&(null===(r=chrome.storage)||void 0===r?void 0:r.sync))return console.log("WordStream: Chrome API initialized successfully"),!0;console.log(`WordStream: Waiting for Chrome API (attempt ${o+1}/${e})...`),yield new Promise((e=>setTimeout(e,t)))}return console.error("WordStream: Chrome API not available after retries"),!1}))}detectCaptionsLanguage(){return F(this,void 0,void 0,(function*(){return{language:"auto",languageName:"Auto Detect",isAuto:!0}}))}handleWordClick(e){return F(this,void 0,void 0,(function*(){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();const t=e.target;if(!t||!t.textContent)return;const n=t.textContent.trim();if(n){console.log("WordStream: Handling click for word:",n);try{if(!(yield this.waitForChromeAPI(10,1500)))return console.error("WordStream: Chrome API initialization failed"),void this.showTranslationPopup("Extension not initialized. Please refresh the page.",e);let t;try{t=(yield new Promise(((e,t)=>{chrome.storage.sync.get(["settings"],(n=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e(n)}))}))).settings}catch(t){return console.error("WordStream: Error getting storage settings:",T(t)),void this.showTranslationPopup(`Storage error: ${T(t)}`,e)}const r=(null==t?void 0:t.targetLanguage)||"en";let o,a;console.log("WordStream: Using target language:",r);try{if(o=yield this.translationService.translate(n,r),console.log("WordStream: Translation result:",o),!o.success)throw new Error(o.error||"Unknown translation error");if(!o.translatedText)throw new Error("Translation succeeded but no translated text returned")}catch(t){return console.error("WordStream: Translation error:",T(t)),void this.showTranslationPopup(`Translation error: ${T(t)}`,e)}this.showTranslationPopup(o.translatedText,e);try{a=yield function(){return F(this,void 0,void 0,(function*(){var e;try{const t=yield new Promise(((e,t)=>{chrome.storage.sync.get(["words_metadata","words_groups"],(n=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e(n)}))}));if(!t.words_metadata){const t=yield new Promise(((e,t)=>{chrome.storage.sync.get(["words"],(n=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e(n)}))}));return console.log("WordStream: Loaded words in old format:",(null===(e=t.words)||void 0===e?void 0:e.length)||0),t.words||[]}if(!t.words_groups||!Array.isArray(t.words_groups))return console.log("WordStream: No word groups found"),[];const n=yield new Promise(((e,n)=>{chrome.storage.sync.get(t.words_groups,(t=>{chrome.runtime.lastError?n(chrome.runtime.lastError):e(t)}))})),r=[];for(const e of t.words_groups)n[e]&&Array.isArray(n[e])&&r.push(...n[e]);return console.log("WordStream: Loaded words in new format:",r.length),r}catch(e){return console.error("WordStream: Error loading words:",T(e)),[]}}))}()}catch(e){console.error("WordStream: Error loading words:",T(e)),a=[]}const i={id:`${n}-${Date.now()}`,originalWord:n,targetWord:o.translatedText,sourceLanguage:o.detectedSourceLanguage||"auto",targetLanguage:r,timestamp:(new Date).toISOString(),context:{source:"youtube",videoTitle:document.title,url:window.location.href,captionsLanguage:o.detectedSourceLanguage||"auto"},stats:{successRate:0,totalReviews:0,lastReview:(new Date).toISOString()}};try{console.log(`Checking if word "${n}" already exists...`);const e=n.trim().toLowerCase();if(a.some((t=>{var n;return(null===(n=t.originalWord)||void 0===n?void 0:n.trim().toLowerCase())===e&&t.sourceLanguage===i.sourceLanguage&&t.targetLanguage===r})))console.log("WordStream: Word already exists, not saving duplicate");else{console.log(`Adding new word: "${n}" (${i.sourceLanguage} → ${r})`);const e=100;let t=[...a,i];t.length>e&&(console.log(`WordStream: Too many saved words (${t.length}), removing oldest`),t.sort(((e,t)=>new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime())),t=t.slice(-e));const o={},l=10;t.forEach(((e,t)=>{const n=`words_group_${Math.floor(t/l)}`;o[n]||(o[n]=[]),o[n].push(e)}));const s={totalGroups:Object.keys(o).length,totalWords:t.length,lastUpdated:(new Date).toISOString()};yield new Promise(((e,t)=>{chrome.storage.sync.set({words_metadata:s},(()=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e()}))}));for(const[e,t]of Object.entries(o))yield new Promise(((n,r)=>{chrome.storage.sync.set({[e]:t},(()=>{chrome.runtime.lastError?r(chrome.runtime.lastError):n()}))}));let c;try{c=yield new Promise(((e,t)=>{chrome.storage.sync.get(["stats"],(n=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e(n.stats||{})}))}))}catch(e){console.error("WordStream: Error loading stats:",T(e)),c={}}const u=new Date,d=c.lastActive?new Date(c.lastActive):new Date(0),f=new Date(u.getFullYear(),u.getMonth(),u.getDate()),p=new Date(d.getFullYear(),d.getMonth(),d.getDate()),h=Math.abs(f.getTime()-p.getTime()),m=Math.ceil(h/864e5);let g=c.streak||0,v=c.todayWords||0;m>=1?v=1:v+=1,1===m?g+=1:m>1&&(g=1),yield new Promise(((e,n)=>{chrome.storage.sync.set({stats:{totalWords:t.length,lastSaved:u.toISOString(),todayWords:v,streak:g,lastActive:u.toISOString()}},(()=>{chrome.runtime.lastError?n(chrome.runtime.lastError):e()}))})),yield new Promise(((e,t)=>{chrome.storage.sync.set({words_groups:Object.keys(o)},(()=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e()}))})),console.log("WordStream: Word saved successfully")}}catch(e){console.error("WordStream: Error saving word:",T(e))}}catch(t){console.error("WordStream: Error handling word click:",T(t)),this.showTranslationPopup(`Error: ${T(t)}`,e)}}}))}getSubtitleContext(e){var t;const n=e.closest(".ytp-caption-segment");if(!n)return"";return((null===(t=n.textContent)||void 0===t?void 0:t.trim())||"").replace(/\s+/g," ").replace(/([.,!?;:])(?!\s)/g,"$1 ").replace(/\s+([.,!?;:])/g,"$1").replace(/\s+/g," ").replace(/\s*\n\s*/g," ").replace(/([A-Za-z])\s+([.,!?;:])/g,"$1$2").trim()}showTranslationPopup(e,t){this.popup&&(this.popup.remove(),document.removeEventListener("click",this.handleDocumentClick));const n=t.target.textContent||"";this.popup=document.createElement("div"),this.popup.className="wordstream-popup",Object.assign(this.popup.style,{position:"fixed",right:"24px",top:"50%",transform:"translateY(-50%)",background:"rgba(28, 28, 28, 0.95)",borderRadius:"8px",padding:"16px",minWidth:"200px",maxWidth:"300px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)",color:"#fff",fontFamily:"'Roboto', 'Segoe UI', sans-serif",fontSize:"14px",lineHeight:"1.5",zIndex:"9999999",display:"block",visibility:"visible",opacity:"1",transition:"opacity 0.2s ease-out"});const r=document.createElement("div");r.className="original-word",r.textContent=n,Object.assign(r.style,{color:"#64B5F6",fontWeight:"500",fontSize:"16px",marginBottom:"8px",display:"block",fontFamily:"'Roboto', 'Segoe UI', sans-serif"}),this.popup.appendChild(r);const o=document.createElement("div");o.className="translated-word",o.textContent=e,Object.assign(o.style,{fontWeight:"500",fontSize:"16px",display:"block",fontFamily:"'Roboto', 'Segoe UI', sans-serif"}),this.popup.appendChild(o),document.body.appendChild(this.popup),document.addEventListener("click",this.handleDocumentClick),setTimeout((()=>{this.popup&&(this.popup.style.opacity="0",setTimeout((()=>{this.popup&&(this.popup.remove(),document.removeEventListener("click",this.handleDocumentClick))}),200))}),5e3)}cleanup(){this.observer&&(this.observer.disconnect(),this.observer=null),this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.popup&&(this.popup.remove(),this.popup=null),this.checkInterval&&(clearInterval(this.checkInterval),this.checkInterval=null),this.isProcessing=!1,this.processedNodes.clear();document.querySelectorAll(".wordstream-word").forEach((e=>{var t;const n=e.cloneNode(!0);null===(t=e.parentNode)||void 0===t||t.replaceChild(n,e)})),this.removeFloatingControls()}detect(){return F(this,void 0,void 0,(function*(){try{const e=document.querySelector(".ytp-caption-window-container");return e&&this.addFloatingControls(),e||null}catch(e){return console.error("Error detecting caption container:",e),null}}))}processCaption(e){e&&this.startObserving(e)}processTextNode(e){if(!e||!e.textContent)return;const t=e.textContent.trim();if(!t)return;const n=this.lastProcessedText.get(e);if(n===t)return;const r=e.parentNode;if(!r)return;const o=document.createElement("div");o.style.cssText="\n      position: absolute;\n      visibility: hidden;\n      pointer-events: none;\n      width: 100%;\n    ",o.textContent=n||"",r.appendChild(o);const a=t.split(/[\s\u200B-\u200D\uFEFF]+/).filter((e=>e.length>0)),i=document.createDocumentFragment();a.forEach(((e,t)=>{const n=document.createElement("span");if(n.className="wordstream-word",n.textContent=e,n.addEventListener("click",(e=>{e.stopPropagation(),this.handleWordClick(e)}),{passive:!1}),i.appendChild(n),t<a.length-1){const n=a[t+1];this.needsSpaceBetweenWords(e,n)&&i.appendChild(document.createTextNode(" "))}})),r.replaceChild(i,e),this.lastProcessedText.set(e,t),requestAnimationFrame((()=>{o.remove()}))}detectCaptionLanguage(e){var t;return z(e.getAttribute("lang")||(null===(t=e.closest("[lang]"))||void 0===t?void 0:t.getAttribute("lang"))||document.documentElement.lang||"auto")}addFloatingControls(){console.log("[WordStream] Adding floating controls to YouTube...");try{this.getPlayerApi()||console.warn("[WordStream] Player API not found, will attempt to add controls anyway");let e=document.querySelector("div.html5-video-player");e||(console.warn("[WordStream] Standard video player not found, trying alternatives"),e=document.querySelector(".ytd-player")),e||(console.warn("[WordStream] Using fallback container for controls"),e=document.querySelector(".watch-main-col")||document.body),this.removeFloatingControls();const t=document.getElementById("wordstream-floating-controls-container");t&&(console.log("[WordStream] Controls already exist, removing first"),t.remove())}catch(e){console.error("[WordStream] Error adding floating controls:",e)}}renderControls(e,t=!0,n=!1,r=!1){var a,i;console.log(`[WordStream] Rendering controls. Persist: ${t}, Show Gemini: ${n}, Show Notes: ${r}`);try{let l=window.React,s=window.ReactDOM;if(!l||!s||!s.createRoot){console.log("[WordStream] React or ReactDOM not found globally, importing directly...");try{l=o(540),s=o(338),console.log("[WordStream] Successfully imported React and ReactDOM")}catch(e){return void console.error("[WordStream] Failed to import React and ReactDOM:",e)}}console.log("[WordStream] React available:",!!l),console.log("[WordStream] ReactDOM available:",!!s),console.log("[WordStream] ReactDOM.createRoot available:",!(!s||!s.createRoot));const c=null===(i=null===(a=window.WordStream)||void 0===a?void 0:a.Components)||void 0===i?void 0:i.FloatingControls;if(!c)return void console.error("[WordStream] FloatingControls component not found");for(console.log("[WordStream] FloatingControls component found");e.firstChild;)e.removeChild(e.firstChild);const u=document.createElement("div");u.className="wordstream-root",e.appendChild(u);try{const o=s.createRoot(u),a=this.getPlayerApi(),i=a?a.getCurrentTime():0,d=a?a.getDuration():0;console.log(`[WordStream] Creating component with persistVisibility=${t}`),o.render(l.createElement(c,{onClose:()=>{console.log("[WordStream] Close button clicked"),e.style.display="none"},persistVisibility:t,initialShowGemini:n,initialShowNotes:r,currentTime:i,videoDuration:d})),console.log("[WordStream] Component rendered successfully")}catch(e){console.error("[WordStream] Error rendering with createRoot:",e)}}catch(e){console.error("[WordStream] Error rendering controls:",e)}}removeFloatingControls(){if(console.log("[WordStream] YouTube detector: Cleanly releasing controls resources"),this.videoUpdateInterval&&(clearInterval(this.videoUpdateInterval),this.videoUpdateInterval=null),this.controlsRoot){try{this.controlsRoot.unmount()}catch(e){console.warn("[WordStream] Error unmounting React root:",e)}this.controlsRoot=null}this.controlsContainer=null,console.log("[WordStream] YouTube detector: Controls resources released")}getVideoId(){return new URLSearchParams(window.location.search).get("v")||window.location.pathname}getPlayerApi(){try{if(document.querySelector(".html5-video-player")){const e=document.querySelector(".html5-video-player");if(e&&e.getPlayerState)return console.log("[WordStream] Found player API via player element"),e;if(window.hasOwnProperty("yt")&&window.yt&&window.yt.player&&window.yt.player.getPlayerByElement){const t=window.yt.player.getPlayerByElement(e);if(t)return console.log("[WordStream] Found player API via yt.player global object"),t}const t=document.querySelector("video");if(t)return console.log("[WordStream] Using video element as fallback for player API"),{getPlayerState:()=>t.paused?2:1,getCurrentTime:()=>t.currentTime,getDuration:()=>t.duration,getVideoUrl:()=>window.location.href,getVideoData:()=>({video_id:this.getVideoId(),title:document.title.replace(" - YouTube","")})}}return console.error("[WordStream] Player API not found"),null}catch(e){return console.error("[WordStream] Error getting player API:",e),null}}}var _=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))};class N{constructor(){this.source="netflix",this.observer=null,this.popup=null,this.lastProcessedText=new WeakMap,this.animationFrameId=null,this.controlsContainer=null,this.videoUpdateInterval=null,this.currentVideoTime=0,this.videoDuration=0,this.controlsRoot=null,this.translationService=new C,this.initializeObserver()}initializeObserver(){this.observer=new MutationObserver((e=>{this.animationFrameId&&cancelAnimationFrame(this.animationFrameId),this.animationFrameId=requestAnimationFrame((()=>{const t=new Set;e.forEach((e=>{if("characterData"===e.type&&e.target instanceof Text){const n=e.target.parentElement;(null==n?void 0:n.classList.contains("player-timedtext-text-container"))&&t.add(e.target)}else"childList"===e.type&&e.addedNodes.forEach((e=>{if(e instanceof Text){const n=e.parentElement;(null==n?void 0:n.classList.contains("player-timedtext-text-container"))&&t.add(e)}else e instanceof HTMLElement&&e.classList.contains("player-timedtext-text-container")&&e.childNodes.forEach((e=>{e instanceof Text&&t.add(e)}))}))})),t.forEach((e=>this.processTextNode(e))),this.animationFrameId=null}))}))}detect(){return _(this,void 0,void 0,(function*(){const e=document.querySelector(".player-timedtext");return e?(this.addFloatingControls(),e):new Promise((e=>{const t=new MutationObserver(((t,n)=>{const r=document.querySelector(".player-timedtext");r&&(n.disconnect(),this.addFloatingControls(),e(r))}));t.observe(document.body,{childList:!0,subtree:!0}),setTimeout((()=>{t.disconnect(),e(null)}),1e4)}))}))}processCaption(e){e&&this.startObserving(e)}processTextNode(e){if(!e||!e.textContent)return;const t=e.textContent.trim();if(!t)return;const n=this.lastProcessedText.get(e);if(n===t)return;const r=e.parentNode;if(!r)return;const o=document.createElement("div");o.style.cssText="\n      position: absolute;\n      visibility: hidden;\n      pointer-events: none;\n      width: 100%;\n    ",o.textContent=n||"",r.appendChild(o);const a=t.split(/[\s\u200B-\u200D\uFEFF]+/).filter((e=>e.length>0)),i=document.createDocumentFragment();a.forEach(((e,t)=>{const n=document.createElement("span");if(n.className="wordstream-word",n.textContent=e,n.addEventListener("click",(e=>{e.stopPropagation(),this.handleWordClick(e)}),{passive:!1}),i.appendChild(n),t<a.length-1){const n=a[t+1];this.needsSpaceBetweenWords(e,n)&&i.appendChild(document.createTextNode(" "))}})),r.replaceChild(i,e),this.lastProcessedText.set(e,t),requestAnimationFrame((()=>{o.remove()}))}needsSpaceBetweenWords(e,t){const n=/^[\p{Script=Han}\p{Script=Hiragana}\p{Script=Katakana}\p{Script=Thai}]/u;return!(n.test(e)||n.test(t))}detectCaptionsLanguage(){try{const e=document.querySelector(".track-list-subtitles");if(e){const t=e.querySelector('[aria-selected="true"]');if(t){const e=t.textContent||"",n=e.toLowerCase().includes("auto-generated");return{language:t.getAttribute("data-lang")||t.getAttribute("lang")||"en",languageName:e,isAuto:n}}}const t=document.querySelector(".VideoContainer");if(t){const e=t.getAttribute("lang")||document.documentElement.lang;if(e)return{language:e,languageName:e,isAuto:!1}}return{language:"en",languageName:"English",isAuto:!1}}catch(e){return console.error("Error detecting Netflix captions language:",e),{language:"en",languageName:"English",isAuto:!1}}}handleWordClick(e){return _(this,void 0,void 0,(function*(){var t;e.preventDefault(),e.stopPropagation();const n=e.target.textContent;if(n){console.log("WordStream: Handling click for word:",n);try{if("undefined"==typeof chrome||!(null===(t=chrome.runtime)||void 0===t?void 0:t.id))return void console.error("Chrome API not available");const r=this.detectCaptionsLanguage();console.log("WordStream: Detected Netflix captions language:",r),chrome.storage.sync.get(["settings","words","stats"],(t=>_(this,void 0,void 0,(function*(){var o,a;if(chrome.runtime.lastError)return void console.error("Error accessing storage:",chrome.runtime.lastError);const i=(null===(o=t.settings)||void 0===o?void 0:o.targetLanguage)||"en";console.log("WordStream: Translating to:",i);const l=yield this.translationService.translate(n,i);if(console.log("WordStream: Translation result:",l),l.success&&l.translatedText){this.showTranslationPopup(l.translatedText,e);const t=(null===(a=document.querySelector(".video-title"))||void 0===a?void 0:a.textContent)||document.title,o={season:void 0,episode:void 0,episodeTitle:void 0},s=document.querySelector(".video-title h4");if(s){const e=s.textContent||"",t=e.match(/S(\d+):E(\d+)/);t&&(o.season=parseInt(t[1]),o.episode=parseInt(t[2]),o.episodeTitle=e.replace(/S\d+:E\d+\s*/,"").trim())}const c={id:`${n}-${Date.now()}`,originalWord:n,targetWord:l.translatedText,sourceLanguage:r.language,targetLanguage:i,timestamp:(new Date).toISOString(),context:{source:"netflix",videoTitle:t,captionsLanguage:r,url:window.location.href,episodeInfo:o},stats:{successRate:0,totalReviews:0,lastReview:(new Date).toISOString()}};chrome.storage.sync.get(["words_metadata","words_groups"],(e=>_(this,void 0,void 0,(function*(){if(chrome.runtime.lastError)return void console.error("Error accessing metadata:",chrome.runtime.lastError);if(!(!e.words_metadata||!e.words_groups)){console.log("WordStream: Using new word storage format");let t=[];Array.isArray(e.words_groups)?chrome.storage.sync.get(e.words_groups,(n=>{if(chrome.runtime.lastError)console.error("Error loading word groups:",chrome.runtime.lastError);else{for(const r of e.words_groups)n[r]&&Array.isArray(n[r])&&t.push(...n[r]);this.saveWordWithGroups(t,c,r,i)}})):this.saveWordWithGroups([],c,r,i)}else console.log("WordStream: Using old word storage format (legacy)"),chrome.storage.sync.get(["words","stats"],(e=>{if(chrome.runtime.lastError)return void console.error("Error accessing words:",chrome.runtime.lastError);const t=e.words||[],o=e.stats||{wordsLearned:0,dailyStreak:0,accuracy:0,lastActive:(new Date).toISOString()};console.log(`Checking if word "${n}" already exists...`);const a=n.trim().toLowerCase();if(t.some((e=>e.originalWord.trim().toLowerCase()===a&&e.sourceLanguage===r.language&&e.targetLanguage===i)))console.log(`Word "${n}" already exists, not adding duplicate`);else{console.log(`Adding new word: "${n}" (${r.language} → ${i})`),t.push(c);const e=new Date,a=new Date(o.lastActive);if(e.getDate()!==a.getDate()||e.getMonth()!==a.getMonth()||e.getFullYear()!==a.getFullYear()){const t=Math.floor((e.getTime()-a.getTime())/864e5);o.dailyStreak=1===t?o.dailyStreak+1:1}o.wordsLearned+=1,o.lastActive=e,chrome.storage.sync.set({words:t,stats:o},(()=>{chrome.runtime.lastError?console.error("Error saving data:",chrome.runtime.lastError):(console.log("WordStream: Word saved:",c),console.log("WordStream: Stats updated:",o))}))}}))}))))}else console.error("Translation failed:",l.error)}))))}catch(e){console.error("Error handling word click:",e)}}}))}getSubtitleContext(e){var t;const n=e.closest(".player-timedtext-text-container");if(!n)return"";return((null===(t=n.textContent)||void 0===t?void 0:t.trim())||"").replace(/\s+/g," ").replace(/([.,!?;:])(?!\s)/g,"$1 ").replace(/\s+([.,!?;:])/g,"$1").replace(/\s+/g," ").replace(/\s*\n\s*/g," ").replace(/([A-Za-z])\s+([.,!?;:])/g,"$1$2").trim()}showTranslationPopup(e,t){this.popup&&this.popup.remove(),this.popup=document.createElement("div"),this.popup.className="wordstream-popup";const n=t.target.textContent||"";Object.assign(this.popup.style,{position:"fixed",right:"24px",top:"50%",transform:"translateY(-50%)",background:"rgba(28, 28, 28, 0.95)",borderRadius:"8px",padding:"16px",minWidth:"200px",maxWidth:"300px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)",color:"#fff",fontFamily:"'Roboto', 'Segoe UI', sans-serif",fontSize:"14px",lineHeight:"1.5",zIndex:"9999999",display:"block",visibility:"visible",opacity:"1",transition:"opacity 0.2s ease-out"});const r=document.createElement("div");r.className="original-word",r.textContent=n,Object.assign(r.style,{color:"#64B5F6",fontWeight:"500",fontSize:"16px",marginBottom:"8px",display:"block",fontFamily:"'Roboto', 'Segoe UI', sans-serif"}),this.popup.appendChild(r);const o=document.createElement("div");o.className="translated-word",o.textContent=e,Object.assign(o.style,{fontWeight:"500",fontSize:"16px",display:"block",fontFamily:"'Roboto', 'Segoe UI', sans-serif"}),this.popup.appendChild(o),document.body.appendChild(this.popup),setTimeout((()=>{this.popup&&(this.popup.style.opacity="0",setTimeout((()=>{this.popup&&(this.popup.remove(),this.popup=null)}),200))}),4e3)}startObserving(e){if(this.observer)try{this.observer.observe(e,{childList:!0,characterData:!0,subtree:!0});Array.from(e.getElementsByClassName("player-timedtext-text-container")).flatMap((e=>Array.from(e.childNodes))).filter((e=>e.nodeType===Node.TEXT_NODE)).forEach((e=>this.processTextNode(e)))}catch(e){console.error("WordStream: Error starting observation:",e)}else console.warn("WordStream: Observer not initialized")}stopObserving(){if(this.observer)try{this.observer.disconnect(),this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}catch(e){console.error("WordStream: Error stopping observation:",e)}else console.warn("WordStream: Observer not initialized")}cleanup(){this.observer&&(this.observer.disconnect(),this.observer=null),this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.popup&&(this.popup.remove(),this.popup=null);document.querySelectorAll(".wordstream-word").forEach((e=>{var t;const n=e.cloneNode(!0);null===(t=e.parentNode)||void 0===t||t.replaceChild(n,e)})),this.removeFloatingControls()}addFloatingControls(){console.log("[WordStream] Adding floating controls to Netflix...");try{let e=document.querySelector(".watch-video");e||(console.warn("[WordStream] Standard Netflix player not found, trying alternatives"),e=document.querySelector(".VideoContainer")||document.querySelector(".nfp")),e||(console.warn("[WordStream] Using fallback container for controls"),e=document.body),this.removeFloatingControls();const t=document.getElementById("wordstream-floating-controls-container");t&&(console.log("[WordStream] Controls already exist, removing first"),t.remove())}catch(e){console.error("[WordStream] Error adding floating controls:",e)}}renderControls(e,t=!0,n=!1,r=!1){var a,i;console.log(`[WordStream] Rendering controls. Persist: ${t}, Show Gemini: ${n}, Show Notes: ${r}`);try{let l=window.React,s=window.ReactDOM;if(!l||!s||!s.createRoot){console.log("[WordStream] React or ReactDOM not found globally, importing directly...");try{l=o(540),s=o(338),console.log("[WordStream] Successfully imported React and ReactDOM for Netflix")}catch(e){return void console.error("[WordStream] Failed to import React and ReactDOM for Netflix:",e)}}console.log("[WordStream] React available for Netflix:",!!l),console.log("[WordStream] ReactDOM available for Netflix:",!!s),console.log("[WordStream] ReactDOM.createRoot available for Netflix:",!(!s||!s.createRoot));const c=null===(i=null===(a=window.WordStream)||void 0===a?void 0:a.Components)||void 0===i?void 0:i.FloatingControls;if(!c)return void console.error("[WordStream] FloatingControls component not found for Netflix");for(console.log("[WordStream] FloatingControls component found for Netflix");e.firstChild;)e.removeChild(e.firstChild);const u=document.createElement("div");u.className="wordstream-root",e.appendChild(u);try{const o=s.createRoot(u),a=document.querySelector("video"),i=a?a.currentTime:0,d=a?a.duration:0;console.log(`[WordStream] Creating component for Netflix with persistVisibility=${t}`),o.render(l.createElement(c,{onClose:()=>{console.log("[WordStream] Close button clicked in Netflix"),e.style.display="none"},persistVisibility:t,initialShowGemini:n,initialShowNotes:r,currentTime:i,videoDuration:d})),console.log("[WordStream] Component rendered successfully for Netflix")}catch(e){console.error("[WordStream] Error rendering with createRoot for Netflix:",e)}}catch(e){console.error("[WordStream] Error rendering controls for Netflix:",e)}}removeFloatingControls(){if(console.log("[WordStream] Netflix detector: Cleanly releasing controls resources"),this.videoUpdateInterval&&(clearInterval(this.videoUpdateInterval),this.videoUpdateInterval=null),this.controlsRoot){try{this.controlsRoot.unmount()}catch(e){console.warn("[WordStream] Error unmounting React root:",e)}this.controlsRoot=null}this.controlsContainer=null,console.log("[WordStream] Netflix detector: Controls resources released")}saveWordWithGroups(e,t,n,r){const o=t.originalWord,a=o.trim().toLowerCase();if(e.some((e=>{var t;return(null===(t=e.originalWord)||void 0===t?void 0:t.trim().toLowerCase())===a&&e.sourceLanguage===n.language&&e.targetLanguage===r})))return void console.log(`Word "${o}" already exists, not adding duplicate`);console.log(`Adding new word: "${o}" (${n.language} → ${r})`);let i=[...e,t];i.length>100&&(console.log(`WordStream: Too many saved words (${i.length}), removing oldest`),i.sort(((e,t)=>new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime())),i=i.slice(-100));const l={};i.forEach(((e,t)=>{const n=`words_group_${Math.floor(t/10)}`;l[n]||(l[n]=[]),l[n].push(e)}));const s={totalGroups:Object.keys(l).length,totalWords:i.length,lastUpdated:(new Date).toISOString()};chrome.storage.sync.set({words_metadata:s},(()=>{if(chrome.runtime.lastError)console.error("Error saving metadata:",chrome.runtime.lastError);else{for(const[e,t]of Object.entries(l))chrome.storage.sync.set({[e]:t},(()=>{chrome.runtime.lastError&&console.error(`Error saving group ${e}:`,chrome.runtime.lastError)}));chrome.storage.sync.get(["stats"],(e=>{if(chrome.runtime.lastError)return void console.error("Error loading stats:",chrome.runtime.lastError);const t=e.stats||{},n=new Date,r=t.lastActive?new Date(t.lastActive):new Date(0),o=new Date(n.getFullYear(),n.getMonth(),n.getDate()),a=new Date(r.getFullYear(),r.getMonth(),r.getDate()),s=Math.abs(o.getTime()-a.getTime()),c=Math.ceil(s/864e5);let u=t.streak||0,d=t.todayWords||0;c>=1?d=1:d+=1,1===c?u+=1:c>1&&(u=1),chrome.storage.sync.set({words_groups:Object.keys(l),stats:{totalWords:i.length,lastSaved:n.toISOString(),todayWords:d,streak:u,lastActive:n.toISOString()}},(()=>{chrome.runtime.lastError?console.error("Error saving groups list and stats:",chrome.runtime.lastError):(console.log("WordStream: Word saved successfully in grouped format"),console.log("WordStream: Stats updated - streak:",u,"today words:",d))}))}))}}))}}var M=o(338),W=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))};const P={small:{width:320,height:400},medium:{width:400,height:550},large:{width:500,height:700}};function R({videoId:e,videoTitle:t,isVisible:n,onClose:r}){const[o,i]=(0,a.useState)([]),[l,s]=(0,a.useState)(""),[c,u]=(0,a.useState)(!1),[d,f]=(0,a.useState)("medium"),[p,h]=(0,a.useState)({x:20,y:80}),[m,g]=(0,a.useState)(!1),[v,y]=(0,a.useState)((()=>window.matchMedia("(prefers-color-scheme: dark)").matches)),b=(0,a.useRef)({x:0,y:0}),x=(0,a.useRef)(null),w=(0,a.useRef)(null),k=P[d];(0,a.useEffect)((()=>{w.current&&(w.current.scrollTop=w.current.scrollHeight)}),[o]),(0,a.useEffect)((()=>{console.log("WordStream: GeminiAssistant visibility changed to",n?"visible":"hidden"),n&&console.log("WordStream: GeminiAssistant position:",p)}),[n,p]);const S=n=>W(this,void 0,void 0,(function*(){try{if(!n.length||"undefined"==typeof chrome||!chrome.storage||!chrome.storage.local)return void console.log("WordStream: Skipping chat save - no messages or Chrome API not available");console.log("WordStream: Saving chat for videoId:",e);const r=window.location.href;chrome.storage.local.set({[`chat-${e}`]:n},(()=>{chrome.runtime.lastError?console.error("WordStream ERROR: Failed to save chat in old format:",chrome.runtime.lastError):console.log("WordStream: Chat saved in legacy format successfully")}));const[o]=(0,a.useState)((()=>`chat_${e}_${Date.now()}_${Math.random().toString(36).substring(2,10)}`));chrome.storage.local.get(["chats_storage","video_chats_map"],(a=>{if(chrome.runtime.lastError)return void console.error("WordStream ERROR: Failed to get storage:",chrome.runtime.lastError);const i=a.chats_storage||{},l=a.video_chats_map||{};console.log("WordStream: Current chats storage:",i),i[o]={conversationId:o,videoId:e,videoTitle:t,videoURL:r,lastUpdated:(new Date).toISOString(),messages:n},l[e]||(l[e]=[]),l[e].includes(o)||l[e].push(o),console.log("WordStream: Saving updated chats storage and mapping"),chrome.storage.local.set({chats_storage:i,video_chats_map:l},(()=>{chrome.runtime.lastError?console.error("WordStream ERROR: Error saving chat:",chrome.runtime.lastError):console.log("WordStream: Chat saved successfully in unified format, conversationId:",o)}))}))}catch(e){console.error("WordStream ERROR: Exception in chat saving process:",e)}})),E=t=>W(this,void 0,void 0,(function*(){if(!t.trim())return;const n={role:"user",content:t},r=[...o,n];i(r),u(!0);try{if(console.log("WordStream: Sending message with history:",o.length,"previous messages"),"undefined"==typeof chrome||!chrome.runtime)throw new Error("Chrome runtime API not available");const n=yield chrome.runtime.sendMessage({action:"gemini",message:t,history:o,videoId:e});if(console.log("WordStream: Received response from Gemini API:",!!n),!n||n.error)throw console.error("WordStream ERROR: Problem with Gemini response:",(null==n?void 0:n.error)||"Empty response"),new Error("Error processing response");if(n&&n.answer){const e={role:"assistant",content:n.answer},t=[...r,e];i(t),S(t)}}catch(e){console.error("WordStream ERROR: Error sending message:",e);const t={role:"assistant",content:"Sorry, I encountered an error processing your request. Please try again."},n=[...r,t];i(n),S(n)}finally{u(!1),s("")}}));(0,a.useEffect)((()=>{const e=e=>{m&&h({x:e.clientX-b.current.x,y:e.clientY-b.current.y})},t=()=>{g(!1)};return m&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}}),[m]);return n?a.createElement("div",{ref:x,className:v?"dark":"light",style:{position:"fixed",width:`${k.width}px`,height:`${k.height}px`,top:`${p.y}px`,right:`${p.x}px`,zIndex:9999999,backgroundColor:v?"#121212":"#ffffff",border:"1px solid "+(v?"#333333":"#e0e0e0"),borderRadius:"12px",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"rgba(0, 0, 0, 0.25) 0px 4px 12px",fontFamily:"Inter, Roboto, Arial, sans-serif",fontSize:"14px",color:v?"#ffffff":"#121212"}},a.createElement("div",{className:"header",style:{padding:"12px 16px",borderBottom:"1px solid "+(v?"#333333":"#e0e0e0"),display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:v?"#1e1e1e":"#f5f5f5",cursor:"move"},onMouseDown:e=>{e.target.closest("button")||e.target.closest("input")||e.target.closest(".header")&&(g(!0),b.current={x:e.clientX-p.x,y:e.clientY-p.y},e.preventDefault())}},a.createElement("div",{style:{fontSize:"16px",fontWeight:600}},"AI Assistant"),a.createElement("div",{style:{display:"flex",gap:"8px",alignItems:"center"}},a.createElement("div",{style:{display:"flex",border:"1px solid "+(v?"#444":"#ddd"),borderRadius:"4px",overflow:"hidden"}},["small","medium","large"].map((e=>a.createElement("button",{key:e,style:{padding:"4px 8px",backgroundColor:d===e?"#6366F1":v?"#333":"#e8e8e8",color:d===e?"white":v?"#ccc":"#555",border:"none",cursor:"pointer",width:"24px",height:"24px",fontSize:"12px",display:"flex",alignItems:"center",justifyContent:"center"},onClick:t=>{t.stopPropagation(),(e=>{f(e)})(e)}},e.charAt(0).toUpperCase())))),a.createElement("button",{onClick:e=>{e.stopPropagation(),y((e=>!e))},style:{background:"transparent",border:"none",cursor:"pointer",padding:"6px",display:"flex",alignItems:"center",justifyContent:"center",color:v?"#ffffff":"#000000",transition:"all 0.2s ease",width:"32px",height:"32px"},title:v?"Switch to Light Mode":"Switch to Dark Mode"},v?a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},a.createElement("path",{d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})):a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},a.createElement("path",{d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"}))),a.createElement("button",{onClick:e=>{e.stopPropagation(),r()},style:{background:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:v?"#ffffff":"#121212",width:"24px",height:"24px"}},"✕"))),a.createElement("div",{ref:w,style:{flex:1,overflowY:"auto",padding:"16px",display:"flex",flexDirection:"column",gap:"12px",backgroundColor:v?"#121212":"#ffffff"}},0===o.length?a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"}},a.createElement("div",{style:{marginBottom:"16px",color:v?"#a885ff":"#6366F1",background:v?"rgba(168, 133, 255, 0.1)":"rgba(99, 102, 241, 0.1)",borderRadius:"50%",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center"}},a.createElement("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},a.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}),a.createElement("circle",{cx:"12",cy:"10",r:"3"}))),a.createElement("h3",{style:{marginBottom:"8px",color:v?"#ffffff":"#050505",fontWeight:600}},"Ask about the video content"),a.createElement("p",{style:{color:v?"#cccccc":"#666666",marginBottom:"24px",maxWidth:"280px",fontSize:"14px",lineHeight:"1.5"}},'Example: "What does this expression mean?" or "Explain the historical context"')):a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"12px"}},o.map(((e,t)=>a.createElement("div",{key:t,style:{padding:"12px 16px",borderRadius:"12px",maxWidth:"85%",alignSelf:"user"===e.role?"flex-end":"flex-start",backgroundColor:"user"===e.role?v?"#4c6ef5":"#4b8df8":v?"#2a2a30":"#eff1f5",color:"user"===e.role?"white":v?"#e8e8e8":"#333333",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"user"===e.role?"none":"1px solid "+(v?"#444444":"#e0e0e0")}},a.createElement("p",{style:{whiteSpace:"pre-line",margin:0}},e.content)))),c&&a.createElement("div",{style:{padding:"12px 16px",borderRadius:"12px",maxWidth:"85%",alignSelf:"flex-start",backgroundColor:v?"#1e1e20":"#f2f4f8",display:"flex",alignItems:"center",gap:"8px",color:v?"#ffffff":"#121212"}},a.createElement("div",{className:"spinner",style:{width:"16px",height:"16px",border:"2px solid "+(v?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"),borderTopColor:"#6366F1",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),a.createElement("span",null,"Processing...")))),a.createElement("div",{style:{padding:"12px 16px",borderTop:"1px solid "+(v?"#333333":"#e0e0e0"),backgroundColor:v?"#1e1e1e":"#f5f5f5",position:"relative"}},a.createElement("form",{onSubmit:e=>{e.preventDefault(),E(l)},style:{display:"flex",gap:"8px",alignItems:"center"}},a.createElement("input",{type:"text",value:l,onChange:e=>s(e.target.value),placeholder:"Type your question...",style:{flex:1,padding:"8px 12px",border:"1px solid "+(v?"#444":"#ddd"),borderRadius:"8px",backgroundColor:v?"#2d2d2d":"white",color:v?"#ffffff":"#121212",fontSize:"14px",fontFamily:"inherit"},disabled:c}),a.createElement("button",{type:"submit",disabled:c||!l.trim(),style:{display:"flex",alignItems:"center",justifyContent:"center",width:"36px",height:"36px",borderRadius:"8px",backgroundColor:c||!l.trim()?v?"#444":"#ddd":"#6366F1",color:c||!l.trim()?v?"#888":"#aaa":"white",border:"none",cursor:c||!l.trim()?"not-allowed":"pointer"}},a.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},a.createElement("path",{d:"M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"}))))),a.createElement("style",null,"\n          @keyframes spin {\n            to { transform: rotate(360deg); }\n          }\n        ")):null}var I=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))};const D={small:{width:320,height:400},medium:{width:400,height:550},large:{width:500,height:700}};function A({videoId:e,videoTitle:t,isVisible:n,onClose:r,currentTime:o}){const[i,l]=(0,a.useState)([]),[s,c]=(0,a.useState)(""),[u,d]=(0,a.useState)(!1),[f,p]=(0,a.useState)("medium"),[h,m]=(0,a.useState)({x:20,y:80}),[g,v]=(0,a.useState)(!1),[y,b]=(0,a.useState)((()=>window.matchMedia("(prefers-color-scheme: dark)").matches)),x=(0,a.useRef)({x:0,y:0}),w=(0,a.useRef)(null),k=(0,a.useRef)(null),S=D[f];(0,a.useEffect)((()=>{n&&e&&(()=>{I(this,void 0,void 0,(function*(){if(e)try{console.log("WordStream: Loading notes for video",e),chrome.storage.local.get([`notes-${e}`],(t=>{t[`notes-${e}`]?(console.log("WordStream: Found saved notes with",t[`notes-${e}`].length,"items"),l(t[`notes-${e}`])):console.log("WordStream: No saved notes found for this video")}))}catch(e){console.error("WordStream: Failed to load notes:",e)}}))})()}),[n,e]),(0,a.useEffect)((()=>{console.log("WordStream: NotesPanel visibility changed to",n?"visible":"hidden"),n&&console.log("WordStream: NotesPanel position:",h)}),[n,h]);const E=()=>I(this,void 0,void 0,(function*(){if(s.trim()&&!u){d(!0),console.log("WordStream: Saving new note for video",e);try{const t={id:Date.now().toString(),content:s.trim(),timestamp:(new Date).toISOString(),videoTime:o},n=[...i,t];l(n),c(""),chrome.storage.local.set({[`notes-${e}`]:n},(()=>{chrome.runtime.lastError?console.error("WordStream: Error saving notes:",chrome.runtime.lastError):console.log("WordStream: Note saved successfully")}))}catch(e){console.error("WordStream: Failed to save note:",e)}finally{d(!1)}}})),C=e=>{if(void 0===e)return"";const t=Math.floor(e/60),n=Math.floor(e%60);return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`};(0,a.useEffect)((()=>{const e=e=>{g&&m({x:e.clientX-x.current.x,y:e.clientY-x.current.y})},t=()=>{v(!1)};return g&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}}),[g]);return n?a.createElement("div",{ref:w,className:y?"dark":"light",style:{position:"fixed",width:`${S.width}px`,height:`${S.height}px`,top:`${h.y}px`,left:`${h.x}px`,zIndex:9999999,backgroundColor:y?"#121212":"#ffffff",border:"1px solid "+(y?"#333333":"#e0e0e0"),borderRadius:"12px",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"rgba(0, 0, 0, 0.25) 0px 4px 12px",fontFamily:"Inter, Roboto, Arial, sans-serif",fontSize:"14px",color:y?"#ffffff":"#121212"}},a.createElement("div",{className:"header",style:{padding:"12px 16px",borderBottom:"1px solid "+(y?"#333333":"#e0e0e0"),display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:y?"#1e1e1e":"#f5f5f5",cursor:"move"},onMouseDown:e=>{e.target.closest("button")||e.target.closest("textarea")||e.target.closest(".header")&&(v(!0),x.current={x:e.clientX-h.x,y:e.clientY-h.y},e.preventDefault())}},a.createElement("div",{style:{fontSize:"16px",fontWeight:600}},"Notes & Summary"),a.createElement("div",{style:{display:"flex",gap:"8px",alignItems:"center"}},a.createElement("div",{style:{display:"flex",border:"1px solid "+(y?"#444":"#ddd"),borderRadius:"4px",overflow:"hidden"}},["small","medium","large"].map((e=>a.createElement("button",{key:e,style:{padding:"4px 8px",backgroundColor:f===e?"#10B981":y?"#333":"#f0f0f0",color:f===e?"white":y?"#ccc":"#333",border:"none",cursor:"pointer",width:"24px",height:"24px",fontSize:"12px",display:"flex",alignItems:"center",justifyContent:"center"},onClick:t=>{t.stopPropagation(),(e=>{p(e)})(e)}},e.charAt(0).toUpperCase())))),a.createElement("button",{onClick:e=>{e.stopPropagation(),b((e=>!e))},style:{background:"transparent",border:"none",cursor:"pointer",padding:"6px",display:"flex",alignItems:"center",justifyContent:"center",color:y?"#ffffff":"#000000",transition:"all 0.2s ease",width:"32px",height:"32px"},title:y?"Switch to Light Mode":"Switch to Dark Mode"},y?a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},a.createElement("path",{d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})):a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},a.createElement("path",{d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"}))),a.createElement("button",{onClick:e=>{e.stopPropagation(),r()},style:{background:"transparent",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:y?"#ffffff":"#121212",width:"24px",height:"24px"}},"✕"))),a.createElement("div",{ref:k,style:{flex:1,overflowY:"auto",padding:"16px",display:"flex",flexDirection:"column",gap:"12px",backgroundColor:y?"#121212":"#ffffff"}},0===i.length?a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center",backgroundColor:y?"#121212":"#f8fafc"}},a.createElement("div",{style:{marginBottom:"16px",color:y?"#34d399":"#10b981",background:y?"rgba(52, 211, 153, 0.15)":"rgba(16, 185, 129, 0.15)",borderRadius:"50%",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center"}},a.createElement("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},a.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),a.createElement("polyline",{points:"14 2 14 8 20 8"}),a.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),a.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),a.createElement("polyline",{points:"10 9 9 9 8 9"}))),a.createElement("h3",{style:{marginBottom:"8px",color:y?"#ffffff":"#050505",fontWeight:600}},"Take notes while watching"),a.createElement("p",{style:{color:y?"#cccccc":"#666666",marginBottom:"24px",maxWidth:"280px",fontSize:"14px",lineHeight:"1.5"}},"Add your notes below to capture important moments")):a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"12px"}},i.map((t=>a.createElement("div",{key:t.id,style:{border:"1px solid "+(y?"#3f3f46":"#e0e0e0"),borderRadius:"8px",overflow:"hidden",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"}},a.createElement("div",{style:{padding:"8px 12px",borderBottom:"1px solid "+(y?"#3f3f46":"#e0e0e0"),backgroundColor:y?"#27272a":"#f5f5f5",display:"flex",justifyContent:"space-between",alignItems:"center"}},a.createElement("div",{style:{display:"flex",alignItems:"center",fontSize:"12px",fontWeight:500,color:y?"#d4d4d8":"#4b5563"}},a.createElement("svg",{style:{width:"14px",height:"14px",marginRight:"6px",color:y?"#34d399":"#10b981"},viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},a.createElement("circle",{cx:"12",cy:"12",r:"10"}),a.createElement("polyline",{points:"12 6 12 12 16 14"})),a.createElement("span",null,void 0!==t.videoTime?C(t.videoTime):"No timestamp")),a.createElement("div",{style:{display:"flex",gap:"4px"}},void 0!==t.videoTime&&a.createElement("button",{onClick:()=>(e=>{if("number"!=typeof e)return;console.log("WordStream: Jumping to video time",e);const t=document.querySelector("video");t&&(t.currentTime=e,t.play().catch((()=>{console.log("WordStream: Could not play video automatically")})))})(t.videoTime),style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:y?"#3f3f46":"#e0e0e0",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",color:y?"#d4d4d8":"#4b5563",transition:"all 0.2s ease",fontWeight:500}},a.createElement("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},a.createElement("polygon",{points:"5 3 19 12 5 21 5 3"})),"Jump"),a.createElement("button",{onClick:()=>(t=>{console.log("WordStream: Deleting note",t);const n=i.filter((e=>e.id!==t));l(n),chrome.storage.local.set({[`notes-${e}`]:n},(()=>{chrome.runtime.lastError?console.error("WordStream: Error deleting note:",chrome.runtime.lastError):console.log("WordStream: Note deleted successfully")}))})(t.id),style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"4px",backgroundColor:y?"rgba(239, 68, 68, 0.2)":"rgba(239, 68, 68, 0.1)",border:"none",borderRadius:"4px",color:"#ef4444",cursor:"pointer",fontSize:"12px",transition:"all 0.2s ease"}},a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},a.createElement("path",{d:"M3 6h18"}),a.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))))),a.createElement("div",{style:{padding:"12px",whiteSpace:"pre-line",color:y?"#f1f5f9":"#374151",backgroundColor:y?"#18181b":"#ffffff",lineHeight:"1.5"}},t.content)))))),a.createElement("div",{style:{padding:"12px 16px",borderTop:"1px solid "+(y?"#333333":"#e0e0e0"),backgroundColor:y?"#1e1e1e":"#f5f5f5",position:"relative"}},a.createElement("div",{style:{marginBottom:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"}},a.createElement("div",{style:{fontSize:"12px",color:y?"#aaaaaa":"#666666",display:"flex",alignItems:"center",gap:"4px"}},a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},a.createElement("circle",{cx:"12",cy:"12",r:"10"}),a.createElement("polyline",{points:"12 6 12 12 16 14"})),"Current time: ",void 0!==o?C(o):"--:--"),a.createElement("button",{onClick:()=>void 0!==o&&c((e=>e+(e?"\n":"")+`[${C(o)}] `)),style:{display:"flex",alignItems:"center",gap:"4px",padding:"6px 8px",borderRadius:"4px",border:"none",backgroundColor:void 0!==o?y?"#2d2d2d":"#f0f0f0":y?"#444":"#ddd",color:void 0!==o?y?"#aaaaaa":"#666666":y?"#888":"#aaa",cursor:void 0!==o?"pointer":"not-allowed",fontSize:"12px"},disabled:void 0===o},a.createElement("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},a.createElement("path",{d:"M12 2v10l5 5"}),a.createElement("circle",{cx:"12",cy:"12",r:"10"})),"Add timestamp")),a.createElement("form",{onSubmit:e=>{e.preventDefault(),E()},style:{display:"flex",flexDirection:"column",gap:"8px"}},a.createElement("textarea",{value:s,onChange:e=>c(e.target.value),placeholder:"Write your note about this video...",style:{width:"100%",padding:"8px 12px",border:"1px solid "+(y?"#444":"#ddd"),borderRadius:"8px",resize:"none",minHeight:"80px",backgroundColor:y?"#2d2d2d":"#ffffff",color:y?"#ffffff":"#121212",fontSize:"14px",fontFamily:"inherit"},rows:3}),a.createElement("button",{type:"submit",disabled:u||!s.trim(),style:{alignSelf:"flex-end",padding:"8px 16px",borderRadius:"8px",backgroundColor:u||!s.trim()?y?"#444":"#ddd":"#10B981",color:u||!s.trim()?y?"#888":"#aaa":"white",border:"none",cursor:u||!s.trim()?"not-allowed":"pointer",fontSize:"14px",fontWeight:500}},u?"Saving...":"Save Note")))):null}var O=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((r=r.apply(e,t||[])).next())}))};"undefined"==typeof performance&&(window.performance={now:()=>Date.now()}),window.React=i,window.ReactDOM=Object.assign(Object.assign({},s),{createRoot:M.createRoot}),window.WordStream||(window.WordStream={}),window.WordStream.Components||(window.WordStream.Components={}),window.WordStream.Components.FloatingControls=function({videoId:e,videoTitle:t,currentTime:n,videoDuration:r,initialShowGemini:o=!1,initialShowNotes:i=!1,persistVisibility:l=!1}){const[s,c]=(0,a.useState)(o),[u,d]=(0,a.useState)(i),f=(0,a.useRef)(null);(0,a.useEffect)((()=>(console.log("WordStream: FloatingControls mounted",{videoId:e,initialShowGemini:o,initialShowNotes:i,persistVisibility:l}),()=>{console.log("WordStream: FloatingControls unmounting")})),[e,o,i,l]),(0,a.useEffect)((()=>{o!==s&&(console.log("WordStream: Updating Gemini visibility from prop",o),c(o)),i!==u&&(console.log("WordStream: Updating Notes visibility from prop",i),d(i))}),[o,i]),(0,a.useEffect)((()=>{if(l){console.log("WordStream: Forcing panels to stay open with persistVisibility=true");const e=setInterval((()=>{o&&!s&&(console.log("WordStream: Re-opening Gemini panel that was closed unexpectedly"),c(!0)),i&&!u&&(console.log("WordStream: Re-opening Notes panel that was closed unexpectedly"),d(!0))}),300);return()=>clearInterval(e)}}),[l,o,i,s,u]);const p=(0,a.useCallback)((()=>{console.log("WordStream: GeminiAssistant visibility changed to hidden"),l||c(!1)}),[l]),h=(0,a.useCallback)((()=>{console.log("WordStream: NotesPanel visibility changed to hidden"),l||d(!1)}),[l]);return(0,a.useEffect)((()=>{console.log("WordStream: After render check for element",{geminiVisible:s,notesVisible:u})}),[s,u]),a.createElement("div",{ref:f,className:"wordstream-floating-controls"},a.createElement(R,{videoId:e,videoTitle:t,isVisible:s,onClose:p}),a.createElement(A,{videoId:e,videoTitle:t,isVisible:u,onClose:h,currentTime:n}))},console.log("[WordStream] Registered FloatingControls component on global window.WordStream.Components");let $=null,B=null,U=null;function j(){return O(this,void 0,void 0,(function*(){var e;if($)try{const t=yield $.detect();!t||(e=t,!B&&!e||B&&e&&B===e)||(console.log("WordStream: Caption container changed, updating..."),B&&$.stopObserving(),B=t,$.processCaption(t),console.log("WordStream: Now observing new caption container"))}catch(e){console.error("WordStream: Error monitoring captions:",e)}}))}function H(){return O(this,void 0,void 0,(function*(){if(function(){$&&($.stopObserving(),$=null);U&&(clearInterval(U),U=null);B=null}(),$=function(){const e=window.location.href;return e.includes("youtube.com")?new L:e.includes("netflix.com")?new N:null}(),$){console.log("WordStream: Starting caption detection...");try{yield j(),U=window.setInterval(j,1e3);const e=document.querySelector(".html5-video-player");if(e){new MutationObserver((e=>{e.forEach((e=>{e.target instanceof HTMLElement&&("attributes"!==e.type||"class"!==e.attributeName&&"data-state"!==e.attributeName||j())}))})).observe(e,{attributes:!0,attributeFilter:["class","data-state"]})}}catch(e){console.error("WordStream: Error detecting captions:",e)}}}))}function q(){try{!function(){const e=document.createElement("style");e.textContent="\n    .wordstream-panel {\n      position: fixed;\n      top: 80px;\n      right: 20px;\n      width: 320px;\n      max-width: 90vw;\n      height: auto;\n      max-height: 80vh;\n      background-color: white;\n      border-radius: 12px;\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n      z-index: 9999;\n      display: flex;\n      flex-direction: column;\n      overflow: hidden;\n      font-family: Arial, sans-serif;\n      border: 1px solid #e0e0e0;\n    }\n    \n    .panel-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 12px 16px;\n      border-bottom: 1px solid #eaeaea;\n      background-color: #f9f9f9;\n    }\n    \n    .panel-header h3 {\n      margin: 0;\n      font-size: 16px;\n      font-weight: 600;\n      color: #333;\n    }\n    \n    .close-button {\n      background: none;\n      border: none;\n      font-size: 20px;\n      color: #666;\n      cursor: pointer;\n      padding: 0 8px;\n    }\n    \n    .panel-content {\n      flex: 1;\n      overflow-y: auto;\n      padding: 16px;\n      max-height: 350px;\n    }\n    \n    .helper-text {\n      color: #666;\n      font-size: 14px;\n      margin: 0 0 16px 0;\n      text-align: center;\n    }\n    \n    .conversation-container {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n    \n    .message {\n      display: flex;\n      flex-direction: column;\n      max-width: 100%;\n    }\n    \n    .message-sender {\n      font-weight: bold;\n      margin-bottom: 4px;\n    }\n    \n    .user-message .message-sender {\n      color: #3b82f6;\n    }\n    \n    .gemini-message .message-sender {\n      color: #10b981;\n    }\n    \n    .message-content {\n      padding: 8px 12px;\n      border-radius: 8px;\n      word-break: break-word;\n    }\n    \n    .user-message .message-content {\n      background-color: #f0f7ff;\n    }\n    \n    .gemini-message .message-content {\n      background-color: #f0fdf4;\n    }\n    \n    .panel-footer {\n      padding: 12px 16px;\n      border-top: 1px solid #eaeaea;\n      background-color: #f9f9f9;\n    }\n    \n    .input-container {\n      display: flex;\n      gap: 8px;\n    }\n    \n    .user-input {\n      flex: 1;\n      padding: 8px 12px;\n      border: 1px solid #ddd;\n      border-radius: 20px;\n      font-size: 14px;\n      resize: none;\n      outline: none;\n      min-height: 24px;\n      max-height: 120px;\n    }\n    \n    .send-button {\n      background-color: #2563eb;\n      color: white;\n      border: none;\n      border-radius: 50%;\n      width: 36px;\n      height: 36px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      cursor: pointer;\n      transition: background-color 0.2s;\n    }\n    \n    .send-button:hover {\n      background-color: #1d4ed8;\n    }\n    \n    .send-button:disabled {\n      background-color: #9ca3af;\n      cursor: not-allowed;\n    }\n    \n    .loading-spinner {\n      display: inline-block;\n      width: 16px;\n      height: 16px;\n      border: 2px solid rgba(255, 255, 255, 0.3);\n      border-radius: 50%;\n      border-top-color: white;\n      animation: spin 1s linear infinite;\n    }\n    \n    /* עיצוב משופר לכפתורי הפיצ'רים */\n    .wordstream-floating-button {\n      width: 50px !important;\n      height: 50px !important;\n      border-radius: 50% !important;\n      background-color: rgba(235, 245, 255, 0.95) !important;\n      border: 2px solid rgba(59, 130, 246, 0.3) !important;\n      box-shadow: 0 4px 10px rgba(0,0,0,0.12), 0 0 0 3px rgba(59, 130, 246, 0.05) !important;\n      cursor: pointer !important;\n      display: flex !important;\n      align-items: center !important;\n      justify-content: center !important;\n      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) !important;\n    }\n    \n    .wordstream-floating-button:hover {\n      transform: scale(1.12) translateY(-2px) !important;\n      box-shadow: 0 6px 16px rgba(0,0,0,0.15), 0 0 0 4px rgba(59, 130, 246, 0.15) !important;\n      background-color: rgba(224, 242, 254, 0.98) !important;\n      border: 2px solid rgba(59, 130, 246, 0.5) !important;\n    }\n    \n    .wordstream-floating-button:active {\n      transform: scale(0.95) !important;\n      box-shadow: 0 2px 8px rgba(0,0,0,0.1), 0 0 0 2px rgba(59, 130, 246, 0.2) !important;\n    }\n    \n    .wordstream-floating-button img {\n      width: 26px !important;\n      height: 26px !important;\n    }\n    \n    @keyframes spin {\n      to {\n        transform: rotate(360deg);\n      }\n    }\n  ",document.head.appendChild(e)}();const e=document.createElement("div");e.style.position="fixed",e.style.top="50%",e.style.left="20px",e.style.transform="translateY(-50%)",e.style.display="flex",e.style.flexDirection="column",e.style.gap="20px",e.style.zIndex="9999",e.id="wordstream-controls-container";const t=document.createElement("div");t.id="wordstream-panel-container",t.style.position="fixed",t.style.display="none",t.style.zIndex="9998",document.body.appendChild(t);let n=0;const r=document.createElement("button");r.id="wordstream-gemini-button",r.className="wordstream-floating-button",r.style.width="80px",r.style.height="80px",r.style.borderRadius="16px",r.style.backgroundColor="transparent",r.style.border="none",r.style.boxShadow="none",r.style.cursor="pointer",r.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",r.style.position="relative",r.style.transform="perspective(800px) rotateY(0deg)",r.setAttribute("title","AI Assistant - Get help with video content"),r.innerHTML='\n      <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 16px; background: #1e293b; transform: translateZ(-5px); box-shadow: 0 10px 30px rgba(15, 23, 42, 0.8); transition: all 0.3s ease;"></div>\n      <div style="position: absolute; top: 4px; left: 4px; right: 4px; bottom: 4px; border-radius: 12px; background: linear-gradient(135deg, #0ea5e9 0%, #3b82f6 50%, #6366f1 100%); transform: translateZ(0); transition: all 0.3s ease; overflow: hidden;">\n        <div style="position: absolute; inset: 0; background-image: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.3) 0%, transparent 50%); background-size: 150% 150%;"></div>\n        <div style="position: absolute; bottom: 0; left: 0; width: 100%; height: 40%; background: linear-gradient(to top, rgba(0,0,0,0.4), transparent);"></div>\n      </div>\n      <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; color: white; transform: translateZ(10px);">\n        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="filter: drop-shadow(0 2px 3px rgba(0,0,0,0.3)); margin-top: -2px;">\n          <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>\n          <circle cx="12" cy="10" r="3"></circle>\n        </svg>\n        <div style="font-size: 10px; font-weight: 700; margin-top: 4px; letter-spacing: 0.5px; text-shadow: 0 1px 2px rgba(0,0,0,0.5);">AI CHAT</div>\n      </div>\n    ';let o=0;const a=document.createElement("button");a.id="wordstream-notes-button",a.className="wordstream-floating-button",a.style.width="80px",a.style.height="80px",a.style.borderRadius="16px",a.style.backgroundColor="transparent",a.style.border="none",a.style.boxShadow="none",a.style.cursor="pointer",a.style.transition="transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",a.style.position="relative",a.style.transform="perspective(800px) rotateY(0deg)",a.setAttribute("title","Video Notes - Take notes while watching"),a.innerHTML='\n      <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 16px; background: #1e293b; transform: translateZ(-5px); box-shadow: 0 10px 30px rgba(15, 23, 42, 0.8); transition: all 0.3s ease;"></div>\n      <div style="position: absolute; top: 4px; left: 4px; right: 4px; bottom: 4px; border-radius: 12px; background: linear-gradient(135deg, #059669 0%, #10b981 50%, #34d399 100%); transform: translateZ(0); transition: all 0.3s ease; overflow: hidden;">\n        <div style="position: absolute; inset: 0; background-image: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.3) 0%, transparent 50%); background-size: 150% 150%;"></div>\n        <div style="position: absolute; bottom: 0; left: 0; width: 100%; height: 40%; background: linear-gradient(to top, rgba(0,0,0,0.4), transparent);"></div>\n      </div>\n      <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; color: white; transform: translateZ(10px);">\n        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="filter: drop-shadow(0 2px 3px rgba(0,0,0,0.3));">\n          <path d="M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>\n          <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>\n        </svg>\n        <div style="font-size: 11px; font-weight: 700; margin-top: 5px; letter-spacing: 0.5px; text-shadow: 0 1px 2px rgba(0,0,0,0.5);">NOTES</div>\n      </div>\n    ',r.addEventListener("mouseover",(()=>{r.style.transform="perspective(800px) rotateY(15deg) translateY(-5px)";const e=r.querySelector("div:first-child"),t=r.querySelector("div:nth-child(2)");e&&(e.style.boxShadow="0 15px 40px rgba(15, 23, 42, 0.8)"),t&&(t.style.filter="brightness(1.2)")})),r.addEventListener("mouseout",(()=>{r.style.transform="perspective(800px) rotateY(0deg) translateY(0)";const e=r.querySelector("div:first-child"),t=r.querySelector("div:nth-child(2)");e&&(e.style.boxShadow="0 10px 30px rgba(15, 23, 42, 0.8)"),t&&(t.style.filter="brightness(1)")})),r.addEventListener("mousedown",(()=>{r.style.transform="perspective(800px) rotateY(5deg) translateY(-2px)";const e=r.querySelector("div:first-child"),t=r.querySelector("div:nth-child(2)");e&&(e.style.boxShadow="0 5px 15px rgba(15, 23, 42, 0.7)"),t&&(t.style.filter="brightness(0.9)")})),a.addEventListener("mouseover",(()=>{a.style.transform="perspective(800px) rotateY(15deg) translateY(-5px)";const e=a.querySelector("div:first-child"),t=a.querySelector("div:nth-child(2)");e&&(e.style.boxShadow="0 15px 40px rgba(15, 23, 42, 0.8)"),t&&(t.style.filter="brightness(1.2)")})),a.addEventListener("mouseout",(()=>{a.style.transform="perspective(800px) rotateY(0deg) translateY(0)";const e=a.querySelector("div:first-child"),t=a.querySelector("div:nth-child(2)");e&&(e.style.boxShadow="0 10px 30px rgba(15, 23, 42, 0.8)"),t&&(t.style.filter="brightness(1)")})),a.addEventListener("mousedown",(()=>{a.style.transform="perspective(800px) rotateY(5deg) translateY(-2px)";const e=a.querySelector("div:first-child"),t=a.querySelector("div:nth-child(2)");e&&(e.style.boxShadow="0 5px 15px rgba(15, 23, 42, 0.7)"),t&&(t.style.filter="brightness(0.9)")})),e.appendChild(r),e.appendChild(a),document.body.appendChild(e);const i=function(){const e={small:{width:350,height:500},medium:{width:480,height:550},large:{width:640,height:600}};let t="medium",n=window.matchMedia("(prefers-color-scheme: dark)").matches;const r=document.createElement("div");r.className="wordstream-panel gemini-panel "+(n?"dark":"light"),r.id="wordstream-gemini-panel",r.style.width=`${e[t].width}px`,r.style.height=`${e[t].height}px`,r.style.position="fixed",r.style.top="80px",r.style.right="20px",r.style.zIndex="9999999",r.style.boxShadow="0 10px 25px rgba(0, 0, 0, 0.2)",r.style.borderRadius="12px",r.style.overflow="hidden",r.style.display="flex",r.style.flexDirection="column",r.style.backgroundColor=n?"#121212":"#F7F9FC",r.style.border="1px solid "+(n?"#333333":"#E0E0E0"),r.style.fontFamily='Inter, Roboto, "Segoe UI", -apple-system, BlinkMacSystemFont, Arial, sans-serif',r.style.fontSize="small"===t?"13px":"medium"===t?"14px":"16px",r.style.fontWeight="400",r.style.transition="all 0.3s ease-in-out",r.innerHTML=`\n    <div class="panel-header">\n      <h3>AI Assistant</h3>\n      <div class="header-controls">\n        <div class="size-controls">\n          <button class="size-button size-small" title="Small size">S</button>\n          <button class="size-button size-medium active" title="Medium size">M</button>\n          <button class="size-button size-large" title="Large size">L</button>\n        </div>\n        <button class="toggle-theme" title="Toggle dark/light mode">\n          ${n?'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>':'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>'}\n        </button>\n        <button class="close-button" title="Close">&times;</button>\n      </div>\n    </div>\n    <div class="panel-content">\n      <div class="messages-container" id="messages-container">\n        <div class="welcome-message">\n          <div class="welcome-icon">\n            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">\n              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>\n              <circle cx="12" cy="10" r="3"></circle>\n            </svg>\n          </div>\n          <h3>Ask about the video content</h3>\n          <p>Example: "What does this expression mean?" or "Explain the historical context"</p>\n        </div>\n      </div>\n    </div>\n    <div class="panel-footer">\n      <textarea id="user-input" placeholder="Type your question..."></textarea>\n      <button id="send-button" disabled>\n        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n          <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"></path>\n        </svg>\n      </button>\n    </div>\n  `;const o=document.createElement("style");o.textContent=`\n    .panel-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 16px;\n      border-bottom: 1px solid ${n?"#333333":"#E0E0E0"};\n      background-color: ${n?"#121212":"#F7F9FC"};\n      cursor: move;\n      transition: all 0.3s ease;\n    }\n    \n    .panel-header h3 {\n      margin: 0;\n      font-size: 16px;\n      font-weight: 600;\n      color: ${n?"#FFFFFF":"#222222"};\n    }\n    \n    .header-controls {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n    }\n    \n    .size-controls {\n      display: flex;\n      border: 1px solid ${n?"#444":"#ddd"};\n      border-radius: 4px;\n      overflow: hidden;\n    }\n    \n    .size-button {\n      background: ${n?"#333":"#eee"};\n      border: none;\n      color: ${n?"#B0B0B0":"#555555"};\n      width: 24px;\n      height: 24px;\n      font-size: 12px;\n      cursor: pointer;\n      padding: 0;\n      transition: all 0.2s ease;\n    }\n    \n    .size-button.active {\n      background: ${n?"#3B82F6":"#2563EB"};\n      color: white;\n    }\n    \n    .size-button:hover:not(.active) {\n      background: ${n?"#444":"#ddd"};\n    }\n    \n    .toggle-theme, .close-button {\n      background: transparent;\n      border: none;\n      color: ${n?"#B0B0B0":"#555555"};\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      transition: all 0.2s ease;\n    }\n    \n    .toggle-theme:hover, .close-button:hover {\n      color: ${n?"#FFFFFF":"#222222"};\n      transform: scale(1.1);\n    }\n    \n    .close-button {\n      font-size: 20px;\n      font-weight: bold;\n    }\n    \n    .panel-content {\n      flex: 1;\n      overflow-y: auto;\n      padding: 12px;\n      position: relative;\n      padding-bottom: 120px; /* גובה מספק לחשיפת ההודעה האחרונה במלואה */\n      background-color: var(--bg-color-dark);\n      display: flex;\n      flex-direction: column;\n    }\n    \n    .messages-container {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n      padding-bottom: 30px; /* מרווח נוסף בתחתית */\n    }\n    \n    .welcome-message {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      text-align: center;\n      padding: 24px 16px;\n      color: ${n?"#CCCCCC":"#555555"};\n    }\n    \n    .welcome-icon {\n      margin-bottom: 16px;\n      color: ${n?"#B0B0B0":"#555555"};\n    }\n    \n    .welcome-message h3 {\n      margin: 0 0 8px 0;\n      color: ${n?"#FFFFFF":"#222222"};\n      font-weight: 500;\n    }\n    \n    .welcome-message p {\n      margin: 0;\n      font-size: 14px;\n    }\n    \n    .message {\n      padding: 8px 12px;\n      border-radius: 12px;\n      max-width: 80%;\n      line-height: 1.5;\n      white-space: pre-line;\n    }\n    \n    .message.user {\n      align-self: flex-end;\n      background-color: ${n?"#3B82F6":"#E0F2FE"};\n      color: ${n?"#FFFFFF":"#222222"};\n      margin-left: auto;\n    }\n    \n    .message.ai {\n      align-self: flex-start;\n      background-color: ${n?"#1E1E1E":"#FFFFFF"};\n      color: ${n?"#FFFFFF":"#222222"};\n      margin-right: auto;\n    }\n    \n    .panel-footer {\n      padding: 10px 12px;\n      border-top: 1px solid ${n?"#333333":"#E0E0E0"};\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      background-color: ${n?"#1E1E1E":"#F7F9FC"};\n      z-index: 2;\n      box-sizing: border-box;\n      transition: all 0.3s ease;\n      height: auto; /* Ensure height is calculated based on content */\n      min-height: 60px; /* Minimum height for the footer */\n    }\n    \n    #user-input {\n      flex-grow: 1;\n      padding: 8px 12px;\n      border-radius: 10px;\n      border: 1px solid ${n?"#444":"#ddd"};\n      background-color: ${n?"#2C2C2C":"#FFFFFF"};\n      color: ${n?"#FFFFFF":"#222222"};\n      resize: none;\n      font-family: inherit;\n      font-size: 14px;\n      min-height: 20px;\n      max-height: 120px;\n      transition: all 0.2s ease;\n    }\n    \n    #user-input:focus {\n      outline: none;\n      box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5);\n      border-color: ${n?"#3B82F6":"#2563EB"};\n    }\n    \n    #user-input::placeholder {\n      color: ${n?"#888888":"#999999"};\n    }\n    \n    #send-button {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 36px;\n      height: 36px;\n      border-radius: 10px;\n      border: none;\n      background-color: ${n?"#3B82F6":"#2563EB"};\n      color: white;\n      cursor: pointer;\n      transition: all 0.2s ease;\n    }\n    \n    #send-button:hover:not(:disabled) {\n      transform: scale(1.05);\n      background-color: ${n?"#2563EB":"#1D4ED8"};\n    }\n    \n    #send-button:disabled {\n      background-color: ${n?"#444":"#ddd"};\n      color: ${n?"#888":"#aaa"};\n      cursor: not-allowed;\n    }\n    \n    .loading-indicator {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      padding: 8px 12px;\n      border-radius: 12px;\n      background-color: ${n?"#1E1E1E":"#FFFFFF"};\n      color: ${n?"#FFFFFF":"#222222"};\n      align-self: flex-start;\n      max-width: 80%;\n    }\n    \n    .spinner {\n      width: 16px;\n      height: 16px;\n      border: 2px solid rgba(${n?"255,255,255,0.1":"0,0,0,0.1"});\n      border-top-color: ${n?"#3B82F6":"#2563EB"};\n      border-radius: 50%;\n      animation: spin 0.8s linear infinite;\n    }\n    \n    @keyframes spin {\n      to { transform: rotate(360deg); }\n    }\n  `,r.appendChild(o);let a=!1,i=0,l=0;const s=r.querySelector(".panel-header");s&&s.addEventListener("mousedown",(e=>{e.target.closest("button")||(a=!0,i=e.clientX-r.getBoundingClientRect().left,l=e.clientY-r.getBoundingClientRect().top)}));document.addEventListener("mousemove",(e=>{a&&(r.style.left=e.clientX-i+"px",r.style.top=e.clientY-l+"px")})),document.addEventListener("mouseup",(()=>{a=!1,w()}));const c=r.querySelector(".toggle-theme");c&&c.addEventListener("click",(()=>{n=!n,r.className="wordstream-panel gemini-panel "+(n?"dark":"light"),b()}));const u=r.querySelectorAll(".size-button");u.forEach((e=>{e.addEventListener("click",(()=>{e.classList.contains("size-small")?y("small"):e.classList.contains("size-medium")?y("medium"):e.classList.contains("size-large")&&y("large"),u.forEach((e=>e.classList.remove("active"))),e.classList.add("active")}))}));const d=r.querySelector(".close-button");d&&d.addEventListener("click",(()=>{r.style.display="none";const e=new CustomEvent("geminiPanelClosed");document.dispatchEvent(e)}));const f=r.querySelector("#user-input"),p=r.querySelector("#send-button");if(f&&p){function k(e){e.style.height="auto",e.style.height=Math.min(e.scrollHeight,120)+"px"}f.addEventListener("input",(()=>{p.disabled=""===f.value.trim(),k(f)})),p.addEventListener("click",h),f.addEventListener("keydown",(e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),h())}))}function h(){return O(this,void 0,void 0,(function*(){if(!f||""===f.value.trim())return;const e=f.value.trim();f.value="",f.style.height="auto",p.disabled=!0,g(e,"user");const t=document.createElement("div");t.className="loading-indicator",t.innerHTML='\n      <div class="spinner"></div>\n      <div>Processing...</div>\n    ';const n=r.querySelector(".messages-container");n&&(n.appendChild(t),n.scrollTop=n.scrollHeight);try{const r=x(),o=document.title,a=yield chrome.runtime.sendMessage({action:"gemini",message:e,videoId:r,videoTitle:o});if(n&&t.parentNode===n&&n.removeChild(t),!a||!a.success)throw new Error((null==a?void 0:a.error)||"Failed to get response");g(a.answer,"ai"),m(e,a.answer,r,o)}catch(r){console.error("Error sending message to Gemini:",r);const o=x(),a=document.title;n&&t.parentNode===n&&n.removeChild(t);const i="Sorry, there was an error processing your request. Please try again.";g(i,"ai"),m(e,i,o,a)}}))}function m(e,t,n,o){try{if(!chrome||!chrome.storage||!chrome.storage.local)return void console.error("[WordStream] chrome.storage.local is not available");const a=window.location.href;let i=r.getAttribute("data-conversation-id");i||(i=`chat_${n}_${Date.now()}_${Math.random().toString(36).substring(2,10)}`,r.setAttribute("data-conversation-id",i));const l=r.querySelector(".messages-container");let s=[];if(l){l.querySelectorAll(".message").forEach((e=>{e.classList.contains("user")?s.push({role:"user",content:e.textContent||""}):e.classList.contains("ai")&&s.push({role:"assistant",content:e.textContent||""})}))}else s=[{role:"user",content:e},{role:"assistant",content:t}];chrome.storage.local.set({[`chat-${n}`]:s},(()=>{chrome.runtime.lastError?console.error("[WordStream] Error saving chat (legacy format):",chrome.runtime.lastError):console.log("[WordStream] Chat saved in legacy format successfully")})),chrome.storage.local.get(["chats_storage","video_chats_map"],(e=>{if(chrome.runtime.lastError)return void console.error("[WordStream] Error accessing chats storage:",chrome.runtime.lastError);const t=e.chats_storage||{},r=e.video_chats_map||{};t[i]={conversationId:i,videoId:n,videoTitle:o,videoURL:a,lastUpdated:(new Date).toISOString(),messages:s},r[n]||(r[n]=[]),r[n].includes(i)||r[n].push(i),chrome.storage.local.set({chats_storage:t,video_chats_map:r},(()=>{chrome.runtime.lastError?console.error("[WordStream] Error saving unified chat storage:",chrome.runtime.lastError):console.log("[WordStream] Chat saved to unified storage successfully, conversationId:",i)}))}))}catch(e){console.error("[WordStream] Error in saveChatForUnifiedStorage:",e)}}function g(e,t){const n=document.createElement("div");n.className=`message ${t}`,n.textContent=e;const o=r.querySelector(".welcome-message"),a=r.querySelector(".messages-container");a&&(o&&o.parentNode===a&&a.removeChild(o),a.appendChild(n),v())}function v(){const e=r.querySelector(".messages-container"),t=r.querySelector(".panel-content");e&&(e.scrollTop=e.scrollHeight,t&&(t.scrollTop=t.scrollHeight),setTimeout((()=>{e.scrollTop=e.scrollHeight,t&&(t.scrollTop=t.scrollHeight)}),100))}function y(n){t=n,r.style.width=`${e[n].width}px`,r.style.height=`${e[n].height}px`,w()}function b(){const e=r.querySelector(".panel-header"),t=r.querySelector(".panel-content"),o=r.querySelector(".panel-footer"),a=r.querySelector("#user-input");if(e&&t&&o&&a){r.style.backgroundColor=n?"#121212":"#FFFFFF",r.style.border="1px solid "+(n?"#333333":"#E0E0E0"),e.style.borderBottom="1px solid "+(n?"#333333":"#E0E0E0"),e.style.backgroundColor=n?"#1E1E1E":"#F0F2F5";const i=e.querySelector("h3");i&&(i.style.color=n?"#FFFFFF":"#050505"),t.style.backgroundColor=n?"#121212":"#FFFFFF",t.style.color=n?"#FFFFFF":"#050505",o.style.borderTop="1px solid "+(n?"#333333":"#E0E0E0"),o.style.backgroundColor=n?"#1E1E1E":"#F0F2F5",a.style.borderColor=n?"#444":"#ddd",a.style.backgroundColor=n?"#2D2D2D":"#FFFFFF",a.style.color=n?"#FFFFFF":"#050505";r.querySelectorAll(".message.ai").forEach((e=>{e.style.backgroundColor=n?"#2a2a30":"#eff1f5",e.style.color=n?"#e8e8e8":"#333333",e.style.border="1px solid "+(n?"#444444":"#e0e0e0")}));r.querySelectorAll(".message.user").forEach((e=>{e.style.backgroundColor=n?"#4c6ef5":"#4b8df8",e.style.color="#FFFFFF",e.style.border="none"}));r.querySelectorAll(".size-button:not(.active)").forEach((e=>{e.style.backgroundColor=n?"#333":"#e8e8e8",e.style.color=n?"#ccc":"#555"}));const l=r.querySelector(".toggle-theme");l&&(l.style.background="transparent",l.style.border="none",l.style.borderRadius="50%",l.style.padding="6px",l.style.color=n?"#ffd700":"#7c3aed",l.style.boxShadow="none",l.style.display="flex",l.style.alignItems="center",l.style.justifyContent="center",l.style.gap="0",l.style.width="32px",l.style.height="32px",l.title=n?"Switch to Light Mode":"Switch to Dark Mode",l.innerHTML=n?'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>':'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>')}}function x(){const e=window.location.href;return new URLSearchParams(new URL(e).search).get("v")||""}function w(){const e=window.innerWidth,t=window.innerHeight,n=r.getBoundingClientRect();n.right>e&&(r.style.left=e-n.width+"px"),n.bottom>t&&(r.style.top=t-n.height+"px"),n.left<0&&(r.style.left="0px"),n.top<0&&(r.style.top="0px")}return window.addEventListener("resize",w),r}(),l=function(){var e;const t=document.createElement("div");t.className="wordstream-panel notes-panel medium",t.id="wordstream-notes-panel";const n={small:{width:"350px",height:"500px"},medium:{width:"480px",height:"400px"},large:{width:"640px",height:"600px"}},r=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;r?t.classList.add("dark-mode"):t.classList.add("light-mode");t.style.position="fixed",t.style.width="480px",t.style.height="550px",t.style.top="80px",t.style.left="20px",t.style.zIndex="9999999",t.style.backgroundColor=r?"#121212":"#F7F8FA",t.style.color=r?"#ffffff":"#333333",t.style.border="1px solid "+(r?"#333333":"#e0e0e0"),t.style.borderRadius="12px",t.style.overflow="hidden",t.style.display="flex",t.style.flexDirection="column",t.style.boxShadow="0 4px 12px rgba(0,0,0,0.2)",t.style.fontFamily="Inter, Roboto, Arial, sans-serif",t.style.transition="width 0.3s, height 0.3s",t.style.resize="both",t.style.maxWidth="90vw",t.style.maxHeight="90vh",t.style.minWidth="250px",t.style.minHeight="200px";const o=()=>{setTimeout((()=>{const e=t.querySelector(".panel-footer");e&&!r&&(e.style.backgroundColor="#F0F2F7")}),100)};t.innerHTML=`\n    <style>\n      :root {\n        --bg-color-light: #F7F8FA;\n        --text-color-light: #222222;\n        --border-color-light: #D9D9D9;\n        --header-bg-light: #F0F2F7;\n        --footer-bg-light: #F0F2F7;\n        --button-primary-light: #2563eb;\n        --button-hover-light: #1d4ed8;\n        --button-text-light: #ffffff;\n        --input-border-light: #D9D9D9;\n        --secondary-bg-light: #F0F2F7;\n        --note-bg-light: #FFFFFF;\n        --text-dark-light: #222222;\n        --text-muted-light: #444444;\n        --font-family: 'Roboto', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;\n        --font-size-normal: 15px;\n        --font-weight-normal: 400;\n        \n        --bg-color-dark: #121212;\n        --text-color-dark: #ffffff;\n        --border-color-dark: #333333;\n        --header-bg-dark: #1e1e1e;\n        --footer-bg-dark: #1e1e1e;\n        --button-primary-dark: #3b82f6;\n        --button-hover-dark: #2563eb;\n        --button-text-dark: #ffffff;\n        --input-border-dark: #444;\n        --secondary-bg-dark: #1e1e1e;\n      }\n      \n      .notes-panel.dark-mode {\n        background-color: var(--bg-color-dark);\n        color: var(--text-color-dark);\n        border-color: var(--border-color-dark);\n      }\n      \n      .notes-panel.light-mode {\n        background-color: var(--bg-color-light);\n        color: var(--text-color-light);\n        border-color: var(--border-color-light);\n      }\n      \n      .notes-panel * {\n        font-family: var(--font-family);\n        font-size: var(--font-size-normal);\n        font-weight: var(--font-weight-normal);\n      }\n      \n      .panel-header {\n        padding: 12px 16px;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        border-bottom: 1px solid var(--border-color-light);\n        cursor: move;\n        user-select: none;\n        font-weight: 600;\n        font-size: 16px;\n      }\n      \n      .dark-mode .panel-header {\n        background-color: var(--header-bg-dark);\n        border-bottom-color: var(--border-color-dark);\n        color: var(--text-color-dark);\n      }\n      \n      .light-mode .panel-header {\n        background-color: var(--header-bg-light);\n        border-bottom-color: var(--border-color-light);\n        color: var(--text-dark-light);\n      }\n      \n      .size-controls {\n        display: flex;\n        border: 1px solid var(--input-border-light);\n        border-radius: 4px;\n        overflow: hidden;\n      }\n      \n      .dark-mode .size-controls {\n        border-color: var(--input-border-dark);\n      }\n      \n      .size-button {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 24px;\n        height: 24px;\n        font-size: 12px;\n        border: none;\n        background-color: transparent;\n        cursor: pointer;\n      }\n      \n      .size-button.active {\n        background-color: var(--button-primary-light);\n        color: var(--button-text-light);\n        font-weight: bold;\n        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.4);\n      }\n      \n      .dark-mode .size-button {\n        color: #ccc;\n        background-color: #333;\n      }\n      \n      .dark-mode .size-button.active {\n        background-color: var(--button-primary-dark);\n        color: var(--button-text-dark);\n      }\n      \n      .light-mode .size-button {\n        color: #666;\n        background-color: #f0f0f0;\n      }\n      \n      .light-mode .size-button.active {\n        background-color: var(--button-primary-light);\n        color: var(--button-text-light);\n      }\n      \n      .close-button {\n        background: transparent;\n        border: none;\n        font-size: 20px;\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 24px;\n        height: 24px;\n        color: inherit;\n      }\n      \n      .header-controls {\n        display: flex;\n        gap: 8px;\n        align-items: center;\n      }\n      \n      .theme-button {\n        background: transparent;\n        border: none;\n        cursor: pointer;\n        padding: 6px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 32px;\n        height: 32px;\n        transition: all 0.2s ease;\n      }\n      \n      .panel-content {\n        flex: 1;\n        overflow-y: auto;\n        padding: 16px;\n        position: relative;\n        padding-bottom: 120px; /* גובה מספק לחשיפת ההודעה האחרונה במלואה */\n        background-color: var(--bg-color-dark);\n        display: flex;\n        flex-direction: column;\n      }\n      \n      .light-mode .panel-content {\n        background-color: var(--bg-color-light);\n      }\n      \n      .panel-content::-webkit-scrollbar {\n        width: 6px;\n      }\n      \n      .panel-content::-webkit-scrollbar-thumb {\n        background-color: rgba(128, 128, 128, 0.5);\n        border-radius: 4px;\n      }\n      \n      .dark-mode .panel-content::-webkit-scrollbar-thumb {\n        background-color: rgba(200, 200, 200, 0.3);\n      }\n      \n      .panel-footer {\n        padding: 12px 16px;\n        border-top: 1px solid var(--border-color-dark);\n        display: flex;\n        flex-direction: column;\n        gap: 8px;\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background-color: var(--footer-bg-dark);\n        z-index: 10; /* Ensure it's above content */\n        height: auto; /* Ensure height is calculated based on content */\n        min-height: 70px; /* Minimum height for the footer */\n      }\n      \n      .light-mode .panel-footer {\n        background-color: var(--footer-bg-light);\n        border-top-color: var(--border-color-light);\n      }\n      \n      .current-timestamp {\n        font-size: 12px;\n        display: flex;\n        align-items: center;\n        gap: 4px;\n      }\n      \n      .dark-mode .current-timestamp {\n        color: #aaaaaa;\n      }\n      \n      .light-mode .current-timestamp {\n        color: #666666;\n      }\n      \n      #note-input {\n        resize: none;\n        height: 60px;\n        padding: 12px 16px;\n        width: 100%;\n        box-sizing: border-box;\n        border-radius: 12px;\n        border: 1px solid var(--input-border-dark);\n        font-family: inherit;\n        font-size: 14px;\n        transition: border-color 0.2s;\n      }\n      \n      #note-input:focus {\n        outline: none;\n        border-color: var(--button-primary-dark);\n        box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);\n      }\n      \n      .dark-mode #note-input:focus {\n        border-color: var(--button-primary-dark);\n        box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);\n      }\n      \n      .dark-mode #note-input {\n        background-color: #2d2d2d;\n        color: #ffffff;\n        border-color: var(--input-border-dark);\n      }\n      \n      .light-mode #note-input {\n        background-color: #ffffff;\n        color: #333333;\n        border-color: var(--input-border-light);\n        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\n      }\n      \n      #add-timestamp-button {\n        display: flex;\n        align-items: center;\n        gap: 4px;\n        padding: 6px 8px;\n        border-radius: 4px;\n        border: none;\n        cursor: pointer;\n        font-size: 12px;\n        margin-left: auto;\n        transition: background-color 0.2s, transform 0.1s;\n      }\n      \n      .dark-mode #add-timestamp-button {\n        background-color: #2d2d2d;\n        color: #aaaaaa;\n      }\n      \n      .light-mode #add-timestamp-button {\n        background-color: #f0f0f0;\n        color: #666666;\n      }\n      \n      #add-timestamp-button:hover {\n        background-color: var(--button-primary-light);\n        color: white;\n        transform: translateY(-1px);\n      }\n      \n      .dark-mode #add-timestamp-button:hover {\n        background-color: var(--button-primary-dark);\n      }\n      \n      #save-note-button {\n        padding: 8px 16px;\n        background-color: var(--button-primary-dark);\n        color: var(--button-text-dark);\n        border: none;\n        border-radius: 8px;\n        cursor: pointer;\n        font-weight: 500;\n        font-size: 14px;\n        align-self: flex-end;\n        transition: background-color 0.2s, transform 0.1s;\n      }\n      \n      #save-note-button:hover {\n        background-color: var(--button-hover-dark);\n        transform: translateY(-1px);\n      }\n      \n      .dark-mode #save-note-button {\n        background-color: var(--button-primary-dark);\n      }\n      \n      .light-mode #save-note-button {\n        background-color: var(--button-primary-light);\n        color: var(--button-text-light);\n      }\n      \n      .dark-mode #save-note-button:hover {\n        background-color: var(--button-hover-dark);\n      }\n      \n      .light-mode #save-note-button:hover {\n        background-color: var(--button-hover-light);\n      }\n      \n      /* גלילה אוטומטית להודעה האחרונה */\n      .notes-container {\n        overflow-y: auto;\n        max-height: calc(100% - 120px);\n        padding-bottom: 120px; /* מונע שהודעות ייחתכו ע"י אזור הקלט */\n      }\n      \n      /* תצוגה של הודעות ארוכות */\n      .note-item {\n        padding: 10px;\n        overflow-wrap: break-word; \n        white-space: pre-wrap;\n        word-wrap: break-word; \n      }\n      \n      .note-item .note-content {\n        white-space: normal;\n        word-break: break-word;\n        overflow-wrap: break-word;\n        max-width: 100%;\n      }\n      \n      /* Adjusted container heights for different sizes */\n      .notes-panel.small .notes-container {\n        max-height: calc(100% - 150px); /* Adjust based on header/footer heights */\n      }\n      \n      .notes-panel.medium .notes-container {\n        max-height: calc(100% - 150px);\n      }\n      \n      .notes-panel.large .notes-container {\n        max-height: calc(100% - 150px);\n      }\n      \n      .light-mode .notes-container {\n        color: var(--text-dark-light);\n        background-color: transparent; /* Explicitly transparent to adopt parent bg */\n      }\n\n      .dark-mode .notes-container {\n        background-color: transparent;\n      }\n      \n      .no-notes {\n        text-align: center;\n        padding: 40px 0;\n        color: #888;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n      }\n      \n      .dark-mode .no-notes {\n        color: #aaa;\n      }\n      \n      .light-mode .no-notes {\n        color: #888;\n      }\n      \n      .note-item {\n        border: 1px solid var(--border-color-dark);\n        border-radius: 8px;\n        overflow: hidden;\n      }\n      \n      .dark-mode .note-item {\n        border-color: var(--border-color-dark);\n        background-color: var(--bg-color-dark);\n      }\n      \n      .light-mode .note-item {\n        border-color: var(--border-color-light);\n        background-color: var(--note-bg-light);\n        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\n        color: var(--text-dark-light);\n      }\n      \n      .note-header {\n        padding: 8px 12px;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        background-color: var(--header-bg-dark);\n        border-bottom: 1px solid var(--border-color-dark);\n        font-size: 12px;\n      }\n      \n      .dark-mode .note-header {\n        background-color: var(--header-bg-dark);\n        border-bottom-color: var(--border-color-dark);\n      }\n      \n      .light-mode .note-header {\n        background-color: var(--secondary-bg-light);\n        border-bottom-color: var(--border-color-light);\n        color: var(--text-dark-light);\n      }\n      \n      .timestamp {\n        display: flex;\n        align-items: center;\n        gap: 6px;\n      }\n      \n      .dark-mode .timestamp {\n        color: #aaaaaa;\n      }\n      \n      .light-mode .timestamp {\n        color: var(--text-muted-light);\n      }\n      \n      .timestamp-icon {\n        width: 14px;\n        height: 14px;\n      }\n      \n      .note-actions {\n        display: flex;\n        gap: 8px;\n      }\n      \n      .jump-button, .delete-button {\n        background: transparent;\n        border: none;\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        padding: 4px;\n        font-size: 12px;\n        transition: color 0.2s, transform 0.1s;\n      }\n      \n      .dark-mode .jump-button {\n        color: #aaaaaa;\n      }\n      \n      .light-mode .jump-button {\n        color: var(--text-muted-light);\n      }\n      \n      .jump-button:hover {\n        transform: translateY(-1px);\n      }\n      \n      .dark-mode .jump-button:hover {\n        color: #ffffff;\n      }\n      \n      .light-mode .jump-button:hover {\n        color: var(--button-primary-light);\n      }\n      \n      .delete-button {\n        color: #ef4444;\n      }\n      \n      .note-content {\n        padding: 12px;\n        white-space: pre-line;\n      }\n      \n      .dark-mode .note-content {\n        background-color: var(--bg-color-dark);\n      }\n      \n      .light-mode .note-content {\n        background-color: var(--note-bg-light);\n        color: var(--text-dark-light);\n      }\n      \n      .empty-notes-icon {\n        margin-bottom: 16px;\n      }\n      \n      .dark-mode .empty-notes-icon svg {\n        stroke: #aaaaaa;\n      }\n      \n      .light-mode .empty-notes-icon svg {\n        stroke: #888888;\n      }\n      \n      /* מדיה קוורי לגודל SMALL */\n      .notes-panel.small .panel-header {\n        padding: 8px 12px;\n        font-size: 14px;\n      }\n      \n      .notes-panel.small .panel-content {\n        padding: 10px;\n        padding-bottom: 110px;\n      }\n      \n      .notes-panel.small .panel-footer {\n        padding: 8px 12px;\n      }\n      \n      .notes-panel.small #note-input {\n        padding: 8px 12px;\n        height: 50px;\n        font-size: 13px;\n      }\n      \n      .notes-panel.small .size-button {\n        width: 20px;\n        height: 20px;\n      }\n      \n      .notes-panel.small .note-item {\n        font-size: 13px;\n      }\n      \n      .notes-panel.small .note-content {\n        padding: 8px;\n      }\n      \n      .notes-panel.small .note-header {\n        padding: 6px 10px;\n        font-size: 11px;\n      }\n      \n      .notes-panel.small #save-note-button {\n        padding: 6px 12px;\n        font-size: 13px;\n      }\n\n      /* גדלים נוספים */\n      .notes-panel.medium .panel-content {\n        padding-bottom: 130px;\n      }\n      \n      .notes-panel.large .panel-content {\n        padding-bottom: 140px;\n      }\n      \n      .notes-panel.large .panel-header {\n        padding: 14px 20px;\n        font-size: 18px;\n      }\n      \n      .notes-panel.large #note-input {\n        padding: 14px 20px;\n        height: 70px;\n        font-size: 15px;\n      }\n      \n      /* Ensure smooth transition between dark and light */\n      .notes-panel * {\n        transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;\n      }\n      \n      /* Additional explicit background colors for all internal containers */\n      .light-mode .timestamp, \n      .light-mode .note-actions,\n      .light-mode .jump-button {\n        background-color: transparent;\n      }\n      \n      .light-mode .note-header {\n        background-color: var(--secondary-bg-light);\n      }\n      \n      .light-mode .current-timestamp,\n      .light-mode #add-timestamp-button {\n        background-color: transparent;\n      }\n\n      /* אלמנטים נוספים שייתכן שצריכים תיקון במצב בהיר */\n      .light-mode .no-notes,\n      .light-mode .empty-notes-icon,\n      .light-mode #notes-container {\n        background-color: var(--bg-color-light);\n      }\n\n      /* כדי לוודא שאין פס שחור בכל מצב, נוסיף כלל גורף למצב בהיר */\n      .light-mode.notes-panel *:not(.size-button, .size-button.active, #save-note-button, button.theme-button, .panel-header, .panel-footer, .note-header) {\n        background-color: var(--bg-color-light);\n      }\n\n      /* תיקון שורשי של בעיית הפס השחור - מחיקת panel-footer מרשימת החריגים */\n      .light-mode.notes-panel *:not(.size-button, .size-button.active, #save-note-button, button.theme-button, .panel-header, .note-header) {\n        background-color: var(--bg-color-light);\n      }\n      \n      /* כלל מפורש מאוד לפאנל פוטר ולכל התוכן שלו */\n      .light-mode.notes-panel .panel-footer {\n        background-color: var(--footer-bg-light) !important;\n        border-top-color: var(--border-color-light) !important;\n        color: var(--text-dark-light) !important;\n      }\n      \n      /* נוודא שגם ב-HTML ישיר של panel-footer יש צבע רקע מפורש */\n      .light-mode.notes-panel div.panel-footer {\n        background-color: var(--footer-bg-light) !important;\n      }\n      \n      /* פותר את הבעיה של כפתור התזמון ושל הערכים */\n      .light-mode.notes-panel .panel-footer .current-timestamp {\n        background-color: transparent !important;\n        color: var(--text-muted-light) !important;\n      }\n      \n      /* וידוא שאזור הטקסט מקבל רקע נכון */\n      .light-mode.notes-panel .panel-footer #note-input {\n        background-color: #FFFFFF !important;\n        color: var(--text-dark-light) !important;\n        border: 1px solid var(--border-color-light) !important;\n      }\n    </style>\n    \n    <div class="panel-header">\n      <div>Notes & Summary</div>\n      <div class="header-controls">\n        <div class="size-controls">\n          <button class="size-button" data-size="small">S</button>\n          <button class="size-button active" data-size="medium">M</button>\n          <button class="size-button" data-size="large">L</button>\n        </div>\n        <button class="theme-button">\n          ${r?'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n              <path d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />\n            </svg>':'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n              <path d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />\n            </svg>'}\n        </button>\n        <button class="close-button">✕</button>\n      </div>\n    </div>\n    \n    <div class="panel-content">\n      <div class="notes-container" id="notes-container">\n        <div class="no-notes">\n          <div class="empty-notes-icon">\n            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">\n              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>\n              <polyline points="14 2 14 8 20 8"></polyline>\n              <line x1="16" y1="13" x2="8" y2="13"></line>\n              <line x1="16" y1="17" x2="8" y2="17"></line>\n              <polyline points="10 9 9 9 8 9"></polyline>\n            </svg>\n          </div>\n          <h3 style="margin-bottom: 8px; color: ${r?"#ffffff":"#222222"}; font-family: var(--font-family); font-size: 16px; font-weight: 500;">Take notes while watching</h3>\n          <p style="max-width: 280px; margin-bottom: 24px; font-size: 15px; color: ${r?"#aaaaaa":"#555555"}; font-family: var(--font-family);">\n            Add your notes below to capture important moments\n          </p>\n        </div>\n      </div>\n    </div>\n    \n    <div class="panel-footer">\n      <div class="current-timestamp" id="current-timestamp">\n        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n          <circle cx="12" cy="12" r="10"></circle>\n          <polyline points="12 6 12 12 16 14"></polyline>\n        </svg>\n        Current time: <span id="timestamp-value">--:--</span>\n        <button id="add-timestamp-button" style="\n          display: flex;\n          align-items: center;\n          gap: 4px;\n          padding: 6px 8px;\n          border-radius: 4px;\n          border: none;\n          background-color: ${r?"#2d2d2d":"#F0F2F7"};\n          color: ${r?"#aaaaaa":"#444444"};\n          cursor: pointer;\n          font-size: 12px;\n          margin-left: auto;\n          transition: background-color 0.2s, color 0.2s, transform 0.1s;\n        ">\n          <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n            <path d="M12 2v10l5 5"></path>\n            <circle cx="12" cy="12" r="10"></circle>\n          </svg>\n          Add timestamp\n        </button>\n      </div>\n      \n      <textarea id="note-input" placeholder="Write your note about this video..."></textarea>\n      <button id="save-note-button">Save Note</button>\n    </div>\n  `,document.body.appendChild(t),o();let a=!1,i=0,l=0,s=0,c=0;const u=()=>{const e=t.querySelectorAll(".size-button"),n=t.classList.contains("dark-mode");e.forEach((e=>{e.classList.contains("active")?(e.style.backgroundColor="#3b82f6",e.style.color="white"):(e.style.backgroundColor=n?"#333":"#f0f0f0",e.style.color=n?"#ccc":"#666")}))},d=(document.title,window.location.href);let f="";if(d.includes("youtube.com")){const e=new URLSearchParams(new URL(d).search);f=e.get("v")||""}else if(d.includes("netflix.com")){const e=new URL(d).pathname.split("/");f=e[e.length-1]||"unknown"}function p(e){const n=t.querySelector("#notes-container");if(!n)return;n.querySelector(".no-notes");if(0===e.length)return void(n.innerHTML=`\n        <div class="no-notes">\n          <div class="empty-notes-icon">\n            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">\n              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>\n              <polyline points="14 2 14 8 20 8"></polyline>\n              <line x1="16" y1="13" x2="8" y2="13"></line>\n              <line x1="16" y1="17" x2="8" y2="17"></line>\n              <polyline points="10 9 9 9 8 9"></polyline>\n            </svg>\n          </div>\n          <h3 style="margin-bottom: 8px; color: ${r?"#ffffff":"#222222"}; font-family: var(--font-family); font-size: 16px; font-weight: 500;">Take notes while watching</h3>\n          <p style="max-width: 280px; margin-bottom: 24px; font-size: 15px; color: ${r?"#aaaaaa":"#555555"}; font-family: var(--font-family);">\n            Add your notes below to capture important moments\n          </p>\n        </div>\n      `);let o="";e.forEach(((e,t)=>{o+=`\n        <div class="note-item">\n          <div class="note-header">\n            <div class="timestamp">\n              <svg class="timestamp-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                <circle cx="12" cy="12" r="10"></circle>\n                <polyline points="12 6 12 12 16 14"></polyline>\n              </svg>\n              <span>${e.videoTime?g(e.videoTime):"No timestamp"}</span>\n            </div>\n            <div class="note-actions">\n              ${e.videoTime?`\n                <button class="jump-button" data-time="${e.videoTime}">\n                  <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                    <polygon points="5 3 19 12 5 21 5 3"></polygon>\n                  </svg>\n                  Jump\n                </button>\n              `:""}\n              <button class="delete-button" data-index="${t}">\n                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                  <path d="M3 6h18"></path>\n                  <path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"></path>\n                </svg>\n              </button>\n            </div>\n          </div>\n          <div class="note-content">${e.content}</div>\n        </div>\n      `})),n.innerHTML=o;n.querySelectorAll(".jump-button").forEach((e=>{e.addEventListener("click",(function(){y(parseFloat(this.getAttribute("data-time")||"0"))}))}));n.querySelectorAll(".delete-button").forEach((e=>{e.addEventListener("click",(function(){v(parseInt(this.getAttribute("data-index")||"0"))}))})),setTimeout((()=>{n.scrollTop=n.scrollHeight}),50)}function h(){chrome.storage.local.get([`notes-${f}`],(e=>{const n=e[`notes-${f}`]||[];p(n);const r=t.querySelector("#notes-container");r&&(r.scrollTop=r.scrollHeight),n.length>0&&m(n)}))}function m(e){chrome.storage.local.get(["notes_storage"],(t=>{const n=t.notes_storage||{};if(!n[f]||!n[f].notes){const t=document.title.replace(" - YouTube","").trim(),r=window.location.href;n[f]={videoId:f,videoTitle:t,videoURL:r,lastUpdated:(new Date).toISOString(),notes:e.map((e=>(!e.formattedTime&&e.videoTime&&(e.formattedTime=g(e.videoTime)),e)))},chrome.storage.local.set({notes_storage:n},(()=>{console.log("[WordStream] Notes migrated to unified storage")}))}}))}function g(e){const t=Math.floor(e/60),n=Math.floor(e%60);return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}function v(e){chrome.storage.local.get([`notes-${f}`],(t=>{const n=t[`notes-${f}`]||[];n.splice(e,1),chrome.storage.local.set({[`notes-${f}`]:n},(()=>{p(n)}))}))}function y(e){const t=document.querySelector("video");t&&(t.currentTime=e,t.play().catch((()=>{console.log("WordStream: Could not play video automatically")})))}let b=null;function x(){const e=document.querySelector("video"),n=t.querySelector("#timestamp-value");if(e&&n){const t=e.currentTime;n.textContent=g(t)}}b=setInterval(x,1e3);const w=t.querySelector(".panel-header");w&&(w.addEventListener("mousedown",(e=>{e.target.closest("button")||(a=!0,i=e.clientX,l=e.clientY,s=parseInt(t.style.top)||0,c=parseInt(t.style.left)||0,e.preventDefault())})),document.addEventListener("mousemove",(e=>{if(a){const n=e.clientX-i,r=e.clientY-l;t.style.top=`${s+r}px`,t.style.left=`${c+n}px`}})),document.addEventListener("mouseup",(()=>{a=!1})));const k=t.querySelectorAll(".size-button");k.forEach((e=>{e.addEventListener("click",(function(){const e=this.getAttribute("data-size");e&&n[e]&&(k.forEach((e=>e.classList.remove("active"))),this.classList.add("active"),t.style.width=n[e].width,t.style.height=n[e].height,t.classList.remove("small","medium","large"),t.classList.add(e),u())}))}));const S=t.querySelector(".theme-button");S&&(S.style.background="transparent",S.style.border="none",S.style.borderRadius="50%",S.style.padding="6px",S.style.color=r?"#ffd700":"#7c3aed",S.style.boxShadow="none",S.style.display="flex",S.style.alignItems="center",S.style.justifyContent="center",S.style.gap="0",S.style.width="32px",S.style.height="32px",S.title=r?"Switch to Light Mode":"Switch to Dark Mode",S.innerHTML=r?'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>':'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>',S.addEventListener("click",(function(){t.classList.contains("dark-mode")?(t.classList.remove("dark-mode"),t.classList.add("light-mode"),t.style.backgroundColor="#F7F8FA",t.style.color="#333333",t.style.border="1px solid #e0e0e0",o(),S.style.background="transparent",S.style.border="none",S.style.color="#000000",S.style.padding="6px",S.style.width="32px",S.style.height="32px",S.title="Switch to Dark Mode",S.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>'):(t.classList.remove("light-mode"),t.classList.add("dark-mode"),t.style.backgroundColor="#121212",t.style.color="#ffffff",t.style.border="1px solid #333333",o(),S.style.background="transparent",S.style.border="none",S.style.color="#ffffff",S.style.padding="6px",S.style.width="32px",S.style.height="32px",S.title="Switch to Light Mode",S.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>'),u()})));null===(e=t.querySelector(".close-button"))||void 0===e||e.addEventListener("click",(()=>{t.style.display="none",b&&(clearInterval(b),b=null)}));const E=t.querySelector("#add-timestamp-button"),C=t.querySelector("#note-input");E&&C&&E.addEventListener("click",(()=>{const e=document.querySelector("video");if(e){const t=g(e.currentTime);C.value+=(C.value?"\n":"")+`[${t}] `,C.focus()}}));const z=t.querySelector("#save-note-button");z&&C&&z.addEventListener("click",(()=>{const e=C.value.trim();if(!e)return;const n=document.querySelector("video"),r=n?n.currentTime:void 0,o=r?g(r):void 0,a={id:Date.now().toString(),content:e,timestamp:(new Date).toISOString(),videoTime:r,formattedTime:o};chrome.storage.local.get([`notes-${f}`],(e=>{const n=e[`notes-${f}`]||[];n.push(a),chrome.storage.local.set({[`notes-${f}`]:n},(()=>{C.value="",p(n);const e=t.querySelector("#notes-container");e&&(e.scrollTop=e.scrollHeight),F(a)}))}))}));function F(e){const t=document.title.replace(" - YouTube","").trim(),n=window.location.href;chrome.storage.local.get(["notes_storage"],(r=>{const o=r.notes_storage||{};o[f]||(o[f]={videoId:f,videoTitle:t,videoURL:n,lastUpdated:(new Date).toISOString(),notes:[]}),o[f].lastUpdated=(new Date).toISOString(),o[f].notes.push(e),chrome.storage.local.set({notes_storage:o},(()=>{console.log("[WordStream] Note saved to unified storage")}))}))}return h(),t}();let s=null;function c(){const e=document.getElementById("current-timestamp");if(e){const t=document.querySelector("video");if(t){const n=Math.floor(t.currentTime);e.textContent=`Current position: ${f(n)}`}}}function u(){const e=d();if(e)try{if("undefined"!=typeof chrome&&chrome.storage&&chrome.storage.local)chrome.storage.local.get(["videoNotes"],(t=>{p((t.videoNotes||{})[e]||[])}));else{const t=localStorage.getItem("wordstream_notes");p((t?JSON.parse(t):{})[e]||[])}}catch(e){console.error("[WordStream] Error loading notes:",e)}}function d(){const e=window.location.href;if(e.includes("youtube.com/watch")){return new URLSearchParams(window.location.search).get("v")||"unknown"}if(e.includes("netflix.com/watch")){const t=e.match(/watch\/(\d+)/);return t?t[1]:"unknown"}return"unknown"}function f(e){const t=e%60;return`${Math.floor(e/60)}:${t<10?"0":""}${t}`}function p(e){const t=document.getElementById("notes-container");t&&(0!==e.length?(t.innerHTML="",e.forEach(((e,n)=>{const r=document.createElement("div");r.className="note-item",r.innerHTML=`\n          <div class="note-timestamp">${e.timestamp||"Unknown time"} - ${e.date||"Unknown date"}</div>\n          <div class="note-content">${e.text}</div>\n          <button class="note-delete" data-index="${n}">&times;</button>\n        `,t.appendChild(r);const o=r.querySelector(".note-delete");o&&o.addEventListener("click",(()=>{h(n)}))}))):t.innerHTML='<div class="no-notes">No saved notes for this video</div>')}function h(e){const t=d();if(t)try{if("undefined"!=typeof chrome&&chrome.storage&&chrome.storage.local)chrome.storage.local.get(["videoNotes"],(n=>{const r=n.videoNotes||{},o=r[t]||[];e>=0&&e<o.length&&(o.splice(e,1),r[t]=o,chrome.storage.local.set({videoNotes:r},(()=>{p(o)})))}));else{const n=localStorage.getItem("wordstream_notes"),r=n?JSON.parse(n):{},o=r[t]||[];e>=0&&e<o.length&&(o.splice(e,1),r[t]=o,localStorage.setItem("wordstream_notes",JSON.stringify(r)),p(o))}}catch(e){console.error("[WordStream] Error deleting note:",e)}}t.appendChild(i),t.appendChild(l);const m=()=>{"block"===i.style.display||"block"===l.style.display?e.style.display="none":e.style.display="flex"};r.addEventListener("click",(()=>{n++,console.log("[WordStream] Gemini button clicked"),n%2==1?(t.appendChild(i),i.style.display="block",l.style.display="none",t.style.display="block",m()):(i.style.display="none",t.style.display="none",m())})),a.addEventListener("click",(()=>{o++,console.log("[WordStream] Notes button clicked"),o%2==1?(t.appendChild(l),l.style.display="block",i.style.display="none",t.style.display="block",c(),s||(s=setInterval(c,1e3)),u(),m()):(l.style.display="none",t.style.display="none",m())}));const g=(r,a)=>{const s=r.querySelector(".close-button");s&&s.addEventListener("click",(()=>{console.log("[WordStream] Panel close button clicked"),r.style.display="none",t.style.display="none",a%2==1&&(r===i?n++:r===l&&o++),e.style.display="flex"}))};setTimeout((()=>{g(i,n),g(l,o)}),500),console.log("[WordStream] Direct floating controls added successfully")}catch(v){console.error("[WordStream] Error adding direct floating controls:",v)}}document.addEventListener("DOMContentLoaded",(()=>{console.log("[WordStream] DOM loaded, initializing extension"),H(),setTimeout(q,1e3);const e=location.href;new MutationObserver((()=>{location.href!==e&&(console.log("[WordStream] URL changed, initializing for new page"),H(),setTimeout(q,1e3))})).observe(document,{subtree:!0,childList:!0})})),window.addEventListener("load",(()=>{console.log("[WordStream] Window loaded, initializing extension"),H(),setTimeout(q,2e3)}))})();