(()=>{var e={790:(e,t,r)=>{"use strict";r.d(t,{BN:()=>Vl,GG:()=>Wl,H9:()=>Us,My:()=>Nl,O5:()=>Yl,P:()=>Sl,_M:()=>_l,aU:()=>Ws,gS:()=>Gl,kd:()=>$l,mZ:()=>Hl,rJ:()=>Fs,x7:()=>Bl});var n=r(461),o=r(125),a=r(424),i=r(743),s=r(429),l=r(853);const c="@firebase/firestore",u="4.7.10";class d{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}d.UNAUTHENTICATED=new d(null),d.GOOGLE_CREDENTIALS=new d("google-credentials-uid"),d.FIRST_PARTY=new d("first-party-uid"),d.MOCK_USER=new d("mock-user");let h="11.5.0";const f=new a.Vy("@firebase/firestore");function p(){return f.logLevel}function m(e,...t){if(f.logLevel<=a.$b.DEBUG){const r=t.map(y);f.debug(`Firestore (${h}): ${e}`,...r)}}function g(e,...t){if(f.logLevel<=a.$b.ERROR){const r=t.map(y);f.error(`Firestore (${h}): ${e}`,...r)}}function v(e,...t){if(f.logLevel<=a.$b.WARN){const r=t.map(y);f.warn(`Firestore (${h}): ${e}`,...r)}}function y(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function w(e="Unexpected state"){const t=`FIRESTORE (${h}) INTERNAL ASSERTION FAILED: `+e;throw g(t),new Error(t)}function b(e,t){e||w()}function x(e,t){return e}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class k extends i.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class S{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class T{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(d.UNAUTHENTICATED)))}shutdown(){}}class A{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class C{constructor(e){this.t=e,this.currentUser=d.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){b(void 0===this.o);let r=this.i;const n=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve();let o=new S;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new S,e.enqueueRetryable((()=>n(this.currentUser)))};const a=()=>{const t=o;e.enqueueRetryable((async()=>{await t.promise,await n(this.currentUser)}))},i=e=>{m("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>i(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?i(e):(m("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new S)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(m("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(b("string"==typeof t.accessToken),new T(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return b(null===e||"string"==typeof e),new d(e)}}class N{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=d.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class I{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new N(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(d.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class O{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,(0,n.xZ)(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){b(void 0===this.o);const r=e=>{null!=e.error&&m("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const r=e.token!==this.R;return this.R=e.token,m("FirebaseAppCheckTokenProvider",`Received ${r?"new":"existing"} token.`),r?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>r(t)))};const n=e=>{m("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>n(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?n(e):m("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new O(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(b("string"==typeof e.token),this.R=e.token,new O(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function R(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(r);else for(let t=0;t<e;t++)r[t]=Math.floor(256*Math.random());return r}function D(){return new TextEncoder}class L{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const r=R(40);for(let n=0;n<r.length;++n)t.length<20&&r[n]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[n]%62))}return t}}function M(e,t){return e<t?-1:e>t?1:0}function F(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=e.codePointAt(r),o=t.codePointAt(r);if(n!==o){if(n<128&&o<128)return M(n,o);{const a=D(),i=j(a.encode(U(e,r)),a.encode(U(t,r)));return 0!==i?i:M(n,o)}}r+=n>65535?2:1}return M(e.length,t.length)}function U(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function j(e,t){for(let r=0;r<e.length&&r<t.length;++r)if(e[r]!==t[r])return M(e[r],t[r]);return M(e.length,t.length)}function B(e,t,r){return e.length===t.length&&e.every(((e,n)=>r(e,t[n])))}const z=-62135596800,W=1e6;class V{static now(){return V.fromMillis(Date.now())}static fromDate(e){return V.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*W);return new V(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new k(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new k(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<z)throw new k(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new k(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W}_compareTo(e){return this.seconds===e.seconds?M(this.nanoseconds,e.nanoseconds):M(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-z;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class H{static fromTimestamp(e){return new H(e)}static min(){return new H(new V(0,0))}static max(){return new H(new V(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $="__name__";class G{constructor(e,t,r){void 0===t?t=0:t>e.length&&w(),void 0===r?r=e.length-t:r>e.length-t&&w(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===G.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof G?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const r=G.compareSegments(e.get(n),t.get(n));if(0!==r)return r}return M(e.length,t.length)}static compareSegments(e,t){const r=G.isNumericId(e),n=G.isNumericId(t);return r&&!n?-1:!r&&n?1:r&&n?G.extractNumericId(e).compare(G.extractNumericId(t)):F(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return s.jz.fromString(e.substring(4,e.length-2))}}class K extends G{construct(e,t,r){return new K(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new k(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((e=>e.length>0)))}return new K(t)}static emptyPath(){return new K([])}}const q=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Y extends G{construct(e,t,r){return new Y(e,t,r)}static isValidIdentifier(e){return q.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Y.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===$}static keyField(){return new Y([$])}static fromServerFormat(e){const t=[];let r="",n=0;const o=()=>{if(0===r.length)throw new k(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let a=!1;for(;n<e.length;){const t=e[n];if("\\"===t){if(n+1===e.length)throw new k(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[n+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new k(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=t,n+=2}else"`"===t?(a=!a,n++):"."!==t||a?(r+=t,n++):(o(),n++)}if(o(),a)throw new k(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Y(t)}static emptyPath(){return new Y([])}}class X{constructor(e){this.path=e}static fromPath(e){return new X(K.fromString(e))}static fromName(e){return new X(K.fromString(e).popFirst(5))}static empty(){return new X(K.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===K.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return K.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new K(e.slice()))}}const Q=-1;class J{constructor(e,t,r,n){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=n}}J.UNKNOWN_ID=-1;function Z(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,o=H.fromTimestamp(1e9===n?new V(r+1,0):new V(r,n));return new te(o,X.empty(),t)}function ee(e){return new te(e.readTime,e.key,Q)}class te{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new te(H.min(),X.empty(),Q)}static max(){return new te(H.max(),X.empty(),Q)}}function re(e,t){let r=e.readTime.compareTo(t.readTime);return 0!==r?r:(r=X.comparator(e.documentKey,t.documentKey),0!==r?r:M(e.largestBatchId,t.largestBatchId))}const ne="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ae(e){if(e.code!==E.FAILED_PRECONDITION||e.message!==ne)throw e;m("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&w(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie(((r,n)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(r,n)},this.catchCallback=e=>{this.wrapFailure(t,e).next(r,n)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(e){return ie.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.reject(t)}static resolve(e){return new ie(((t,r)=>{t(e)}))}static reject(e){return new ie(((t,r)=>{r(e)}))}static waitFor(e){return new ie(((t,r)=>{let n=0,o=0,a=!1;e.forEach((e=>{++n,e.next((()=>{++o,a&&o===n&&t()}),(e=>r(e)))})),a=!0,o===n&&t()}))}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next((e=>e?ie.resolve(e):r()));return t}static forEach(e,t){const r=[];return e.forEach(((e,n)=>{r.push(t.call(this,e,n))})),this.waitFor(r)}static mapArray(e,t){return new ie(((r,n)=>{const o=e.length,a=new Array(o);let i=0;for(let s=0;s<o;s++){const l=s;t(e[l]).next((e=>{a[l]=e,++i,i===o&&r(a)}),(e=>n(e)))}}))}static doWhile(e,t){return new ie(((r,n)=>{const o=()=>{!0===e()?t().next((()=>{o()}),n):r()};o()}))}}function se(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function le(e){return"IndexedDbTransactionError"===e.name}class ce{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ce.ae=-1;const ue=-1;function de(e){return null==e}function he(e){return 0===e&&1/e==-1/0}function fe(e){return"number"==typeof e&&Number.isInteger(e)&&!he(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const pe="";function me(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=ve(t)),t=ge(e.get(r),t);return ve(t)}function ge(e,t){let r=t;const n=e.length;for(let t=0;t<n;t++){const n=e.charAt(t);switch(n){case"\0":r+="";break;case pe:r+="";break;default:r+=n}}return r}function ve(e){return e+pe+""}const ye="remoteDocuments",we="owner",be="mutationQueues",xe="mutations";const Ee="documentMutations",ke="remoteDocumentsV14",Se="remoteDocumentGlobal",Te="targets",_e="targetDocuments",Ae="targetGlobal",Ce="collectionParents",Ne="clientMetadata",Ie="bundles",Oe="namedQueries",Pe="indexConfiguration",Re="indexState",De="indexEntries",Le="documentOverlays",Me="globals",Fe=[be,xe,Ee,ye,Te,we,Ae,_e,Ne,Se,Ce,Ie,Oe],Ue=[be,xe,Ee,ke,Te,we,Ae,_e,Ne,Se,Ce,Ie,Oe,Le],je=Ue,Be=[...je,Pe,Re,De];function ze(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function We(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function Ve(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class He{constructor(e,t){this.comparator=e,this.root=t||Ge.EMPTY}insert(e,t){return new He(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(0===n)return t+r.left.size;n<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $e(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $e(this.root,e,this.comparator,!1)}getReverseIterator(){return new $e(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $e(this.root,e,this.comparator,!0)}}class $e{constructor(e,t,r,n){this.isReverse=n,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&n&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,t,r,n,o){this.key=e,this.value=t,this.color=null!=r?r:Ge.RED,this.left=null!=n?n:Ge.EMPTY,this.right=null!=o?o:Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,n,o){return new Ge(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=n?n:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let n=this;const o=r(e,n.key);return n=o<0?n.copy(null,null,null,n.left.insert(e,t,r),null):0===o?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,r)),n.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,n=this;if(t(e,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===t(e,n.key)){if(n.right.isEmpty())return Ge.EMPTY;r=n.right.min(),n=n.copy(r.key,r.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw w();if(this.right.isRed())throw w();const e=this.left.check();if(e!==this.right.check())throw w();return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1,Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw w()}get value(){throw w()}get color(){throw w()}get left(){throw w()}get right(){throw w()}copy(e,t,r,n,o){return this}insert(e,t,r){return new Ge(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ke{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const n=r.getNext();if(this.comparator(n.key,e[1])>=0)return;t(n.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qe(this.data.getIterator())}getIteratorFrom(e){return new qe(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Ke))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,n=r.getNext().key;if(0!==this.comparator(e,n))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ke(this.comparator);return t.data=e,t}}class qe{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ye{constructor(e){this.fields=e,e.sort(Y.comparator)}static empty(){return new Ye([])}unionWith(e){let t=new Ke(Y.comparator);for(const e of this.fields)t=t.add(e);for(const r of e)t=t.add(r);return new Ye(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return B(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Xe extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Xe("Invalid base64 string: "+e):e}}(e);return new Qe(t)}static fromUint8Array(e){const t=function(e){let t="";for(let r=0;r<e.length;++r)t+=String.fromCharCode(e[r]);return t}(e);return new Qe(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return M(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const Je=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ze(e){if(b(!!e),"string"==typeof e){let t=0;const r=Je.exec(e);if(b(!!r),r[1]){let e=r[1];e=(e+"000000000").substr(0,9),t=Number(e)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:et(e.seconds),nanos:et(e.nanos)}}function et(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function tt(e){return"string"==typeof e?Qe.fromBase64String(e):Qe.fromUint8Array(e)}const rt="server_timestamp",nt="__type__",ot="__previous_value__",at="__local_write_time__";function it(e){var t,r;return(null===(r=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[nt])||void 0===r?void 0:r.stringValue)===rt}function st(e){const t=e.mapValue.fields[ot];return it(t)?st(t):t}function lt(e){const t=Ze(e.mapValue.fields[at].timestampValue);return new V(t.seconds,t.nanos)}class ct{constructor(e,t,r,n,o,a,i,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=n,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=i,this.longPollingOptions=s,this.useFetchStreams=l}}const ut="(default)";class dt{constructor(e,t){this.projectId=e,this.database=t||ut}static empty(){return new dt("","")}get isDefaultDatabase(){return this.database===ut}isEqual(e){return e instanceof dt&&e.projectId===this.projectId&&e.database===this.database}}const ht="__type__",ft="__max__",pt={mapValue:{fields:{__type__:{stringValue:ft}}}},mt="__vector__",gt="value";function vt(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?it(e)?4:Dt(e)?9007199254740991:Pt(e)?10:11:w()}function yt(e,t){if(e===t)return!0;const r=vt(e);if(r!==vt(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return lt(e).isEqual(lt(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const r=Ze(e.timestampValue),n=Ze(t.timestampValue);return r.seconds===n.seconds&&r.nanos===n.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return tt(e.bytesValue).isEqual(tt(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return et(e.geoPointValue.latitude)===et(t.geoPointValue.latitude)&&et(e.geoPointValue.longitude)===et(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return et(e.integerValue)===et(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const r=et(e.doubleValue),n=et(t.doubleValue);return r===n?he(r)===he(n):isNaN(r)&&isNaN(n)}return!1}(e,t);case 9:return B(e.arrayValue.values||[],t.arrayValue.values||[],yt);case 10:case 11:return function(e,t){const r=e.mapValue.fields||{},n=t.mapValue.fields||{};if(ze(r)!==ze(n))return!1;for(const e in r)if(r.hasOwnProperty(e)&&(void 0===n[e]||!yt(r[e],n[e])))return!1;return!0}(e,t);default:return w()}}function wt(e,t){return void 0!==(e.values||[]).find((e=>yt(e,t)))}function bt(e,t){if(e===t)return 0;const r=vt(e),n=vt(t);if(r!==n)return M(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return M(e.booleanValue,t.booleanValue);case 2:return function(e,t){const r=et(e.integerValue||e.doubleValue),n=et(t.integerValue||t.doubleValue);return r<n?-1:r>n?1:r===n?0:isNaN(r)?isNaN(n)?0:-1:1}(e,t);case 3:return xt(e.timestampValue,t.timestampValue);case 4:return xt(lt(e),lt(t));case 5:return F(e.stringValue,t.stringValue);case 6:return function(e,t){const r=tt(e),n=tt(t);return r.compareTo(n)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const r=e.split("/"),n=t.split("/");for(let e=0;e<r.length&&e<n.length;e++){const t=M(r[e],n[e]);if(0!==t)return t}return M(r.length,n.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const r=M(et(e.latitude),et(t.latitude));return 0!==r?r:M(et(e.longitude),et(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Et(e.arrayValue,t.arrayValue);case 10:return function(e,t){var r,n,o,a;const i=e.fields||{},s=t.fields||{},l=null===(r=i[gt])||void 0===r?void 0:r.arrayValue,c=null===(n=s[gt])||void 0===n?void 0:n.arrayValue,u=M((null===(o=null==l?void 0:l.values)||void 0===o?void 0:o.length)||0,(null===(a=null==c?void 0:c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:Et(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===pt.mapValue&&t===pt.mapValue)return 0;if(e===pt.mapValue)return 1;if(t===pt.mapValue)return-1;const r=e.fields||{},n=Object.keys(r),o=t.fields||{},a=Object.keys(o);n.sort(),a.sort();for(let e=0;e<n.length&&e<a.length;++e){const t=F(n[e],a[e]);if(0!==t)return t;const i=bt(r[n[e]],o[a[e]]);if(0!==i)return i}return M(n.length,a.length)}(e.mapValue,t.mapValue);default:throw w()}}function xt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return M(e,t);const r=Ze(e),n=Ze(t),o=M(r.seconds,n.seconds);return 0!==o?o:M(r.nanos,n.nanos)}function Et(e,t){const r=e.values||[],n=t.values||[];for(let e=0;e<r.length&&e<n.length;++e){const t=bt(r[e],n[e]);if(t)return t}return M(r.length,n.length)}function kt(e){return St(e)}function St(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ze(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return tt(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return X.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",r=!0;for(const n of e.values||[])r?r=!1:t+=",",t+=St(n);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let r="{",n=!0;for(const o of t)n?n=!1:r+=",",r+=`${o}:${St(e.fields[o])}`;return r+"}"}(e.mapValue):w()}function Tt(e){switch(vt(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=st(e);return t?16+Tt(t):16;case 5:return 2*e.stringValue.length;case 6:return tt(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Tt(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return We(e.fields,((e,r)=>{t+=e.length+Tt(r)})),t}(e.mapValue);default:throw w()}}function _t(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function At(e){return!!e&&"integerValue"in e}function Ct(e){return!!e&&"arrayValue"in e}function Nt(e){return!!e&&"nullValue"in e}function It(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ot(e){return!!e&&"mapValue"in e}function Pt(e){var t,r;return(null===(r=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[ht])||void 0===r?void 0:r.stringValue)===mt}function Rt(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return We(e.mapValue.fields,((e,r)=>t.mapValue.fields[e]=Rt(r))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Rt(e.arrayValue.values[r]);return t}return Object.assign({},e)}function Dt(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ft}class Lt{constructor(e){this.value=e}static empty(){return new Lt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ot(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rt(t)}setAll(e){let t=Y.emptyPath(),r={},n=[];e.forEach(((e,o)=>{if(!t.isImmediateParentOf(o)){const e=this.getFieldsMap(t);this.applyChanges(e,r,n),r={},n=[],t=o.popLast()}e?r[o.lastSegment()]=Rt(e):n.push(o.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,n)}delete(e){const t=this.field(e.popLast());Ot(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let n=t.mapValue.fields[e.get(r)];Ot(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=n),t=n}return t.mapValue.fields}applyChanges(e,t,r){We(t,((t,r)=>e[t]=r));for(const t of r)delete e[t]}clone(){return new Lt(Rt(this.value))}}function Mt(e){const t=[];return We(e.fields,((e,r)=>{const n=new Y([e]);if(Ot(r)){const e=Mt(r.mapValue).fields;if(0===e.length)t.push(n);else for(const r of e)t.push(n.child(r))}else t.push(n)})),new Ye(t)}class Ft{constructor(e,t,r,n,o,a,i){this.key=e,this.documentType=t,this.version=r,this.readTime=n,this.createTime=o,this.data=a,this.documentState=i}static newInvalidDocument(e){return new Ft(e,0,H.min(),H.min(),H.min(),Lt.empty(),0)}static newFoundDocument(e,t,r,n){return new Ft(e,1,t,H.min(),r,n,0)}static newNoDocument(e,t){return new Ft(e,2,t,H.min(),H.min(),Lt.empty(),0)}static newUnknownDocument(e,t){return new Ft(e,3,t,H.min(),H.min(),Lt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(H.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=H.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ut{constructor(e,t){this.position=e,this.inclusive=t}}function jt(e,t,r){let n=0;for(let o=0;o<e.position.length;o++){const a=t[o],i=e.position[o];if(n=a.field.isKeyField()?X.comparator(X.fromName(i.referenceValue),r.key):bt(i,r.data.field(a.field)),"desc"===a.dir&&(n*=-1),0!==n)break}return n}function Bt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!yt(e.position[r],t.position[r]))return!1;return!0}class zt{constructor(e,t="asc"){this.field=e,this.dir=t}}function Wt(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Vt{}class Ht extends Vt{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Jt(e,t,r):"array-contains"===t?new rr(e,r):"in"===t?new nr(e,r):"not-in"===t?new or(e,r):"array-contains-any"===t?new ar(e,r):new Ht(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Zt(e,r):new er(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(bt(t,this.value)):null!==t&&vt(this.value)===vt(t)&&this.matchesComparison(bt(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return w()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $t extends Vt{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new $t(e,t)}matches(e){return Gt(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Gt(e){return"and"===e.op}function Kt(e){return qt(e)&&Gt(e)}function qt(e){for(const t of e.filters)if(t instanceof $t)return!1;return!0}function Yt(e){if(e instanceof Ht)return e.field.canonicalString()+e.op.toString()+kt(e.value);if(Kt(e))return e.filters.map((e=>Yt(e))).join(",");{const t=e.filters.map((e=>Yt(e))).join(",");return`${e.op}(${t})`}}function Xt(e,t){return e instanceof Ht?function(e,t){return t instanceof Ht&&e.op===t.op&&e.field.isEqual(t.field)&&yt(e.value,t.value)}(e,t):e instanceof $t?function(e,t){return t instanceof $t&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,r,n)=>e&&Xt(r,t.filters[n])),!0)}(e,t):void w()}function Qt(e){return e instanceof Ht?function(e){return`${e.field.canonicalString()} ${e.op} ${kt(e.value)}`}(e):e instanceof $t?function(e){return e.op.toString()+" {"+e.getFilters().map(Qt).join(" ,")+"}"}(e):"Filter"}class Jt extends Ht{constructor(e,t,r){super(e,t,r),this.key=X.fromName(r.referenceValue)}matches(e){const t=X.comparator(e.key,this.key);return this.matchesComparison(t)}}class Zt extends Ht{constructor(e,t){super(e,"in",t),this.keys=tr("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class er extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=tr("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function tr(e,t){var r;return((null===(r=t.arrayValue)||void 0===r?void 0:r.values)||[]).map((e=>X.fromName(e.referenceValue)))}class rr extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ct(t)&&wt(t.arrayValue,this.value)}}class nr extends Ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&wt(this.value.arrayValue,t)}}class or extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(wt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!wt(this.value.arrayValue,t)}}class ar extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ct(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>wt(this.value.arrayValue,e)))}}class ir{constructor(e,t=null,r=[],n=[],o=null,a=null,i=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=n,this.limit=o,this.startAt=a,this.endAt=i,this.le=null}}function sr(e,t=null,r=[],n=[],o=null,a=null,i=null){return new ir(e,t,r,n,o,a,i)}function lr(e){const t=x(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Yt(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),de(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>kt(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>kt(e))).join(",")),t.le=e}return t.le}function cr(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!Wt(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!Xt(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Bt(e.startAt,t.startAt)&&Bt(e.endAt,t.endAt)}function ur(e){return X.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class dr{constructor(e,t=null,r=[],n=[],o=null,a="F",i=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=n,this.limit=o,this.limitType=a,this.startAt=i,this.endAt=s,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function hr(e,t,r,n,o,a,i,s){return new dr(e,t,r,n,o,a,i,s)}function fr(e){return new dr(e)}function pr(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function mr(e){return null!==e.collectionGroup}function gr(e){const t=x(e);if(null===t.he){t.he=[];const e=new Set;for(const r of t.explicitOrderBy)t.he.push(r),e.add(r.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",n=function(e){let t=new Ke(Y.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);n.forEach((n=>{e.has(n.canonicalString())||n.isKeyField()||t.he.push(new zt(n,r))})),e.has(Y.keyField().canonicalString())||t.he.push(new zt(Y.keyField(),r))}return t.he}function vr(e){const t=x(e);return t.Pe||(t.Pe=yr(t,gr(e))),t.Pe}function yr(e,t){if("F"===e.limitType)return sr(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new zt(e.field,t)}));const r=e.endAt?new Ut(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Ut(e.startAt.position,e.startAt.inclusive):null;return sr(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function wr(e,t){const r=e.filters.concat([t]);return new dr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function br(e,t,r){return new dr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function xr(e,t){return cr(vr(e),vr(t))&&e.limitType===t.limitType}function Er(e){return`${lr(vr(e))}|lt:${e.limitType}`}function kr(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Qt(e))).join(", ")}]`),de(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>kt(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>kt(e))).join(",")),`Target(${t})`}(vr(e))}; limitType=${e.limitType})`}function Sr(e,t){return t.isFoundDocument()&&function(e,t){const r=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):X.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(e,t)&&function(e,t){for(const r of gr(e))if(!r.field.isKeyField()&&null===t.data.field(r.field))return!1;return!0}(e,t)&&function(e,t){for(const r of e.filters)if(!r.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,r){const n=jt(e,t,r);return e.inclusive?n<=0:n<0}(e.startAt,gr(e),t))&&!(e.endAt&&!function(e,t,r){const n=jt(e,t,r);return e.inclusive?n>=0:n>0}(e.endAt,gr(e),t))}(e,t)}function Tr(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function _r(e){return(t,r)=>{let n=!1;for(const o of gr(e)){const e=Ar(o,t,r);if(0!==e)return e;n=n||o.field.isKeyField()}return 0}}function Ar(e,t,r){const n=e.field.isKeyField()?X.comparator(t.key,r.key):function(e,t,r){const n=t.data.field(e),o=r.data.field(e);return null!==n&&null!==o?bt(n,o):w()}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return w()}}class Cr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[t,n]of r)if(this.equalsFn(t,e))return n}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),n=this.inner[r];if(void 0===n)return this.inner[r]=[[e,t]],void this.innerSize++;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return void(n[r]=[e,t]);n.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return 1===r.length?delete this.inner[t]:r.splice(n,1),this.innerSize--,!0;return!1}forEach(e){We(this.inner,((t,r)=>{for(const[t,n]of r)e(t,n)}))}isEmpty(){return Ve(this.inner)}size(){return this.innerSize}}const Nr=new He(X.comparator);function Ir(){return Nr}const Or=new He(X.comparator);function Pr(...e){let t=Or;for(const r of e)t=t.insert(r.key,r);return t}function Rr(e){let t=Or;return e.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function Dr(){return Mr()}function Lr(){return Mr()}function Mr(){return new Cr((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Fr=new He(X.comparator),Ur=new Ke(X.comparator);function jr(...e){let t=Ur;for(const r of e)t=t.add(r);return t}const Br=new Ke(M);function zr(){return Br}function Wr(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:he(t)?"-0":t}}function Vr(e){return{integerValue:""+e}}function Hr(e,t){return fe(t)?Vr(t):Wr(e,t)}class $r{constructor(){this._=void 0}}function Gr(e,t,r){return e instanceof Yr?function(e,t){const r={fields:{[nt]:{stringValue:rt},[at]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&it(t)&&(t=st(t)),t&&(r.fields[ot]=t),{mapValue:r}}(r,t):e instanceof Xr?Qr(e,t):e instanceof Jr?Zr(e,t):function(e,t){const r=qr(e,t),n=tn(r)+tn(e.Ie);return At(r)&&At(e.Ie)?Vr(n):Wr(e.serializer,n)}(e,t)}function Kr(e,t,r){return e instanceof Xr?Qr(e,t):e instanceof Jr?Zr(e,t):r}function qr(e,t){return e instanceof en?function(e){return At(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Yr extends $r{}class Xr extends $r{constructor(e){super(),this.elements=e}}function Qr(e,t){const r=rn(t);for(const t of e.elements)r.some((e=>yt(e,t)))||r.push(t);return{arrayValue:{values:r}}}class Jr extends $r{constructor(e){super(),this.elements=e}}function Zr(e,t){let r=rn(t);for(const t of e.elements)r=r.filter((e=>!yt(e,t)));return{arrayValue:{values:r}}}class en extends $r{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function tn(e){return et(e.integerValue||e.doubleValue)}function rn(e){return Ct(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class nn{constructor(e,t){this.field=e,this.transform=t}}class on{constructor(e,t){this.version=e,this.transformResults=t}}class an{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new an}static exists(e){return new an(void 0,e)}static updateTime(e){return new an(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sn(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ln{}function cn(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new wn(e.key,an.none()):new pn(e.key,e.data,an.none());{const r=e.data,n=Lt.empty();let o=new Ke(Y.comparator);for(let e of t.fields)if(!o.has(e)){let t=r.field(e);null===t&&e.length>1&&(e=e.popLast(),t=r.field(e)),null===t?n.delete(e):n.set(e,t),o=o.add(e)}return new mn(e.key,n,new Ye(o.toArray()),an.none())}}function un(e,t,r){e instanceof pn?function(e,t,r){const n=e.value.clone(),o=vn(e.fieldTransforms,t,r.transformResults);n.setAll(o),t.convertToFoundDocument(r.version,n).setHasCommittedMutations()}(e,t,r):e instanceof mn?function(e,t,r){if(!sn(e.precondition,t))return void t.convertToUnknownDocument(r.version);const n=vn(e.fieldTransforms,t,r.transformResults),o=t.data;o.setAll(gn(e)),o.setAll(n),t.convertToFoundDocument(r.version,o).setHasCommittedMutations()}(e,t,r):function(e,t,r){t.convertToNoDocument(r.version).setHasCommittedMutations()}(0,t,r)}function dn(e,t,r,n){return e instanceof pn?function(e,t,r,n){if(!sn(e.precondition,t))return r;const o=e.value.clone(),a=yn(e.fieldTransforms,n,t);return o.setAll(a),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null}(e,t,r,n):e instanceof mn?function(e,t,r,n){if(!sn(e.precondition,t))return r;const o=yn(e.fieldTransforms,n,t),a=t.data;return a.setAll(gn(e)),a.setAll(o),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===r?null:r.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,r,n):function(e,t,r){return sn(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):r}(e,t,r)}function hn(e,t){let r=null;for(const n of e.fieldTransforms){const e=t.data.field(n.field),o=qr(n.transform,e||null);null!=o&&(null===r&&(r=Lt.empty()),r.set(n.field,o))}return r||null}function fn(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&B(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Xr&&t instanceof Xr||e instanceof Jr&&t instanceof Jr?B(e.elements,t.elements,yt):e instanceof en&&t instanceof en?yt(e.Ie,t.Ie):e instanceof Yr&&t instanceof Yr}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class pn extends ln{constructor(e,t,r,n=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class mn extends ln{constructor(e,t,r,n,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=n,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function gn(e){const t=new Map;return e.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}})),t}function vn(e,t,r){const n=new Map;b(e.length===r.length);for(let o=0;o<r.length;o++){const a=e[o],i=a.transform,s=t.data.field(a.field);n.set(a.field,Kr(i,s,r[o]))}return n}function yn(e,t,r){const n=new Map;for(const o of e){const e=o.transform,a=r.data.field(o.field);n.set(o.field,Gr(e,a,t))}return n}class wn extends ln{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bn extends ln{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xn{constructor(e,t,r,n){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=n}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const n=this.mutations[t];n.key.isEqual(e.key)&&un(n,e,r[t])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=dn(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=dn(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Lr();return this.mutations.forEach((n=>{const o=e.get(n.key),a=o.overlayedDocument;let i=this.applyToLocalView(a,o.mutatedFields);i=t.has(n.key)?null:i;const s=cn(a,i);null!==s&&r.set(n.key,s),a.isValidDocument()||a.convertToNoDocument(H.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),jr())}isEqual(e){return this.batchId===e.batchId&&B(this.mutations,e.mutations,((e,t)=>fn(e,t)))&&B(this.baseMutations,e.baseMutations,((e,t)=>fn(e,t)))}}class En{constructor(e,t,r,n){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=n}static from(e,t,r){b(e.mutations.length===r.length);let n=Fr;const o=e.mutations;for(let e=0;e<o.length;e++)n=n.insert(o[e].key,r[e].version);return new En(e,t,r,n)}}class kn{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Sn{constructor(e,t){this.count=e,this.unchangedNames=t}}var Tn,_n;function An(e){switch(e){case E.OK:return w();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0;default:return w()}}function Cn(e){if(void 0===e)return g("GRPC error has no .code"),E.UNKNOWN;switch(e){case Tn.OK:return E.OK;case Tn.CANCELLED:return E.CANCELLED;case Tn.UNKNOWN:return E.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return E.INTERNAL;case Tn.UNAVAILABLE:return E.UNAVAILABLE;case Tn.UNAUTHENTICATED:return E.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case Tn.NOT_FOUND:return E.NOT_FOUND;case Tn.ALREADY_EXISTS:return E.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return E.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case Tn.ABORTED:return E.ABORTED;case Tn.OUT_OF_RANGE:return E.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return E.UNIMPLEMENTED;case Tn.DATA_LOSS:return E.DATA_LOSS;default:return w()}}(_n=Tn||(Tn={}))[_n.OK=0]="OK",_n[_n.CANCELLED=1]="CANCELLED",_n[_n.UNKNOWN=2]="UNKNOWN",_n[_n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_n[_n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_n[_n.NOT_FOUND=5]="NOT_FOUND",_n[_n.ALREADY_EXISTS=6]="ALREADY_EXISTS",_n[_n.PERMISSION_DENIED=7]="PERMISSION_DENIED",_n[_n.UNAUTHENTICATED=16]="UNAUTHENTICATED",_n[_n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_n[_n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_n[_n.ABORTED=10]="ABORTED",_n[_n.OUT_OF_RANGE=11]="OUT_OF_RANGE",_n[_n.UNIMPLEMENTED=12]="UNIMPLEMENTED",_n[_n.INTERNAL=13]="INTERNAL",_n[_n.UNAVAILABLE=14]="UNAVAILABLE",_n[_n.DATA_LOSS=15]="DATA_LOSS";let Nn=null;const In=new s.jz([4294967295,4294967295],0);function On(e){const t=D().encode(e),r=new s.VV;return r.update(t),new Uint8Array(r.digest())}function Pn(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),o=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new s.jz([r,n],0),new s.jz([o,a],0)]}class Rn{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Dn(`Invalid padding: ${t}`);if(r<0)throw new Dn(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Dn(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Dn(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=s.jz.fromNumber(this.Ee)}Ae(e,t,r){let n=e.add(t.multiply(s.jz.fromNumber(r)));return 1===n.compare(In)&&(n=new s.jz([n.getBits(0),n.getBits(1)],0)),n.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=On(e),[r,n]=Pn(t);for(let e=0;e<this.hashCount;e++){const t=this.Ae(r,n,e);if(!this.Re(t))return!1}return!0}static create(e,t,r){const n=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new Rn(o,n,t);return r.forEach((e=>a.insert(e))),a}insert(e){if(0===this.Ee)return;const t=On(e),[r,n]=Pn(t);for(let e=0;e<this.hashCount;e++){const t=this.Ae(r,n,e);this.Ve(t)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Dn extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ln{constructor(e,t,r,n,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=n,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const n=new Map;return n.set(e,Mn.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ln(H.min(),n,new He(M),Ir(),jr())}}class Mn{constructor(e,t,r,n,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=n,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Mn(r,t,jr(),jr(),jr())}}class Fn{constructor(e,t,r,n){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=n}}class Un{constructor(e,t){this.targetId=e,this.ge=t}}class jn{constructor(e,t,r=Qe.EMPTY_BYTE_STRING,n=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=n}}class Bn{constructor(){this.pe=0,this.ye=Vn(),this.we=Qe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=jr(),t=jr(),r=jr();return this.ye.forEach(((n,o)=>{switch(o){case 0:e=e.add(n);break;case 2:t=t.add(n);break;case 1:r=r.add(n);break;default:w()}})),new Mn(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=Vn()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,b(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class zn{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ir(),this.$e=Wn(),this.Ue=Wn(),this.Ke=new He(M)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:w()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,r)=>{this.Je(r)&&t(r)}))}Ze(e){const t=e.targetId,r=e.ge.count,n=this.Xe(t);if(n){const o=n.target;if(ur(o))if(0===r){const e=new X(o.path);this.ze(t,e,Ft.newNoDocument(e,H.min()))}else b(1===r);else{const n=this.et(t);if(n!==r){const r=this.tt(e),o=r?this.nt(r,e,n):1;if(0!==o){this.Ye(t);const e=2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Nn||Nn.rt(function(e,t,r,n,o){var a,i,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:r.database,projectId:r.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===o,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(l=null===(s=null===(i=null==h?void 0:h.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==n?void 0:n.mightContain(e))&&void 0!==t&&t}}),d}(n,e.ge,this.ke.it(),r,o))}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:n=0},hashCount:o=0}=t;let a,i;try{a=tt(r).toUint8Array()}catch(e){if(e instanceof Xe)return v("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{i=new Rn(a,n,o)}catch(e){return v(e instanceof Dn?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===i.Ee?null:i}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let n=0;return r.forEach((r=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;e.mightContain(a)||(this.ze(t,r,null),n++)})),n}ot(e){const t=new Map;this.qe.forEach(((r,n)=>{const o=this.Xe(n);if(o){if(r.current&&ur(o.target)){const t=new X(o.target.path);this._t(t).has(n)||this.ut(n,t)||this.ze(n,t,Ft.newNoDocument(t,e))}r.ve&&(t.set(n,r.Fe()),r.Me())}}));let r=jr();this.Ue.forEach(((e,t)=>{let n=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(n=!1,!1)})),n&&(r=r.add(e))})),this.Qe.forEach(((t,r)=>r.setReadTime(e)));const n=new Ln(e,t,this.Ke,this.Qe,r);return this.Qe=Ir(),this.$e=Wn(),this.Ue=Wn(),this.Ke=new He(M),n}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const n=this.He(e);this.ut(e,t)?n.xe(t,1):n.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Bn,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Ke(M),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Ke(M),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||m("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Bn),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Wn(){return new He(X.comparator)}function Vn(){return new He(X.comparator)}const Hn={asc:"ASCENDING",desc:"DESCENDING"},$n={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gn={and:"AND",or:"OR"};class Kn{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qn(e,t){return e.useProto3Json||de(t)?t:{value:t}}function Yn(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Xn(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Qn(e,t){return Yn(e,t.toTimestamp())}function Jn(e){return b(!!e),H.fromTimestamp(function(e){const t=Ze(e);return new V(t.seconds,t.nanos)}(e))}function Zn(e,t){return eo(e,t).canonicalString()}function eo(e,t){const r=function(e){return new K(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?r:r.child(t)}function to(e){const t=K.fromString(e);return b(Eo(t)),t}function ro(e,t){return Zn(e.databaseId,t.path)}function no(e,t){const r=to(t);if(r.get(1)!==e.databaseId.projectId)throw new k(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new k(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new X(so(r))}function oo(e,t){return Zn(e.databaseId,t)}function ao(e){const t=to(e);return 4===t.length?K.emptyPath():so(t)}function io(e){return new K(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function so(e){return b(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function lo(e,t,r){return{name:ro(e,t),fields:r.value.mapValue.fields}}function co(e,t){let r;if(t instanceof pn)r={update:lo(e,t.key,t.value)};else if(t instanceof wn)r={delete:ro(e,t.key)};else if(t instanceof mn)r={update:lo(e,t.key,t.data),updateMask:xo(t.fieldMask)};else{if(!(t instanceof bn))return w();r={verify:ro(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const r=t.transform;if(r instanceof Yr)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(r instanceof Xr)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:r.elements}};if(r instanceof Jr)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:r.elements}};if(r instanceof en)return{fieldPath:t.field.canonicalString(),increment:r.Ie};throw w()}(0,e)))),t.precondition.isNone||(r.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Qn(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:w()}(e,t.precondition)),r}function uo(e,t){return{documents:[oo(e,t.path)]}}function ho(e,t){const r={structuredQuery:{}},n=t.path;let o;null!==t.collectionGroup?(o=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=oo(e,o);const a=function(e){if(0!==e.length)return bo($t.create(e,"and"))}(t.filters);a&&(r.structuredQuery.where=a);const i=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:yo(e.field),direction:mo(e.dir)}}(e)))}(t.orderBy);i&&(r.structuredQuery.orderBy=i);const s=qn(e,t.limit);return null!==s&&(r.structuredQuery.limit=s),t.startAt&&(r.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:r,parent:o}}function fo(e){let t=ao(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let o=null;if(n>0){b(1===n);const e=r.from[0];e.allDescendants?o=e.collectionId:t=t.child(e.collectionId)}let a=[];r.where&&(a=function(e){const t=po(e);return t instanceof $t&&Kt(t)?t.getFilters():[t]}(r.where));let i=[];r.orderBy&&(i=function(e){return e.map((e=>function(e){return new zt(wo(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(r.orderBy));let s=null;r.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,de(t)?null:t}(r.limit));let l=null;r.startAt&&(l=function(e){const t=!!e.before,r=e.values||[];return new Ut(r,t)}(r.startAt));let c=null;return r.endAt&&(c=function(e){const t=!e.before,r=e.values||[];return new Ut(r,t)}(r.endAt)),hr(t,o,i,a,s,"F",l,c)}function po(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=wo(e.unaryFilter.field);return Ht.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=wo(e.unaryFilter.field);return Ht.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const n=wo(e.unaryFilter.field);return Ht.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=wo(e.unaryFilter.field);return Ht.create(o,"!=",{nullValue:"NULL_VALUE"});default:return w()}}(e):void 0!==e.fieldFilter?function(e){return Ht.create(wo(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return w()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return $t.create(e.compositeFilter.filters.map((e=>po(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return w()}}(e.compositeFilter.op))}(e):w()}function mo(e){return Hn[e]}function go(e){return $n[e]}function vo(e){return Gn[e]}function yo(e){return{fieldPath:e.canonicalString()}}function wo(e){return Y.fromServerFormat(e.fieldPath)}function bo(e){return e instanceof Ht?function(e){if("=="===e.op){if(It(e.value))return{unaryFilter:{field:yo(e.field),op:"IS_NAN"}};if(Nt(e.value))return{unaryFilter:{field:yo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(It(e.value))return{unaryFilter:{field:yo(e.field),op:"IS_NOT_NAN"}};if(Nt(e.value))return{unaryFilter:{field:yo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yo(e.field),op:go(e.op),value:e.value}}}(e):e instanceof $t?function(e){const t=e.getFilters().map((e=>bo(e)));return 1===t.length?t[0]:{compositeFilter:{op:vo(e.op),filters:t}}}(e):w()}function xo(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Eo(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class ko{constructor(e,t,r,n,o=H.min(),a=H.min(),i=Qe.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=n,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=i,this.expectedCount=s}withSequenceNumber(e){return new ko(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class So{constructor(e){this.Tt=e}}function To(e){const t=fo({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?br(t,t.limit,"L"):t}class _o{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(et(e.integerValue));else if("doubleValue"in e){const r=et(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),he(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),"string"==typeof r&&(r=Ze(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(tt(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?Dt(e)?this.ft(t,Number.MAX_SAFE_INTEGER):Pt(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):w()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const r=e.fields||{};this.ft(t,55);for(const e of Object.keys(r))this.wt(e,t),this.Rt(r[e],t)}vt(e,t){var r,n;const o=e.fields||{};this.ft(t,53);const a=gt,i=(null===(n=null===(r=o[a].arrayValue)||void 0===r?void 0:r.values)||void 0===n?void 0:n.length)||0;this.ft(t,15),t.gt(et(i)),this.wt(a,t),this.Rt(o[a],t)}Ft(e,t){const r=e.values||[];this.ft(t,50);for(const e of r)this.Rt(e,t)}Dt(e,t){this.ft(t,37),X.fromName(e).path.forEach((e=>{this.ft(t,60),this.Mt(e,t)}))}ft(e,t){e.gt(t)}St(e){e.gt(2)}}_o.xt=new _o;class Ao{constructor(){this.Tn=new Co}addToCollectionParentIndex(e,t){return this.Tn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(te.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(te.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class Co{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),n=this.index[t]||new Ke(K.comparator),o=!n.has(r);return this.index[t]=n.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),n=this.index[t];return n&&n.has(r)}getEntries(e){return(this.index[e]||new Ke(K.comparator)).toArray()}}new Uint8Array(0);const No={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Io=41943040;class Oo{static withCacheSize(e){return new Oo(e,Oo.DEFAULT_COLLECTION_PERCENTILE,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Oo.DEFAULT_COLLECTION_PERCENTILE=10,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oo.DEFAULT=new Oo(Io,Oo.DEFAULT_COLLECTION_PERCENTILE,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oo.DISABLED=new Oo(-1,0,0);class Po{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Po(0)}static Kn(){return new Po(-1)}}const Ro="LruGarbageCollector",Do=1048576;function Lo([e,t],[r,n]){const o=M(e,r);return 0===o?M(t,n):o}class Mo{constructor(e){this.Hn=e,this.buffer=new Ke(Lo),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Lo(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Fo{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){m(Ro,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){le(e)?m(Ro,"Ignoring IndexedDB error during garbage collection: ",e):await ae(e)}await this.er(3e5)}))}}class Uo{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return ie.resolve(ce.ae);const r=new Mo(t);return this.tr.forEachTarget(e,(e=>r.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>r.Zn(e))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(m("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(No)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(m("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),No):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,n,o,i,s,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(m("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),n=this.params.maximumSequenceNumbersToCollect):n=t,i=Date.now(),this.nthSequenceNumber(e,n)))).next((n=>(r=n,s=Date.now(),this.removeTargets(e,r,t)))).next((t=>(o=t,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((e=>(c=Date.now(),p()<=a.$b.DEBUG&&m("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${i-u}ms\n\tDetermined least recently used ${n} in `+(s-i)+"ms\n"+`\tRemoved ${o} targets in `+(l-s)+"ms\n"+`\tRemoved ${e} documents in `+(c-l)+"ms\n"+`Total Duration: ${c-u}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:n,targetsRemoved:o,documentsRemoved:e}))))}}function jo(e,t){return new Uo(e,t)}class Bo{constructor(){this.changes=new Cr((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zo{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Wo{constructor(e,t,r,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=n}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((n=>(r=n,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==r&&dn(r.mutation,e,Ye.empty(),V.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,jr()).next((()=>t))))}getLocalViewOfDocuments(e,t,r=jr()){const n=Dr();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,r).next((e=>{let t=Pr();return e.forEach(((e,r)=>{t=t.insert(e,r.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const r=Dr();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,jr())))}populateOverlays(e,t,r){const n=[];return r.forEach((e=>{t.has(e)||n.push(e)})),this.documentOverlayCache.getOverlays(e,n).next((e=>{e.forEach(((e,r)=>{t.set(e,r)}))}))}computeViews(e,t,r,n){let o=Ir();const a=Mr(),i=Mr();return t.forEach(((e,t)=>{const i=r.get(t.key);n.has(t.key)&&(void 0===i||i.mutation instanceof mn)?o=o.insert(t.key,t):void 0!==i?(a.set(t.key,i.mutation.getFieldMask()),dn(i.mutation,t,i.mutation.getFieldMask(),V.now())):a.set(t.key,Ye.empty())})),this.recalculateAndSaveOverlays(e,o).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>{var r;return i.set(e,new zo(t,null!==(r=a.get(e))&&void 0!==r?r:null))})),i)))}recalculateAndSaveOverlays(e,t){const r=Mr();let n=new He(((e,t)=>e-t)),o=jr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const o of e)o.keys().forEach((e=>{const a=t.get(e);if(null===a)return;let i=r.get(e)||Ye.empty();i=o.applyToLocalView(a,i),r.set(e,i);const s=(n.get(o.batchId)||jr()).add(e);n=n.insert(o.batchId,s)}))})).next((()=>{const a=[],i=n.getReverseIterator();for(;i.hasNext();){const n=i.getNext(),s=n.key,l=n.value,c=Lr();l.forEach((e=>{if(!o.has(e)){const n=cn(t.get(e),r.get(e));null!==n&&c.set(e,n),o=o.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,s,c))}return ie.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,r,n){return function(e){return X.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):mr(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,n):this.getDocumentsMatchingCollectionQuery(e,t,r,n)}getNextDocuments(e,t,r,n){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,n).next((o=>{const a=n-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,n-o.size):ie.resolve(Dr());let i=Q,s=o;return a.next((t=>ie.forEach(t,((t,r)=>(i<r.largestBatchId&&(i=r.largestBatchId),o.get(t)?ie.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,o))).next((()=>this.computeViews(e,s,t,jr()))).next((e=>({batchId:i,changes:Rr(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new X(t)).next((e=>{let t=Pr();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,n){const o=t.collectionGroup;let a=Pr();return this.indexManager.getCollectionParents(e,o).next((i=>ie.forEach(i,(i=>{const s=function(e,t){return new dr(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,i.child(o));return this.getDocumentsMatchingCollectionQuery(e,s,r,n).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,r,n){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,n)))).next((e=>{o.forEach(((t,r)=>{const n=r.getKey();null===e.get(n)&&(e=e.insert(n,Ft.newInvalidDocument(n)))}));let r=Pr();return e.forEach(((e,n)=>{const a=o.get(e);void 0!==a&&dn(a.mutation,n,Ye.empty(),V.now()),Sr(t,n)&&(r=r.insert(e,n))})),r}))}}class Vo{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ie.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Jn(e.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:To(e.bundledQuery),readTime:Jn(e.readTime)}}(t)),ie.resolve()}}class Ho{constructor(){this.overlays=new He(X.comparator),this.Rr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Dr();return ie.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&r.set(t,e)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((r,n)=>{this.Et(e,t,n)})),ie.resolve()}removeOverlaysForBatchId(e,t,r){const n=this.Rr.get(r);return void 0!==n&&(n.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const n=Dr(),o=t.length+1,a=new X(t.child("")),i=this.overlays.getIteratorFrom(a);for(;i.hasNext();){const e=i.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===o&&e.largestBatchId>r&&n.set(e.getKey(),e)}return ie.resolve(n)}getOverlaysForCollectionGroup(e,t,r,n){let o=new He(((e,t)=>e-t));const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>r){let t=o.get(e.largestBatchId);null===t&&(t=Dr(),o=o.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const i=Dr(),s=o.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>i.set(e,t))),!(i.size()>=n)););return ie.resolve(i)}Et(e,t,r){const n=this.overlays.get(r.key);if(null!==n){const e=this.Rr.get(n.largestBatchId).delete(r.key);this.Rr.set(n.largestBatchId,e)}this.overlays=this.overlays.insert(r.key,new kn(t,r));let o=this.Rr.get(t);void 0===o&&(o=jr(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}class $o{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}class Go{constructor(){this.Vr=new Ke(Ko.mr),this.gr=new Ke(Ko.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Ko(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new Ko(e,t))}Sr(e,t){e.forEach((e=>this.removeReference(e,t)))}br(e){const t=new X(new K([])),r=new Ko(t,e),n=new Ko(t,e+1),o=[];return this.gr.forEachInRange([r,n],(e=>{this.wr(e),o.push(e.key)})),o}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new X(new K([])),r=new Ko(t,e),n=new Ko(t,e+1);let o=jr();return this.gr.forEachInRange([r,n],(e=>{o=o.add(e.key)})),o}containsKey(e){const t=new Ko(e,0),r=this.Vr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ko{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return X.comparator(e.key,t.key)||M(e.Cr,t.Cr)}static pr(e,t){return M(e.Cr,t.Cr)||X.comparator(e.key,t.key)}}class qo{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Ke(Ko.mr)}checkEmpty(e){return ie.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,n){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new xn(o,t,r,n);this.mutationQueue.push(a);for(const t of n)this.Mr=this.Mr.add(new Ko(t.key,o)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return ie.resolve(a)}lookupMutationBatch(e,t){return ie.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,n=this.Nr(r),o=n<0?0:n;return ie.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(0===this.mutationQueue.length?ue:this.Fr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ko(t,0),n=new Ko(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,n],(e=>{const t=this.Or(e.Cr);o.push(t)})),ie.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ke(M);return t.forEach((e=>{const t=new Ko(e,0),n=new Ko(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,n],(e=>{r=r.add(e.Cr)}))})),ie.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,n=r.length+1;let o=r;X.isDocumentKey(o)||(o=o.child(""));const a=new Ko(new X(o),0);let i=new Ke(M);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!r.isPrefixOf(t)&&(t.length===n&&(i=i.add(e.Cr)),!0)}),a),ie.resolve(this.Br(i))}Br(e){const t=[];return e.forEach((e=>{const r=this.Or(e);null!==r&&t.push(r)})),t}removeMutationBatch(e,t){b(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Mr;return ie.forEach(t.mutations,(n=>{const o=new Ko(n.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,n.key)})).next((()=>{this.Mr=r}))}qn(e){}containsKey(e,t){const r=new Ko(t,0),n=this.Mr.firstAfterOrEqual(r);return ie.resolve(t.isEqual(n&&n.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Yo{constructor(e){this.kr=e,this.docs=new He(X.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,n=this.docs.get(r),o=n?n.size:0,a=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(t))}getEntries(e,t){let r=Ir();return t.forEach((e=>{const t=this.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Ft.newInvalidDocument(e))})),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,n){let o=Ir();const a=t.path,i=new X(a.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||re(ee(i),r)<=0||(n.has(i.key)||Sr(t,i))&&(o=o.insert(i.key,i.mutableCopy()))}return ie.resolve(o)}getAllFromCollectionGroup(e,t,r,n){w()}qr(e,t){return ie.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Xo(this)}getSize(e){return ie.resolve(this.size)}}class Xo extends Bo{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((r,n)=>{n.isValidDocument()?t.push(this.Ir.addEntry(e,n)):this.Ir.removeEntry(r)})),ie.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class Qo{constructor(e){this.persistence=e,this.Qr=new Cr((e=>lr(e)),cr),this.lastRemoteSnapshotVersion=H.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Go,this.targetCount=0,this.Kr=Po.Un()}forEachTarget(e,t){return this.Qr.forEach(((e,r)=>t(r))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ie.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Po(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.zn(t),ie.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let n=0;const o=[];return this.Qr.forEach(((a,i)=>{i.sequenceNumber<=t&&null===r.get(i.targetId)&&(this.Qr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,i.targetId)),n++)})),ie.waitFor(o).next((()=>n))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const n=this.persistence.referenceDelegate,o=[];return n&&t.forEach((t=>{o.push(n.markPotentiallyOrphaned(e,t))})),ie.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.Ur.containsKey(t))}}class Jo{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new ce(0),this.zr=!1,this.zr=!0,this.jr=new $o,this.referenceDelegate=e(this),this.Hr=new Qo(this),this.indexManager=new Ao,this.remoteDocumentCache=function(e){return new Yo(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new So(t),this.Yr=new Vo(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ho,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new qo(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){m("MemoryPersistence","Starting transaction:",e);const n=new Zo(this.Gr.next());return this.referenceDelegate.Zr(),r(n).next((e=>this.referenceDelegate.Xr(n).next((()=>e)))).toPromise().then((e=>(n.raiseOnCommittedEvent(),e)))}ei(e,t){return ie.or(Object.values(this.Wr).map((r=>()=>r.containsKey(e,t))))}}class Zo extends oe{constructor(e){super(),this.currentSequenceNumber=e}}class ea{constructor(e){this.persistence=e,this.ti=new Go,this.ni=null}static ri(e){return new ea(e)}get ii(){if(this.ni)return this.ni;throw w()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ie.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach((e=>this.ii.add(e.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>r.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.ii,(r=>{const n=X.fromPath(r);return this.si(e,n).next((e=>{e||t.removeEntry(n,H.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return ie.or([()=>ie.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class ta{constructor(e,t){this.persistence=e,this.oi=new Cr((e=>me(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=jo(this,t)}static ri(e,t){return new ta(e,t)}Zr(){}Xr(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return ie.forEach(this.oi,((r,n)=>this.ar(e,r,n).next((e=>e?ie.resolve():t(n)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const n=this.persistence.getRemoteDocumentCache(),o=n.newChangeBuffer();return n.qr(e,(n=>this.ar(e,n,t).next((e=>{e||(r++,o.removeEntry(n,H.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ie.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Tt(e.data.value)),t}ar(e,t,r){return ie.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return ie.resolve(void 0!==e&&e>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ra{constructor(e,t,r,n){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=n}static Yi(e,t){let r=jr(),n=jr();for(const e of t.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:n=n.add(e.doc.key)}return new ra(e,t.fromCache,r,n)}}class na{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class oa{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=(0,i.nr)()?8:se((0,i.ZQ)())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,n){const o={result:null};return this.rs(e,t).next((e=>{o.result=e})).next((()=>{if(!o.result)return this.ss(e,t,n,r).next((e=>{o.result=e}))})).next((()=>{if(o.result)return;const r=new na;return this._s(e,t,r).next((n=>{if(o.result=n,this.Xi)return this.us(e,t,r,n.size)}))})).next((()=>o.result))}us(e,t,r,n){return r.documentReadCount<this.es?(p()<=a.$b.DEBUG&&m("QueryEngine","SDK will not create cache indexes for query:",kr(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ie.resolve()):(p()<=a.$b.DEBUG&&m("QueryEngine","Query:",kr(t),"scans",r.documentReadCount,"local documents and returns",n,"documents as results."),r.documentReadCount>this.ts*n?(p()<=a.$b.DEBUG&&m("QueryEngine","The SDK decides to create cache indexes for query:",kr(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(t))):ie.resolve())}rs(e,t){if(pr(t))return ie.resolve(null);let r=vr(t);return this.indexManager.getIndexType(e,r).next((n=>0===n?null:(null!==t.limit&&1===n&&(t=br(t,null,"F"),r=vr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((n=>{const o=jr(...n);return this.ns.getDocuments(e,o).next((n=>this.indexManager.getMinOffset(e,r).next((r=>{const a=this.cs(t,n);return this.ls(t,a,o,r.readTime)?this.rs(e,br(t,null,"F")):this.hs(e,a,t,r)}))))})))))}ss(e,t,r,n){return pr(t)||n.isEqual(H.min())?ie.resolve(null):this.ns.getDocuments(e,r).next((o=>{const i=this.cs(t,o);return this.ls(t,i,r,n)?ie.resolve(null):(p()<=a.$b.DEBUG&&m("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),kr(t)),this.hs(e,i,t,Z(n,Q)).next((e=>e)))}))}cs(e,t){let r=new Ke(_r(e));return t.forEach(((t,n)=>{Sr(e,n)&&(r=r.add(n))})),r}ls(e,t,r,n){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(n)>0)}_s(e,t,r){return p()<=a.$b.DEBUG&&m("QueryEngine","Using full collection scan to execute query:",kr(t)),this.ns.getDocumentsMatchingQuery(e,t,te.min(),r)}hs(e,t,r,n){return this.ns.getDocumentsMatchingQuery(e,r,n).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const aa="LocalStore",ia=3e8;class sa{constructor(e,t,r,n){this.persistence=e,this.Ps=t,this.serializer=n,this.Ts=new He(M),this.Is=new Cr((e=>lr(e)),cr),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wo(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function la(e,t,r,n){return new sa(e,t,r,n)}async function ca(e,t){const r=x(e);return await r.persistence.runTransaction("Handle user change","readonly",(e=>{let n;return r.mutationQueue.getAllMutationBatches(e).next((o=>(n=o,r.As(t),r.mutationQueue.getAllMutationBatches(e)))).next((t=>{const o=[],a=[];let i=jr();for(const e of n){o.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}return r.localDocuments.getDocuments(e,i).next((e=>({Rs:e,removedBatchIds:o,addedBatchIds:a})))}))}))}function ua(e){const t=x(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function da(e,t,r){let n=jr(),o=jr();return r.forEach((e=>n=n.add(e))),t.getEntries(e,n).next((e=>{let n=Ir();return r.forEach(((r,a)=>{const i=e.get(r);a.isFoundDocument()!==i.isFoundDocument()&&(o=o.add(r)),a.isNoDocument()&&a.version.isEqual(H.min())?(t.removeEntry(r,a.readTime),n=n.insert(r,a)):!i.isValidDocument()||a.version.compareTo(i.version)>0||0===a.version.compareTo(i.version)&&i.hasPendingWrites?(t.addEntry(a),n=n.insert(r,a)):m(aa,"Ignoring outdated watch update for ",r,". Current version:",i.version," Watch version:",a.version)})),{Vs:n,fs:o}}))}function ha(e,t){const r=x(e);return r.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=ue),r.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function fa(e,t){const r=x(e);return r.persistence.runTransaction("Allocate target","readwrite",(e=>{let n;return r.Hr.getTargetData(e,t).next((o=>o?(n=o,ie.resolve(n)):r.Hr.allocateTargetId(e).next((o=>(n=new ko(t,o,"TargetPurposeListen",e.currentSequenceNumber),r.Hr.addTargetData(e,n).next((()=>n)))))))})).then((e=>{const n=r.Ts.get(e.targetId);return(null===n||e.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(e.targetId,e),r.Is.set(t,e.targetId)),e}))}async function pa(e,t,r){const n=x(e),o=n.Ts.get(t),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(e=>n.persistence.referenceDelegate.removeTarget(e,o)))}catch(e){if(!le(e))throw e;m(aa,`Failed to update sequence numbers for target ${t}: ${e}`)}n.Ts=n.Ts.remove(t),n.Is.delete(o.target)}function ma(e,t,r){const n=x(e);let o=H.min(),a=jr();return n.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,r){const n=x(e),o=n.Is.get(r);return void 0!==o?ie.resolve(n.Ts.get(o)):n.Hr.getTargetData(t,r)}(n,e,vr(t)).next((t=>{if(t)return o=t.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>n.Ps.getDocumentsMatchingQuery(e,t,r?o:H.min(),r?a:jr()))).next((e=>(ga(n,Tr(t),e),{documents:e,gs:a})))))}function ga(e,t,r){let n=e.Es.get(t)||H.min();r.forEach(((e,t)=>{t.readTime.compareTo(n)>0&&(n=t.readTime)})),e.Es.set(t,n)}class va{constructor(){this.activeTargetIds=zr()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ya{constructor(){this.ho=new va,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new va,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wa{To(e){}shutdown(){}}const ba="ConnectivityMonitor";class xa{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){m(ba,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){m(ba,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ea=null;function ka(){return null===Ea?Ea=268435456+Math.round(2147483648*Math.random()):Ea++,"0x"+Ea.toString(16)}const Sa="RestConnection",Ta={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _a{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),n=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${n}`,this.wo=this.databaseId.database===ut?`project_id=${r}`:`project_id=${r}&database_id=${n}`}So(e,t,r,n,o){const a=ka(),i=this.bo(e,t.toUriEncodedString());m(Sa,`Sending RPC '${e}' ${a}:`,i,r);const s={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(s,n,o),this.vo(e,i,s,r).then((t=>(m(Sa,`Received RPC '${e}' ${a}: `,t),t)),(t=>{throw v(Sa,`RPC '${e}' ${a} failed with error: `,t,"url: ",i,"request:",r),t}))}Co(e,t,r,n,o,a){return this.So(e,t,r,n,o)}Do(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+h,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,r)=>e[r]=t)),r&&r.headers.forEach(((t,r)=>e[r]=t))}bo(e,t){const r=Ta[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}class Aa{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}const Ca="WebChannelConnection";class Na extends _a{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,n){const o=ka();return new Promise(((a,i)=>{const s=new l.ZS;s.setWithCredentials(!0),s.listenOnce(l.Bx.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case l.O4.NO_ERROR:const t=s.getResponseJson();m(Ca,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(t)),a(t);break;case l.O4.TIMEOUT:m(Ca,`RPC '${e}' ${o} timed out`),i(new k(E.DEADLINE_EXCEEDED,"Request time out"));break;case l.O4.HTTP_ERROR:const r=s.getStatus();if(m(Ca,`RPC '${e}' ${o} failed with status:`,r,"response text:",s.getResponseText()),r>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(t)>=0?t:E.UNKNOWN}(t.status);i(new k(e,t.message))}else i(new k(E.UNKNOWN,"Server responded with status "+s.getStatus()))}else i(new k(E.UNAVAILABLE,"Connection failed."));break;default:w()}}finally{m(Ca,`RPC '${e}' ${o} completed.`)}}));const c=JSON.stringify(n);m(Ca,`RPC '${e}' ${o} sending request:`,n),s.send(t,"POST",c,r,15)}))}Wo(e,t,r){const n=ka(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=(0,l.fF)(),i=(0,l.Ao)(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(s.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Do(s.initMessageHeaders,t,r),s.encodeInitMessageHeaders=!0;const u=o.join("");m(Ca,`Creating RPC '${e}' stream ${n}: ${u}`,s);const d=a.createWebChannel(u,s);let h=!1,f=!1;const p=new Aa({Fo:t=>{f?m(Ca,`Not sending because RPC '${e}' stream ${n} is closed:`,t):(h||(m(Ca,`Opening RPC '${e}' stream ${n} transport.`),d.open(),h=!0),m(Ca,`RPC '${e}' stream ${n} sending:`,t),d.send(t))},Mo:()=>d.close()}),g=(e,t,r)=>{e.listen(t,(e=>{try{r(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return g(d,l.iO.EventType.OPEN,(()=>{f||(m(Ca,`RPC '${e}' stream ${n} transport opened.`),p.Qo())})),g(d,l.iO.EventType.CLOSE,(()=>{f||(f=!0,m(Ca,`RPC '${e}' stream ${n} transport closed`),p.Uo())})),g(d,l.iO.EventType.ERROR,(t=>{f||(f=!0,v(Ca,`RPC '${e}' stream ${n} transport errored:`,t),p.Uo(new k(E.UNAVAILABLE,"The operation could not be completed")))})),g(d,l.iO.EventType.MESSAGE,(t=>{var r;if(!f){const o=t.data[0];b(!!o);const a=o,i=(null==a?void 0:a.error)||(null===(r=a[0])||void 0===r?void 0:r.error);if(i){m(Ca,`RPC '${e}' stream ${n} received error:`,i);const t=i.status;let r=function(e){const t=Tn[e];if(void 0!==t)return Cn(t)}(t),o=i.message;void 0===r&&(r=E.INTERNAL,o="Unknown error status: "+t+" with message "+i.message),f=!0,p.Uo(new k(r,o)),d.close()}else m(Ca,`RPC '${e}' stream ${n} received:`,o),p.Ko(o)}})),g(i,l.Jh.STAT_EVENT,(t=>{t.stat===l.ro.PROXY?m(Ca,`RPC '${e}' stream ${n} detected buffering proxy`):t.stat===l.ro.NOPROXY&&m(Ca,`RPC '${e}' stream ${n} detected no buffering proxy`)})),setTimeout((()=>{p.$o()}),0),p}}function Ia(){return"undefined"!=typeof document?document:null}function Oa(e){return new Kn(e,!0)}class Pa{constructor(e,t,r=1e3,n=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=n,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),n=Math.max(0,t-r);n>0&&m("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,n,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const Ra="PersistentStream";class Da{constructor(e,t,r,n,o,a,i,s){this.Ti=e,this.n_=r,this.r_=n,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=i,this.listener=s,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Pa(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===E.RESOURCE_EXHAUSTED?(g(t.toString()),g("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===E.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,r])=>{this.i_===t&&this.V_(e,r)}),(t=>{e((()=>{const e=new k(E.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{r((()=>this.listener.xo()))})),this.stream.No((()=>{r((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{r((()=>this.m_(e)))})),this.stream.onMessage((e=>{r((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return m(Ra,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(m(Ra,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class La extends Da{constructor(e,t,r,n,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,n,a),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:w()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(b(void 0===t||"string"==typeof t),Qe.fromBase64String(t||"")):(b(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Qe.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),i=t.targetChange.cause,s=i&&function(e){const t=void 0===e.code?E.UNKNOWN:Cn(e.code);return new k(t,e.message||"")}(i);r=new jn(n,o,a,s||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const o=no(e,n.document.name),a=Jn(n.document.updateTime),i=n.document.createTime?Jn(n.document.createTime):H.min(),s=new Lt({mapValue:{fields:n.document.fields}}),l=Ft.newFoundDocument(o,a,i,s),c=n.targetIds||[],u=n.removedTargetIds||[];r=new Fn(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const o=no(e,n.document),a=n.readTime?Jn(n.readTime):H.min(),i=Ft.newNoDocument(o,a),s=n.removedTargetIds||[];r=new Fn([],s,i.key,i)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const o=no(e,n.document),a=n.removedTargetIds||[];r=new Fn([],a,o,null)}else{if(!("filter"in t))return w();{t.filter;const e=t.filter;e.targetId;const{count:n=0,unchangedNames:o}=e,a=new Sn(n,o),i=e.targetId;r=new Un(i,a)}}return r}(this.serializer,e),r=function(e){if(!("targetChange"in e))return H.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?H.min():t.readTime?Jn(t.readTime):H.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=io(this.serializer),t.addTarget=function(e,t){let r;const n=t.target;if(r=ur(n)?{documents:uo(e,n)}:{query:ho(e,n).ht},r.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){r.resumeToken=Xn(e,t.resumeToken);const n=qn(e,t.expectedCount);null!==n&&(r.expectedCount=n)}else if(t.snapshotVersion.compareTo(H.min())>0){r.readTime=Yn(e,t.snapshotVersion.toTimestamp());const n=qn(e,t.expectedCount);null!==n&&(r.expectedCount=n)}return r}(this.serializer,e);const r=function(e,t){const r=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return w()}}(t.purpose);return null==r?null:{"goog-listen-tags":r}}(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=io(this.serializer),t.removeTarget=e,this.I_(t)}}class Ma extends Da{constructor(e,t,r,n,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,n,a),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return b(!!e.streamToken),this.lastStreamToken=e.streamToken,b(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){b(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(b(void 0!==t),e.map((e=>function(e,t){let r=e.updateTime?Jn(e.updateTime):Jn(t);return r.isEqual(H.min())&&(r=Jn(t)),new on(r,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),r=Jn(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=io(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>co(this.serializer,e)))};this.I_(t)}}class Fa{}class Ua extends Fa{constructor(e,t,r,n){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=n,this.F_=!1}M_(){if(this.F_)throw new k(E.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,n){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.So(e,eo(t,r),n,o,a))).catch((e=>{throw"FirebaseError"===e.name?(e.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new k(E.UNKNOWN,e.toString())}))}Co(e,t,r,n,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,i])=>this.connection.Co(e,eo(t,r),n,a,i,o))).catch((e=>{throw"FirebaseError"===e.name?(e.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new k(E.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class ja{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(g(t),this.N_=!1):m("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const Ba="RemoteStore";class za{constructor(e,t,r,n,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To((e=>{r.enqueueAndForget((async()=>{Xa(this)&&(m(Ba,"Restarting streams for network reachability change."),await async function(e){const t=x(e);t.W_.add(4),await Va(t),t.j_.set("Unknown"),t.W_.delete(4),await Wa(t)}(this))}))})),this.j_=new ja(r,n)}}async function Wa(e){if(Xa(e))for(const t of e.G_)await t(!0)}async function Va(e){for(const t of e.G_)await t(!1)}function Ha(e,t){const r=x(e);r.K_.has(t.targetId)||(r.K_.set(t.targetId,t),Ya(r)?qa(r):mi(r).c_()&&Ga(r,t))}function $a(e,t){const r=x(e),n=mi(r);r.K_.delete(t),n.c_()&&Ka(r,t),0===r.K_.size&&(n.c_()?n.P_():Xa(r)&&r.j_.set("Unknown"))}function Ga(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(H.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}mi(e).y_(t)}function Ka(e,t){e.H_.Ne(t),mi(e).w_(t)}function qa(e){e.H_=new zn({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),mi(e).start(),e.j_.B_()}function Ya(e){return Xa(e)&&!mi(e).u_()&&e.K_.size>0}function Xa(e){return 0===x(e).W_.size}function Qa(e){e.H_=void 0}async function Ja(e){e.j_.set("Online")}async function Za(e){e.K_.forEach(((t,r)=>{Ga(e,t)}))}async function ei(e,t){Qa(e),Ya(e)?(e.j_.q_(t),qa(e)):e.j_.set("Unknown")}async function ti(e,t,r){if(e.j_.set("Online"),t instanceof jn&&2===t.state&&t.cause)try{await async function(e,t){const r=t.cause;for(const n of t.targetIds)e.K_.has(n)&&(await e.remoteSyncer.rejectListen(n,r),e.K_.delete(n),e.H_.removeTarget(n))}(e,t)}catch(r){m(Ba,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ri(e,r)}else if(t instanceof Fn?e.H_.We(t):t instanceof Un?e.H_.Ze(t):e.H_.je(t),!r.isEqual(H.min()))try{const t=await ua(e.localStore);r.compareTo(t)>=0&&await function(e,t){const r=e.H_.ot(t);return r.targetChanges.forEach(((r,n)=>{if(r.resumeToken.approximateByteSize()>0){const o=e.K_.get(n);o&&e.K_.set(n,o.withResumeToken(r.resumeToken,t))}})),r.targetMismatches.forEach(((t,r)=>{const n=e.K_.get(t);if(!n)return;e.K_.set(t,n.withResumeToken(Qe.EMPTY_BYTE_STRING,n.snapshotVersion)),Ka(e,t);const o=new ko(n.target,t,r,n.sequenceNumber);Ga(e,o)})),e.remoteSyncer.applyRemoteEvent(r)}(e,r)}catch(t){m(Ba,"Failed to raise snapshot:",t),await ri(e,t)}}async function ri(e,t,r){if(!le(t))throw t;e.W_.add(1),await Va(e),e.j_.set("Offline"),r||(r=()=>ua(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{m(Ba,"Retrying IndexedDB access"),await r(),e.W_.delete(1),await Wa(e)}))}function ni(e,t){return t().catch((r=>ri(e,r,t)))}async function oi(e){const t=x(e),r=gi(t);let n=t.U_.length>0?t.U_[t.U_.length-1].batchId:ue;for(;ai(t);)try{const e=await ha(t.localStore,n);if(null===e){0===t.U_.length&&r.P_();break}n=e.batchId,ii(t,e)}catch(e){await ri(t,e)}si(t)&&li(t)}function ai(e){return Xa(e)&&e.U_.length<10}function ii(e,t){e.U_.push(t);const r=gi(e);r.c_()&&r.S_&&r.b_(t.mutations)}function si(e){return Xa(e)&&!gi(e).u_()&&e.U_.length>0}function li(e){gi(e).start()}async function ci(e){gi(e).C_()}async function ui(e){const t=gi(e);for(const r of e.U_)t.b_(r.mutations)}async function di(e,t,r){const n=e.U_.shift(),o=En.from(n,t,r);await ni(e,(()=>e.remoteSyncer.applySuccessfulWrite(o))),await oi(e)}async function hi(e,t){t&&gi(e).S_&&await async function(e,t){if(function(e){return An(e)&&e!==E.ABORTED}(t.code)){const r=e.U_.shift();gi(e).h_(),await ni(e,(()=>e.remoteSyncer.rejectFailedWrite(r.batchId,t))),await oi(e)}}(e,t),si(e)&&li(e)}async function fi(e,t){const r=x(e);r.asyncQueue.verifyOperationInProgress(),m(Ba,"RemoteStore received new credentials");const n=Xa(r);r.W_.add(3),await Va(r),n&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.W_.delete(3),await Wa(r)}async function pi(e,t){const r=x(e);t?(r.W_.delete(2),await Wa(r)):t||(r.W_.add(2),await Va(r),r.j_.set("Unknown"))}function mi(e){return e.J_||(e.J_=function(e,t,r){const n=x(e);return n.M_(),new La(t,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,r)}(e.datastore,e.asyncQueue,{xo:Ja.bind(null,e),No:Za.bind(null,e),Lo:ei.bind(null,e),p_:ti.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),Ya(e)?qa(e):e.j_.set("Unknown")):(await e.J_.stop(),Qa(e))}))),e.J_}function gi(e){return e.Y_||(e.Y_=function(e,t,r){const n=x(e);return n.M_(),new Ma(t,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,r)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:ci.bind(null,e),Lo:hi.bind(null,e),D_:ui.bind(null,e),v_:di.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await oi(e)):(await e.Y_.stop(),e.U_.length>0&&(m(Ba,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))}))),e.Y_}class vi{constructor(e,t,r,n,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=n,this.removalCallback=o,this.deferred=new S,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,n,o){const a=Date.now()+r,i=new vi(e,t,a,n,o);return i.start(r),i}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new k(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yi(e,t){if(g("AsyncQueue",`${t}: ${e}`),le(e))return new k(E.UNAVAILABLE,`${t}: ${e}`);throw e}class wi{static emptySet(e){return new wi(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||X.comparator(t.key,r.key):(e,t)=>X.comparator(e.key,t.key),this.keyedMap=Pr(),this.sortedSet=new He(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wi))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,n=r.getNext().key;if(!e.isEqual(n))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new wi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class bi{constructor(){this.Z_=new He(X.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?0!==e.type&&3===r.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==r.type?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Z_=this.Z_.remove(t):1===e.type&&2===r.type?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):w():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,r)=>{e.push(r)})),e}}class xi{constructor(e,t,r,n,o,a,i,s,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=n,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=i,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,n,o){const a=[];return t.forEach((e=>{a.push({type:0,doc:e})})),new xi(e,t,wi.emptySet(t),a,r,n,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xr(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==r[e].type||!t[e].doc.isEqual(r[e].doc))return!1;return!0}}class Ei{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class ki{constructor(){this.queries=Si(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const r=x(e),n=r.queries;r.queries=Si(),n.forEach(((e,r)=>{for(const e of r.ta)e.onError(t)}))}(this,new k(E.ABORTED,"Firestore shutting down"))}}function Si(){return new Cr((e=>Er(e)),xr)}async function Ti(e,t){const r=x(e);let n=3;const o=t.query;let a=r.queries.get(o);a?!a.na()&&t.ra()&&(n=2):(a=new Ei,n=t.ra()?0:1);try{switch(n){case 0:a.ea=await r.onListen(o,!0);break;case 1:a.ea=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(e){const r=yi(e,`Initialization of query '${kr(t.query)}' failed`);return void t.onError(r)}r.queries.set(o,a),a.ta.push(t),t.sa(r.onlineState),a.ea&&t.oa(a.ea)&&Ni(r)}async function _i(e,t){const r=x(e),n=t.query;let o=3;const a=r.queries.get(n);if(a){const e=a.ta.indexOf(t);e>=0&&(a.ta.splice(e,1),0===a.ta.length?o=t.ra()?0:1:!a.na()&&t.ra()&&(o=2))}switch(o){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Ai(e,t){const r=x(e);let n=!1;for(const e of t){const t=e.query,o=r.queries.get(t);if(o){for(const t of o.ta)t.oa(e)&&(n=!0);o.ea=e}}n&&Ni(r)}function Ci(e,t,r){const n=x(e),o=n.queries.get(t);if(o)for(const e of o.ta)e.onError(r);n.queries.delete(t)}function Ni(e){e.ia.forEach((e=>{e.next()}))}var Ii,Oi;(Oi=Ii||(Ii={}))._a="default",Oi.Cache="cache";class Pi{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const r of e.docChanges)3!==r.type&&t.push(r);e=new xi(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const r="Offline"!==t;return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=xi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ii.Cache}}class Ri{constructor(e){this.key=e}}class Di{constructor(e){this.key=e}}class Li{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=jr(),this.mutatedKeys=jr(),this.ya=_r(e),this.wa=new wi(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new bi,n=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,a=n,i=!1;const s="F"===this.query.limitType&&n.size===this.query.limit?n.last():null,l="L"===this.query.limitType&&n.size===this.query.limit?n.first():null;if(e.inorderTraversal(((e,t)=>{const c=n.get(e),u=Sr(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(r.track({type:3,doc:u}),f=!0):this.va(c,u)||(r.track({type:2,doc:u}),f=!0,(s&&this.ya(u,s)>0||l&&this.ya(u,l)<0)&&(i=!0)):!c&&u?(r.track({type:0,doc:u}),f=!0):c&&!u&&(r.track({type:1,doc:c}),f=!0,(s||l)&&(i=!0)),f&&(u?(a=a.add(u),o=h?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),o=o.delete(e.key),r.track({type:1,doc:e})}return{wa:a,Da:r,ls:i,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,n){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const a=e.Da.X_();a.sort(((e,t)=>function(e,t){const r=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return w()}};return r(e)-r(t)}(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(r),n=null!=n&&n;const i=t&&!n?this.Fa():[],s=0===this.pa.size&&this.current&&!n?1:0,l=s!==this.ga;return this.ga=s,0!==a.length||l?{snapshot:new xi(this.query,e.wa,o,a,e.mutatedKeys,0===s,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:i}:{Ma:i}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new bi,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=jr(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new Di(e))})),this.pa.forEach((r=>{e.has(r)||t.push(new Ri(r))})),t}Oa(e){this.fa=e.gs,this.pa=jr();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return xi.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const Mi="SyncEngine";class Fi{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Ui{constructor(e){this.key=e,this.Ba=!1}}class ji{constructor(e,t,r,n,o,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=n,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.La={},this.ka=new Cr((e=>Er(e)),xr),this.qa=new Map,this.Qa=new Set,this.$a=new He(X.comparator),this.Ua=new Map,this.Ka=new Go,this.Wa={},this.Ga=new Map,this.za=Po.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function Bi(e,t,r=!0){const n=ss(e);let o;const a=n.ka.get(t);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Na()):o=await Wi(n,t,r,!0),o}async function zi(e,t){const r=ss(e);await Wi(r,t,!0,!1)}async function Wi(e,t,r,n){const o=await fa(e.localStore,vr(t)),a=o.targetId,i=e.sharedClientState.addLocalQueryTarget(a,r);let s;return n&&(s=await Vi(e,t,a,"current"===i,o.resumeToken)),e.isPrimaryClient&&r&&Ha(e.remoteStore,o),s}async function Vi(e,t,r,n,o){e.Ha=(t,r,n)=>async function(e,t,r,n){let o=t.view.ba(r);o.ls&&(o=await ma(e.localStore,t.query,!1).then((({documents:e})=>t.view.ba(e,o))));const a=n&&n.targetChanges.get(t.targetId),i=n&&null!=n.targetMismatches.get(t.targetId),s=t.view.applyChanges(o,e.isPrimaryClient,a,i);return ts(e,t.targetId,s.Ma),s.snapshot}(e,t,r,n);const a=await ma(e.localStore,t,!0),i=new Li(t,a.gs),s=i.ba(a.documents),l=Mn.createSynthesizedTargetChangeForCurrentChange(r,n&&"Offline"!==e.onlineState,o),c=i.applyChanges(s,e.isPrimaryClient,l);ts(e,r,c.Ma);const u=new Fi(t,r,i);return e.ka.set(t,u),e.qa.has(r)?e.qa.get(r).push(t):e.qa.set(r,[t]),c.snapshot}async function Hi(e,t,r){const n=x(e),o=n.ka.get(t),a=n.qa.get(o.targetId);if(a.length>1)return n.qa.set(o.targetId,a.filter((e=>!xr(e,t)))),void n.ka.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||await pa(n.localStore,o.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(o.targetId),r&&$a(n.remoteStore,o.targetId),Zi(n,o.targetId)})).catch(ae)):(Zi(n,o.targetId),await pa(n.localStore,o.targetId,!0))}async function $i(e,t){const r=x(e),n=r.ka.get(t),o=r.qa.get(n.targetId);r.isPrimaryClient&&1===o.length&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),$a(r.remoteStore,n.targetId))}async function Gi(e,t){const r=x(e);try{const e=await function(e,t){const r=x(e),n=t.snapshotVersion;let o=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const a=r.ds.newChangeBuffer({trackRemovals:!0});o=r.Ts;const i=[];t.targetChanges.forEach(((a,s)=>{const l=o.get(s);if(!l)return;i.push(r.Hr.removeMatchingKeys(e,a.removedDocuments,s).next((()=>r.Hr.addMatchingKeys(e,a.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Qe.EMPTY_BYTE_STRING,H.min()).withLastLimboFreeSnapshotVersion(H.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,n)),o=o.insert(s,c),function(e,t,r){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=ia||r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size>0)}(l,c,a)&&i.push(r.Hr.updateTargetData(e,c))}));let s=Ir(),l=jr();if(t.documentUpdates.forEach((n=>{t.resolvedLimboDocuments.has(n)&&i.push(r.persistence.referenceDelegate.updateLimboDocument(e,n))})),i.push(da(e,a,t.documentUpdates).next((e=>{s=e.Vs,l=e.fs}))),!n.isEqual(H.min())){const t=r.Hr.getLastRemoteSnapshotVersion(e).next((t=>r.Hr.setTargetsMetadata(e,e.currentSequenceNumber,n)));i.push(t)}return ie.waitFor(i).next((()=>a.apply(e))).next((()=>r.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(r.Ts=o,e)))}(r.localStore,t);t.targetChanges.forEach(((e,t)=>{const n=r.Ua.get(t);n&&(b(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ba=!0:e.modifiedDocuments.size>0?b(n.Ba):e.removedDocuments.size>0&&(b(n.Ba),n.Ba=!1))})),await os(r,e,t)}catch(e){await ae(e)}}function Ki(e,t,r){const n=x(e);if(n.isPrimaryClient&&0===r||!n.isPrimaryClient&&1===r){const e=[];n.ka.forEach(((r,n)=>{const o=n.view.sa(t);o.snapshot&&e.push(o.snapshot)})),function(e,t){const r=x(e);r.onlineState=t;let n=!1;r.queries.forEach(((e,r)=>{for(const e of r.ta)e.sa(t)&&(n=!0)})),n&&Ni(r)}(n.eventManager,t),e.length&&n.La.p_(e),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function qi(e,t,r){const n=x(e);n.sharedClientState.updateQueryState(t,"rejected",r);const o=n.Ua.get(t),a=o&&o.key;if(a){let e=new He(X.comparator);e=e.insert(a,Ft.newNoDocument(a,H.min()));const r=jr().add(a),o=new Ln(H.min(),new Map,new He(M),e,r);await Gi(n,o),n.$a=n.$a.remove(a),n.Ua.delete(t),ns(n)}else await pa(n.localStore,t,!1).then((()=>Zi(n,t,r))).catch(ae)}async function Yi(e,t){const r=x(e),n=t.batch.batchId;try{const e=await function(e,t){const r=x(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const n=t.batch.keys(),o=r.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,r,n){const o=r.batch,a=o.keys();let i=ie.resolve();return a.forEach((e=>{i=i.next((()=>n.getEntry(t,e))).next((t=>{const a=r.docVersions.get(e);b(null!==a),t.version.compareTo(a)<0&&(o.applyToRemoteDocument(t,r),t.isValidDocument()&&(t.setReadTime(r.commitVersion),n.addEntry(t)))}))})),i.next((()=>e.mutationQueue.removeMutationBatch(t,o)))}(r,e,t,o).next((()=>o.apply(e))).next((()=>r.mutationQueue.performConsistencyCheck(e))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=jr();for(let r=0;r<e.mutationResults.length;++r)e.mutationResults[r].transformResults.length>0&&(t=t.add(e.batch.mutations[r].key));return t}(t)))).next((()=>r.localDocuments.getDocuments(e,n)))}))}(r.localStore,t);Ji(r,n,null),Qi(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await os(r,e)}catch(e){await ae(e)}}async function Xi(e,t,r){const n=x(e);try{const e=await function(e,t){const r=x(e);return r.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let n;return r.mutationQueue.lookupMutationBatch(e,t).next((t=>(b(null!==t),n=t.keys(),r.mutationQueue.removeMutationBatch(e,t)))).next((()=>r.mutationQueue.performConsistencyCheck(e))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,n))).next((()=>r.localDocuments.getDocuments(e,n)))}))}(n.localStore,t);Ji(n,t,r),Qi(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await os(n,e)}catch(r){await ae(r)}}function Qi(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function Ji(e,t,r){const n=x(e);let o=n.Wa[n.currentUser.toKey()];if(o){const e=o.get(t);e&&(r?e.reject(r):e.resolve(),o=o.remove(t)),n.Wa[n.currentUser.toKey()]=o}}function Zi(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.qa.get(t))e.ka.delete(n),r&&e.La.Ja(n,r);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach((t=>{e.Ka.containsKey(t)||es(e,t)}))}function es(e,t){e.Qa.delete(t.path.canonicalString());const r=e.$a.get(t);null!==r&&($a(e.remoteStore,r),e.$a=e.$a.remove(t),e.Ua.delete(r),ns(e))}function ts(e,t,r){for(const n of r)n instanceof Ri?(e.Ka.addReference(n.key,t),rs(e,n)):n instanceof Di?(m(Mi,"Document no longer in limbo: "+n.key),e.Ka.removeReference(n.key,t),e.Ka.containsKey(n.key)||es(e,n.key)):w()}function rs(e,t){const r=t.key,n=r.path.canonicalString();e.$a.get(r)||e.Qa.has(n)||(m(Mi,"New document in limbo: "+r),e.Qa.add(n),ns(e))}function ns(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const r=new X(K.fromString(t)),n=e.za.next();e.Ua.set(n,new Ui(r)),e.$a=e.$a.insert(r,n),Ha(e.remoteStore,new ko(vr(fr(r.path)),n,"TargetPurposeLimboResolution",ce.ae))}}async function os(e,t,r){const n=x(e),o=[],a=[],i=[];n.ka.isEmpty()||(n.ka.forEach(((e,s)=>{i.push(n.Ha(s,t,r).then((e=>{var t;if((e||r)&&n.isPrimaryClient){const o=e?!e.fromCache:null===(t=null==r?void 0:r.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;n.sharedClientState.updateQueryState(s.targetId,o?"current":"not-current")}if(e){o.push(e);const t=ra.Yi(s.targetId,e);a.push(t)}})))})),await Promise.all(i),n.La.p_(o),await async function(e,t){const r=x(e);try{await r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>ie.forEach(t,(t=>ie.forEach(t.Hi,(n=>r.persistence.referenceDelegate.addReference(e,t.targetId,n))).next((()=>ie.forEach(t.Ji,(n=>r.persistence.referenceDelegate.removeReference(e,t.targetId,n)))))))))}catch(e){if(!le(e))throw e;m(aa,"Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=r.Ts.get(t),n=e.snapshotVersion,o=e.withLastLimboFreeSnapshotVersion(n);r.Ts=r.Ts.insert(t,o)}}}(n.localStore,a))}async function as(e,t){const r=x(e);if(!r.currentUser.isEqual(t)){m(Mi,"User change. New user:",t.toKey());const e=await ca(r.localStore,t);r.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new k(E.CANCELLED,t))}))})),e.Ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await os(r,e.Rs)}}function is(e,t){const r=x(e),n=r.Ua.get(t);if(n&&n.Ba)return jr().add(n.key);{let e=jr();const n=r.qa.get(t);if(!n)return e;for(const t of n){const n=r.ka.get(t);e=e.unionWith(n.view.Sa)}return e}}function ss(e){const t=x(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gi.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=is.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qi.bind(null,t),t.La.p_=Ai.bind(null,t.eventManager),t.La.Ja=Ci.bind(null,t.eventManager),t}function ls(e){const t=x(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Yi.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Xi.bind(null,t),t}class cs{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oa(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return la(this.persistence,new oa,e.initialUser,this.serializer)}Xa(e){return new Jo(ea.ri,this.serializer)}Za(e){return new ya}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cs.provider={build:()=>new cs};class us extends cs{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){b(this.persistence.referenceDelegate instanceof ta);const r=this.persistence.referenceDelegate.garbageCollector;return new Fo(r,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?Oo.withCacheSize(this.cacheSizeBytes):Oo.DEFAULT;return new Jo((e=>ta.ri(e,t)),this.serializer)}}class ds{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ki(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=as.bind(null,this.syncEngine),await pi(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ki}createDatastore(e){const t=Oa(e.databaseInfo.databaseId),r=function(e){return new Na(e)}(e.databaseInfo);return function(e,t,r,n){return new Ua(e,t,r,n)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(e,t,r,n,o){return new za(e,t,r,n,o)}(this.localStore,this.datastore,e.asyncQueue,(e=>Ki(this.syncEngine,e,0)),xa.D()?new xa:new wa)}createSyncEngine(e,t){return function(e,t,r,n,o,a,i){const s=new ji(e,t,r,n,o,a);return i&&(s.ja=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=x(e);m(Ba,"RemoteStore shutting down."),t.W_.add(5),await Va(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}ds.provider={build:()=>new ds};class hs{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):g("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const fs="FirestoreClient";class ps{constructor(e,t,r,n,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=n,this.user=d.UNAUTHENTICATED,this.clientId=L.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async e=>{m(fs,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(r,(e=>(m(fs,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new S;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=yi(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function ms(e,t){e.asyncQueue.verifyOperationInProgress(),m(fs,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener((async e=>{n.isEqual(e)||(await ca(t.localStore,e),n=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function gs(e,t){e.asyncQueue.verifyOperationInProgress();const r=await vs(e);m(fs,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener((e=>fi(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,r)=>fi(t.remoteStore,r))),e._onlineComponents=t}async function vs(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){m(fs,"Using user provided OfflineComponentProvider");try{await ms(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(e){return"FirebaseError"===e.name?e.code===E.FAILED_PRECONDITION||e.code===E.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r))throw r;v("Error using user provided cache. Falling back to memory cache: "+r),await ms(e,new cs)}}else m(fs,"Using default OfflineComponentProvider"),await ms(e,new us(void 0));return e._offlineComponents}async function ys(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(m(fs,"Using user provided OnlineComponentProvider"),await gs(e,e._uninitializedComponentsProvider._online)):(m(fs,"Using default OnlineComponentProvider"),await gs(e,new ds))),e._onlineComponents}function ws(e){return ys(e).then((e=>e.syncEngine))}async function bs(e){const t=await ys(e),r=t.eventManager;return r.onListen=Bi.bind(null,t.syncEngine),r.onUnlisten=Hi.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=zi.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=$i.bind(null,t.syncEngine),r}function xs(e,t,r={}){const n=new S;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,r,n,o){const a=new hs({next:s=>{a.su(),t.enqueueAndForget((()=>_i(e,i)));const l=s.docs.has(r);!l&&s.fromCache?o.reject(new k(E.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&n&&"server"===n.source?o.reject(new k(E.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(s)},error:e=>o.reject(e)}),i=new Pi(fr(r.path),a,{includeMetadataChanges:!0,Ta:!0});return Ti(e,i)}(await bs(e),e.asyncQueue,t,r,n))),n.promise}function Es(e,t,r={}){const n=new S;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,r,n,o){const a=new hs({next:r=>{a.su(),t.enqueueAndForget((()=>_i(e,i))),r.fromCache&&"server"===n.source?o.reject(new k(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(r)},error:e=>o.reject(e)}),i=new Pi(r,a,{includeMetadataChanges:!0,Ta:!0});return Ti(e,i)}(await bs(e),e.asyncQueue,t,r,n))),n.promise}function ks(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ss=new Map;function Ts(e,t,r){if(!r)throw new k(E.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function _s(e){if(!X.isDocumentKey(e))throw new k(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function As(e){if(X.isDocumentKey(e))throw new k(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Cs(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":w()}function Ns(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new k(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Cs(e);throw new k(E.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}const Is="firestore.googleapis.com",Os=!0;class Ps{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new k(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Is,this.ssl=Os}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Os;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Io;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Do)throw new k(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,r,n){if(!0===t&&!0===n)throw new k(E.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ks(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new k(E.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new k(E.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new k(E.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rs{constructor(e,t,r,n){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ps({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new k(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new k(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ps(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new _;switch(e.type){case"firstParty":return new I(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new k(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ss.get(e);t&&(m("ComponentProvider","Removing Datastore"),Ss.delete(e),t.terminate())}(this),Promise.resolve()}}class Ds{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ds(this.firestore,e,this._query)}}class Ls{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ls(this.firestore,e,this._key)}}class Ms extends Ds{constructor(e,t,r){super(e,t,fr(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ls(this.firestore,null,new X(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function Fs(e,t,...r){if(e=(0,i.Ku)(e),Ts("collection","path",t),e instanceof Rs){const n=K.fromString(t,...r);return As(n),new Ms(e,null,n)}{if(!(e instanceof Ls||e instanceof Ms))throw new k(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(K.fromString(t,...r));return As(n),new Ms(e.firestore,null,n)}}function Us(e,t,...r){if(e=(0,i.Ku)(e),1===arguments.length&&(t=L.newId()),Ts("doc","path",t),e instanceof Rs){const n=K.fromString(t,...r);return _s(n),new Ls(e,null,new X(n))}{if(!(e instanceof Ls||e instanceof Ms))throw new k(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(K.fromString(t,...r));return _s(n),new Ls(e.firestore,e instanceof Ms?e.converter:null,new X(n))}}const js="AsyncQueue";class Bs{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Pa(this,"async_queue_retry"),this.Su=()=>{const e=Ia();e&&m(js,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.bu=e;const t=Ia();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Ia();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new S;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!le(e))throw e;m(js,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.bu.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw g("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const n=vi.createAndSchedule(this,e,t,r,(e=>this.Fu(e)));return this.fu.push(n),n}Du(){this.gu&&w()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.bu,await e}while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class zs extends Rs{constructor(e,t,r,n){super(e,t,r,n),this.type="firestore",this._queue=new Bs,this._persistenceKey=(null==n?void 0:n.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Bs(e),this._firestoreClient=void 0,await e}}}function Ws(e,t){const r="object"==typeof e?e:(0,n.Sx)(),o="string"==typeof e?e:t||ut,a=(0,n.j6)(r,"firestore").getImmediate({identifier:o});if(!a._initialized){const e=(0,i.yU)("firestore");e&&function(e,t,r,n={}){var o;const a=(e=Ns(e,Rs))._getSettings(),s=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${r}`;a.host!==Is&&a.host!==l&&v("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},a),{host:l,ssl:!1,emulatorOptions:n});if(!(0,i.bD)(c,s)&&(e._setSettings(c),n.mockUserToken)){let t,r;if("string"==typeof n.mockUserToken)t=n.mockUserToken,r=d.MOCK_USER;else{t=(0,i.Fy)(n.mockUserToken,null===(o=e._app)||void 0===o?void 0:o.options.projectId);const a=n.mockUserToken.sub||n.mockUserToken.user_id;if(!a)throw new k(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");r=new d(a)}e._authCredentials=new A(new T(t,r))}}(a,...e)}return a}function Vs(e){if(e._terminated)throw new k(E.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Hs(e),e._firestoreClient}function Hs(e){var t,r,n;const o=e._freezeSettings(),a=function(e,t,r,n){return new ct(e,t,r,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling,ks(n.experimentalLongPollingOptions),n.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,o);e._componentsProvider||(null===(r=o.localCache)||void 0===r?void 0:r._offlineComponentProvider)&&(null===(n=o.localCache)||void 0===n?void 0:n._onlineComponentProvider)&&(e._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),e._firestoreClient=new ps(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class $s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $s(Qe.fromBase64String(e))}catch(e){throw new k(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new $s(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gs{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new k(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Y(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ks{constructor(e){this._methodName=e}}class qs{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new k(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new k(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return M(this._lat,e._lat)||M(this._long,e._long)}}class Ys{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}(this._values,e._values)}}const Xs=/^__.*__$/;class Qs{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new mn(e,this.data,this.fieldMask,t,this.fieldTransforms):new pn(e,this.data,t,this.fieldTransforms)}}class Js{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new mn(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Zs(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw w()}}class el{constructor(e,t,r,n,o,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=n,void 0===o&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new el(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.ku({path:r,Qu:!1});return n.$u(e),n}Uu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.ku({path:r,Qu:!1});return n.Bu(),n}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return gl(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(Zs(this.Lu)&&Xs.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class tl{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Oa(e)}ju(e,t,r,n=!1){return new el({Lu:e,methodName:t,zu:r,path:Y.emptyPath(),Qu:!1,Gu:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rl(e){const t=e._freezeSettings(),r=Oa(e._databaseId);return new tl(e._databaseId,!!t.ignoreUndefinedProperties,r)}function nl(e,t,r,n,o,a={}){const i=e.ju(a.merge||a.mergeFields?2:0,t,r,o);hl("Data must be an object, but it was:",i,n);const s=ul(n,i);let l,c;if(a.merge)l=new Ye(i.fieldMask),c=i.fieldTransforms;else if(a.mergeFields){const e=[];for(const n of a.mergeFields){const o=fl(t,n,r);if(!i.contains(o))throw new k(E.INVALID_ARGUMENT,`Field '${o}' is specified in your field mask but missing from your input data.`);vl(e,o)||e.push(o)}l=new Ye(e),c=i.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=i.fieldTransforms;return new Qs(new Lt(s),l,c)}class ol extends Ks{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ol}}class al extends Ks{_toFieldTransform(e){return new nn(e.path,new Yr)}isEqual(e){return e instanceof al}}function il(e,t,r,n){const o=e.ju(1,t,r);hl("Data must be an object, but it was:",o,n);const a=[],s=Lt.empty();We(n,((e,n)=>{const l=ml(t,e,r);n=(0,i.Ku)(n);const c=o.Uu(l);if(n instanceof ol)a.push(l);else{const e=cl(n,c);null!=e&&(a.push(l),s.set(l,e))}}));const l=new Ye(a);return new Js(s,l,o.fieldTransforms)}function sl(e,t,r,n,o,a){const s=e.ju(1,t,r),l=[fl(t,n,r)],c=[o];if(a.length%2!=0)throw new k(E.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<a.length;e+=2)l.push(fl(t,a[e])),c.push(a[e+1]);const u=[],d=Lt.empty();for(let e=l.length-1;e>=0;--e)if(!vl(u,l[e])){const t=l[e];let r=c[e];r=(0,i.Ku)(r);const n=s.Uu(t);if(r instanceof ol)u.push(t);else{const e=cl(r,n);null!=e&&(u.push(t),d.set(t,e))}}const h=new Ye(u);return new Js(d,h,s.fieldTransforms)}function ll(e,t,r,n=!1){return cl(r,e.ju(n?4:3,t))}function cl(e,t){if(dl(e=(0,i.Ku)(e)))return hl("Unsupported field value:",t,e),ul(e,t);if(e instanceof Ks)return function(e,t){if(!Zs(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(t);r&&t.fieldTransforms.push(r)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const r=[];let n=0;for(const o of e){let e=cl(o,t.Ku(n));null==e&&(e={nullValue:"NULL_VALUE"}),r.push(e),n++}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=(0,i.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Hr(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=V.fromDate(e);return{timestampValue:Yn(t.serializer,r)}}if(e instanceof V){const r=new V(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Yn(t.serializer,r)}}if(e instanceof qs)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof $s)return{bytesValue:Xn(t.serializer,e._byteString)};if(e instanceof Ls){const r=t.databaseId,n=e.firestore._databaseId;if(!n.isEqual(r))throw t.Wu(`Document reference is for database ${n.projectId}/${n.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Zn(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Ys)return function(e,t){return{mapValue:{fields:{[ht]:{stringValue:mt},[gt]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return Wr(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${Cs(e)}`)}(e,t)}function ul(e,t){const r={};return Ve(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):We(e,((e,n)=>{const o=cl(n,t.qu(e));null!=o&&(r[e]=o)})),{mapValue:{fields:r}}}function dl(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof V||e instanceof qs||e instanceof $s||e instanceof Ls||e instanceof Ks||e instanceof Ys)}function hl(e,t,r){if(!dl(r)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(r)){const n=Cs(r);throw"an object"===n?t.Wu(e+" a custom object"):t.Wu(e+" "+n)}}function fl(e,t,r){if((t=(0,i.Ku)(t))instanceof Gs)return t._internalPath;if("string"==typeof t)return ml(e,t);throw gl("Field path arguments must be of type string or ",e,!1,void 0,r)}const pl=new RegExp("[~\\*/\\[\\]]");function ml(e,t,r){if(t.search(pl)>=0)throw gl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new Gs(...t.split("."))._internalPath}catch(n){throw gl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function gl(e,t,r,n,o){const a=n&&!n.isEmpty(),i=void 0!==o;let s=`Function ${t}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||i)&&(l+=" (found",a&&(l+=` in field ${n}`),i&&(l+=` in document ${o}`),l+=")"),new k(E.INVALID_ARGUMENT,s+e+l)}function vl(e,t){return e.some((e=>e.isEqual(t)))}class yl{constructor(e,t,r,n,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=n,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ls(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new wl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class wl extends yl{data(){return super.data()}}function bl(e,t){return"string"==typeof t?ml(e,t):t instanceof Gs?t._internalPath:t._delegate._internalPath}function xl(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new k(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class El{}class kl extends El{}function Sl(e,t,...r){let n=[];t instanceof El&&n.push(t),n=n.concat(r),function(e){const t=e.filter((e=>e instanceof Al)).length,r=e.filter((e=>e instanceof Tl)).length;if(t>1||t>0&&r>0)throw new k(E.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const t of n)e=t._apply(e);return e}class Tl extends kl{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Tl(e,t,r)}_apply(e){const t=this._parse(e);return Pl(e._query,t),new Ds(e.firestore,e.converter,wr(e._query,t))}_parse(e){const t=rl(e.firestore),r=function(e,t,r,n,o,a,i){let s;if(o.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new k(E.INVALID_ARGUMENT,`Invalid Query. You can't perform '${a}' queries on documentId().`);if("in"===a||"not-in"===a){Ol(i,a);const t=[];for(const r of i)t.push(Il(n,e,r));s={arrayValue:{values:t}}}else s=Il(n,e,i)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Ol(i,a),s=ll(r,t,i,"in"===a||"not-in"===a);return Ht.create(o,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return r}}function _l(e,t,r){const n=t,o=bl("where",e);return Tl._create(o,n,r)}class Al extends El{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Al(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:$t.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let r=e;const n=t.getFlattenedFilters();for(const e of n)Pl(r,e),r=wr(r,e)}(e._query,t),new Ds(e.firestore,e.converter,wr(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Cl extends kl{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Cl(e,t)}_apply(e){const t=function(e,t,r){if(null!==e.startAt)throw new k(E.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new k(E.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zt(t,r)}(e._query,this._field,this._direction);return new Ds(e.firestore,e.converter,function(e,t){const r=e.explicitOrderBy.concat([t]);return new dr(e.path,e.collectionGroup,r,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Nl(e,t="asc"){const r=t,n=bl("orderBy",e);return Cl._create(n,r)}function Il(e,t,r){if("string"==typeof(r=(0,i.Ku)(r))){if(""===r)throw new k(E.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mr(t)&&-1!==r.indexOf("/"))throw new k(E.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(K.fromString(r));if(!X.isDocumentKey(n))throw new k(E.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return _t(e,new X(n))}if(r instanceof Ls)return _t(e,r._key);throw new k(E.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cs(r)}.`)}function Ol(e,t){if(!Array.isArray(e)||0===e.length)throw new k(E.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Pl(e,t){const r=function(e,t){for(const r of e)for(const e of r.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==r)throw r===t.op?new k(E.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new k(E.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class Rl{convertValue(e,t="none"){switch(vt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(tt(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw w()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return We(e,((e,n)=>{r[e]=this.convertValue(n,t)})),r}convertVectorValue(e){var t,r,n;const o=null===(n=null===(r=null===(t=e.fields)||void 0===t?void 0:t[gt].arrayValue)||void 0===r?void 0:r.values)||void 0===n?void 0:n.map((e=>et(e.doubleValue)));return new Ys(o)}convertGeoPoint(e){return new qs(et(e.latitude),et(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=st(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(lt(e));default:return null}}convertTimestamp(e){const t=Ze(e);return new V(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=K.fromString(e);b(Eo(r));const n=new dt(r.get(1),r.get(3)),o=new X(r.popFirst(5));return n.isEqual(t)||g(`Document ${o} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function Dl(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}class Ll{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ml extends yl{constructor(e,t,r,n,o,a){super(e,t,r,n,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Fl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(bl("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Fl extends Ml{data(e={}){return super.data(e)}}class Ul{constructor(e,t,r,n){this._firestore=e,this._userDataWriter=t,this._snapshot=n,this.metadata=new Ll(n.hasPendingWrites,n.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Fl(this._firestore,this._userDataWriter,r.key,r,new Ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new k(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((r=>{const n=new Fl(e._firestore,e._userDataWriter,r.doc.key,r.doc,new Ll(e._snapshot.mutatedKeys.has(r.doc.key),e._snapshot.fromCache),e.query.converter);return r.doc,{type:"added",doc:n,oldIndex:-1,newIndex:t++}}))}{let r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const n=new Fl(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ll(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let o=-1,a=-1;return 0!==t.type&&(o=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(r=r.add(t.doc),a=r.indexOf(t.doc.key)),{type:jl(t.type),doc:n,oldIndex:o,newIndex:a}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jl(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return w()}}function Bl(e){e=Ns(e,Ls);const t=Ns(e.firestore,zs);return xs(Vs(t),e._key).then((r=>ql(t,e,r)))}class zl extends Rl{constructor(e){super(),this.firestore=e}convertBytes(e){return new $s(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ls(this.firestore,null,t)}}function Wl(e){e=Ns(e,Ds);const t=Ns(e.firestore,zs),r=Vs(t),n=new zl(t);return xl(e._query),Es(r,e._query).then((r=>new Ul(t,n,e,r)))}function Vl(e,t,r){e=Ns(e,Ls);const n=Ns(e.firestore,zs),o=Dl(e.converter,t,r);return Kl(n,[nl(rl(n),"setDoc",e._key,o,null!==e.converter,r).toMutation(e._key,an.none())])}function Hl(e,t,r,...n){e=Ns(e,Ls);const o=Ns(e.firestore,zs),a=rl(o);let s;return s="string"==typeof(t=(0,i.Ku)(t))||t instanceof Gs?sl(a,"updateDoc",e._key,t,r,n):il(a,"updateDoc",e._key,t),Kl(o,[s.toMutation(e._key,an.exists(!0))])}function $l(e){return Kl(Ns(e.firestore,zs),[new wn(e._key,an.none())])}function Gl(e,t){const r=Ns(e.firestore,zs),n=Us(e),o=Dl(e.converter,t);return Kl(r,[nl(rl(e.firestore),"addDoc",n._key,o,null!==e.converter,{}).toMutation(n._key,an.exists(!1))]).then((()=>n))}function Kl(e,t){return function(e,t){const r=new S;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,r){const n=ls(e);try{const e=await function(e,t){const r=x(e),n=V.now(),o=t.reduce(((e,t)=>e.add(t.key)),jr());let a,i;return r.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=Ir(),l=jr();return r.ds.getEntries(e,o).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>r.localDocuments.getOverlayedDocuments(e,s))).next((o=>{a=o;const i=[];for(const e of t){const t=hn(e,a.get(e.key).overlayedDocument);null!=t&&i.push(new mn(e.key,t,Mt(t.value.mapValue),an.exists(!0)))}return r.mutationQueue.addMutationBatch(e,n,i,t)})).next((t=>{i=t;const n=t.applyToLocalDocumentSet(a,l);return r.documentOverlayCache.saveOverlays(e,t.batchId,n)}))})).then((()=>({batchId:i.batchId,changes:Rr(a)})))}(n.localStore,t);n.sharedClientState.addPendingMutation(e.batchId),function(e,t,r){let n=e.Wa[e.currentUser.toKey()];n||(n=new He(M)),n=n.insert(t,r),e.Wa[e.currentUser.toKey()]=n}(n,e.batchId,r),await os(n,e.changes),await oi(n.remoteStore)}catch(e){const t=yi(e,"Failed to persist write");r.reject(t)}}(await ws(e),t,r))),r.promise}(Vs(e),t)}function ql(e,t,r){const n=r.docs.get(t._key),o=new zl(e);return new Ml(e,o,t._key,n,new Ll(r.hasPendingWrites,r.fromCache),t.converter)}function Yl(){return new al("serverTimestamp")}new WeakMap;!function(e,t=!0){!function(e){h=e}(n.MF),(0,n.om)(new o.uA("firestore",((e,{instanceIdentifier:r,options:n})=>{const o=e.getProvider("app").getImmediate(),a=new zs(new C(e.getProvider("auth-internal")),new P(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new k(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dt(e.options.projectId,t)}(o,r),o);return n=Object.assign({useFetchStreams:t},n),a._setSettings(n),a}),"PUBLIC").setMultipleInstances(!0)),(0,n.KO)(c,u,e),(0,n.KO)(c,u,"esm2017")}()},743:(e,t,r)=>{"use strict";r.d(t,{Am:()=>P,FA:()=>A,Fy:()=>g,I9:()=>R,Im:()=>N,Ku:()=>U,T9:()=>f,Tj:()=>d,Uj:()=>s,XA:()=>p,ZQ:()=>v,bD:()=>I,c1:()=>w,cY:()=>m,eX:()=>T,g:()=>_,hp:()=>D,jZ:()=>y,lT:()=>E,lV:()=>x,nr:()=>k,sr:()=>b,tD:()=>L,u:()=>l,yU:()=>h,zW:()=>S});var n=r(773);const o=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let o=e.charCodeAt(n);o<128?t[r++]=o:o<2048?(t[r++]=o>>6|192,t[r++]=63&o|128):55296==(64512&o)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n)),t[r++]=o>>18|240,t[r++]=o>>12&63|128,t[r++]=o>>6&63|128,t[r++]=63&o|128):(t[r++]=o>>12|224,t[r++]=o>>6&63|128,t[r++]=63&o|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let t=0;t<e.length;t+=3){const o=e[t],a=t+1<e.length,i=a?e[t+1]:0,s=t+2<e.length,l=s?e[t+2]:0,c=o>>2,u=(3&o)<<4|i>>4;let d=(15&i)<<2|l>>6,h=63&l;s||(h=64,a||(d=64)),n.push(r[c],r[u],r[d],r[h])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let r=0,n=0;for(;r<e.length;){const o=e[r++];if(o<128)t[n++]=String.fromCharCode(o);else if(o>191&&o<224){const a=e[r++];t[n++]=String.fromCharCode((31&o)<<6|63&a)}else if(o>239&&o<365){const a=((7&o)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else{const a=e[r++],i=e[r++];t[n++]=String.fromCharCode((15&o)<<12|(63&a)<<6|63&i)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let t=0;t<e.length;){const o=r[e.charAt(t++)],a=t<e.length?r[e.charAt(t)]:0;++t;const s=t<e.length?r[e.charAt(t)]:64;++t;const l=t<e.length?r[e.charAt(t)]:64;if(++t,null==o||null==a||null==s||null==l)throw new i;const c=o<<2|a>>4;if(n.push(c),64!==s){const e=a<<4&240|s>>2;if(n.push(e),64!==l){const e=s<<6&192|l;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class i extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s=function(e){return function(e){const t=o(e);return a.encodeByteArray(t,!0)}(e).replace(/\./g,"")},l=function(e){try{return a.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};const c=()=>function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,u=()=>{try{return(0,n.M)()||c()||(()=>{const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&l(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},d=e=>{var t,r;return null===(r=null===(t=u())||void 0===t?void 0:t.emulatorHosts)||void 0===r?void 0:r[e]},h=e=>{const t=d(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return"["===t[0]?[t.substring(1,r-1),n]:[t.substring(0,r),n]},f=()=>{var e;return null===(e=u())||void 0===e?void 0:e.config},p=e=>{var t;return null===(t=u())||void 0===t?void 0:t[`_${e}`]};class m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,r))}}}function g(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",n=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:n,exp:n+3600,auth_time:n,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(a)),""].join(".")}function v(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function y(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function w(){return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function b(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function x(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function E(){const e=v();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function k(){return!function(){var e;const t=null===(e=u())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(r.g.process)}catch(e){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S(){try{return"object"==typeof indexedDB}catch(e){return!1}}function T(){return new Promise(((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(n);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}class _ extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,_.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A.prototype.create)}}class A{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},n=`${this.service}/${e}`,o=this.errors[e],a=o?function(e,t){return e.replace(C,((e,r)=>{const n=t[r];return null!=n?String(n):`<${r}?>`}))}(o,r):"Error",i=`${this.serviceName}: ${a} (${n}).`;return new _(n,i,r)}}const C=/\{\$([^}]+)}/g;function N(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function I(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const o of r){if(!n.includes(o))return!1;const r=e[o],a=t[o];if(O(r)&&O(a)){if(!I(r,a))return!1}else if(r!==a)return!1}for(const e of n)if(!r.includes(e))return!1;return!0}function O(e){return null!==e&&"object"==typeof e}function P(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach((e=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function R(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[r,n]=e.split("=");t[decodeURIComponent(r)]=decodeURIComponent(n)}})),t}function D(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function L(e,t){const r=new M(e,t);return r.subscribe.bind(r)}class M{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,r){let n;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");n=function(e,t){if("object"!=typeof e||null===e)return!1;for(const r of t)if(r in e&&"function"==typeof e[r])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===n.next&&(n.next=F),void 0===n.error&&(n.error=F),void 0===n.complete&&(n.complete=F);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(e){}})),this.observers.push(n),o}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function F(){}function U(e){return e&&e._delegate?e._delegate:e}},457:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(601),o=r.n(n),a=r(314),i=r.n(a)()(o());i.push([e.id,'*, ::before, ::after {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}\n\n::backdrop {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}/*\n! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com\n*//*\n1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)\n2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)\n*/\n\n*,\n::before,\n::after {\n  box-sizing: border-box; /* 1 */\n  border-width: 0; /* 2 */\n  border-style: solid; /* 2 */\n  border-color: #e5e7eb; /* 2 */\n}\n\n::before,\n::after {\n  --tw-content: \'\';\n}\n\n/*\n1. Use a consistent sensible line-height in all browsers.\n2. Prevent adjustments of font size after orientation changes in iOS.\n3. Use a more readable tab size.\n4. Use the user\'s configured `sans` font-family by default.\n5. Use the user\'s configured `sans` font-feature-settings by default.\n6. Use the user\'s configured `sans` font-variation-settings by default.\n7. Disable tap highlights on iOS\n*/\n\nhtml,\n:host {\n  line-height: 1.5; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n  -moz-tab-size: 4; /* 3 */\n  -o-tab-size: 4;\n     tab-size: 4; /* 3 */\n  font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"; /* 4 */\n  font-feature-settings: normal; /* 5 */\n  font-variation-settings: normal; /* 6 */\n  -webkit-tap-highlight-color: transparent; /* 7 */\n}\n\n/*\n1. Remove the margin in all browsers.\n2. Inherit line-height from `html` so users can set them as a class directly on the `html` element.\n*/\n\nbody {\n  margin: 0; /* 1 */\n  line-height: inherit; /* 2 */\n}\n\n/*\n1. Add the correct height in Firefox.\n2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\n3. Ensure horizontal rules are visible by default.\n*/\n\nhr {\n  height: 0; /* 1 */\n  color: inherit; /* 2 */\n  border-top-width: 1px; /* 3 */\n}\n\n/*\nAdd the correct text decoration in Chrome, Edge, and Safari.\n*/\n\nabbr:where([title]) {\n  -webkit-text-decoration: underline dotted;\n          text-decoration: underline dotted;\n}\n\n/*\nRemove the default font size and weight for headings.\n*/\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n/*\nReset links to optimize for opt-in styling instead of opt-out.\n*/\n\na {\n  color: inherit;\n  text-decoration: inherit;\n}\n\n/*\nAdd the correct font weight in Edge and Safari.\n*/\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/*\n1. Use the user\'s configured `mono` font-family by default.\n2. Use the user\'s configured `mono` font-feature-settings by default.\n3. Use the user\'s configured `mono` font-variation-settings by default.\n4. Correct the odd `em` font sizing in all browsers.\n*/\n\ncode,\nkbd,\nsamp,\npre {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; /* 1 */\n  font-feature-settings: normal; /* 2 */\n  font-variation-settings: normal; /* 3 */\n  font-size: 1em; /* 4 */\n}\n\n/*\nAdd the correct font size in all browsers.\n*/\n\nsmall {\n  font-size: 80%;\n}\n\n/*\nPrevent `sub` and `sup` elements from affecting the line height in all browsers.\n*/\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/*\n1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\n2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\n3. Remove gaps between table borders by default.\n*/\n\ntable {\n  text-indent: 0; /* 1 */\n  border-color: inherit; /* 2 */\n  border-collapse: collapse; /* 3 */\n}\n\n/*\n1. Change the font styles in all browsers.\n2. Remove the margin in Firefox and Safari.\n3. Remove default padding in all browsers.\n*/\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-feature-settings: inherit; /* 1 */\n  font-variation-settings: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  font-weight: inherit; /* 1 */\n  line-height: inherit; /* 1 */\n  letter-spacing: inherit; /* 1 */\n  color: inherit; /* 1 */\n  margin: 0; /* 2 */\n  padding: 0; /* 3 */\n}\n\n/*\nRemove the inheritance of text transform in Edge and Firefox.\n*/\n\nbutton,\nselect {\n  text-transform: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Remove default button styles.\n*/\n\nbutton,\ninput:where([type=\'button\']),\ninput:where([type=\'reset\']),\ninput:where([type=\'submit\']) {\n  -webkit-appearance: button; /* 1 */\n  background-color: transparent; /* 2 */\n  background-image: none; /* 2 */\n}\n\n/*\nUse the modern Firefox focus style for all focusable elements.\n*/\n\n:-moz-focusring {\n  outline: auto;\n}\n\n/*\nRemove the additional `:invalid` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)\n*/\n\n:-moz-ui-invalid {\n  box-shadow: none;\n}\n\n/*\nAdd the correct vertical alignment in Chrome and Firefox.\n*/\n\nprogress {\n  vertical-align: baseline;\n}\n\n/*\nCorrect the cursor style of increment and decrement buttons in Safari.\n*/\n\n::-webkit-inner-spin-button,\n::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/*\n1. Correct the odd appearance in Chrome and Safari.\n2. Correct the outline style in Safari.\n*/\n\n[type=\'search\'] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/*\nRemove the inner padding in Chrome and Safari on macOS.\n*/\n\n::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Change font properties to `inherit` in Safari.\n*/\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/*\nAdd the correct display in Chrome and Safari.\n*/\n\nsummary {\n  display: list-item;\n}\n\n/*\nRemoves the default spacing and border for appropriate elements.\n*/\n\nblockquote,\ndl,\ndd,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nhr,\nfigure,\np,\npre {\n  margin: 0;\n}\n\nfieldset {\n  margin: 0;\n  padding: 0;\n}\n\nlegend {\n  padding: 0;\n}\n\nol,\nul,\nmenu {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n/*\nReset default styling for dialogs.\n*/\ndialog {\n  padding: 0;\n}\n\n/*\nPrevent resizing textareas horizontally by default.\n*/\n\ntextarea {\n  resize: vertical;\n}\n\n/*\n1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)\n2. Set the default placeholder color to the user\'s configured gray 400 color.\n*/\n\ninput::-moz-placeholder, textarea::-moz-placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\ninput::placeholder,\ntextarea::placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\n/*\nSet the default cursor for buttons.\n*/\n\nbutton,\n[role="button"] {\n  cursor: pointer;\n}\n\n/*\nMake sure disabled buttons don\'t get the pointer cursor.\n*/\n:disabled {\n  cursor: default;\n}\n\n/*\n1. Make replaced elements `display: block` by default. (https://github.com/mozdevs/cssremedy/issues/14)\n2. Add `vertical-align: middle` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)\n   This can trigger a poorly considered lint error in some tools but is included by design.\n*/\n\nimg,\nsvg,\nvideo,\ncanvas,\naudio,\niframe,\nembed,\nobject {\n  display: block; /* 1 */\n  vertical-align: middle; /* 2 */\n}\n\n/*\nConstrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)\n*/\n\nimg,\nvideo {\n  max-width: 100%;\n  height: auto;\n}\n\n/* Make elements with the HTML hidden attribute stay hidden by default */\n[hidden]:where(:not([hidden="until-found"])) {\n  display: none;\n}\n  * {\n  border-color: hsl(var(--border));\n}\n  body {\n  background-color: hsl(var(--background));\n  color: hsl(var(--foreground));\n    width: 400px;\n    height: 600px;\n    overflow: hidden;\n    font-family: \'Inter\', -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, sans-serif;\n}\n.\\!container {\n  width: 100% !important;\n  margin-right: auto !important;\n  margin-left: auto !important;\n  padding-right: 2rem !important;\n  padding-left: 2rem !important;\n}\n.container {\n  width: 100%;\n  margin-right: auto;\n  margin-left: auto;\n  padding-right: 2rem;\n  padding-left: 2rem;\n}\n@media (min-width: 1400px) {\n\n  .\\!container {\n    max-width: 1400px !important;\n  }\n\n  .container {\n    max-width: 1400px;\n  }\n}\n/* --- עיצובי זכוכית ושקיפות --- */\n.glass-card {\n  border-width: 1px;\n  border-color: rgb(255 255 255 / 0.2);\n  background-color: rgb(255 255 255 / 0.1);\n  --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n  --tw-backdrop-blur: blur(12px);\n  -webkit-backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);\n  backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);\n}\n.glass-button {\n  border-width: 1px;\n  border-color: rgb(255 255 255 / 0.2);\n  background-color: rgb(255 255 255 / 0.15);\n  --tw-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n  --tw-backdrop-blur: blur(12px);\n  -webkit-backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);\n  backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);\n  transition-property: all;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 300ms;\n  animation-duration: 300ms;\n}\n.glass-button:hover {\n  background-color: rgb(255 255 255 / 0.25);\n}\n/* --- עיצובי גבול מדורג --- */\n.gradient-border {\n  position: relative;\n  border-width: 2px;\n  border-color: transparent;\n    background-clip: padding-box;\n    background-image: linear-gradient(to right, rgba(255,255,255,0.1), rgba(255,255,255,0.2));\n    box-shadow: 0 0 15px rgba(255, 255, 255, 0.15);\n}\n.gradient-border-success {\n  position: relative;\n  border-width: 2px;\n  border-color: transparent;\n    background-clip: padding-box;\n    background-image: linear-gradient(to right, rgba(16,185,129,0.4), rgba(5,150,105,0.6));\n    box-shadow: 0 0 15px rgba(16, 185, 129, 0.3);\n}\n.gradient-border-error {\n  position: relative;\n  border-width: 2px;\n  border-color: transparent;\n    background-clip: padding-box;\n    background-image: linear-gradient(to right, rgba(239,68,68,0.4), rgba(185,28,28,0.6));\n    box-shadow: 0 0 15px rgba(239, 68, 68, 0.3);\n}\n/* --- אפקטים טקסטואליים --- */\n.gradient-text {\n  -webkit-background-clip: text;\n          background-clip: text;\n  font-weight: 700;\n  color: transparent;\n    background-image: linear-gradient(135deg, #ff7e5f, #feb47b);\n    text-shadow: 0 0 3px rgba(255, 255, 255, 0.15);\n}\n.vibrant-text {\n  font-weight: 800;\n    text-shadow: 0 0 5px rgba(255, 255, 255, 0.25);\n}\n.game-header-text {\n  -webkit-background-clip: text;\n          background-clip: text;\n  font-size: 1.875rem;\n  line-height: 2.25rem;\n  font-weight: 800;\n  color: transparent;\n    background-image: linear-gradient(135deg, #f6d365, #fda085);\n    text-shadow: 0 0 3px rgba(255, 255, 255, 0.2);\n}\n/* --- צל טקסט --- */\n.text-shadow-sm {\n    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n  }\n/* --- רקעים ואפקטים --- */\n.animated-gradient-bg {\n  background-image: linear-gradient(to bottom right, var(--tw-gradient-stops));\n  --tw-gradient-from: #312e81 var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(49 46 129 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n  --tw-gradient-to: rgb(88 28 135 / 0)  var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), #581c87 var(--tw-gradient-via-position), var(--tw-gradient-to);\n  --tw-gradient-to: #be185d var(--tw-gradient-to-position);\n    background-size: 200% 200%;\n    animation: gradientMove 20s ease infinite;\n}\n.hover-scale {\n  transition-property: transform;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 300ms;\n  animation-duration: 300ms;\n    &:hover {\n      transform: scale(1.03);\n    }\n}\n/* --- אפקטים מונפשים --- */\n.floating {\n    animation: floating 3s ease-in-out infinite;\n  }\n/* --- כפתורי משחק --- */\n.choice-button {\n  border-width: 1px;\n  border-color: rgb(255 255 255 / 0.2);\n  background-color: rgb(255 255 255 / 0.15);\n  --tw-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n  --tw-backdrop-blur: blur(12px);\n  -webkit-backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);\n  backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);\n  transition-property: all;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 300ms;\n  animation-duration: 300ms;\n}\n.choice-button:hover {\n  background-color: rgb(255 255 255 / 0.25);\n}\n.choice-button {\n  border-radius: 0.75rem;\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n  font-size: 1.125rem;\n  line-height: 1.75rem;\n  font-weight: 500;\n  transition-property: all;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 300ms;\n  animation-duration: 300ms;\n}\n.choice-button:hover {\n  --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.choice-button-correct {\n  border-color: rgb(110 231 183 / 0.5);\n  background-color: rgb(16 185 129 / 0.3);\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n.choice-button-correct:hover {\n  background-color: rgb(16 185 129 / 0.4);\n}\n.choice-button-correct {\n    text-shadow: 0 0 5px rgba(16, 185, 129, 0.5);\n  }\n.choice-button-neutral {\n  border-width: 1px;\n  border-color: rgb(255 255 255 / 0.2);\n  background-color: rgb(255 255 255 / 0.15);\n  --tw-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n  --tw-backdrop-blur: blur(12px);\n  -webkit-backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);\n  backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);\n  transition-property: all;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 300ms;\n  animation-duration: 300ms;\n}\n.choice-button-neutral:hover {\n  background-color: rgb(255 255 255 / 0.25);\n}\n.choice-button-neutral {\n  background-color: rgb(99 102 241 / 0.2);\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n.choice-button-neutral:hover {\n  background-color: rgb(99 102 241 / 0.3);\n}\n.memory-card {\n  display: flex;\n  aspect-ratio: 1 / 1;\n  cursor: pointer;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  border-radius: 0.75rem;\n  text-align: center;\n  --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.pointer-events-none {\n  pointer-events: none;\n}\n.visible {\n  visibility: visible;\n}\n.invisible {\n  visibility: hidden;\n}\n.collapse {\n  visibility: collapse;\n}\n.static {\n  position: static;\n}\n.fixed {\n  position: fixed;\n}\n.absolute {\n  position: absolute;\n}\n.relative {\n  position: relative;\n}\n.sticky {\n  position: sticky;\n}\n.inset-0 {\n  inset: 0px;\n}\n.inset-y-0 {\n  top: 0px;\n  bottom: 0px;\n}\n.bottom-12 {\n  bottom: 3rem;\n}\n.bottom-4 {\n  bottom: 1rem;\n}\n.left-0 {\n  left: 0px;\n}\n.left-1 {\n  left: 0.25rem;\n}\n.left-5 {\n  left: 1.25rem;\n}\n.right-0 {\n  right: 0px;\n}\n.right-1 {\n  right: 0.25rem;\n}\n.right-2\\.5 {\n  right: 0.625rem;\n}\n.right-4 {\n  right: 1rem;\n}\n.top-0 {\n  top: 0px;\n}\n.top-1\\/2 {\n  top: 50%;\n}\n.top-20 {\n  top: 5rem;\n}\n.top-full {\n  top: 100%;\n}\n.isolate {\n  isolation: isolate;\n}\n.z-10 {\n  z-index: 10;\n}\n.z-50 {\n  z-index: 50;\n}\n.z-\\[10000\\] {\n  z-index: 10000;\n}\n.z-\\[100\\] {\n  z-index: 100;\n}\n.z-\\[9999999\\] {\n  z-index: 9999999;\n}\n.z-\\[9999\\] {\n  z-index: 9999;\n}\n.col-span-1 {\n  grid-column: span 1 / span 1;\n}\n.col-span-2 {\n  grid-column: span 2 / span 2;\n}\n.mx-4 {\n  margin-left: 1rem;\n  margin-right: 1rem;\n}\n.mx-auto {\n  margin-left: auto;\n  margin-right: auto;\n}\n.mb-1 {\n  margin-bottom: 0.25rem;\n}\n.mb-1\\.5 {\n  margin-bottom: 0.375rem;\n}\n.mb-12 {\n  margin-bottom: 3rem;\n}\n.mb-2 {\n  margin-bottom: 0.5rem;\n}\n.mb-3 {\n  margin-bottom: 0.75rem;\n}\n.mb-4 {\n  margin-bottom: 1rem;\n}\n.mb-5 {\n  margin-bottom: 1.25rem;\n}\n.mb-6 {\n  margin-bottom: 1.5rem;\n}\n.mb-8 {\n  margin-bottom: 2rem;\n}\n.ml-1 {\n  margin-left: 0.25rem;\n}\n.ml-2 {\n  margin-left: 0.5rem;\n}\n.ml-7 {\n  margin-left: 1.75rem;\n}\n.ml-8 {\n  margin-left: 2rem;\n}\n.ml-auto {\n  margin-left: auto;\n}\n.mr-1 {\n  margin-right: 0.25rem;\n}\n.mr-1\\.5 {\n  margin-right: 0.375rem;\n}\n.mr-2 {\n  margin-right: 0.5rem;\n}\n.mr-3 {\n  margin-right: 0.75rem;\n}\n.mr-8 {\n  margin-right: 2rem;\n}\n.mt-0\\.5 {\n  margin-top: 0.125rem;\n}\n.mt-1 {\n  margin-top: 0.25rem;\n}\n.mt-1\\.5 {\n  margin-top: 0.375rem;\n}\n.mt-2 {\n  margin-top: 0.5rem;\n}\n.mt-3 {\n  margin-top: 0.75rem;\n}\n.mt-4 {\n  margin-top: 1rem;\n}\n.mt-6 {\n  margin-top: 1.5rem;\n}\n.mt-8 {\n  margin-top: 2rem;\n}\n.line-clamp-1 {\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 1;\n}\n.block {\n  display: block;\n}\n.inline-block {\n  display: inline-block;\n}\n.flex {\n  display: flex;\n}\n.inline-flex {\n  display: inline-flex;\n}\n.table {\n  display: table;\n}\n.grid {\n  display: grid;\n}\n.contents {\n  display: contents;\n}\n.hidden {\n  display: none;\n}\n.aspect-\\[4\\/3\\] {\n  aspect-ratio: 4/3;\n}\n.aspect-square {\n  aspect-ratio: 1 / 1;\n}\n.h-10 {\n  height: 2.5rem;\n}\n.h-11 {\n  height: 2.75rem;\n}\n.h-12 {\n  height: 3rem;\n}\n.h-14 {\n  height: 3.5rem;\n}\n.h-16 {\n  height: 4rem;\n}\n.h-2 {\n  height: 0.5rem;\n}\n.h-20 {\n  height: 5rem;\n}\n.h-3 {\n  height: 0.75rem;\n}\n.h-3\\.5 {\n  height: 0.875rem;\n}\n.h-4 {\n  height: 1rem;\n}\n.h-5 {\n  height: 1.25rem;\n}\n.h-64 {\n  height: 16rem;\n}\n.h-7 {\n  height: 1.75rem;\n}\n.h-8 {\n  height: 2rem;\n}\n.h-9 {\n  height: 2.25rem;\n}\n.h-\\[24px\\] {\n  height: 24px;\n}\n.h-\\[270px\\] {\n  height: 270px;\n}\n.h-auto {\n  height: auto;\n}\n.h-full {\n  height: 100%;\n}\n.h-screen {\n  height: 100vh;\n}\n.max-h-20 {\n  max-height: 5rem;\n}\n.max-h-40 {\n  max-height: 10rem;\n}\n.max-h-\\[85vh\\] {\n  max-height: 85vh;\n}\n.max-h-\\[calc\\(100vh-120px\\)\\] {\n  max-height: calc(100vh - 120px);\n}\n.min-h-\\[200px\\] {\n  min-height: 200px;\n}\n.min-h-full {\n  min-height: 100%;\n}\n.min-h-screen {\n  min-height: 100vh;\n}\n.w-1\\/2 {\n  width: 50%;\n}\n.w-10 {\n  width: 2.5rem;\n}\n.w-11 {\n  width: 2.75rem;\n}\n.w-12 {\n  width: 3rem;\n}\n.w-16 {\n  width: 4rem;\n}\n.w-20 {\n  width: 5rem;\n}\n.w-3 {\n  width: 0.75rem;\n}\n.w-3\\.5 {\n  width: 0.875rem;\n}\n.w-3\\/4 {\n  width: 75%;\n}\n.w-4 {\n  width: 1rem;\n}\n.w-5 {\n  width: 1.25rem;\n}\n.w-5\\/6 {\n  width: 83.333333%;\n}\n.w-56 {\n  width: 14rem;\n}\n.w-7 {\n  width: 1.75rem;\n}\n.w-72 {\n  width: 18rem;\n}\n.w-8 {\n  width: 2rem;\n}\n.w-80 {\n  width: 20rem;\n}\n.w-9 {\n  width: 2.25rem;\n}\n.w-\\[320px\\] {\n  width: 320px;\n}\n.w-\\[44px\\] {\n  width: 44px;\n}\n.w-full {\n  width: 100%;\n}\n.w-screen {\n  width: 100vw;\n}\n.max-w-2xl {\n  max-width: 42rem;\n}\n.max-w-4xl {\n  max-width: 56rem;\n}\n.max-w-lg {\n  max-width: 32rem;\n}\n.max-w-md {\n  max-width: 28rem;\n}\n.max-w-xs {\n  max-width: 20rem;\n}\n.flex-1 {\n  flex: 1 1 0%;\n}\n.flex-shrink-0 {\n  flex-shrink: 0;\n}\n.shrink-0 {\n  flex-shrink: 0;\n}\n.flex-grow {\n  flex-grow: 1;\n}\n.border-collapse {\n  border-collapse: collapse;\n}\n.-translate-y-1\\/2 {\n  --tw-translate-y: -50%;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.translate-x-1 {\n  --tw-translate-x: 0.25rem;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.translate-x-5 {\n  --tw-translate-x: 1.25rem;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.rotate-180 {\n  --tw-rotate: 180deg;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.transform {\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n@keyframes fadeIn {\n\n  0% {\n    opacity: 0;\n  }\n\n  100% {\n    opacity: 1;\n  }\n}\n.animate-fadeIn {\n  animation: fadeIn 0.5s ease-in-out forwards;\n}\n@keyframes pulse {\n\n  50% {\n    opacity: 0.7;\n  }\n\n  0%, 100% {\n    opacity: 1;\n  }\n}\n.animate-pulse {\n  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n}\n@keyframes spin {\n\n  to {\n    transform: rotate(360deg);\n  }\n}\n.animate-spin {\n  animation: spin 1s linear infinite;\n}\n.cursor-not-allowed {\n  cursor: not-allowed;\n}\n.cursor-pointer {\n  cursor: pointer;\n}\n.resize {\n  resize: both;\n}\n.list-disc {\n  list-style-type: disc;\n}\n.appearance-none {\n  -webkit-appearance: none;\n     -moz-appearance: none;\n          appearance: none;\n}\n.grid-cols-1 {\n  grid-template-columns: repeat(1, minmax(0, 1fr));\n}\n.grid-cols-2 {\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n}\n.grid-cols-3 {\n  grid-template-columns: repeat(3, minmax(0, 1fr));\n}\n.grid-cols-4 {\n  grid-template-columns: repeat(4, minmax(0, 1fr));\n}\n.grid-cols-5 {\n  grid-template-columns: repeat(5, minmax(0, 1fr));\n}\n.flex-col {\n  flex-direction: column;\n}\n.flex-wrap {\n  flex-wrap: wrap;\n}\n.items-start {\n  align-items: flex-start;\n}\n.items-center {\n  align-items: center;\n}\n.justify-start {\n  justify-content: flex-start;\n}\n.justify-center {\n  justify-content: center;\n}\n.justify-between {\n  justify-content: space-between;\n}\n.gap-1 {\n  gap: 0.25rem;\n}\n.gap-1\\.5 {\n  gap: 0.375rem;\n}\n.gap-2 {\n  gap: 0.5rem;\n}\n.gap-3 {\n  gap: 0.75rem;\n}\n.gap-4 {\n  gap: 1rem;\n}\n.gap-6 {\n  gap: 1.5rem;\n}\n.space-x-1 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-x-reverse: 0;\n  margin-right: calc(0.25rem * var(--tw-space-x-reverse));\n  margin-left: calc(0.25rem * calc(1 - var(--tw-space-x-reverse)));\n}\n.space-x-2 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-x-reverse: 0;\n  margin-right: calc(0.5rem * var(--tw-space-x-reverse));\n  margin-left: calc(0.5rem * calc(1 - var(--tw-space-x-reverse)));\n}\n.space-x-4 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-x-reverse: 0;\n  margin-right: calc(1rem * var(--tw-space-x-reverse));\n  margin-left: calc(1rem * calc(1 - var(--tw-space-x-reverse)));\n}\n.space-y-1 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.25rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.25rem * var(--tw-space-y-reverse));\n}\n.space-y-1\\.5 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.375rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.375rem * var(--tw-space-y-reverse));\n}\n.space-y-2 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.5rem * var(--tw-space-y-reverse));\n}\n.space-y-3 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(0.75rem * var(--tw-space-y-reverse));\n}\n.space-y-4 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(1rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(1rem * var(--tw-space-y-reverse));\n}\n.space-y-6 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(1.5rem * var(--tw-space-y-reverse));\n}\n.space-y-8 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(2rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(2rem * var(--tw-space-y-reverse));\n}\n.divide-y > :not([hidden]) ~ :not([hidden]) {\n  --tw-divide-y-reverse: 0;\n  border-top-width: calc(1px * calc(1 - var(--tw-divide-y-reverse)));\n  border-bottom-width: calc(1px * var(--tw-divide-y-reverse));\n}\n.divide-gray-100 > :not([hidden]) ~ :not([hidden]) {\n  --tw-divide-opacity: 1;\n  border-color: rgb(243 244 246 / var(--tw-divide-opacity, 1));\n}\n.overflow-auto {\n  overflow: auto;\n}\n.overflow-hidden {\n  overflow: hidden;\n}\n.overflow-y-auto {\n  overflow-y: auto;\n}\n.truncate {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.whitespace-nowrap {\n  white-space: nowrap;\n}\n.whitespace-pre-wrap {\n  white-space: pre-wrap;\n}\n.break-words {\n  overflow-wrap: break-word;\n}\n.rounded {\n  border-radius: 0.25rem;\n}\n.rounded-2xl {\n  border-radius: 1rem;\n}\n.rounded-full {\n  border-radius: 9999px;\n}\n.rounded-lg {\n  border-radius: var(--radius);\n}\n.rounded-md {\n  border-radius: calc(var(--radius) - 2px);\n}\n.rounded-sm {\n  border-radius: calc(var(--radius) - 4px);\n}\n.rounded-xl {\n  border-radius: 0.75rem;\n}\n.rounded-t-lg {\n  border-top-left-radius: var(--radius);\n  border-top-right-radius: var(--radius);\n}\n.border {\n  border-width: 1px;\n}\n.border-0 {\n  border-width: 0px;\n}\n.border-2 {\n  border-width: 2px;\n}\n.border-4 {\n  border-width: 4px;\n}\n.border-b {\n  border-bottom-width: 1px;\n}\n.border-b-2 {\n  border-bottom-width: 2px;\n}\n.border-t {\n  border-top-width: 1px;\n}\n.border-t-2 {\n  border-top-width: 2px;\n}\n.border-none {\n  border-style: none;\n}\n.border-blue-200 {\n  --tw-border-opacity: 1;\n  border-color: rgb(191 219 254 / var(--tw-border-opacity, 1));\n}\n.border-blue-500 {\n  --tw-border-opacity: 1;\n  border-color: rgb(59 130 246 / var(--tw-border-opacity, 1));\n}\n.border-border {\n  border-color: hsl(var(--border));\n}\n.border-destructive\\/50 {\n  border-color: hsl(var(--destructive) / 0.5);\n}\n.border-emerald-400 {\n  --tw-border-opacity: 1;\n  border-color: rgb(52 211 153 / var(--tw-border-opacity, 1));\n}\n.border-gray-100 {\n  --tw-border-opacity: 1;\n  border-color: rgb(243 244 246 / var(--tw-border-opacity, 1));\n}\n.border-gray-200 {\n  --tw-border-opacity: 1;\n  border-color: rgb(229 231 235 / var(--tw-border-opacity, 1));\n}\n.border-gray-300 {\n  --tw-border-opacity: 1;\n  border-color: rgb(209 213 219 / var(--tw-border-opacity, 1));\n}\n.border-green-200 {\n  --tw-border-opacity: 1;\n  border-color: rgb(187 247 208 / var(--tw-border-opacity, 1));\n}\n.border-green-500\\/40 {\n  border-color: rgb(34 197 94 / 0.4);\n}\n.border-indigo-300\\/30 {\n  border-color: rgb(165 180 252 / 0.3);\n}\n.border-indigo-500 {\n  --tw-border-opacity: 1;\n  border-color: rgb(99 102 241 / var(--tw-border-opacity, 1));\n}\n.border-input {\n  border-color: hsl(var(--input));\n}\n.border-primary {\n  border-color: hsl(var(--primary));\n}\n.border-red-200 {\n  --tw-border-opacity: 1;\n  border-color: rgb(254 202 202 / var(--tw-border-opacity, 1));\n}\n.border-red-300 {\n  --tw-border-opacity: 1;\n  border-color: rgb(252 165 165 / var(--tw-border-opacity, 1));\n}\n.border-red-400 {\n  --tw-border-opacity: 1;\n  border-color: rgb(248 113 113 / var(--tw-border-opacity, 1));\n}\n.border-red-500 {\n  --tw-border-opacity: 1;\n  border-color: rgb(239 68 68 / var(--tw-border-opacity, 1));\n}\n.border-rose-400 {\n  --tw-border-opacity: 1;\n  border-color: rgb(251 113 133 / var(--tw-border-opacity, 1));\n}\n.border-rose-500\\/40 {\n  border-color: rgb(244 63 94 / 0.4);\n}\n.border-slate-200 {\n  --tw-border-opacity: 1;\n  border-color: rgb(226 232 240 / var(--tw-border-opacity, 1));\n}\n.border-transparent {\n  border-color: transparent;\n}\n.border-white {\n  --tw-border-opacity: 1;\n  border-color: rgb(255 255 255 / var(--tw-border-opacity, 1));\n}\n.border-white\\/20 {\n  border-color: rgb(255 255 255 / 0.2);\n}\n.border-white\\/30 {\n  border-color: rgb(255 255 255 / 0.3);\n}\n.border-white\\/85 {\n  border-color: rgb(255 255 255 / 0.85);\n}\n.border-t-transparent {\n  border-top-color: transparent;\n}\n.bg-accent {\n  background-color: hsl(var(--accent));\n}\n.bg-amber-500\\/10 {\n  background-color: rgb(245 158 11 / 0.1);\n}\n.bg-background {\n  background-color: hsl(var(--background));\n}\n.bg-background\\/80 {\n  background-color: hsl(var(--background) / 0.8);\n}\n.bg-black\\/20 {\n  background-color: rgb(0 0 0 / 0.2);\n}\n.bg-black\\/60 {\n  background-color: rgb(0 0 0 / 0.6);\n}\n.bg-black\\/70 {\n  background-color: rgb(0 0 0 / 0.7);\n}\n.bg-blue-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(219 234 254 / var(--tw-bg-opacity, 1));\n}\n.bg-blue-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(239 246 255 / var(--tw-bg-opacity, 1));\n}\n.bg-blue-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(59 130 246 / var(--tw-bg-opacity, 1));\n}\n.bg-blue-500\\/10 {\n  background-color: rgb(59 130 246 / 0.1);\n}\n.bg-blue-600 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(37 99 235 / var(--tw-bg-opacity, 1));\n}\n.bg-blue-900\\/30 {\n  background-color: rgb(30 58 138 / 0.3);\n}\n.bg-card {\n  background-color: hsl(var(--card));\n}\n.bg-cyan-500\\/10 {\n  background-color: rgb(6 182 212 / 0.1);\n}\n.bg-destructive\\/15 {\n  background-color: hsl(var(--destructive) / 0.15);\n}\n.bg-emerald-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(16 185 129 / var(--tw-bg-opacity, 1));\n}\n.bg-emerald-500\\/10 {\n  background-color: rgb(16 185 129 / 0.1);\n}\n.bg-emerald-500\\/20 {\n  background-color: rgb(16 185 129 / 0.2);\n}\n.bg-emerald-500\\/30 {\n  background-color: rgb(16 185 129 / 0.3);\n}\n.bg-gray-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(243 244 246 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-200 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(229 231 235 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-300 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(209 213 219 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(249 250 251 / var(--tw-bg-opacity, 1));\n}\n.bg-gray-800 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(31 41 55 / var(--tw-bg-opacity, 1));\n}\n.bg-green-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(220 252 231 / var(--tw-bg-opacity, 1));\n}\n.bg-green-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(240 253 244 / var(--tw-bg-opacity, 1));\n}\n.bg-green-500\\/20 {\n  background-color: rgb(34 197 94 / 0.2);\n}\n.bg-indigo-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(224 231 255 / var(--tw-bg-opacity, 1));\n}\n.bg-indigo-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(238 242 255 / var(--tw-bg-opacity, 1));\n}\n.bg-indigo-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(99 102 241 / var(--tw-bg-opacity, 1));\n}\n.bg-indigo-500\\/10 {\n  background-color: rgb(99 102 241 / 0.1);\n}\n.bg-indigo-500\\/20 {\n  background-color: rgb(99 102 241 / 0.2);\n}\n.bg-indigo-900\\/70 {\n  background-color: rgb(49 46 129 / 0.7);\n}\n.bg-muted {\n  background-color: hsl(var(--muted));\n}\n.bg-orange-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(255 237 213 / var(--tw-bg-opacity, 1));\n}\n.bg-pink-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(252 231 243 / var(--tw-bg-opacity, 1));\n}\n.bg-popover {\n  background-color: hsl(var(--popover));\n}\n.bg-primary {\n  background-color: hsl(var(--primary));\n}\n.bg-primary\\/20 {\n  background-color: hsl(var(--primary) / 0.2);\n}\n.bg-primary\\/90 {\n  background-color: hsl(var(--primary) / 0.9);\n}\n.bg-purple-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(243 232 255 / var(--tw-bg-opacity, 1));\n}\n.bg-purple-500\\/10 {\n  background-color: rgb(168 85 247 / 0.1);\n}\n.bg-red-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(254 226 226 / var(--tw-bg-opacity, 1));\n}\n.bg-red-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(254 242 242 / var(--tw-bg-opacity, 1));\n}\n.bg-red-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(239 68 68 / var(--tw-bg-opacity, 1));\n}\n.bg-red-500\\/10 {\n  background-color: rgb(239 68 68 / 0.1);\n}\n.bg-red-500\\/30 {\n  background-color: rgb(239 68 68 / 0.3);\n}\n.bg-red-600 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(220 38 38 / var(--tw-bg-opacity, 1));\n}\n.bg-rose-500\\/10 {\n  background-color: rgb(244 63 94 / 0.1);\n}\n.bg-rose-500\\/20 {\n  background-color: rgb(244 63 94 / 0.2);\n}\n.bg-slate-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(248 250 252 / var(--tw-bg-opacity, 1));\n}\n.bg-transparent {\n  background-color: transparent;\n}\n.bg-white {\n  --tw-bg-opacity: 1;\n  background-color: rgb(255 255 255 / var(--tw-bg-opacity, 1));\n}\n.bg-white\\/10 {\n  background-color: rgb(255 255 255 / 0.1);\n}\n.bg-white\\/20 {\n  background-color: rgb(255 255 255 / 0.2);\n}\n.bg-yellow-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(254 249 195 / var(--tw-bg-opacity, 1));\n}\n.bg-\\[radial-gradient\\(circle_at_1px_1px\\2c rgba\\(255\\2c 255\\2c 255\\2c 0\\.15\\)_1px\\2c transparent_0\\)\\] {\n  background-image: radial-gradient(circle at 1px 1px,rgba(255,255,255,0.15) 1px,transparent 0);\n}\n.bg-gradient-to-b {\n  background-image: linear-gradient(to bottom, var(--tw-gradient-stops));\n}\n.bg-gradient-to-br {\n  background-image: linear-gradient(to bottom right, var(--tw-gradient-stops));\n}\n.bg-gradient-to-r {\n  background-image: linear-gradient(to right, var(--tw-gradient-stops));\n}\n.from-amber-500 {\n  --tw-gradient-from: #f59e0b var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(245 158 11 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n.from-blue-500 {\n  --tw-gradient-from: #3b82f6 var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(59 130 246 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n.from-blue-500\\/80 {\n  --tw-gradient-from: rgb(59 130 246 / 0.8) var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(59 130 246 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n.from-cyan-500 {\n  --tw-gradient-from: #06b6d4 var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(6 182 212 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n.from-emerald-500 {\n  --tw-gradient-from: #10b981 var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(16 185 129 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n.from-gray-50 {\n  --tw-gradient-from: #f9fafb var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(249 250 251 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n.from-indigo-500 {\n  --tw-gradient-from: #6366f1 var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(99 102 241 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n.from-indigo-500\\/80 {\n  --tw-gradient-from: rgb(99 102 241 / 0.8) var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(99 102 241 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n.from-purple-500 {\n  --tw-gradient-from: #a855f7 var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(168 85 247 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n.from-rose-500 {\n  --tw-gradient-from: #f43f5e var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(244 63 94 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n.via-purple-500 {\n  --tw-gradient-to: rgb(168 85 247 / 0)  var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), #a855f7 var(--tw-gradient-via-position), var(--tw-gradient-to);\n}\n.to-emerald-600 {\n  --tw-gradient-to: #059669 var(--tw-gradient-to-position);\n}\n.to-gray-100 {\n  --tw-gradient-to: #f3f4f6 var(--tw-gradient-to-position);\n}\n.to-indigo-600 {\n  --tw-gradient-to: #4f46e5 var(--tw-gradient-to-position);\n}\n.to-indigo-600\\/80 {\n  --tw-gradient-to: rgb(79 70 229 / 0.8) var(--tw-gradient-to-position);\n}\n.to-orange-600 {\n  --tw-gradient-to: #ea580c var(--tw-gradient-to-position);\n}\n.to-pink-500 {\n  --tw-gradient-to: #ec4899 var(--tw-gradient-to-position);\n}\n.to-pink-600 {\n  --tw-gradient-to: #db2777 var(--tw-gradient-to-position);\n}\n.to-purple-600 {\n  --tw-gradient-to: #9333ea var(--tw-gradient-to-position);\n}\n.to-purple-600\\/80 {\n  --tw-gradient-to: rgb(147 51 234 / 0.8) var(--tw-gradient-to-position);\n}\n.to-sky-600 {\n  --tw-gradient-to: #0284c7 var(--tw-gradient-to-position);\n}\n.to-teal-600 {\n  --tw-gradient-to: #0d9488 var(--tw-gradient-to-position);\n}\n.to-violet-600 {\n  --tw-gradient-to: #7c3aed var(--tw-gradient-to-position);\n}\n.bg-\\[size\\:24px_24px\\] {\n  background-size: 24px 24px;\n}\n.bg-clip-text {\n  -webkit-background-clip: text;\n          background-clip: text;\n}\n.stroke-white {\n  stroke: #fff;\n}\n.p-0 {\n  padding: 0px;\n}\n.p-1 {\n  padding: 0.25rem;\n}\n.p-1\\.5 {\n  padding: 0.375rem;\n}\n.p-2 {\n  padding: 0.5rem;\n}\n.p-3 {\n  padding: 0.75rem;\n}\n.p-4 {\n  padding: 1rem;\n}\n.p-5 {\n  padding: 1.25rem;\n}\n.p-6 {\n  padding: 1.5rem;\n}\n.p-8 {\n  padding: 2rem;\n}\n.px-1 {\n  padding-left: 0.25rem;\n  padding-right: 0.25rem;\n}\n.px-2 {\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n}\n.px-3 {\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n}\n.px-4 {\n  padding-left: 1rem;\n  padding-right: 1rem;\n}\n.px-8 {\n  padding-left: 2rem;\n  padding-right: 2rem;\n}\n.py-0\\.5 {\n  padding-top: 0.125rem;\n  padding-bottom: 0.125rem;\n}\n.py-1 {\n  padding-top: 0.25rem;\n  padding-bottom: 0.25rem;\n}\n.py-1\\.5 {\n  padding-top: 0.375rem;\n  padding-bottom: 0.375rem;\n}\n.py-2 {\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n}\n.py-2\\.5 {\n  padding-top: 0.625rem;\n  padding-bottom: 0.625rem;\n}\n.py-3 {\n  padding-top: 0.75rem;\n  padding-bottom: 0.75rem;\n}\n.py-4 {\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n}\n.py-6 {\n  padding-top: 1.5rem;\n  padding-bottom: 1.5rem;\n}\n.py-8 {\n  padding-top: 2rem;\n  padding-bottom: 2rem;\n}\n.pb-1 {\n  padding-bottom: 0.25rem;\n}\n.pb-10 {\n  padding-bottom: 2.5rem;\n}\n.pb-2 {\n  padding-bottom: 0.5rem;\n}\n.pb-3 {\n  padding-bottom: 0.75rem;\n}\n.pb-4 {\n  padding-bottom: 1rem;\n}\n.pl-4 {\n  padding-left: 1rem;\n}\n.pl-6 {\n  padding-left: 1.5rem;\n}\n.pl-8 {\n  padding-left: 2rem;\n}\n.pr-3 {\n  padding-right: 0.75rem;\n}\n.pr-8 {\n  padding-right: 2rem;\n}\n.pt-0 {\n  padding-top: 0px;\n}\n.pt-1 {\n  padding-top: 0.25rem;\n}\n.pt-2 {\n  padding-top: 0.5rem;\n}\n.pt-3 {\n  padding-top: 0.75rem;\n}\n.text-left {\n  text-align: left;\n}\n.text-center {\n  text-align: center;\n}\n.text-right {\n  text-align: right;\n}\n.font-mono {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;\n}\n.font-sans {\n  font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n}\n.text-2xl {\n  font-size: 1.5rem;\n  line-height: 2rem;\n}\n.text-3xl {\n  font-size: 1.875rem;\n  line-height: 2.25rem;\n}\n.text-4xl {\n  font-size: 2.25rem;\n  line-height: 2.5rem;\n}\n.text-5xl {\n  font-size: 3rem;\n  line-height: 1;\n}\n.text-\\[0\\.8rem\\] {\n  font-size: 0.8rem;\n}\n.text-base {\n  font-size: 1rem;\n  line-height: 1.5rem;\n}\n.text-lg {\n  font-size: 1.125rem;\n  line-height: 1.75rem;\n}\n.text-sm {\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n}\n.text-xl {\n  font-size: 1.25rem;\n  line-height: 1.75rem;\n}\n.text-xs {\n  font-size: 0.75rem;\n  line-height: 1rem;\n}\n.font-bold {\n  font-weight: 700;\n}\n.font-extrabold {\n  font-weight: 800;\n}\n.font-medium {\n  font-weight: 500;\n}\n.font-normal {\n  font-weight: 400;\n}\n.font-semibold {\n  font-weight: 600;\n}\n.uppercase {\n  text-transform: uppercase;\n}\n.lowercase {\n  text-transform: lowercase;\n}\n.italic {\n  font-style: italic;\n}\n.leading-none {\n  line-height: 1;\n}\n.tracking-tight {\n  letter-spacing: -0.025em;\n}\n.tracking-wide {\n  letter-spacing: 0.025em;\n}\n.text-accent-foreground {\n  color: hsl(var(--accent-foreground));\n}\n.text-amber-300 {\n  --tw-text-opacity: 1;\n  color: rgb(252 211 77 / var(--tw-text-opacity, 1));\n}\n.text-amber-400 {\n  --tw-text-opacity: 1;\n  color: rgb(251 191 36 / var(--tw-text-opacity, 1));\n}\n.text-black {\n  --tw-text-opacity: 1;\n  color: rgb(0 0 0 / var(--tw-text-opacity, 1));\n}\n.text-black\\/70 {\n  color: rgb(0 0 0 / 0.7);\n}\n.text-blue-200 {\n  --tw-text-opacity: 1;\n  color: rgb(191 219 254 / var(--tw-text-opacity, 1));\n}\n.text-blue-500 {\n  --tw-text-opacity: 1;\n  color: rgb(59 130 246 / var(--tw-text-opacity, 1));\n}\n.text-blue-600 {\n  --tw-text-opacity: 1;\n  color: rgb(37 99 235 / var(--tw-text-opacity, 1));\n}\n.text-blue-700 {\n  --tw-text-opacity: 1;\n  color: rgb(29 78 216 / var(--tw-text-opacity, 1));\n}\n.text-blue-800 {\n  --tw-text-opacity: 1;\n  color: rgb(30 64 175 / var(--tw-text-opacity, 1));\n}\n.text-card-foreground {\n  color: hsl(var(--card-foreground));\n}\n.text-destructive {\n  color: hsl(var(--destructive));\n}\n.text-emerald-200 {\n  --tw-text-opacity: 1;\n  color: rgb(167 243 208 / var(--tw-text-opacity, 1));\n}\n.text-emerald-400 {\n  --tw-text-opacity: 1;\n  color: rgb(52 211 153 / var(--tw-text-opacity, 1));\n}\n.text-foreground {\n  color: hsl(var(--foreground));\n}\n.text-gray-200 {\n  --tw-text-opacity: 1;\n  color: rgb(229 231 235 / var(--tw-text-opacity, 1));\n}\n.text-gray-400 {\n  --tw-text-opacity: 1;\n  color: rgb(156 163 175 / var(--tw-text-opacity, 1));\n}\n.text-gray-500 {\n  --tw-text-opacity: 1;\n  color: rgb(107 114 128 / var(--tw-text-opacity, 1));\n}\n.text-gray-600 {\n  --tw-text-opacity: 1;\n  color: rgb(75 85 99 / var(--tw-text-opacity, 1));\n}\n.text-gray-700 {\n  --tw-text-opacity: 1;\n  color: rgb(55 65 81 / var(--tw-text-opacity, 1));\n}\n.text-gray-800 {\n  --tw-text-opacity: 1;\n  color: rgb(31 41 55 / var(--tw-text-opacity, 1));\n}\n.text-green-300 {\n  --tw-text-opacity: 1;\n  color: rgb(134 239 172 / var(--tw-text-opacity, 1));\n}\n.text-green-500 {\n  --tw-text-opacity: 1;\n  color: rgb(34 197 94 / var(--tw-text-opacity, 1));\n}\n.text-green-700 {\n  --tw-text-opacity: 1;\n  color: rgb(21 128 61 / var(--tw-text-opacity, 1));\n}\n.text-indigo-400 {\n  --tw-text-opacity: 1;\n  color: rgb(129 140 248 / var(--tw-text-opacity, 1));\n}\n.text-indigo-500 {\n  --tw-text-opacity: 1;\n  color: rgb(99 102 241 / var(--tw-text-opacity, 1));\n}\n.text-indigo-600 {\n  --tw-text-opacity: 1;\n  color: rgb(79 70 229 / var(--tw-text-opacity, 1));\n}\n.text-indigo-700 {\n  --tw-text-opacity: 1;\n  color: rgb(67 56 202 / var(--tw-text-opacity, 1));\n}\n.text-indigo-800 {\n  --tw-text-opacity: 1;\n  color: rgb(55 48 163 / var(--tw-text-opacity, 1));\n}\n.text-muted-foreground {\n  color: hsl(var(--muted-foreground));\n}\n.text-orange-400 {\n  --tw-text-opacity: 1;\n  color: rgb(251 146 60 / var(--tw-text-opacity, 1));\n}\n.text-orange-500 {\n  --tw-text-opacity: 1;\n  color: rgb(249 115 22 / var(--tw-text-opacity, 1));\n}\n.text-pink-600 {\n  --tw-text-opacity: 1;\n  color: rgb(219 39 119 / var(--tw-text-opacity, 1));\n}\n.text-popover-foreground {\n  color: hsl(var(--popover-foreground));\n}\n.text-primary {\n  color: hsl(var(--primary));\n}\n.text-primary-foreground {\n  color: hsl(var(--primary-foreground));\n}\n.text-purple-500 {\n  --tw-text-opacity: 1;\n  color: rgb(168 85 247 / var(--tw-text-opacity, 1));\n}\n.text-purple-600 {\n  --tw-text-opacity: 1;\n  color: rgb(147 51 234 / var(--tw-text-opacity, 1));\n}\n.text-red-200 {\n  --tw-text-opacity: 1;\n  color: rgb(254 202 202 / var(--tw-text-opacity, 1));\n}\n.text-red-500 {\n  --tw-text-opacity: 1;\n  color: rgb(239 68 68 / var(--tw-text-opacity, 1));\n}\n.text-red-600 {\n  --tw-text-opacity: 1;\n  color: rgb(220 38 38 / var(--tw-text-opacity, 1));\n}\n.text-red-700 {\n  --tw-text-opacity: 1;\n  color: rgb(185 28 28 / var(--tw-text-opacity, 1));\n}\n.text-red-800 {\n  --tw-text-opacity: 1;\n  color: rgb(153 27 27 / var(--tw-text-opacity, 1));\n}\n.text-rose-300 {\n  --tw-text-opacity: 1;\n  color: rgb(253 164 175 / var(--tw-text-opacity, 1));\n}\n.text-rose-400 {\n  --tw-text-opacity: 1;\n  color: rgb(251 113 133 / var(--tw-text-opacity, 1));\n}\n.text-rose-500 {\n  --tw-text-opacity: 1;\n  color: rgb(244 63 94 / var(--tw-text-opacity, 1));\n}\n.text-slate-400 {\n  --tw-text-opacity: 1;\n  color: rgb(148 163 184 / var(--tw-text-opacity, 1));\n}\n.text-slate-500 {\n  --tw-text-opacity: 1;\n  color: rgb(100 116 139 / var(--tw-text-opacity, 1));\n}\n.text-slate-600 {\n  --tw-text-opacity: 1;\n  color: rgb(71 85 105 / var(--tw-text-opacity, 1));\n}\n.text-slate-800 {\n  --tw-text-opacity: 1;\n  color: rgb(30 41 59 / var(--tw-text-opacity, 1));\n}\n.text-slate-900 {\n  --tw-text-opacity: 1;\n  color: rgb(15 23 42 / var(--tw-text-opacity, 1));\n}\n.text-transparent {\n  color: transparent;\n}\n.text-white {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n.text-white\\/60 {\n  color: rgb(255 255 255 / 0.6);\n}\n.text-white\\/70 {\n  color: rgb(255 255 255 / 0.7);\n}\n.text-white\\/80 {\n  color: rgb(255 255 255 / 0.8);\n}\n.text-yellow-400 {\n  --tw-text-opacity: 1;\n  color: rgb(250 204 21 / var(--tw-text-opacity, 1));\n}\n.text-yellow-600 {\n  --tw-text-opacity: 1;\n  color: rgb(202 138 4 / var(--tw-text-opacity, 1));\n}\n.text-opacity-75 {\n  --tw-text-opacity: 0.75;\n}\n.underline {\n  text-decoration-line: underline;\n}\n.placeholder-white\\/50::-moz-placeholder {\n  color: rgb(255 255 255 / 0.5);\n}\n.placeholder-white\\/50::placeholder {\n  color: rgb(255 255 255 / 0.5);\n}\n.opacity-0 {\n  opacity: 0;\n}\n.opacity-10 {\n  opacity: 0.1;\n}\n.opacity-25 {\n  opacity: 0.25;\n}\n.opacity-30 {\n  opacity: 0.3;\n}\n.opacity-50 {\n  opacity: 0.5;\n}\n.opacity-60 {\n  opacity: 0.6;\n}\n.opacity-75 {\n  opacity: 0.75;\n}\n.opacity-80 {\n  opacity: 0.8;\n}\n.opacity-90 {\n  opacity: 0.9;\n}\n.shadow {\n  --tw-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-inner {\n  --tw-shadow: inset 0 2px 4px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: inset 0 2px 4px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-lg {\n  --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-md {\n  --tw-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-sm {\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-xl {\n  --tw-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.shadow-emerald-500\\/60 {\n  --tw-shadow-color: rgb(16 185 129 / 0.6);\n  --tw-shadow: var(--tw-shadow-colored);\n}\n.outline-none {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n.outline {\n  outline-style: solid;\n}\n.ring-0 {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n.ring-1 {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n.ring-black {\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(0 0 0 / var(--tw-ring-opacity, 1));\n}\n.ring-opacity-5 {\n  --tw-ring-opacity: 0.05;\n}\n.ring-offset-background {\n  --tw-ring-offset-color: hsl(var(--background));\n}\n.blur {\n  --tw-blur: blur(8px);\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n.drop-shadow-sm {\n  --tw-drop-shadow: drop-shadow(0 1px 1px rgb(0 0 0 / 0.05));\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n.\\!filter {\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow) !important;\n}\n.filter {\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n.backdrop-blur-lg {\n  --tw-backdrop-blur: blur(16px);\n  -webkit-backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);\n  backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);\n}\n.backdrop-blur-md {\n  --tw-backdrop-blur: blur(12px);\n  -webkit-backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);\n  backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);\n}\n.backdrop-blur-sm {\n  --tw-backdrop-blur: blur(4px);\n  -webkit-backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);\n  backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);\n}\n.transition {\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.transition-all {\n  transition-property: all;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.transition-colors {\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.transition-opacity {\n  transition-property: opacity;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.transition-transform {\n  transition-property: transform;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.duration-200 {\n  transition-duration: 200ms;\n}\n.duration-300 {\n  transition-duration: 300ms;\n}\n.duration-500 {\n  transition-duration: 500ms;\n}\n.ease-in-out {\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n}\n.ease-out {\n  transition-timing-function: cubic-bezier(0, 0, 0.2, 1);\n}\n@keyframes enter {\n\n  from {\n    opacity: var(--tw-enter-opacity, 1);\n    transform: translate3d(var(--tw-enter-translate-x, 0), var(--tw-enter-translate-y, 0), 0) scale3d(var(--tw-enter-scale, 1), var(--tw-enter-scale, 1), var(--tw-enter-scale, 1)) rotate(var(--tw-enter-rotate, 0));\n  }\n}\n@keyframes exit {\n\n  to {\n    opacity: var(--tw-exit-opacity, 1);\n    transform: translate3d(var(--tw-exit-translate-x, 0), var(--tw-exit-translate-y, 0), 0) scale3d(var(--tw-exit-scale, 1), var(--tw-exit-scale, 1), var(--tw-exit-scale, 1)) rotate(var(--tw-exit-rotate, 0));\n  }\n}\n.animate-in {\n  animation-name: enter;\n  animation-duration: 150ms;\n  --tw-enter-opacity: initial;\n  --tw-enter-scale: initial;\n  --tw-enter-rotate: initial;\n  --tw-enter-translate-x: initial;\n  --tw-enter-translate-y: initial;\n}\n.fade-in {\n  --tw-enter-opacity: 0;\n}\n.zoom-in-95 {\n  --tw-enter-scale: .95;\n}\n.duration-200 {\n  animation-duration: 200ms;\n}\n.duration-300 {\n  animation-duration: 300ms;\n}\n.duration-500 {\n  animation-duration: 500ms;\n}\n.ease-in-out {\n  animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n}\n.ease-out {\n  animation-timing-function: cubic-bezier(0, 0, 0.2, 1);\n}\n.paused {\n  animation-play-state: paused;\n}\n\n/**\n * ====================================\n * 1. משתני בסיס (ROOT VARIABLES)\n * ====================================\n * הגדרת משתני צבע ועיצוב בסיסיים\n */\n\n:root {\n  /* LIGHT THEME */\n  --background: 0 0% 100%;\n  --foreground: 222.2 84% 4.9%;\n  --card: 0 0% 100%;\n  --card-foreground: 222.2 84% 4.9%;\n  --popover: 0 0% 100%;\n  --popover-foreground: 222.2 84% 4.9%;\n  --primary: 221.2 83.2% 53.3%;\n  --primary-foreground: 210 40% 98%;\n  --secondary: 210 40% 96.1%;\n  --secondary-foreground: 222.2 47.4% 11.2%;\n  --muted: 210 40% 96.1%;\n  --muted-foreground: 215.4 16.3% 46.9%;\n  --accent: 210 40% 96.1%;\n  --accent-foreground: 222.2 47.4% 11.2%;\n  --destructive: 0 84.2% 60.2%;\n  --destructive-foreground: 210 40% 98%;\n  --border: 214.3 31.8% 91.4%;\n  --input: 214.3 31.8% 91.4%;\n  --ring: 221.2 83.2% 53.3%;\n  --radius: 0.5rem;\n}\n\n.dark {\n  /* DARK THEME */\n  --background: 222.2 84% 4.9%;\n  --foreground: 210 40% 98%;\n  --card: 222.2 84% 4.9%;\n  --card-foreground: 210 40% 98%;\n  --popover: 222.2 84% 4.9%;\n  --popover-foreground: 210 40% 98%;\n  --primary: 217.2 91.2% 59.8%;\n  --primary-foreground: 222.2 47.4% 11.2%;\n  --secondary: 217.2 32.6% 17.5%;\n  --secondary-foreground: 210 40% 98%;\n  --muted: 217.2 32.6% 17.5%;\n  --muted-foreground: 215 20.2% 65.1%;\n  --accent: 217.2 32.6% 17.5%;\n  --accent-foreground: 210 40% 98%;\n  --destructive: 0 62.8% 30.6%;\n  --destructive-foreground: 210 40% 98%;\n  --border: 217.2 32.6% 17.5%;\n  --input: 217.2 32.6% 17.5%;\n  --ring: 224.3 76.3% 48%;\n}\n\n/**\n * ====================================\n * 2. הגדרות TAILWIND בסיסיות\n * ====================================\n */\n\n/**\n * ====================================\n * 3. COMPONENT CLASSES\n * ====================================\n * הגדרת סגנונות לקומפוננטות הכלליות\n */\n\n/**\n * ====================================\n * 4. מבנה POPUP\n * ====================================\n * סגנונות לפופאפ העיקרי של התוסף\n */\n\n/* --- מבנה מכולה ראשי --- */\n.popup-container {\n  display: flex;\n  height: 600px;\n  width: 400px;\n  flex-direction: column;\n  background-color: hsl(var(--background));\n  color: hsl(var(--foreground));\n  width: 100%;\n  height: 100%;\n}\n\n/* --- כותרת פופאפ --- */\n.popup-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom-width: 1px;\n  background-image: linear-gradient(to right, var(--tw-gradient-stops));\n  padding: 1rem;\n  background: linear-gradient(to right, hsl(222.2 84% 4.9%), hsl(217.2 32.6% 17.5%));\n  color: white;\n}\n\n.popup-header h1 {\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  color: white;\n}\n\n/* --- תוכן הפופאפ --- */\n.popup-content {\n  flex: 1 1 0%;\n  overflow-y: auto;\n  padding: 1rem;\n}\n\n/* --- כותרת סקשן --- */\n.section-title {\n  line-height: 1.75rem;\n  display: flex;\n  align-items: center;\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: var(--muted-foreground);\n  margin-bottom: 0.75rem;\n}\n\n/* --- פוטר פופאפ --- */\n.popup-footer {\n  border-top-width: 1px;\n  background-color: hsl(var(--muted) / 0.3);\n  padding: 0.75rem;\n  text-align: center;\n  font-size: 0.75rem;\n  line-height: 1rem;\n  color: hsl(var(--muted-foreground));\n}\n\n/**\n * ====================================\n * 5. כפתורים ואינטראקציות\n * ====================================\n */\n\n/* --- כפתורי אייקון --- */\n.icon-button {\n  display: flex;\n  height: 2rem;\n  width: 2rem;\n  align-items: center;\n  justify-content: center;\n  border-radius: 9999px;\n  padding: 0.5rem;\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n  color: white;\n}\n\n.light .icon-button {\n  color: var(--foreground);\n}\n\n.dark .icon-button {\n  color: white;\n}\n\n.icon-button:hover {\n  background-color: rgb(255 255 255 / 0.1);\n}\n\n.light .icon-button:hover {\n  background-color: rgb(0 0 0 / 0.1);\n}\n\n/* --- כפתורי פעולה --- */\n.actions {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.edit-button {\n  --tw-text-opacity: 1;\n  color: rgb(59 130 246 / var(--tw-text-opacity, 1));\n}\n\n.edit-button:hover {\n  --tw-text-opacity: 1;\n  color: rgb(37 99 235 / var(--tw-text-opacity, 1));\n}\n\n.edit-button {\n  padding: 0.25rem;\n  border-radius: 0.25rem;\n  transition: all 0.2s ease;\n}\n\n.delete-button {\n  --tw-text-opacity: 1;\n  color: rgb(239 68 68 / var(--tw-text-opacity, 1));\n}\n\n.delete-button:hover {\n  --tw-text-opacity: 1;\n  color: rgb(220 38 38 / var(--tw-text-opacity, 1));\n}\n\n.delete-button {\n  padding: 0.25rem;\n  border-radius: 0.25rem;\n  transition: all 0.2s ease;\n}\n\n.save-button {\n  --tw-text-opacity: 1;\n  color: rgb(34 197 94 / var(--tw-text-opacity, 1));\n}\n\n.save-button:hover {\n  --tw-text-opacity: 1;\n  color: rgb(22 163 74 / var(--tw-text-opacity, 1));\n}\n\n.cancel-button {\n  --tw-text-opacity: 1;\n  color: rgb(239 68 68 / var(--tw-text-opacity, 1));\n}\n\n.cancel-button:hover {\n  --tw-text-opacity: 1;\n  color: rgb(220 38 38 / var(--tw-text-opacity, 1));\n}\n\n.edit-button:hover {\n  color: var(--foreground);\n  background: var(--accent);\n}\n\n.delete-button:hover {\n  color: var(--destructive);\n  background: var(--destructive-foreground);\n}\n\n/* --- כפתורי תרגול --- */\n.practice-section {\n  margin-top: 1.5rem;\n}\n\n.practice-button {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  border-radius: var(--radius);\n  border-width: 1px;\n  border-color: hsl(var(--border));\n  background-color: hsl(var(--card));\n  padding: 1rem;\n  color: hsl(var(--card-foreground));\n  transition-property: all;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 200ms;\n  animation-duration: 200ms;\n}\n\n.practice-button:hover {\n  background-color: hsl(var(--accent));\n  color: hsl(var(--accent-foreground));\n}\n\n.practice-button:disabled {\n  cursor: not-allowed;\n  opacity: 0.5;\n}\n\n.practice-button {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 1.5rem;\n  position: relative;\n  overflow: hidden;\n  box-shadow: var(--shadow);\n}\n\n.practice-button::before {\n  content: \'\';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(45deg, var(--primary), var(--secondary));\n  opacity: 0;\n  transition: opacity 0.2s ease;\n}\n\n.practice-button:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 12px -3px rgb(0 0 0 / 0.15);\n}\n\n.practice-button:hover::before {\n  opacity: 1;\n}\n\n.practice-button > * {\n  position: relative;\n  z-index: 1;\n}\n\n.practice-button:hover > * {\n  color: var(--primary-foreground);\n}\n\n.practice-button:disabled:hover {\n  background-color: hsl(var(--card));\n  color: hsl(var(--card-foreground));\n}\n\n/* --- וריאציות תימה --- */\n.light .practice-button {\n  background-image: linear-gradient(to bottom right, var(--tw-gradient-stops));\n  --tw-gradient-from: #fff var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(255 255 255 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n  --tw-gradient-to: #f9fafb var(--tw-gradient-to-position);\n}\n.light .practice-button:hover {\n  --tw-gradient-from: #eef2ff var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(238 242 255 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n  --tw-gradient-to: #e0e7ff var(--tw-gradient-to-position);\n}\n\n.dark .practice-button {\n  background-image: linear-gradient(to bottom right, var(--tw-gradient-stops));\n  --tw-gradient-from: #111827 var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(17 24 39 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n  --tw-gradient-to: #1f2937 var(--tw-gradient-to-position);\n}\n\n.dark .practice-button:hover {\n  --tw-gradient-from: #1e1b4b var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(30 27 75 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n  --tw-gradient-to: #312e81 var(--tw-gradient-to-position);\n}\n\n/**\n * ====================================\n * 6. כרטיסי מילים וסטטיסטיקה\n * ====================================\n */\n\n/* --- כרטיס מילה --- */\n.word-card {\n  border-radius: var(--radius);\n  border-width: 1px;\n  border-color: hsl(var(--border));\n  background-color: hsl(var(--card));\n  padding: 1rem;\n  color: hsl(var(--card-foreground));\n  transition-property: all;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 200ms;\n  animation-duration: 200ms;\n}\n.word-card:hover {\n  --tw-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.word-card {\n  padding: 1rem;\n  background: var(--card);\n  border: 1px solid var(--border);\n  border-radius: var(--radius);\n  transition: all 0.2s ease;\n  display: flex;\n  flex-direction: column;\n}\n\n.word-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n\n.word-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.5rem;\n}\n\n.original-word {\n  line-height: 1.5rem;\n  font-size: 1rem;\n  font-weight: 500;\n  color: var(--foreground);\n}\n\n.translated-word {\n  margin-top: 0.25rem;\n  line-height: 1.25rem;\n  color: hsl(var(--muted-foreground));\n  font-size: 0.875rem;\n  color: var(--muted-foreground);\n  margin-bottom: 0.5rem;\n}\n\n.word-meta {\n  margin-top: 0.75rem;\n  justify-content: space-between;\n  line-height: 1rem;\n  color: hsl(var(--muted-foreground));\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.75rem;\n  color: var(--muted-foreground);\n  margin-top: auto;\n}\n\n.language {\n  border-radius: 9999px;\n  background-color: hsl(var(--muted));\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n  padding-top: 0.25rem;\n  padding-bottom: 0.25rem;\n  font-size: 0.75rem;\n  line-height: 1rem;\n  color: hsl(var(--muted-foreground));\n}\n\n.language-tag {\n  padding: 0.25rem 0.5rem;\n  background: var(--muted);\n  border-radius: var(--radius);\n  font-size: 0.75rem;\n}\n\n/* --- וריאציות תימה --- */\n.light .word-card {\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.light .word-card:hover {\n  --tw-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.dark .word-card {\n  border-color: hsl(var(--border) / 0.5);\n}\n\n.dark .word-card:hover {\n  border-color: hsl(var(--border));\n}\n\n/* --- כרטיס סטטיסטיקה --- */\n.stats-section > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(1rem * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(1rem * var(--tw-space-y-reverse));\n}\n\n.stat-card {\n  background-color: hsl(var(--card));\n  color: hsl(var(--card-foreground));\n  padding: 1.5rem;\n  text-align: center;\n  background-color: var(--card);\n  color: var(--card-foreground);\n  border: none;\n  border-radius: var(--radius);\n  box-shadow: var(--shadow);\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\n}\n\n.stat-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 12px -3px rgb(0 0 0 / 0.15);\n}\n\n/**\n * ====================================\n * 7. מצב ריק וסינון\n * ====================================\n */\n\n/* --- מצב ריק --- */\n.empty-state {\n  border-radius: var(--radius);\n  border-width: 1px;\n  border-style: dashed;\n  border-color: hsl(var(--border));\n  padding: 1.5rem;\n  text-align: center;\n  color: hsl(var(--muted-foreground));\n}\n\n.light .empty-state {\n  --tw-bg-opacity: 1;\n  background-color: rgb(249 250 251 / var(--tw-bg-opacity, 1));\n}\n\n.dark .empty-state {\n  background-color: rgb(17 24 39 / 0.5);\n}\n\n/* --- מכולת סינון --- */\n.filter-container {\n  margin-bottom: 1.25rem;\n  border-radius: var(--radius);\n  border-width: 1px;\n  border-color: hsl(var(--border));\n  background-color: hsl(var(--muted) / 0.2);\n  padding: 1.25rem;\n}\n\n.filters {\n  margin-bottom: 1rem;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 1.5rem;\n}\n\n.filter-group {\n  display: flex;\n  min-width: 170px;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.filter-label {\n  margin-bottom: 0.375rem;\n  font-size: 0.75rem;\n  line-height: 1rem;\n  font-weight: 500;\n  color: hsl(var(--muted-foreground));\n}\n\n.filter-stats {\n  margin-top: 0.75rem;\n  font-size: 0.75rem;\n  line-height: 1rem;\n  color: hsl(var(--muted-foreground));\n}\n\n@media (max-width: 480px) {\n  .filters {\n    flex-direction: column;\n    gap: 1.25rem;\n  }\n  \n  .filter-group {\n    margin-bottom: 0.75rem;\n    width: 100%;\n  }\n}\n\n/**\n * ====================================\n * 8. הגדרות תצוגת משחקים\n * ====================================\n */\n\n/* מכולת משחקים מותאמת */\n.games-container,\n.game-fullscreen, \n[class*="animated-gradient-bg"],\n.game-container {\n  position: fixed !important;\n  top: 0 !important;\n  left: 0 !important;\n  width: 100vw !important;\n  height: 100vh !important;\n  max-width: 100vw !important;\n  max-height: 100vh !important;\n  z-index: 10000 !important;\n  overflow: hidden !important;\n}\n\n/* מוודא שכל רכיבי המשחק מוצגים מעל שאר התוכן */\n.game-header-text,\n.game-title,\n.game-container button,\n.game-container > div {\n  z-index: 10001 !important;\n  position: relative !important;\n}\n\n/* לחצני לוח צף */\n.floating-controls-button {\n  background-color: rgba(0, 0, 0, 0.6);\n  color: white;\n  transition: all 0.2s ease;\n  z-index: 10002 !important;\n}\n\n.floating-controls-button:hover {\n  background-color: rgba(0, 0, 0, 0.8);\n  transform: scale(1.1);\n}\n\n/* פאנלים צפים */\n.floating-panel {\n  z-index: 10003 !important;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n  -webkit-backdrop-filter: blur(12px);\n          backdrop-filter: blur(12px);\n}\n\n/* ידית שינוי גודל */\n.resize-handle {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  width: 12px;\n  height: 12px;\n  cursor: nwse-resize;\n  background: transparent;\n  z-index: 100;\n}\n\n.resize-handle:after {\n  content: \'\';\n  position: absolute;\n  right: 3px;\n  bottom: 3px;\n  width: 6px;\n  height: 6px;\n  border-right: 2px solid rgba(100, 100, 100, 0.4);\n  border-bottom: 2px solid rgba(100, 100, 100, 0.4);\n}\n\n/* מבטיח שהפופאפ לא יחסום את המשחקים */\n.popup-container, .popup-header, .popup-content {\n  z-index: auto !important;\n}\n\n/**\n * ====================================\n * 9. שדות קלט ובוחר תאריך\n * ====================================\n */\n\n/* --- שדות קלט --- */\n.input-field {\n  width: 100%;\n  border-radius: calc(var(--radius) - 2px);\n  border-width: 1px;\n  background-color: hsl(var(--background));\n  padding: 0.5rem;\n  color: hsl(var(--foreground));\n}\n\n.translated-input {\n  margin-top: 0.5rem;\n}\n\n.language-select {\n  margin-top: 0.5rem;\n  width: 100%;\n}\n\n/* --- סלקטים --- */\n.select-input {\n  height: 2.5rem;\n  width: 100%;\n  border-radius: calc(var(--radius) - 2px);\n  border-width: 1px;\n  border-color: hsl(var(--input));\n  background-color: hsl(var(--background));\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.select-input:focus-visible {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n  --tw-ring-color: hsl(var(--ring));\n}\n.select-input {\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, sans-serif;\n}\n\n.select-input:hover {\n  border-color: var(--primary);\n}\n\n.select-input:focus {\n  border-color: var(--primary);\n  box-shadow: 0 0 0 2px var(--primary-foreground), var(--shadow);\n}\n\n/* --- שדות תאריך --- */\ninput[type="date"], .date-input {\n  height: 2.5rem;\n  min-width: 150px;\n  border-radius: calc(var(--radius) - 2px);\n  border-width: 1px;\n  border-color: hsl(var(--input));\n  background-color: hsl(var(--background));\n  padding-left: 0.75rem;\n  padding-right: 0.75rem;\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\ninput[type="date"]:focus-visible, .date-input:focus-visible {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n  --tw-ring-color: hsl(var(--ring));\n}\ninput[type="date"], .date-input {\n  color-scheme: light dark;\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, sans-serif !important;\n  direction: ltr !important;\n  unicode-bidi: isolate-override !important;\n  text-align: left !important;\n}\n\n.dark input[type="date"], .dark .date-input {\n  color-scheme: dark;\n}\n\n.light input[type="date"], .light .date-input {\n  color-scheme: light;\n}\n\ninput[type="date"]::-webkit-calendar-picker-indicator, .date-input::-webkit-calendar-picker-indicator {\n  opacity: 0;\n  width: 30px;\n  height: 20px;\n  position: absolute;\n  right: 0;\n  cursor: pointer;\n  z-index: 1;\n}\n\ninput[type="date"]::-webkit-datetime-edit,\ninput[type="date"]::-webkit-datetime-edit-fields-wrapper,\ninput[type="date"]::-webkit-datetime-edit-text,\ninput[type="date"]::-webkit-datetime-edit-month-field,\ninput[type="date"]::-webkit-datetime-edit-day-field,\ninput[type="date"]::-webkit-datetime-edit-year-field {\n  direction: ltr !important;\n  unicode-bidi: isolate-override !important;\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, sans-serif !important;\n  text-align: left !important;\n}\n\n/* --- בוחר תאריכים מותאם --- */\n.date-picker-container {\n    position: relative;\n  width: 100%;\n}\n    \n.date-picker-calendar {\n      position: absolute;\n  top: 100%;\n  left: 0;\n  width: 100%;\n  background-color: hsl(var(--card));\n  border: 1px solid var(--border);\n  border-radius: 0.5rem;\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);\n  z-index: 10;\n  padding: 0.75rem;\n  margin-top: 0.25rem;\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, sans-serif !important;\n}\n\n.dark .date-picker-calendar {\n  background-color: hsl(var(--card));\n  border-color: var(--border);\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);\n}\n\n.light .date-picker-calendar {\n  background-color: hsl(var(--card));\n  border-color: var(--border);\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);\n}\n\n.date-picker-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.75rem;\n  padding-bottom: 0.5rem;\n  border-bottom: 1px solid var(--border);\n}\n\n.date-picker-month-year {\n  font-weight: 700;\n  font-size: 1rem;\n  color: var(--foreground);\n  letter-spacing: -0.01em;\n}\n\n.date-picker-nav {\n  display: flex;\n  gap: 0.25rem;\n}\n\n.date-picker-nav button {\n  background-color: var(--secondary);\n  border: 1px solid var(--border);\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 1.75rem;\n  height: 1.75rem;\n  border-radius: 0.25rem;\n  color: var(--foreground);\n  transition: all 0.2s ease;\n}\n\n.date-picker-nav button:hover {\n  background-color: var(--accent);\n  transform: translateY(-1px);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.date-picker-days {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: 0.25rem;\n}\n\n.date-picker-day-name {\n  text-align: center;\n  font-size: 0.75rem;\n  font-weight: 500;\n  color: var(--muted-foreground);\n  padding: 0.25rem 0;\n}\n\n.date-picker-day {\n  text-align: center;\n  font-size: 0.875rem;\n  padding: 0.5rem 0.25rem;\n  border-radius: 0.25rem;\n  cursor: pointer;\n  margin: 0.125rem;\n  font-weight: 500;\n}\n\n.date-picker-day:hover {\n  background-color: var(--accent);\n}\n\n.date-picker-day.selected {\n  background-color: var(--primary);\n  color: white;\n  font-weight: 600;\n}\n\n.date-picker-day.today {\n  font-weight: 600;\n  border: 1.5px solid var(--primary);\n}\n\n.date-picker-day.outside-month {\n  color: var(--muted-foreground);\n  opacity: 0.4;\n}\n\n/**\n * ====================================\n * 10. אנימציות\n * ====================================\n */\n\n@keyframes gradientMove {\n  0% { background-position: 0% 50%; }\n  50% { background-position: 100% 50%; }\n  100% { background-position: 0% 50%; }\n}\n\n@keyframes floating {\n  0% { transform: translateY(0px); }\n  50% { transform: translateY(-10px); }\n  100% { transform: translateY(0px); }\n}\n\n@keyframes confetti-pop {\n  0% { transform: scale(1); }\n  50% { transform: scale(1.2); }\n  100% { transform: scale(1); }\n}\n\n@keyframes pulse {\n  0% { opacity: 1; }\n  50% { opacity: 0.7; }\n  100% { opacity: 1; }\n}\n\n@keyframes shimmer {\n  0% { transform: translateX(-150%) rotate(30deg); }\n  100% { transform: translateX(150%) rotate(30deg); }\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n@keyframes fadeIn {\n  from { opacity: 0; transform: translateY(-10px); }\n  to { opacity: 1; transform: translateY(0); }\n}\n\n/* --- השהיית אנימציה --- */\n.animation-delay-200 {\n  animation-delay: 200ms;\n}\n\n.animation-delay-400 {\n  animation-delay: 400ms;\n}\n\n.animate-fadeIn {\n  animation: fadeIn 0.2s ease-out forwards;\n}\n\n/**\n * ====================================\n * 11. נגישות ומצבי פוקוס\n * ====================================\n */\n\n/* סגנונות פוקוס לנגישות טובה יותר */\nbutton:focus-visible,\ninput:focus-visible,\ntextarea:focus-visible {\n  outline: 2px solid #4285f4;\n  outline-offset: 2px;\n}\n\n/**\n * ====================================\n * 12. לוונים ואינדיקציות\n * ====================================\n */\n\n/* טעינה מסתובבת */\n.spinner {\n  width: 20px;\n  height: 20px;\n  border: 2px solid rgba(0, 0, 0, 0.1);\n  border-top-color: #3498db;\n  border-radius: 50%;\n  animation: spin 0.8s linear infinite;\n}\n\n.dark .spinner {\n  border-color: rgba(255, 255, 255, 0.1);\n  border-top-color: #3498db;\n}\n\n/* --- לוח Gemini ופאנל הערות --- */\n.dark .gemini-panel,\n.dark .notes-panel {\n  background-color: rgba(30, 30, 30, 0.95);\n  color: #e0e0e0;\n  border-color: #444;\n}\n\n.light .gemini-panel,\n.light .notes-panel {\n  background-color: rgba(255, 255, 255, 0.95);\n  color: #333;\n  border-color: #ddd;\n}\n\n.file\\:border-0::file-selector-button {\n  border-width: 0px;\n}\n\n.file\\:bg-transparent::file-selector-button {\n  background-color: transparent;\n}\n\n.file\\:text-sm::file-selector-button {\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n}\n\n.file\\:font-medium::file-selector-button {\n  font-weight: 500;\n}\n\n.placeholder\\:text-muted-foreground::-moz-placeholder {\n  color: hsl(var(--muted-foreground));\n}\n\n.placeholder\\:text-muted-foreground::placeholder {\n  color: hsl(var(--muted-foreground));\n}\n\n.focus-within\\:relative:focus-within {\n  position: relative;\n}\n\n.focus-within\\:z-20:focus-within {\n  z-index: 20;\n}\n\n.hover\\:scale-105:hover {\n  --tw-scale-x: 1.05;\n  --tw-scale-y: 1.05;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.hover\\:scale-\\[1\\.02\\]:hover {\n  --tw-scale-x: 1.02;\n  --tw-scale-y: 1.02;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.hover\\:border-blue-200:hover {\n  --tw-border-opacity: 1;\n  border-color: rgb(191 219 254 / var(--tw-border-opacity, 1));\n}\n\n.hover\\:border-green-300:hover {\n  --tw-border-opacity: 1;\n  border-color: rgb(134 239 172 / var(--tw-border-opacity, 1));\n}\n\n.hover\\:bg-accent:hover {\n  background-color: hsl(var(--accent));\n}\n\n.hover\\:bg-blue-100:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(219 234 254 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\:bg-blue-200:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(191 219 254 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\:bg-blue-50:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(239 246 255 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\:bg-blue-500:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(59 130 246 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\:bg-blue-600:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(37 99 235 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\:bg-blue-700:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(29 78 216 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\:bg-gray-100:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(243 244 246 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\:bg-gray-200:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(229 231 235 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\:bg-gray-50:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(249 250 251 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\:bg-green-100:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(220 252 231 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\:bg-indigo-100:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(224 231 255 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\:bg-indigo-50:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(238 242 255 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\:bg-indigo-500\\/30:hover {\n  background-color: rgb(99 102 241 / 0.3);\n}\n\n.hover\\:bg-primary:hover {\n  background-color: hsl(var(--primary));\n}\n\n.hover\\:bg-primary\\/90:hover {\n  background-color: hsl(var(--primary) / 0.9);\n}\n\n.hover\\:bg-red-100:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(254 226 226 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\:bg-red-200:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(254 202 202 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\:bg-red-50:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(254 242 242 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\:bg-red-700:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(185 28 28 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\:bg-slate-100:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(241 245 249 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\:bg-white\\/10:hover {\n  background-color: rgb(255 255 255 / 0.1);\n}\n\n.hover\\:bg-white\\/20:hover {\n  background-color: rgb(255 255 255 / 0.2);\n}\n\n.hover\\:bg-white\\/40:hover {\n  background-color: rgb(255 255 255 / 0.4);\n}\n\n.hover\\:from-blue-600:hover {\n  --tw-gradient-from: #2563eb var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(37 99 235 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n\n.hover\\:from-blue-600\\/80:hover {\n  --tw-gradient-from: rgb(37 99 235 / 0.8) var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(37 99 235 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n\n.hover\\:from-indigo-600\\/80:hover {\n  --tw-gradient-from: rgb(79 70 229 / 0.8) var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(79 70 229 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n\n.hover\\:via-purple-600:hover {\n  --tw-gradient-to: rgb(147 51 234 / 0)  var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), #9333ea var(--tw-gradient-via-position), var(--tw-gradient-to);\n}\n\n.hover\\:to-indigo-700\\/80:hover {\n  --tw-gradient-to: rgb(67 56 202 / 0.8) var(--tw-gradient-to-position);\n}\n\n.hover\\:to-pink-600:hover {\n  --tw-gradient-to: #db2777 var(--tw-gradient-to-position);\n}\n\n.hover\\:to-purple-700\\/80:hover {\n  --tw-gradient-to: rgb(126 34 206 / 0.8) var(--tw-gradient-to-position);\n}\n\n.hover\\:text-accent-foreground:hover {\n  color: hsl(var(--accent-foreground));\n}\n\n.hover\\:text-black:hover {\n  --tw-text-opacity: 1;\n  color: rgb(0 0 0 / var(--tw-text-opacity, 1));\n}\n\n.hover\\:text-blue-500:hover {\n  --tw-text-opacity: 1;\n  color: rgb(59 130 246 / var(--tw-text-opacity, 1));\n}\n\n.hover\\:text-blue-700:hover {\n  --tw-text-opacity: 1;\n  color: rgb(29 78 216 / var(--tw-text-opacity, 1));\n}\n\n.hover\\:text-foreground:hover {\n  color: hsl(var(--foreground));\n}\n\n.hover\\:text-gray-700:hover {\n  --tw-text-opacity: 1;\n  color: rgb(55 65 81 / var(--tw-text-opacity, 1));\n}\n\n.hover\\:text-indigo-500:hover {\n  --tw-text-opacity: 1;\n  color: rgb(99 102 241 / var(--tw-text-opacity, 1));\n}\n\n.hover\\:text-primary-foreground:hover {\n  color: hsl(var(--primary-foreground));\n}\n\n.hover\\:text-primary\\/80:hover {\n  color: hsl(var(--primary) / 0.8);\n}\n\n.hover\\:text-red-500:hover {\n  --tw-text-opacity: 1;\n  color: rgb(239 68 68 / var(--tw-text-opacity, 1));\n}\n\n.hover\\:text-red-600:hover {\n  --tw-text-opacity: 1;\n  color: rgb(220 38 38 / var(--tw-text-opacity, 1));\n}\n\n.hover\\:text-slate-900:hover {\n  --tw-text-opacity: 1;\n  color: rgb(15 23 42 / var(--tw-text-opacity, 1));\n}\n\n.hover\\:text-white:hover {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n\n.hover\\:opacity-100:hover {\n  opacity: 1;\n}\n\n.hover\\:shadow-lg:hover {\n  --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.hover\\:shadow-md:hover {\n  --tw-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.hover\\:shadow-xl:hover {\n  --tw-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.hover\\:ring-2:hover {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n\n.hover\\:ring-indigo-500\\/50:hover {\n  --tw-ring-color: rgb(99 102 241 / 0.5);\n}\n\n.focus\\:border-indigo-500:focus {\n  --tw-border-opacity: 1;\n  border-color: rgb(99 102 241 / var(--tw-border-opacity, 1));\n}\n\n.focus\\:bg-primary:focus {\n  background-color: hsl(var(--primary));\n}\n\n.focus\\:text-primary-foreground:focus {\n  color: hsl(var(--primary-foreground));\n}\n\n.focus\\:outline-none:focus {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n\n.focus\\:ring-0:focus {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n\n.focus\\:ring-1:focus {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n\n.focus\\:ring-2:focus {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n\n.focus\\:ring-blue-500:focus {\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1));\n}\n\n.focus\\:ring-primary:focus {\n  --tw-ring-color: hsl(var(--primary));\n}\n\n.focus\\:ring-ring:focus {\n  --tw-ring-color: hsl(var(--ring));\n}\n\n.focus\\:ring-offset-2:focus {\n  --tw-ring-offset-width: 2px;\n}\n\n.focus-visible\\:outline-none:focus-visible {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n\n.focus-visible\\:ring-2:focus-visible {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n\n.focus-visible\\:ring-primary:focus-visible {\n  --tw-ring-color: hsl(var(--primary));\n}\n\n.focus-visible\\:ring-ring:focus-visible {\n  --tw-ring-color: hsl(var(--ring));\n}\n\n.focus-visible\\:ring-offset-2:focus-visible {\n  --tw-ring-offset-width: 2px;\n}\n\n.focus-visible\\:ring-offset-background:focus-visible {\n  --tw-ring-offset-color: hsl(var(--background));\n}\n\n.active\\:scale-95:active {\n  --tw-scale-x: .95;\n  --tw-scale-y: .95;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.disabled\\:pointer-events-none:disabled {\n  pointer-events: none;\n}\n\n.disabled\\:cursor-not-allowed:disabled {\n  cursor: not-allowed;\n}\n\n.disabled\\:opacity-50:disabled {\n  opacity: 0.5;\n}\n\n.group:hover .group-hover\\:text-white {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n\n.group:hover .group-hover\\:opacity-10 {\n  opacity: 0.1;\n}\n\n.group:hover .group-hover\\:opacity-20 {\n  opacity: 0.2;\n}\n\n.peer:disabled ~ .peer-disabled\\:cursor-not-allowed {\n  cursor: not-allowed;\n}\n\n.peer:disabled ~ .peer-disabled\\:opacity-70 {\n  opacity: 0.7;\n}\n\n.aria-selected\\:bg-accent[aria-selected="true"] {\n  background-color: hsl(var(--accent));\n}\n\n.aria-selected\\:bg-accent\\/50[aria-selected="true"] {\n  background-color: hsl(var(--accent) / 0.5);\n}\n\n.aria-selected\\:text-accent-foreground[aria-selected="true"] {\n  color: hsl(var(--accent-foreground));\n}\n\n.aria-selected\\:text-muted-foreground[aria-selected="true"] {\n  color: hsl(var(--muted-foreground));\n}\n\n.aria-selected\\:opacity-100[aria-selected="true"] {\n  opacity: 1;\n}\n\n.aria-selected\\:opacity-30[aria-selected="true"] {\n  opacity: 0.3;\n}\n\n.data-\\[state\\=checked\\]\\:translate-x-5[data-state="checked"] {\n  --tw-translate-x: 1.25rem;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.data-\\[state\\=unchecked\\]\\:translate-x-0[data-state="unchecked"] {\n  --tw-translate-x: 0px;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.data-\\[state\\=active\\]\\:bg-background[data-state="active"] {\n  background-color: hsl(var(--background));\n}\n\n.data-\\[state\\=checked\\]\\:bg-primary[data-state="checked"] {\n  background-color: hsl(var(--primary));\n}\n\n.data-\\[state\\=unchecked\\]\\:bg-muted[data-state="unchecked"] {\n  background-color: hsl(var(--muted));\n}\n\n.data-\\[state\\=active\\]\\:text-foreground[data-state="active"] {\n  color: hsl(var(--foreground));\n}\n\n.data-\\[state\\=active\\]\\:shadow-sm[data-state="active"] {\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n\n.data-\\[state\\=open\\]\\:animate-in[data-state="open"] {\n  animation-name: enter;\n  animation-duration: 150ms;\n  --tw-enter-opacity: initial;\n  --tw-enter-scale: initial;\n  --tw-enter-rotate: initial;\n  --tw-enter-translate-x: initial;\n  --tw-enter-translate-y: initial;\n}\n\n.data-\\[state\\=closed\\]\\:animate-out[data-state="closed"] {\n  animation-name: exit;\n  animation-duration: 150ms;\n  --tw-exit-opacity: initial;\n  --tw-exit-scale: initial;\n  --tw-exit-rotate: initial;\n  --tw-exit-translate-x: initial;\n  --tw-exit-translate-y: initial;\n}\n\n.data-\\[state\\=closed\\]\\:fade-out-0[data-state="closed"] {\n  --tw-exit-opacity: 0;\n}\n\n.data-\\[state\\=open\\]\\:fade-in-0[data-state="open"] {\n  --tw-enter-opacity: 0;\n}\n\n.data-\\[state\\=closed\\]\\:zoom-out-95[data-state="closed"] {\n  --tw-exit-scale: .95;\n}\n\n.data-\\[state\\=open\\]\\:zoom-in-95[data-state="open"] {\n  --tw-enter-scale: .95;\n}\n\n.data-\\[side\\=bottom\\]\\:slide-in-from-top-2[data-side="bottom"] {\n  --tw-enter-translate-y: -0.5rem;\n}\n\n.data-\\[side\\=left\\]\\:slide-in-from-right-2[data-side="left"] {\n  --tw-enter-translate-x: 0.5rem;\n}\n\n.data-\\[side\\=right\\]\\:slide-in-from-left-2[data-side="right"] {\n  --tw-enter-translate-x: -0.5rem;\n}\n\n.data-\\[side\\=top\\]\\:slide-in-from-bottom-2[data-side="top"] {\n  --tw-enter-translate-y: 0.5rem;\n}\n\n.dark\\:divide-slate-700\\/30:is(.dark *) > :not([hidden]) ~ :not([hidden]) {\n  border-color: rgb(51 65 85 / 0.3);\n}\n\n.dark\\:border-blue-900\\/40:is(.dark *) {\n  border-color: rgb(30 58 138 / 0.4);\n}\n\n.dark\\:border-destructive:is(.dark *) {\n  border-color: hsl(var(--destructive));\n}\n\n.dark\\:border-green-800:is(.dark *) {\n  --tw-border-opacity: 1;\n  border-color: rgb(22 101 52 / var(--tw-border-opacity, 1));\n}\n\n.dark\\:border-red-700:is(.dark *) {\n  --tw-border-opacity: 1;\n  border-color: rgb(185 28 28 / var(--tw-border-opacity, 1));\n}\n\n.dark\\:border-red-800:is(.dark *) {\n  --tw-border-opacity: 1;\n  border-color: rgb(153 27 27 / var(--tw-border-opacity, 1));\n}\n\n.dark\\:border-red-800\\/30:is(.dark *) {\n  border-color: rgb(153 27 27 / 0.3);\n}\n\n.dark\\:border-red-800\\/50:is(.dark *) {\n  border-color: rgb(153 27 27 / 0.5);\n}\n\n.dark\\:border-slate-700:is(.dark *) {\n  --tw-border-opacity: 1;\n  border-color: rgb(51 65 85 / var(--tw-border-opacity, 1));\n}\n\n.dark\\:border-slate-700\\/30:is(.dark *) {\n  border-color: rgb(51 65 85 / 0.3);\n}\n\n.dark\\:border-slate-700\\/50:is(.dark *) {\n  border-color: rgb(51 65 85 / 0.5);\n}\n\n.dark\\:border-slate-800:is(.dark *) {\n  --tw-border-opacity: 1;\n  border-color: rgb(30 41 59 / var(--tw-border-opacity, 1));\n}\n\n.dark\\:bg-\\[\\#121827\\]:is(.dark *) {\n  --tw-bg-opacity: 1;\n  background-color: rgb(18 24 39 / var(--tw-bg-opacity, 1));\n}\n\n.dark\\:bg-\\[\\#1a2236\\]:is(.dark *) {\n  --tw-bg-opacity: 1;\n  background-color: rgb(26 34 54 / var(--tw-bg-opacity, 1));\n}\n\n.dark\\:bg-blue-600:is(.dark *) {\n  --tw-bg-opacity: 1;\n  background-color: rgb(37 99 235 / var(--tw-bg-opacity, 1));\n}\n\n.dark\\:bg-blue-900\\/20:is(.dark *) {\n  background-color: rgb(30 58 138 / 0.2);\n}\n\n.dark\\:bg-blue-900\\/30:is(.dark *) {\n  background-color: rgb(30 58 138 / 0.3);\n}\n\n.dark\\:bg-blue-900\\/40:is(.dark *) {\n  background-color: rgb(30 58 138 / 0.4);\n}\n\n.dark\\:bg-green-900\\/20:is(.dark *) {\n  background-color: rgb(20 83 45 / 0.2);\n}\n\n.dark\\:bg-indigo-900\\/30:is(.dark *) {\n  background-color: rgb(49 46 129 / 0.3);\n}\n\n.dark\\:bg-indigo-900\\/50:is(.dark *) {\n  background-color: rgb(49 46 129 / 0.5);\n}\n\n.dark\\:bg-indigo-900\\/70:is(.dark *) {\n  background-color: rgb(49 46 129 / 0.7);\n}\n\n.dark\\:bg-red-900\\/20:is(.dark *) {\n  background-color: rgb(127 29 29 / 0.2);\n}\n\n.dark\\:bg-red-900\\/30:is(.dark *) {\n  background-color: rgb(127 29 29 / 0.3);\n}\n\n.dark\\:bg-slate-700:is(.dark *) {\n  --tw-bg-opacity: 1;\n  background-color: rgb(51 65 85 / var(--tw-bg-opacity, 1));\n}\n\n.dark\\:bg-slate-700\\/50:is(.dark *) {\n  background-color: rgb(51 65 85 / 0.5);\n}\n\n.dark\\:bg-slate-800:is(.dark *) {\n  --tw-bg-opacity: 1;\n  background-color: rgb(30 41 59 / var(--tw-bg-opacity, 1));\n}\n\n.dark\\:bg-slate-900:is(.dark *) {\n  --tw-bg-opacity: 1;\n  background-color: rgb(15 23 42 / var(--tw-bg-opacity, 1));\n}\n\n.dark\\:bg-opacity-20:is(.dark *) {\n  --tw-bg-opacity: 0.2;\n}\n\n.dark\\:from-blue-400:is(.dark *) {\n  --tw-gradient-from: #60a5fa var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(96 165 250 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n\n.dark\\:from-gray-900:is(.dark *) {\n  --tw-gradient-from: #111827 var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(17 24 39 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n\n.dark\\:from-indigo-400:is(.dark *) {\n  --tw-gradient-from: #818cf8 var(--tw-gradient-from-position);\n  --tw-gradient-to: rgb(129 140 248 / 0) var(--tw-gradient-to-position);\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\n}\n\n.dark\\:to-gray-800:is(.dark *) {\n  --tw-gradient-to: #1f2937 var(--tw-gradient-to-position);\n}\n\n.dark\\:to-indigo-500:is(.dark *) {\n  --tw-gradient-to: #6366f1 var(--tw-gradient-to-position);\n}\n\n.dark\\:to-purple-500:is(.dark *) {\n  --tw-gradient-to: #a855f7 var(--tw-gradient-to-position);\n}\n\n.dark\\:text-\\[\\#57e389\\]:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(87 227 137 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:text-\\[\\#8a96ff\\]:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(138 150 255 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:text-\\[\\#9d4edd\\]:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(157 78 221 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:text-\\[\\#ba68c8\\]:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(186 104 200 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:text-\\[\\#ec407a\\]:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(236 64 122 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:text-\\[\\#ff9747\\]:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(255 151 71 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:text-\\[\\#ffca28\\]:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(255 202 40 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:text-blue-300:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(147 197 253 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:text-blue-400:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(96 165 250 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:text-gray-200:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(229 231 235 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:text-gray-300:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(209 213 219 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:text-gray-400:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(156 163 175 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:text-green-400:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(74 222 128 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:text-indigo-300:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(165 180 252 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:text-indigo-400:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(129 140 248 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:text-orange-400:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(251 146 60 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:text-purple-400:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(192 132 252 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:text-red-300:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(252 165 165 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:text-red-400:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(248 113 113 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:text-slate-100:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(241 245 249 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:text-slate-200:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(226 232 240 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:text-slate-300:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(203 213 225 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:text-slate-400:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(148 163 184 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:text-white:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:text-white\\/40:is(.dark *) {\n  color: rgb(255 255 255 / 0.4);\n}\n\n.dark\\:text-white\\/60:is(.dark *) {\n  color: rgb(255 255 255 / 0.6);\n}\n\n.dark\\:text-white\\/70:is(.dark *) {\n  color: rgb(255 255 255 / 0.7);\n}\n\n.dark\\:text-white\\/80:is(.dark *) {\n  color: rgb(255 255 255 / 0.8);\n}\n\n.dark\\:text-white\\/90:is(.dark *) {\n  color: rgb(255 255 255 / 0.9);\n}\n\n.dark\\:hover\\:border-blue-700:hover:is(.dark *) {\n  --tw-border-opacity: 1;\n  border-color: rgb(29 78 216 / var(--tw-border-opacity, 1));\n}\n\n.dark\\:hover\\:bg-\\[\\#1e2941\\]:hover:is(.dark *) {\n  --tw-bg-opacity: 1;\n  background-color: rgb(30 41 65 / var(--tw-bg-opacity, 1));\n}\n\n.dark\\:hover\\:bg-blue-500:hover:is(.dark *) {\n  --tw-bg-opacity: 1;\n  background-color: rgb(59 130 246 / var(--tw-bg-opacity, 1));\n}\n\n.dark\\:hover\\:bg-blue-800\\/40:hover:is(.dark *) {\n  background-color: rgb(30 64 175 / 0.4);\n}\n\n.dark\\:hover\\:bg-blue-900\\/30:hover:is(.dark *) {\n  background-color: rgb(30 58 138 / 0.3);\n}\n\n.dark\\:hover\\:bg-gray-700:hover:is(.dark *) {\n  --tw-bg-opacity: 1;\n  background-color: rgb(55 65 81 / var(--tw-bg-opacity, 1));\n}\n\n.dark\\:hover\\:bg-green-900\\/30:hover:is(.dark *) {\n  background-color: rgb(20 83 45 / 0.3);\n}\n\n.dark\\:hover\\:bg-indigo-800\\/50:hover:is(.dark *) {\n  background-color: rgb(55 48 163 / 0.5);\n}\n\n.dark\\:hover\\:bg-indigo-900\\/30:hover:is(.dark *) {\n  background-color: rgb(49 46 129 / 0.3);\n}\n\n.dark\\:hover\\:bg-red-800\\/40:hover:is(.dark *) {\n  background-color: rgb(153 27 27 / 0.4);\n}\n\n.dark\\:hover\\:bg-red-900\\/20:hover:is(.dark *) {\n  background-color: rgb(127 29 29 / 0.2);\n}\n\n.dark\\:hover\\:bg-red-900\\/30:hover:is(.dark *) {\n  background-color: rgb(127 29 29 / 0.3);\n}\n\n.dark\\:hover\\:bg-slate-600:hover:is(.dark *) {\n  --tw-bg-opacity: 1;\n  background-color: rgb(71 85 105 / var(--tw-bg-opacity, 1));\n}\n\n.dark\\:hover\\:bg-slate-700:hover:is(.dark *) {\n  --tw-bg-opacity: 1;\n  background-color: rgb(51 65 85 / var(--tw-bg-opacity, 1));\n}\n\n.dark\\:hover\\:bg-slate-700\\/40:hover:is(.dark *) {\n  background-color: rgb(51 65 85 / 0.4);\n}\n\n.dark\\:hover\\:bg-slate-700\\/80:hover:is(.dark *) {\n  background-color: rgb(51 65 85 / 0.8);\n}\n\n.dark\\:hover\\:bg-slate-800:hover:is(.dark *) {\n  --tw-bg-opacity: 1;\n  background-color: rgb(30 41 59 / var(--tw-bg-opacity, 1));\n}\n\n.dark\\:hover\\:text-blue-300:hover:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(147 197 253 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:hover\\:text-indigo-300:hover:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(165 180 252 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:hover\\:text-red-300:hover:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(252 165 165 / var(--tw-text-opacity, 1));\n}\n\n.dark\\:hover\\:text-white:hover:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n\n.group:hover .dark\\:group-hover\\:text-white:is(.dark *) {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n\n@media (min-width: 640px) {\n\n  .sm\\:grid-cols-3 {\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n  }\n\n  .sm\\:flex-row {\n    flex-direction: row;\n  }\n\n  .sm\\:space-x-4 > :not([hidden]) ~ :not([hidden]) {\n    --tw-space-x-reverse: 0;\n    margin-right: calc(1rem * var(--tw-space-x-reverse));\n    margin-left: calc(1rem * calc(1 - var(--tw-space-x-reverse)));\n  }\n\n  .sm\\:space-y-0 > :not([hidden]) ~ :not([hidden]) {\n    --tw-space-y-reverse: 0;\n    margin-top: calc(0px * calc(1 - var(--tw-space-y-reverse)));\n    margin-bottom: calc(0px * var(--tw-space-y-reverse));\n  }\n\n  .sm\\:p-4 {\n    padding: 1rem;\n  }\n\n  .sm\\:p-6 {\n    padding: 1.5rem;\n  }\n\n  .sm\\:text-3xl {\n    font-size: 1.875rem;\n    line-height: 2.25rem;\n  }\n\n  .sm\\:text-sm {\n    font-size: 0.875rem;\n    line-height: 1.25rem;\n  }\n}\n\n@media (min-width: 768px) {\n\n  .md\\:grid-cols-2 {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n\n  .md\\:p-8 {\n    padding: 2rem;\n  }\n\n  .md\\:text-3xl {\n    font-size: 1.875rem;\n    line-height: 2.25rem;\n  }\n\n  .md\\:text-4xl {\n    font-size: 2.25rem;\n    line-height: 2.5rem;\n  }\n}\n\n.\\[\\&\\:has\\(\\[aria-selected\\]\\)\\]\\:bg-accent:has([aria-selected]) {\n  background-color: hsl(var(--accent));\n}\n\n.first\\:\\[\\&\\:has\\(\\[aria-selected\\]\\)\\]\\:rounded-l-md:has([aria-selected]):first-child {\n  border-top-left-radius: calc(var(--radius) - 2px);\n  border-bottom-left-radius: calc(var(--radius) - 2px);\n}\n\n.last\\:\\[\\&\\:has\\(\\[aria-selected\\]\\)\\]\\:rounded-r-md:has([aria-selected]):last-child {\n  border-top-right-radius: calc(var(--radius) - 2px);\n  border-bottom-right-radius: calc(var(--radius) - 2px);\n}\n\n.\\[\\&\\:has\\(\\[aria-selected\\]\\.day-outside\\)\\]\\:bg-accent\\/50:has([aria-selected].day-outside) {\n  background-color: hsl(var(--accent) / 0.5);\n}\n\n.\\[\\&\\:has\\(\\[aria-selected\\]\\.day-range-end\\)\\]\\:rounded-r-md:has([aria-selected].day-range-end) {\n  border-top-right-radius: calc(var(--radius) - 2px);\n  border-bottom-right-radius: calc(var(--radius) - 2px);\n}\n\n.\\[\\&\\>svg\\+div\\]\\:translate-y-\\[-3px\\]>svg+div {\n  --tw-translate-y: -3px;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.\\[\\&\\>svg\\]\\:absolute>svg {\n  position: absolute;\n}\n\n.\\[\\&\\>svg\\]\\:left-4>svg {\n  left: 1rem;\n}\n\n.\\[\\&\\>svg\\]\\:top-4>svg {\n  top: 1rem;\n}\n\n.\\[\\&\\>svg\\]\\:text-destructive>svg {\n  color: hsl(var(--destructive));\n}\n\n.\\[\\&\\>svg\\]\\:text-foreground>svg {\n  color: hsl(var(--foreground));\n}\n\n.\\[\\&\\>svg\\~\\*\\]\\:pl-7>svg~* {\n  padding-left: 1.75rem;\n}\n\n.\\[\\&_p\\]\\:leading-relaxed p {\n  line-height: 1.625;\n} ',""]);const s=i},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(n)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);n&&i[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),r&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=r):u[2]=r),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},601:e=>{"use strict";e.exports=function(e){return e[1]}},213:function(e,t,r){var n,o,a;o=[],void 0===(a="function"==typeof(n=function(){"use strict";function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function n(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){l(n.response,t,r)},n.onerror=function(){console.error("could not download file")},n.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function a(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof r.g&&r.g.global===r.g?r.g:void 0,s=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,r){var s=i.URL||i.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?a(l):o(l.href)?n(e,t,r):a(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){a(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,r,i){if(r=r||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,i),r);else if(o(e))n(e,r,i);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){a(s)}))}}:function(e,t,r,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return n(e,t,r);var a="application/octet-stream"===e.type,l=/constructor/i.test(i.HTMLElement)||i.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&l||s)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},u.readAsDataURL(e)}else{var d=i.URL||i.webkitURL,h=d.createObjectURL(e);o?o.location=h:location.href=h,o=null,setTimeout((function(){d.revokeObjectURL(h)}),4e4)}});i.saveAs=l.saveAs=l,e.exports=l})?n.apply(t,o):n)||(e.exports=a)},966:(e,t,r)=>{"use strict";r.d(t,{D:()=>vt,Y:()=>Je,a2:()=>ct,a6:()=>ht,ab:()=>ft,ac:()=>pt,ao:()=>V,b:()=>Et,p:()=>jr,t:()=>mt,z:()=>gt});var n=r(461),o=r(743),a=r(424),i=r(635),s=r(125);function l(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c=l,u=new o.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d=new a.Vy("@firebase/auth");function h(e,...t){d.logLevel<=a.$b.ERROR&&d.error(`Auth (${n.MF}): ${e}`,...t)}function f(e,...t){throw v(e,...t)}function p(e,...t){return v(e,...t)}function m(e,t,r){const n=Object.assign(Object.assign({},c()),{[t]:r});return new o.FA("auth","Firebase",n).create(t,{appName:e.name})}function g(e){return m(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function v(e,...t){if("string"!=typeof e){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return u.create(e,...t)}function y(e,t,...r){if(!e)throw v(t,...r)}function w(e){const t="INTERNAL ASSERTION FAILED: "+e;throw h(t),new Error(t)}function b(e,t){e||w(t)}function x(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function E(){return"http:"===k()||"https:"===k()}function k(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class S{constructor(e,t){this.shortDelay=e,this.longDelay=t,b(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,o.jZ)()||(0,o.lV)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(E()||(0,o.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function T(e,t){b(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}class _{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void w("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void w("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void w("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const A={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},C=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],N=new S(3e4,6e4);function I(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function O(e,t,r,n,a={}){return P(e,a,(async()=>{let a={},i={};n&&("GET"===t?i=n:a={body:JSON.stringify(n)});const s=(0,o.Am)(Object.assign({key:e.config.apiKey},i)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:l},a);return(0,o.c1)()||(c.referrerPolicy="no-referrer"),_.fetch()(await D(e,e.config.apiHost,r,s),c)}))}async function P(e,t,r){e._canInitEmulator=!1;const n=Object.assign(Object.assign({},A),t);try{const t=new M(e),o=await Promise.race([r(),t.promise]);t.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw F(e,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const t=o.ok?a.errorMessage:a.error.message,[r,i]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===r)throw F(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===r)throw F(e,"email-already-in-use",a);if("USER_DISABLED"===r)throw F(e,"user-disabled",a);const s=n[r]||r.toLowerCase().replace(/[_\s]+/g,"-");if(i)throw m(e,s,i);f(e,s)}}catch(t){if(t instanceof o.g)throw t;f(e,"network-request-failed",{message:String(t)})}}async function R(e,t,r,n,o={}){const a=await O(e,t,r,n,o);return"mfaPendingCredential"in a&&f(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function D(e,t,r,n){const o=`${t}${r}?${n}`,a=e,i=a.config.emulator?T(e.config,o):`${e.config.apiScheme}://${o}`;if(C.includes(r)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())){return a._getPersistence()._getFinalTarget(i).toString()}return i}function L(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(p(this.auth,"network-request-failed"))),N.get())}))}}function F(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const o=p(e,t,n);return o.customData._tokenResponse=r,o}function U(e){return void 0!==e&&void 0!==e.enterprise}class j{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return L(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function B(e,t){return O(e,"GET","/v2/recaptchaConfig",I(e,t))}async function z(e,t){return O(e,"POST","/v1/accounts:lookup",t)}function W(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function V(e,t=!1){return(0,o.Ku)(e).getIdToken(t)}function H(e){return 1e3*Number(e)}function $(e){const[t,r,n]=e.split(".");if(void 0===t||void 0===r||void 0===n)return h("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,o.u)(r);return e?JSON.parse(e):(h("Failed to decode base64 JWT payload"),null)}catch(e){return h("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}function G(e){const t=$(e);return y(t,"internal-error"),y(void 0!==t.exp,"internal-error"),y(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function K(e,t,r=!1){if(r)return t;try{return await t}catch(t){throw t instanceof o.g&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class q{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class Y{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=W(this.lastLoginAt),this.creationTime=W(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function X(e){var t;const r=e.auth,n=await e.getIdToken(),o=await K(e,z(r,{idToken:n}));y(null==o?void 0:o.users.length,r,"internal-error");const a=o.users[0];e._notifyReloadListener(a);const i=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?Q(a.providerUserInfo):[],s=(l=e.providerData,c=i,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&a.passwordHash||(null==s?void 0:s.length)),h=!!u&&d,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Y(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Q(e){return e.map((e=>{var{providerId:t}=e,r=(0,i.Tt)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}}))}class J{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){y(e.idToken,"internal-error"),y(void 0!==e.idToken,"internal-error"),y(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):G(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){y(0!==e.length,"internal-error");const t=G(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:n,expiresIn:a}=await async function(e,t){const r=await P(e,{},(async()=>{const r=(0,o.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:n,apiKey:a}=e.config,i=await D(e,n,"/v1/token",`key=${a}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",_.fetch()(i,{method:"POST",headers:s,body:r})}));return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}(e,t);this.updateTokensAndExpiration(r,n,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:n,expirationTime:o}=t,a=new J;return r&&(y("string"==typeof r,"internal-error",{appName:e}),a.refreshToken=r),n&&(y("string"==typeof n,"internal-error",{appName:e}),a.accessToken=n),o&&(y("number"==typeof o,"internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new J,this.toJSON())}_performRefresh(){return w("not implemented")}}function Z(e,t){y("string"==typeof e||void 0===e,"internal-error",{appName:t})}class ee{constructor(e){var{uid:t,auth:r,stsTokenManager:n}=e,o=(0,i.Tt)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new q(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Y(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await K(this,this.stsTokenManager.getToken(this.auth,e));return y(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const r=(0,o.Ku)(e),n=await r.getIdToken(t),a=$(n);y(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const i="object"==typeof a.firebase?a.firebase:void 0,s=null==i?void 0:i.sign_in_provider;return{claims:a,token:n,authTime:W(H(a.auth_time)),issuedAtTime:W(H(a.iat)),expirationTime:W(H(a.exp)),signInProvider:s||null,signInSecondFactor:(null==i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,o.Ku)(e);await X(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ee(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await X(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,n.xZ)(this.auth.app))return Promise.reject(g(this.auth));const e=await this.getIdToken();return await K(this,async function(e,t){return O(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,n,o,a,i,s,l,c;const u=null!==(r=t.displayName)&&void 0!==r?r:void 0,d=null!==(n=t.email)&&void 0!==n?n:void 0,h=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,f=null!==(a=t.photoURL)&&void 0!==a?a:void 0,p=null!==(i=t.tenantId)&&void 0!==i?i:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:w,emailVerified:b,isAnonymous:x,providerData:E,stsTokenManager:k}=t;y(w&&k,e,"internal-error");const S=J.fromJSON(this.name,k);y("string"==typeof w,e,"internal-error"),Z(u,e.name),Z(d,e.name),y("boolean"==typeof b,e,"internal-error"),y("boolean"==typeof x,e,"internal-error"),Z(h,e.name),Z(f,e.name),Z(p,e.name),Z(m,e.name),Z(g,e.name),Z(v,e.name);const T=new ee({uid:w,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:v});return E&&Array.isArray(E)&&(T.providerData=E.map((e=>Object.assign({},e)))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t,r=!1){const n=new J;n.updateFromServerResponse(t);const o=new ee({uid:t.localId,auth:e,stsTokenManager:n,isAnonymous:r});return await X(o),o}static async _fromGetAccountInfoResponse(e,t,r){const n=t.users[0];y(void 0!==n.localId,"internal-error");const o=void 0!==n.providerUserInfo?Q(n.providerUserInfo):[],a=!(n.email&&n.passwordHash||(null==o?void 0:o.length)),i=new J;i.updateFromIdToken(r);const s=new ee({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:a}),l={uid:n.localId,displayName:n.displayName||null,photoURL:n.photoUrl||null,email:n.email||null,emailVerified:n.emailVerified||!1,phoneNumber:n.phoneNumber||null,tenantId:n.tenantId||null,providerData:o,metadata:new Y(n.createdAt,n.lastLoginAt),isAnonymous:!(n.email&&n.passwordHash||(null==o?void 0:o.length))};return Object.assign(s,l),s}}const te=new Map;function re(e){b(e instanceof Function,"Expected a class definition");let t=te.get(e);return t?(b(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,te.set(e,t),t)}class ne{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ne.type="NONE";const oe=ne;function ae(e,t,r){return`firebase:${e}:${t}:${r}`}class ie{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:n,name:o}=this.auth;this.fullUserKey=ae(this.userKey,n.apiKey,o),this.fullPersistenceKey=ae("persistence",n.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"==typeof e){const t=await z(this.auth,{idToken:e}).catch((()=>{}));return t?ee._fromGetAccountInfoResponse(this.auth,t,e):null}return ee._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ie(re(oe),e,r);const n=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let o=n[0]||re(oe);const a=ae(r,e.config.apiKey,e.name);let i=null;for(const r of t)try{const t=await r._get(a);if(t){let n;if("string"==typeof t){const r=await z(e,{idToken:t}).catch((()=>{}));if(!r)break;n=await ee._fromGetAccountInfoResponse(e,r,t)}else n=ee._fromJSON(e,t);r!==o&&(i=n),o=r;break}}catch(e){}const s=n.filter((e=>e._shouldAllowMigration));return o._shouldAllowMigration&&s.length?(o=s[0],i&&await o._set(a,i.toJSON()),await Promise.all(t.map((async e=>{if(e!==o)try{await e._remove(a)}catch(e){}}))),new ie(o,e,r)):new ie(o,e,r)}}function se(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(de(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(le(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fe(t))return"Blackberry";if(pe(t))return"Webos";if(ce(t))return"Safari";if((t.includes("chrome/")||ue(t))&&!t.includes("edge/"))return"Chrome";if(he(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(t);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function le(e=(0,o.ZQ)()){return/firefox\//i.test(e)}function ce(e=(0,o.ZQ)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ue(e=(0,o.ZQ)()){return/crios\//i.test(e)}function de(e=(0,o.ZQ)()){return/iemobile/i.test(e)}function he(e=(0,o.ZQ)()){return/android/i.test(e)}function fe(e=(0,o.ZQ)()){return/blackberry/i.test(e)}function pe(e=(0,o.ZQ)()){return/webos/i.test(e)}function me(e=(0,o.ZQ)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ge(e=(0,o.ZQ)()){return me(e)||he(e)||pe(e)||fe(e)||/windows phone/i.test(e)||de(e)}function ve(e,t=[]){let r;switch(e){case"Browser":r=se((0,o.ZQ)());break;case"Worker":r=`${se((0,o.ZQ)())}-${e}`;break;default:r=e}const a=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${n.MF}/${a}`}class ye{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=t=>new Promise(((r,n)=>{try{r(e(t))}catch(e){n(e)}}));r.onAbort=t,this.queue.push(r);const n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}class we{constructor(e){var t,r,n,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,n,o,a,i;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(r=s.meetsMaxPasswordLength)||void 0===r||r),s.isValid&&(s.isValid=null===(n=s.containsLowercaseLetter)||void 0===n||n),s.isValid&&(s.isValid=null===(o=s.containsUppercaseLetter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(i=s.containsNonAlphanumericCharacter)||void 0===i||i),s}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,n=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),n&&(t.meetsMaxPasswordLength=e.length<=n)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let n=0;n<e.length;n++)r=e.charAt(n),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,n,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=n)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class be{constructor(e,t,r,n){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ee(this),this.idTokenSubscription=new Ee(this),this.beforeStateQueue=new ye(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=re(t)),this._initializationPromise=this.queue((async()=>{var r,n,o;if(!this._deleted&&(this.persistenceManager=await ie.create(this,e),null===(r=this._resolvePersistenceManagerAvailable)||void 0===r||r.call(this),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(o=this.currentUser)||void 0===o?void 0:o.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await z(this,{idToken:e}),r=await ee._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,n.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,n=null==o?void 0:o._redirectEventId,i=await this.tryRedirectSignIn(e);r&&r!==n||!(null==i?void 0:i.user)||(o=i.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(e){o=r,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(e)))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await X(e)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,n.xZ)(this.app))return Promise.reject(g(this));const t=e?(0,o.Ku)(e):null;return t&&y(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(0,n.xZ)(this.app)?Promise.reject(g(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,n.xZ)(this.app)?Promise.reject(g(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(re(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return O(e,"GET","/v2/passwordPolicy",I(e,t))}(this),t=new we(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new o.FA("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged((()=>{r(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return O(e,"POST","/v2/accounts:revokeToken",I(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&re(e)||this._popupRedirectResolver;y(t,this,"argument-error"),this.redirectPersistenceManager=await ie.create(this,[re(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,n){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t);let a=!1;const i=this._isInitialized?Promise.resolve():this._initializationPromise;if(y(i,this,"internal-error"),i.then((()=>{a||o(this.currentUser)})),"function"==typeof t){const o=e.addObserver(t,r,n);return()=>{a=!0,o()}}{const r=e.addObserver(t);return()=>{a=!0,r()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ve(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var e;if((0,n.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){d.logLevel<=a.$b.WARN&&d.warn(`Auth (${n.MF}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function xe(e){return(0,o.Ku)(e)}class Ee{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,o.tD)((e=>this.observer=e))}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ke={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Se(e){return ke.loadJS(e)}function Te(e){return`__${e}${Math.floor(1e6*Math.random())}`}class _e{constructor(){this.enterprise=new Ae}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ae{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ce="NO_RECAPTCHA";class Ne{constructor(e){this.type="recaptcha-enterprise",this.auth=xe(e)}async verify(e="verify",t=!1){function r(t,r,n){const o=window.grecaptcha;U(o)?o.enterprise.ready((()=>{o.enterprise.execute(t,{action:e}).then((e=>{r(e)})).catch((()=>{r(Ce)}))})):n(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new _e).execute("siteKey",{action:"verify"})}return new Promise(((e,n)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,r)=>{B(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((n=>{if(void 0!==n.recaptchaKey){const r=new j(n);return null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,t(r.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{r(e)}))}))})(this.auth).then((o=>{if(!t&&U(window.grecaptcha))r(o,e,n);else{if("undefined"==typeof window)return void n(new Error("RecaptchaVerifier is only supported in browser"));let t=ke.recaptchaEnterpriseScript;0!==t.length&&(t+=o),Se(t).then((()=>{r(o,e,n)})).catch((e=>{n(e)}))}})).catch((e=>{n(e)}))}))}}async function Ie(e,t,r,n=!1,o=!1){const a=new Ne(e);let i;if(o)i=Ce;else try{i=await a.verify(r)}catch(e){i=await a.verify(r,!0)}const s=Object.assign({},t);if("mfaSmsEnrollment"===r||"mfaSmsSignIn"===r){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return n?Object.assign(s,{captchaResp:i}):Object.assign(s,{captchaResponse:i}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Oe(e,t,r,n,o){var a,i;if("EMAIL_PASSWORD_PROVIDER"===o){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Ie(e,t,r,"getOobCode"===r);return n(e,o)}return n(e,t).catch((async o=>{if("auth/missing-recaptcha-token"===o.code){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Ie(e,t,r,"getOobCode"===r);return n(e,o)}return Promise.reject(o)}))}if("PHONE_PROVIDER"===o){if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("PHONE_PROVIDER")){const o=await Ie(e,t,r);return n(e,o).catch((async o=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===o.code||"auth/invalid-app-credential"===o.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${r} flow.`);const o=await Ie(e,t,r,!1,!0);return n(e,o)}return Promise.reject(o)}))}{const o=await Ie(e,t,r,!1,!0);return n(e,o)}}return Promise.reject(o+" provider is not supported.")}async function Pe(e){const t=xe(e),r=await B(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new j(r);if(null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()){new Ne(t).verify()}}function Re(e,t,r){const n=xe(e);y(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const a=!!(null==r?void 0:r.disableWarnings),i=De(t),{host:s,port:l}=function(e){const t=De(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(n);if(o){const e=o[1];return{host:e,port:Le(n.substr(e.length+1))}}{const[e,t]=n.split(":");return{host:e,port:Le(t)}}}(t),c={url:`${i}//${s}${null===l?"":`:${l}`}/`},u=Object.freeze({host:s,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator)return y(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),void y((0,o.bD)(c,n.config.emulator)&&(0,o.bD)(u,n.emulatorConfig),n,"emulator-config-failed");n.config.emulator=c,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,a||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function De(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Le(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Me{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return w("not implemented")}_getIdTokenResponse(e){return w("not implemented")}_linkToIdToken(e,t){return w("not implemented")}_getReauthenticationResolver(e){return w("not implemented")}}async function Fe(e,t){return O(e,"POST","/v1/accounts:signUp",t)}async function Ue(e,t){return R(e,"POST","/v1/accounts:signInWithPassword",I(e,t))}async function je(e,t){return O(e,"POST","/v1/accounts:sendOobCode",I(e,t))}async function Be(e,t){return je(e,t)}class ze extends Me{constructor(e,t,r,n=null){super("password",r),this._email=e,this._password=t,this._tenantId=n}static _fromEmailAndPassword(e,t){return new ze(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ze(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Oe(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ue,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return R(e,"POST","/v1/accounts:signInWithEmailLink",I(e,t))}(e,{email:this._email,oobCode:this._password});default:f(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Oe(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fe,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return R(e,"POST","/v1/accounts:signInWithEmailLink",I(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:f(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function We(e,t){return R(e,"POST","/v1/accounts:signInWithIdp",I(e,t))}class Ve extends Me{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ve(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):f("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:n}=t,o=(0,i.Tt)(t,["providerId","signInMethod"]);if(!r||!n)return null;const a=new Ve(r,n);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){return We(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,We(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,We(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,o.Am)(t)}return e}}async function He(e,t){return O(e,"POST","/v1/accounts:sendVerificationCode",I(e,t))}const $e={USER_NOT_FOUND:"user-not-found"};class Ge extends Me{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ge({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ge({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return R(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const r=await R(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,t));if(r.temporaryProof)throw F(e,"account-exists-with-different-credential",r);return r}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return R(e,"POST","/v1/accounts:signInWithPhoneNumber",I(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),$e)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:n}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:n}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:n,temporaryProof:o}=e;return r||t||n||o?new Ge({verificationId:t,verificationCode:r,phoneNumber:n,temporaryProof:o}):null}}class Ke{constructor(e){var t,r,n,a,i,s;const l=(0,o.I9)((0,o.hp)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(r=l.oobCode)&&void 0!==r?r:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(n=l.mode)&&void 0!==n?n:null);y(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(a=l.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(i=l.languageCode)&&void 0!==i?i:null,this.tenantId=null!==(s=l.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=(0,o.I9)((0,o.hp)(e)).link,r=t?(0,o.I9)((0,o.hp)(t)).deep_link_id:null,n=(0,o.I9)((0,o.hp)(e)).deep_link_id;return(n?(0,o.I9)((0,o.hp)(n)).link:null)||n||r||t||e}(e);try{return new Ke(t)}catch(e){return null}}}class qe{constructor(){this.providerId=qe.PROVIDER_ID}static credential(e,t){return ze._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Ke.parseLink(t);return y(r,"argument-error"),ze._fromEmailAndCode(e,r.code,r.tenantId)}}qe.PROVIDER_ID="password",qe.EMAIL_PASSWORD_SIGN_IN_METHOD="password",qe.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ye{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Xe extends Ye{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qe extends Xe{constructor(){super("facebook.com")}static credential(e){return Ve._fromParams({providerId:Qe.PROVIDER_ID,signInMethod:Qe.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qe.credentialFromTaggedObject(e)}static credentialFromError(e){return Qe.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Qe.credential(e.oauthAccessToken)}catch(e){return null}}}Qe.FACEBOOK_SIGN_IN_METHOD="facebook.com",Qe.PROVIDER_ID="facebook.com";class Je extends Xe{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ve._fromParams({providerId:Je.PROVIDER_ID,signInMethod:Je.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Je.credentialFromTaggedObject(e)}static credentialFromError(e){return Je.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Je.credential(t,r)}catch(e){return null}}}Je.GOOGLE_SIGN_IN_METHOD="google.com",Je.PROVIDER_ID="google.com";class Ze extends Xe{constructor(){super("github.com")}static credential(e){return Ve._fromParams({providerId:Ze.PROVIDER_ID,signInMethod:Ze.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ze.credentialFromTaggedObject(e)}static credentialFromError(e){return Ze.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Ze.credential(e.oauthAccessToken)}catch(e){return null}}}Ze.GITHUB_SIGN_IN_METHOD="github.com",Ze.PROVIDER_ID="github.com";class et extends Xe{constructor(){super("twitter.com")}static credential(e,t){return Ve._fromParams({providerId:et.PROVIDER_ID,signInMethod:et.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return et.credentialFromTaggedObject(e)}static credentialFromError(e){return et.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return et.credential(t,r)}catch(e){return null}}}async function tt(e,t){return R(e,"POST","/v1/accounts:signUp",I(e,t))}et.TWITTER_SIGN_IN_METHOD="twitter.com",et.PROVIDER_ID="twitter.com";class rt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,n=!1){const o=await ee._fromIdTokenResponse(e,r,n),a=nt(r);return new rt({user:o,providerId:a,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const n=nt(r);return new rt({user:e,providerId:n,_tokenResponse:r,operationType:t})}}function nt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ot extends o.g{constructor(e,t,r,n){var o;super(t.code,t.message),this.operationType=r,this.user=n,Object.setPrototypeOf(this,ot.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,n){return new ot(e,t,r,n)}}function at(e,t,r,n){return("reauthenticate"===t?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch((r=>{if("auth/multi-factor-auth-required"===r.code)throw ot._fromErrorAndOperation(e,r,t,n);throw r}))}async function it(e,t,r=!1){const n=await K(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return rt._forOperation(e,"link",n)}async function st(e,t,r=!1){const{auth:o}=e;if((0,n.xZ)(o.app))return Promise.reject(g(o));const a="reauthenticate";try{const n=await K(e,at(o,a,t,e),r);y(n.idToken,o,"internal-error");const i=$(n.idToken);y(i,o,"internal-error");const{sub:s}=i;return y(e.uid===s,o,"user-mismatch"),rt._forOperation(e,a,n)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&f(o,"user-mismatch"),e}}async function lt(e,t,r=!1){if((0,n.xZ)(e.app))return Promise.reject(g(e));const o="signIn",a=await at(e,o,t),i=await rt._fromIdTokenResponse(e,o,a);return r||await e._updateCurrentUser(i.user),i}async function ct(e,t){return lt(xe(e),t)}function ut(e,t,r){var n;y((null===(n=r.url)||void 0===n?void 0:n.length)>0,e,"invalid-continue-uri"),y(void 0===r.dynamicLinkDomain||r.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),y(void 0===r.linkDomain||r.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=r.url,t.dynamicLinkDomain=r.dynamicLinkDomain,t.linkDomain=r.linkDomain,t.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(y(r.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=r.iOS.bundleId),r.android&&(y(r.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=r.android.installApp,t.androidMinimumVersionCode=r.android.minimumVersion,t.androidPackageName=r.android.packageName)}async function dt(e){const t=xe(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ht(e,t,r){const n=xe(e),o={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};r&&ut(n,o,r),await Oe(n,o,"getOobCode",Be,"EMAIL_PASSWORD_PROVIDER")}async function ft(e,t,r){if((0,n.xZ)(e.app))return Promise.reject(g(e));const o=xe(e),a=Oe(o,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tt,"EMAIL_PASSWORD_PROVIDER"),i=await a.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&dt(e),t})),s=await rt._fromIdTokenResponse(o,"signIn",i);return await o._updateCurrentUser(s.user),s}function pt(e,t,r){return(0,n.xZ)(e.app)?Promise.reject(g(e)):ct((0,o.Ku)(e),qe.credential(t,r)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&dt(e),t}))}function mt(e,t){return(0,o.Ku)(e).setPersistence(t)}function gt(e,t,r,n){return(0,o.Ku)(e).onAuthStateChanged(t,r,n)}function vt(e){return(0,o.Ku)(e).signOut()}function yt(e,t){return O(e,"POST","/v2/accounts/mfaEnrollment:start",I(e,t))}new WeakMap;const wt="__sak";class bt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(wt,"1"),this.storage.removeItem(wt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class xt extends bt{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ge(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),n=this.localCache[t];r!==n&&e(t,n,r)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,r)=>{this.notifyListeners(e,r)}));const r=e.key;t?this.detachListener():this.stopPolling();const n=()=>{const e=this.storage.getItem(r);(t||this.localCache[r]!==e)&&this.notifyListeners(r,e)},a=this.storage.getItem(r);(0,o.lT)()&&10===document.documentMode&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(n,10):n()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const e of Array.from(r))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}xt.type="LOCAL";const Et=xt;function kt(e){var t,r;const n=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),o=RegExp(`${n}=([^;]+)`);return null!==(r=null===(t=document.cookie.match(o))||void 0===t?void 0:t[1])&&void 0!==r?r:null}function St(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class Tt{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"==typeof isSecureContext&&!isSecureContext)&&("undefined"!=typeof navigator&&"undefined"!=typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=St(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null==e?void 0:e.value}return kt(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=St(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const r=St(e);if(window.cookieStore){const e=e=>{const n=e.changed.find((e=>e.name===r));n&&t(n.value);e.deleted.find((e=>e.name===r))&&t(null)},n=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,n),window.cookieStore.addEventListener("change",e)}let n=kt(r);const o=setInterval((()=>{const e=kt(r);e!==n&&(t(e),n=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(o)))}_removeListener(e,t){const r=this.listenerUnsubscribes.get(t);r&&(r(),this.listenerUnsubscribes.delete(t))}}Tt.type="COOKIE";class _t extends bt{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}_t.type="SESSION";const At=_t;class Ct{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const r=new Ct(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:n,data:o}=t.data,a=this.handlersMap[n];if(!(null==a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:n});const i=Array.from(a).map((async e=>e(t.origin,o))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(i);t.ports[0].postMessage({status:"done",eventId:r,eventType:n,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Nt(e="",t=10){let r="";for(let e=0;e<t;e++)r+=Math.floor(10*Math.random());return e+r}Ct.receivers=[];class It{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const n="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!n)throw new Error("connection_unavailable");let o,a;return new Promise(((i,s)=>{const l=Nt("",20);n.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),r);a={messageChannel:n,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),o=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(o),i(t.data.response);break;default:clearTimeout(c),clearTimeout(o),s(new Error("invalid_response"))}}},this.handlers.add(a),n.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[n.port2])})).finally((()=>{a&&this.removeMessageHandler(a)}))}}function Ot(){return window}function Pt(){return void 0!==Ot().WorkerGlobalScope&&"function"==typeof Ot().importScripts}const Rt="firebaseLocalStorageDb",Dt="firebaseLocalStorage",Lt="fbase_key";class Mt{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Ft(e,t){return e.transaction([Dt],t?"readwrite":"readonly").objectStore(Dt)}function Ut(){const e=indexedDB.open(Rt,1);return new Promise(((t,r)=>{e.addEventListener("error",(()=>{r(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Dt,{keyPath:Lt})}catch(e){r(e)}})),e.addEventListener("success",(async()=>{const r=e.result;r.objectStoreNames.contains(Dt)?t(r):(r.close(),await function(){const e=indexedDB.deleteDatabase(Rt);return new Mt(e).toPromise()}(),t(await Ut()))}))}))}async function jt(e,t,r){const n=Ft(e,!0).put({[Lt]:t,value:r});return new Mt(n).toPromise()}function Bt(e,t){const r=Ft(e,!0).delete(t);return new Mt(r).toPromise()}class zt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ut()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ct._getInstance(Pt()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new It(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&(null===(e=r[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=r[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ut();return await jt(e,wt,"1"),await Bt(e,wt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((r=>jt(r,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const r=Ft(e,!1).get(t),n=await new Mt(r).toPromise();return void 0===n?null:n.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Bt(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Ft(e,!1).getAll();return new Mt(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],r=new Set;if(0!==e.length)for(const{fbase_key:n,value:o}of e)r.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(o)&&(this.notifyListeners(n,o),t.push(n));for(const e of Object.keys(this.localCache))this.localCache[e]&&!r.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const e of Array.from(r))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}zt.type="LOCAL";const Wt=zt;function Vt(e,t){return O(e,"POST","/v2/accounts/mfaSignIn:start",I(e,t))}Te("rcb"),new S(3e4,6e4);const Ht="recaptcha";async function $t(e,t,r){var n;if(!e._getRecaptchaConfig())try{await Pe(e)}catch(e){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let o;if(o="string"==typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){y("enroll"===t.type,e,"internal-error");const n={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=Oe(e,n,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ce){y((null==r?void 0:r.type)===Ht,e,"argument-error");return yt(e,await Gt(e,t,r))}return yt(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{y("signin"===t.type,e,"internal-error");const a=(null===(n=o.multiFactorHint)||void 0===n?void 0:n.uid)||o.multiFactorUid;y(a,e,"missing-multi-factor-info");const i={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=Oe(e,i,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ce){y((null==r?void 0:r.type)===Ht,e,"argument-error");return Vt(e,await Gt(e,t,r))}return Vt(e,t)}),"PHONE_PROVIDER");return(await s.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"},n=Oe(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===Ce){y((null==r?void 0:r.type)===Ht,e,"argument-error");return He(e,await Gt(e,t,r))}return He(e,t)}),"PHONE_PROVIDER");return(await n.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null==r||r._reset()}}async function Gt(e,t,r){y(r.type===Ht,e,"argument-error");const n=await r.verify();y("string"==typeof n,e,"argument-error");const o=Object.assign({},t);if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.captchaResponse,r=o.phoneEnrollmentInfo.clientType,a=o.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:n,captchaResponse:t,clientType:r,recaptchaVersion:a}}),o}if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.captchaResponse,t=o.phoneSignInInfo.clientType,r=o.phoneSignInInfo.recaptchaVersion;return Object.assign(o,{phoneSignInInfo:{recaptchaToken:n,captchaResponse:e,clientType:t,recaptchaVersion:r}}),o}return Object.assign(o,{recaptchaToken:n}),o}class Kt{constructor(e){this.providerId=Kt.PROVIDER_ID,this.auth=xe(e)}verifyPhoneNumber(e,t){return $t(this.auth,e,(0,o.Ku)(t))}static credential(e,t){return Ge._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Kt.credentialFromTaggedObject(t)}static credentialFromError(e){return Kt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?Ge._fromTokenResponse(t,r):null}}function qt(e,t){return t?re(t):(y(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Kt.PROVIDER_ID="phone",Kt.PHONE_SIGN_IN_METHOD="phone";class Yt extends Me{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return We(e,this._buildIdpRequest())}_linkToIdToken(e,t){return We(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return We(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Xt(e){return lt(e.auth,new Yt(e),e.bypassAuthState)}function Qt(e){const{auth:t,user:r}=e;return y(r,t,"internal-error"),st(r,new Yt(e),e.bypassAuthState)}async function Jt(e){const{auth:t,user:r}=e;return y(r,t,"internal-error"),it(r,new Yt(e),e.bypassAuthState)}class Zt{constructor(e,t,r,n,o=!1){this.auth=e,this.resolver=r,this.user=n,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:n,tenantId:o,error:a,type:i}=e;if(a)return void this.reject(a);const s={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(i)(s))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xt;case"linkViaPopup":case"linkViaRedirect":return Jt;case"reauthViaPopup":case"reauthViaRedirect":return Qt;default:f(this.auth,"internal-error")}}resolve(e){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const er=new S(2e3,1e4);class tr extends Zt{constructor(e,t,r,n,o){super(e,t,n,o),this.provider=r,this.authWindow=null,this.pollId=null,tr.currentPopupAction&&tr.currentPopupAction.cancel(),tr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return y(e,this.auth,"internal-error"),e}async onExecution(){b(1===this.filter.length,"Popup operations only handle one event");const e=Nt();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(p(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;(null===(r=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===r?void 0:r.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,er.get())};e()}}tr.currentPopupAction=null;const rr=new Map;class nr extends Zt{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=rr.get(this.auth._key());if(!e){try{const t=await async function(e,t){const r=ir(t),n=ar(e);if(!await n._isAvailable())return!1;const o="true"===await n._get(r);return await n._remove(r),o}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}rr.set(this.auth._key(),e)}return this.bypassAuthState||rr.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function or(e,t){rr.set(e._key(),t)}function ar(e){return re(e._redirectPersistence)}function ir(e){return ae("pendingRedirect",e.config.apiKey,e.name)}async function sr(e,t,r=!1){if((0,n.xZ)(e.app))return Promise.reject(g(e));const o=xe(e),a=qt(o,t),i=new nr(o,a,r),s=await i.execute();return s&&!r&&(delete s.user._redirectEventId,await o._persistUserIfCurrent(s.user),await o._setRedirectUser(null,t)),s}class lr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ur(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!ur(e)){const n=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(p(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cr(e))}saveEventToCache(e){this.cachedEventUids.add(cr(e)),this.lastProcessedEventTime=Date.now()}}function cr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function ur({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const dr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hr=/^https?/;async function fr(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return O(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(pr(e))return}catch(e){}f(e,"unauthorized-domain")}function pr(e){const t=x(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return""===o.hostname&&""===n?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&o.hostname===n}if(!hr.test(r))return!1;if(dr.test(e))return n===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(n)}const mr=new S(3e4,6e4);function gr(){const e=Ot().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}function vr(e){return new Promise(((t,r)=>{var n,o,a;function i(){gr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{gr(),r(p(e,"network-request-failed"))},timeout:mr.get()})}if(null===(o=null===(n=Ot().gapi)||void 0===n?void 0:n.iframes)||void 0===o?void 0:o.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ot().gapi)||void 0===a?void 0:a.load)){const t=Te("iframefcb");return Ot()[t]=()=>{gapi.load?i():r(p(e,"network-request-failed"))},Se(`${ke.gapiScript}?onload=${t}`).catch((e=>r(e)))}i()}})).catch((e=>{throw yr=null,e}))}let yr=null;const wr=new S(5e3,15e3),br={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Er(e){const t=e.config;y(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?T(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,a={apiKey:t.apiKey,appName:e.name,v:n.MF},i=xr.get(e.config.apiHost);i&&(a.eid=i);const s=e._getFrameworks();return s.length&&(a.fw=s.join(",")),`${r}?${(0,o.Am)(a).slice(1)}`}async function kr(e){const t=await function(e){return yr=yr||vr(e),yr}(e),r=Ot().gapi;return y(r,e,"internal-error"),t.open({where:document.body,url:Er(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:br,dontclear:!0},(t=>new Promise((async(r,n)=>{await t.restyle({setHideOnLeave:!1});const o=p(e,"network-request-failed"),a=Ot().setTimeout((()=>{n(o)}),wr.get());function i(){Ot().clearTimeout(a),r(t)}t.ping(i).then(i,(()=>{n(o)}))}))))}const Sr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Tr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function _r(e,t,r,n=500,a=600){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Sr),{width:n.toString(),height:a.toString(),top:i,left:s}),u=(0,o.ZQ)().toLowerCase();r&&(l=ue(u)?"_blank":r),le(u)&&(t=t||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce(((e,[t,r])=>`${e}${t}=${r},`),"");if(function(e=(0,o.ZQ)()){var t;return me(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==l)return function(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}(t||"",l),new Tr(null);const h=window.open(t||"",l,d);y(h,e,"popup-blocked");try{h.focus()}catch(e){}return new Tr(h)}const Ar="__/auth/handler",Cr="emulator/auth/handler",Nr=encodeURIComponent("fac");async function Ir(e,t,r,a,i,s){y(e.config.authDomain,e,"auth-domain-config-required"),y(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:a,v:n.MF,eventId:i};if(t instanceof Ye){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,o.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))l[e]=t}if(t instanceof Xe){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const e of Object.keys(c))void 0===c[e]&&delete c[e];const u=await e._getAppCheckToken(),d=u?`#${Nr}=${encodeURIComponent(u)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${Ar}`;return T(e,Cr)}(e)}?${(0,o.Am)(c).slice(1)}${d}`}const Or="webStorageSupport";const Pr=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=At,this._completeRedirectFn=sr,this._overrideRedirectResult=or}async _openPopup(e,t,r,n){var o;b(null===(o=this.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");return _r(e,await Ir(e,t,r,x(),n),Nt())}async _openRedirect(e,t,r,n){await this._originValidation(e);return function(e){Ot().location.href=e}(await Ir(e,t,r,x(),n)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:r}=this.eventManagers[t];return e?Promise.resolve(e):(b(r,"If manager is not set, promise should be"),r)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch((()=>{delete this.eventManagers[t]})),r}async initAndGetManager(e){const t=await kr(e),r=new lr(e);return t.register("authEvent",(t=>{y(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Or,{type:Or},(r=>{var n;const o=null===(n=null==r?void 0:r[0])||void 0===n?void 0:n[Or];void 0!==o&&t(!!o),f(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fr(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ge()||ce()||me()}};var Rr="@firebase/auth",Dr="1.10.0";class Lr{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Mr=(0,o.XA)("authIdTokenMaxAge")||300;let Fr=null;const Ur=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Mr)return;const o=null==r?void 0:r.token;Fr!==o&&(Fr=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jr(e=(0,n.Sx)()){const t=(0,n.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const r=function(e,t){const r=(0,n.j6)(e,"auth");if(r.isInitialized()){const e=r.getImmediate(),n=r.getOptions();if((0,o.bD)(n,null!=t?t:{}))return e;f(e,"already-initialized")}return r.initialize({options:t})}(e,{popupRedirectResolver:Pr,persistence:[Wt,Et,At]}),a=(0,o.XA)("authTokenSyncURL");if(a&&"boolean"==typeof isSecureContext&&isSecureContext){const e=new URL(a,location.origin);if(location.origin===e.origin){const t=Ur(e.toString());!function(e,t,r){(0,o.Ku)(e).beforeAuthStateChanged(t,r)}(r,t,(()=>t(r.currentUser))),function(e,t,r,n){(0,o.Ku)(e).onIdTokenChanged(t,r,n)}(r,(e=>t(e)))}}const i=(0,o.Tj)("auth");return i&&Re(r,`http://${i}`),r}var Br;ke={loadJS:e=>new Promise(((t,r)=>{const n=document.createElement("script");var o,a;n.setAttribute("src",e),n.onload=t,n.onerror=e=>{const t=p("internal-error");t.customData=e,r(t)},n.type="text/javascript",n.charset="UTF-8",(null!==(a=null===(o=document.getElementsByTagName("head"))||void 0===o?void 0:o[0])&&void 0!==a?a:document).appendChild(n)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Br="Browser",(0,n.om)(new s.uA("auth",((e,{options:t})=>{const r=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:i}=r.options;y(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const s={apiKey:a,authDomain:i,clientPlatform:Br,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ve(Br)},l=new be(r,n,o,s);return function(e,t){const r=(null==t?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(re);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,null==t?void 0:t.popupRedirectResolver)}(l,t),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,r)=>{e.getProvider("auth-internal").initialize()}))),(0,n.om)(new s.uA("auth-internal",(e=>(e=>new Lr(e))(xe(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,n.KO)(Rr,Dr,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Br)),(0,n.KO)(Rr,Dr,"esm2017")},27:(e,t,r)=>{"use strict";r.d(t,{CI:()=>n.D,F0:()=>n.b,HF:()=>n.Y,J1:()=>n.a6,eJ:()=>n.ab,eN:()=>n.a2,hg:()=>n.z,oM:()=>n.t,p9:()=>n.ao,x9:()=>n.ac,xI:()=>n.p});var n=r(966);r(461),r(743),r(424),r(125)},551:(e,t,r)=>{"use strict";var n=r(540),o=r(982);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,r,n,o,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,r,n){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null==t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,o,n)&&(r=null),n||null===o?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=null===r?3!==o.type&&"":r:(t=o.attributeName,n=o.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(o=o.type)||4===o&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function B(e,t){if(!e||j)return"";j=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var n=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){n=e}e.call(t.prototype)}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),a=n.stack.split("\n"),i=o.length-1,s=a.length-1;1<=i&&0<=s&&o[i]!==a[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==a[s]){if(1!==i||1!==s)do{if(i--,0>--s||o[i]!==a[s]){var l="\n"+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case E:return"Portal";case T:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case I:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return W(e(t))}catch(e){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var o=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var r=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function X(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=H(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){Q(e,t);var r=H(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&q(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+H(r),t=null,o=0;o<e.length;o++){if(e[o].value===r)return e[o].selected=!0,void(n&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(a(92));if(te(r)){if(1<r.length)throw Error(a(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:H(r)}}function ae(e,t){var r=H(t.value),n=H(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),o=me(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,ke=null,Se=null;function Te(e){if(e=bo(e)){if("function"!=typeof Ee)throw Error(a(280));var t=e.stateNode;t&&(t=Eo(t),Ee(e.stateNode,e.type,t))}}function _e(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Ae(){if(ke){var e=ke,t=Se;if(Se=ke=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ie=!1;function Oe(e,t,r){if(Ie)return e(t,r);Ie=!0;try{return Ce(e,t,r)}finally{Ie=!1,(null!==ke||null!==Se)&&(Ne(),Ae())}}function Pe(e,t){var r=e.stateNode;if(null===r)return null;var n=Eo(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(a(231,t,typeof r));return r}var Re=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Re=!1}function Le(e,t,r,n,o,a,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(e){this.onError(e)}}var Me=!1,Fe=null,Ue=!1,je=null,Be={onError:function(e){Me=!0,Fe=e}};function ze(e,t,r,n,o,a,i,s,l){Me=!1,Fe=null,Le.apply(Be,arguments)}function We(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(We(e)!==e)throw Error(a(188))}function $e(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(n=o.return)){r=n;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===r)return He(o),e;if(i===n)return He(o),t;i=i.sibling}throw Error(a(188))}if(r.return!==n.return)r=o,n=i;else{for(var s=!1,l=o.child;l;){if(l===r){s=!0,r=o,n=i;break}if(l===n){s=!0,n=o,r=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===r){s=!0,r=i,n=o;break}if(l===n){s=!0,n=i,r=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=o.unstable_scheduleCallback,qe=o.unstable_cancelCallback,Ye=o.unstable_shouldYield,Xe=o.unstable_requestPaint,Qe=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,rt=o.unstable_LowPriority,nt=o.unstable_IdlePriority,ot=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,o=e.suspendedLanes,a=e.pingedLanes,i=268435455&r;if(0!==i){var s=i&~o;0!==s?n=dt(s):0!==(a&=i)&&(n=dt(a))}else 0!==(i=r&~o)?n=dt(i):0!==a&&(n=dt(a));if(0===n)return 0;if(0!==t&&t!==n&&!(t&o)&&((o=n&-n)>=(a=t&-t)||16===o&&4194240&a))return t;if(4&n&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)o=1<<(r=31-it(t)),n|=e[r],t&=~o;return n}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return!(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=r}function yt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-it(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var xt,Et,kt,St,Tt,_t=!1,At=[],Ct=null,Nt=null,It=null,Ot=new Map,Pt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,r,n,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[o]},null!==t&&(null!==(t=bo(t))&&Et(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Ft(e){var t=wo(e.target);if(null!==t){var r=We(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Ve(r)))return e.blockedOn=t,void Tt(e.priority,(function(){kt(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=bo(r))&&Et(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);be=n,r.target.dispatchEvent(n),be=null,t.shift()}return!0}function jt(e,t,r){Ut(e)&&r.delete(t)}function Bt(){_t=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==It&&Ut(It)&&(It=null),Ot.forEach(jt),Pt.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Bt)))}function Wt(e){function t(t){return zt(t,e)}if(0<At.length){zt(At[0],e);for(var r=1;r<At.length;r++){var n=At[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),null!==It&&zt(It,e),Ot.forEach(t),Pt.forEach(t),r=0;r<Rt.length;r++)(n=Rt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Rt.length&&null===(r=Rt[0]).blockedOn;)Ft(r),null===r.blockedOn&&Rt.shift()}var Vt=b.ReactCurrentBatchConfig,Ht=!0;function $t(e,t,r,n){var o=wt,a=Vt.transition;Vt.transition=null;try{wt=1,Kt(e,t,r,n)}finally{wt=o,Vt.transition=a}}function Gt(e,t,r,n){var o=wt,a=Vt.transition;Vt.transition=null;try{wt=4,Kt(e,t,r,n)}finally{wt=o,Vt.transition=a}}function Kt(e,t,r,n){if(Ht){var o=Yt(e,t,r,n);if(null===o)Hn(e,t,n,qt,r),Lt(e,n);else if(function(e,t,r,n,o){switch(t){case"focusin":return Ct=Mt(Ct,e,t,r,n,o),!0;case"dragenter":return Nt=Mt(Nt,e,t,r,n,o),!0;case"mouseover":return It=Mt(It,e,t,r,n,o),!0;case"pointerover":var a=o.pointerId;return Ot.set(a,Mt(Ot.get(a)||null,e,t,r,n,o)),!0;case"gotpointercapture":return a=o.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,r,n,o)),!0}return!1}(o,e,t,r,n))n.stopPropagation();else if(Lt(e,n),4&t&&-1<Dt.indexOf(e)){for(;null!==o;){var a=bo(o);if(null!==a&&xt(a),null===(a=Yt(e,t,r,n))&&Hn(e,t,n,qt,r),a===o)break;o=a}null!==o&&n.stopPropagation()}else Hn(e,t,n,null,r)}}var qt=null;function Yt(e,t,r,n){if(qt=null,null!==(e=wo(e=xe(n))))if(null===(t=We(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Jt,n=r.length,o="value"in Qt?Qt.value:Qt.textContent,a=o.length;for(e=0;e<n&&r[e]===o[e];e++);var i=n-e;for(t=1;t<=i&&r[n-t]===o[a-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function or(e){function t(t,r,n,o,a){for(var i in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ar,ir,sr,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=or(lr),ur=F({},lr,{view:0,detail:0}),dr=or(ur),hr=F({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sr&&(sr&&"mousemove"===e.type?(ar=e.screenX-sr.screenX,ir=e.screenY-sr.screenY):ir=ar=0,sr=e),ar)},movementY:function(e){return"movementY"in e?e.movementY:ir}}),fr=or(hr),pr=or(F({},hr,{dataTransfer:0})),mr=or(F({},ur,{relatedTarget:0})),gr=or(F({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),vr=F({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=or(vr),wr=or(F({},lr,{data:0})),br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Er={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Er[e])&&!!t[e]}function Sr(){return kr}var Tr=F({},ur,{key:function(e){if(e.key){var t=br[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_r=or(Tr),Ar=or(F({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cr=or(F({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr})),Nr=or(F({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ir=F({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Or=or(Ir),Pr=[9,13,27,32],Rr=u&&"CompositionEvent"in window,Dr=null;u&&"documentMode"in document&&(Dr=document.documentMode);var Lr=u&&"TextEvent"in window&&!Dr,Mr=u&&(!Rr||Dr&&8<Dr&&11>=Dr),Fr=String.fromCharCode(32),Ur=!1;function jr(e,t){switch(e){case"keyup":return-1!==Pr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Br(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var zr=!1;var Wr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wr[e.type]:"textarea"===t}function Hr(e,t,r,n){_e(n),0<(t=Gn(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var $r=null,Gr=null;function Kr(e){Un(e,0)}function qr(e){if(K(xo(e)))return e}function Yr(e,t){if("change"===e)return t}var Xr=!1;if(u){var Qr;if(u){var Jr="oninput"in document;if(!Jr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Jr="function"==typeof Zr.oninput}Qr=Jr}else Qr=!1;Xr=Qr&&(!document.documentMode||9<document.documentMode)}function en(){$r&&($r.detachEvent("onpropertychange",tn),Gr=$r=null)}function tn(e){if("value"===e.propertyName&&qr(Gr)){var t=[];Hr(t,Gr,e,xe(e)),Oe(Kr,t)}}function rn(e,t,r){"focusin"===e?(en(),Gr=r,($r=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qr(Gr)}function on(e,t){if("click"===e)return qr(t)}function an(e,t){if("input"===e||"change"===e)return qr(t)}var sn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ln(e,t){if(sn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!d.call(t,o)||!sn(e[o],t[o]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function un(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function dn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hn(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(e){r=!1}if(!r)break;t=q((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=hn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dn(r.ownerDocument.documentElement,r)){if(null!==n&&fn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=r.textContent.length,a=Math.min(n.start,o);n=void 0===n.end?a:Math.min(n.end,o),!e.extend&&a>n&&(o=n,n=a,a=o),o=un(r,a);var i=un(r,n);o&&i&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mn=u&&"documentMode"in document&&11>=document.documentMode,gn=null,vn=null,yn=null,wn=!1;function bn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;wn||null==gn||gn!==q(n)||("selectionStart"in(n=gn)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&ln(yn,n)||(yn=n,0<(n=Gn(vn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gn)))}function xn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var En={animationend:xn("Animation","AnimationEnd"),animationiteration:xn("Animation","AnimationIteration"),animationstart:xn("Animation","AnimationStart"),transitionend:xn("Transition","TransitionEnd")},kn={},Sn={};function Tn(e){if(kn[e])return kn[e];if(!En[e])return e;var t,r=En[e];for(t in r)if(r.hasOwnProperty(t)&&t in Sn)return kn[e]=r[t];return e}u&&(Sn=document.createElement("div").style,"AnimationEvent"in window||(delete En.animationend.animation,delete En.animationiteration.animation,delete En.animationstart.animation),"TransitionEvent"in window||delete En.transitionend.transition);var _n=Tn("animationend"),An=Tn("animationiteration"),Cn=Tn("animationstart"),Nn=Tn("transitionend"),In=new Map,On="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(e,t){In.set(e,t),l(t,[e])}for(var Rn=0;Rn<On.length;Rn++){var Dn=On[Rn];Pn(Dn.toLowerCase(),"on"+(Dn[0].toUpperCase()+Dn.slice(1)))}Pn(_n,"onAnimationEnd"),Pn(An,"onAnimationIteration"),Pn(Cn,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(Nn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ln="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ln));function Fn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,o,i,s,l,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var u=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=u)}}(n,t,void 0,e),e.currentTarget=null}function Un(e,t){t=!!(4&t);for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&o.isPropagationStopped())break e;Fn(o,s,c),a=l}else for(i=0;i<n.length;i++){if(l=(s=n[i]).instance,c=s.currentTarget,s=s.listener,l!==a&&o.isPropagationStopped())break e;Fn(o,s,c),a=l}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jn(e,t){var r=t[go];void 0===r&&(r=t[go]=new Set);var n=e+"__bubble";r.has(n)||(Vn(t,e,2,!1),r.add(n))}function Bn(e,t,r){var n=0;t&&(n|=4),Vn(r,e,n,t)}var zn="_reactListening"+Math.random().toString(36).slice(2);function Wn(e){if(!e[zn]){e[zn]=!0,i.forEach((function(t){"selectionchange"!==t&&(Mn.has(t)||Bn(t,!1,e),Bn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zn]||(t[zn]=!0,Bn("selectionchange",!1,t))}}function Vn(e,t,r,n){switch(Xt(t)){case 1:var o=$t;break;case 4:o=Gt;break;default:o=Kt}r=o.bind(null,t,r,e),o=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),n?void 0!==o?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):void 0!==o?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function Hn(e,t,r,n,o){var a=n;if(!(1&t||2&t||null===n))e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var s=n.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===i)for(i=n.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;i=i.return}for(;null!==s;){if(null===(i=wo(s)))return;if(5===(l=i.tag)||6===l){n=a=i;continue e}s=s.parentNode}}n=n.return}Oe((function(){var n=a,o=xe(r),i=[];e:{var s=In.get(e);if(void 0!==s){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=_r;break;case"focusin":c="focus",l=mr;break;case"focusout":c="blur",l=mr;break;case"beforeblur":case"afterblur":l=mr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cr;break;case _n:case An:case Cn:l=gr;break;case Nn:l=Nr;break;case"scroll":l=dr;break;case"wheel":l=Or;break;case"copy":case"cut":case"paste":l=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ar}var u=!!(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=n;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&u.push($n(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,r,o),i.push({event:s,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===be||!(c=r.relatedTarget||r.fromElement)||!wo(c)&&!c[mo])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?wo(c):null)&&(c!==(d=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(u=fr,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Ar,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:xo(l),f=null==c?s:xo(c),(s=new u(m,p+"leave",l,r,o)).target=d,s.relatedTarget=f,m=null,wo(o)===n&&((u=new u(h,p+"enter",c,r,o)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kn(f))p++;for(f=0,m=h;m;m=Kn(m))f++;for(;0<p-f;)u=Kn(u),p--;for(;0<f-p;)h=Kn(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kn(u),h=Kn(h)}u=null}else u=null;null!==l&&qn(i,s,l,u,!1),null!==c&&null!==d&&qn(i,d,c,u,!0)}if("select"===(l=(s=n?xo(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Yr;else if(Vr(s))if(Xr)g=an;else{g=nn;var v=rn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=on);switch(g&&(g=g(e,n))?Hr(i,g,r,o):(v&&v(e,s,n),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=n?xo(n):window,e){case"focusin":(Vr(v)||"true"===v.contentEditable)&&(gn=v,vn=n,yn=null);break;case"focusout":yn=vn=gn=null;break;case"mousedown":wn=!0;break;case"contextmenu":case"mouseup":case"dragend":wn=!1,bn(i,r,o);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":bn(i,r,o)}var y;if(Rr)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zr?jr(e,r)&&(w="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(w="onCompositionStart");w&&(Mr&&"ko"!==r.locale&&(zr||"onCompositionStart"!==w?"onCompositionEnd"===w&&zr&&(y=er()):(Jt="value"in(Qt=o)?Qt.value:Qt.textContent,zr=!0)),0<(v=Gn(n,w)).length&&(w=new wr(w,e,null,r,o),i.push({event:w,listeners:v}),y?w.data=y:null!==(y=Br(r))&&(w.data=y))),(y=Lr?function(e,t){switch(e){case"compositionend":return Br(t);case"keypress":return 32!==t.which?null:(Ur=!0,Fr);case"textInput":return(e=t.data)===Fr&&Ur?null:e;default:return null}}(e,r):function(e,t){if(zr)return"compositionend"===e||!Rr&&jr(e,t)?(e=er(),Zt=Jt=Qt=null,zr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Gn(n,"onBeforeInput")).length&&(o=new wr("onBeforeInput","beforeinput",null,r,o),i.push({event:o,listeners:n}),o.data=y))}Un(i,t)}))}function $n(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Gn(e,t){for(var r=t+"Capture",n=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=Pe(e,r))&&n.unshift($n(e,a,o)),null!=(a=Pe(e,t))&&n.push($n(e,a,o))),e=e.return}return n}function Kn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qn(e,t,r,n,o){for(var a=t._reactName,i=[];null!==r&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(null!==l&&l===n)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=Pe(r,a))&&i.unshift($n(r,l,s)):o||null!=(l=Pe(r,a))&&i.push($n(r,l,s))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var Yn=/\r\n?/g,Xn=/\u0000|\uFFFD/g;function Qn(e){return("string"==typeof e?e:""+e).replace(Yn,"\n").replace(Xn,"")}function Jn(e,t,r){if(t=Qn(t),Qn(e)!==t&&r)throw Error(a(425))}function Zn(){}var eo=null,to=null;function ro(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var no="function"==typeof setTimeout?setTimeout:void 0,oo="function"==typeof clearTimeout?clearTimeout:void 0,ao="function"==typeof Promise?Promise:void 0,io="function"==typeof queueMicrotask?queueMicrotask:void 0!==ao?function(e){return ao.resolve(null).then(e).catch(so)}:no;function so(e){setTimeout((function(){throw e}))}function lo(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&8===o.nodeType)if("/$"===(r=o.data)){if(0===n)return e.removeChild(o),void Wt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=o}while(r);Wt(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),fo="__reactFiber$"+ho,po="__reactProps$"+ho,mo="__reactContainer$"+ho,go="__reactEvents$"+ho,vo="__reactListeners$"+ho,yo="__reactHandles$"+ho;function wo(e){var t=e[fo];if(t)return t;for(var r=e.parentNode;r;){if(t=r[mo]||r[fo]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=uo(e);null!==e;){if(r=e[fo])return r;e=uo(e)}return t}r=(e=r).parentNode}return null}function bo(e){return!(e=e[fo]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Eo(e){return e[po]||null}var ko=[],So=-1;function To(e){return{current:e}}function _o(e){0>So||(e.current=ko[So],ko[So]=null,So--)}function Ao(e,t){So++,ko[So]=e.current,e.current=t}var Co={},No=To(Co),Io=To(!1),Oo=Co;function Po(e,t){var r=e.type.contextTypes;if(!r)return Co;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in r)a[o]=t[o];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ro(e){return null!=(e=e.childContextTypes)}function Do(){_o(Io),_o(No)}function Lo(e,t,r){if(No.current!==Co)throw Error(a(168));Ao(No,t),Ao(Io,r)}function Mo(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var o in n=n.getChildContext())if(!(o in t))throw Error(a(108,V(e)||"Unknown",o));return F({},r,n)}function Fo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Co,Oo=No.current,Ao(No,e),Ao(Io,Io.current),!0}function Uo(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(e=Mo(e,t,Oo),n.__reactInternalMemoizedMergedChildContext=e,_o(Io),_o(No),Ao(No,e)):_o(Io),Ao(Io,r)}var jo=null,Bo=!1,zo=!1;function Wo(e){null===jo?jo=[e]:jo.push(e)}function Vo(){if(!zo&&null!==jo){zo=!0;var e=0,t=wt;try{var r=jo;for(wt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}jo=null,Bo=!1}catch(t){throw null!==jo&&(jo=jo.slice(e+1)),Ke(Ze,Vo),t}finally{wt=t,zo=!1}}return null}var Ho=[],$o=0,Go=null,Ko=0,qo=[],Yo=0,Xo=null,Qo=1,Jo="";function Zo(e,t){Ho[$o++]=Ko,Ho[$o++]=Go,Go=e,Ko=t}function ea(e,t,r){qo[Yo++]=Qo,qo[Yo++]=Jo,qo[Yo++]=Xo,Xo=e;var n=Qo;e=Jo;var o=32-it(n)-1;n&=~(1<<o),r+=1;var a=32-it(t)+o;if(30<a){var i=o-o%5;a=(n&(1<<i)-1).toString(32),n>>=i,o-=i,Qo=1<<32-it(t)+o|r<<o|n,Jo=a+e}else Qo=1<<a|r<<o|n,Jo=e}function ta(e){null!==e.return&&(Zo(e,1),ea(e,1,0))}function ra(e){for(;e===Go;)Go=Ho[--$o],Ho[$o]=null,Ko=Ho[--$o],Ho[$o]=null;for(;e===Xo;)Xo=qo[--Yo],qo[Yo]=null,Jo=qo[--Yo],qo[Yo]=null,Qo=qo[--Yo],qo[Yo]=null}var na=null,oa=null,aa=!1,ia=null;function sa(e,t){var r=Oc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function la(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,oa=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,oa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Xo?{id:Qo,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Oc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,na=e,oa=null,!0);default:return!1}}function ca(e){return!(!(1&e.mode)||128&e.flags)}function ua(e){if(aa){var t=oa;if(t){var r=t;if(!la(e,t)){if(ca(e))throw Error(a(418));t=co(r.nextSibling);var n=na;t&&la(e,t)?sa(n,r):(e.flags=-4097&e.flags|2,aa=!1,na=e)}}else{if(ca(e))throw Error(a(418));e.flags=-4097&e.flags|2,aa=!1,na=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ha(e){if(e!==na)return!1;if(!aa)return da(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ro(e.type,e.memoizedProps)),t&&(t=oa)){if(ca(e))throw fa(),Error(a(418));for(;t;)sa(e,t),t=co(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){oa=co(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}oa=null}}else oa=na?co(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=oa;e;)e=co(e.nextSibling)}function pa(){oa=na=null,aa=!1}function ma(e){null===ia?ia=[e]:ia.push(e)}var ga=b.ReactCurrentBatchConfig;function va(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var o=n,i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=o.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function ya(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wa(e){return(0,e._init)(e._payload)}function ba(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function i(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Fc(r,e.mode,n)).return=e,t):((t=o(t,r)).return=e,t)}function c(e,t,r,n){var a=r.type;return a===k?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===P&&wa(a)===t.type)?((n=o(t,r.props)).ref=va(e,t,r),n.return=e,n):((n=Dc(r.type,r.key,r.props,null,e.mode,n)).ref=va(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Uc(r,e.mode,n)).return=e,t):((t=o(t,r.children||[])).return=e,t)}function d(e,t,r,n,a){return null===t||7!==t.tag?((t=Lc(r,e.mode,n,a)).return=e,t):((t=o(t,r)).return=e,t)}function h(e,t,r){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Fc(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case x:return(r=Dc(t.type,t.key,t.props,null,e.mode,r)).ref=va(e,null,t),r.return=e,r;case E:return(t=Uc(t,e.mode,r)).return=e,t;case P:return h(e,(0,t._init)(t._payload),r)}if(te(t)||L(t))return(t=Lc(t,e.mode,r,null)).return=e,t;ya(e,t)}return null}function f(e,t,r,n){var o=null!==t?t.key:null;if("string"==typeof r&&""!==r||"number"==typeof r)return null!==o?null:l(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case x:return r.key===o?c(e,t,r,n):null;case E:return r.key===o?u(e,t,r,n):null;case P:return f(e,t,(o=r._init)(r._payload),n)}if(te(r)||L(r))return null!==o?null:d(e,t,r,n,null);ya(e,r)}return null}function p(e,t,r,n,o){if("string"==typeof n&&""!==n||"number"==typeof n)return l(t,e=e.get(r)||null,""+n,o);if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return c(t,e=e.get(null===n.key?r:n.key)||null,n,o);case E:return u(t,e=e.get(null===n.key?r:n.key)||null,n,o);case P:return p(e,t,r,(0,n._init)(n._payload),o)}if(te(n)||L(n))return d(t,e=e.get(r)||null,n,o,null);ya(t,n)}return null}function m(o,a,s,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(o,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),a=i(v,a,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return r(o,d),aa&&Zo(o,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(o,s[m],l))&&(a=i(d,a,m),null===u?c=d:u.sibling=d,u=d);return aa&&Zo(o,m),c}for(d=n(o,d);m<s.length;m++)null!==(g=p(d,o,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=i(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(o,e)})),aa&&Zo(o,m),c}function g(o,s,l,c){var u=L(l);if("function"!=typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(o,m,y.value,c);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(o,m),s=i(w,s,g),null===d?u=w:d.sibling=w,d=w,m=v}if(y.done)return r(o,m),aa&&Zo(o,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(o,y.value,c))&&(s=i(y,s,g),null===d?u=y:d.sibling=y,d=y);return aa&&Zo(o,g),u}for(m=n(o,m);!y.done;g++,y=l.next())null!==(y=p(m,o,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=i(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(o,e)})),aa&&Zo(o,g),u}return function e(n,a,i,l){if("object"==typeof i&&null!==i&&i.type===k&&null===i.key&&(i=i.props.children),"object"==typeof i&&null!==i){switch(i.$$typeof){case x:e:{for(var c=i.key,u=a;null!==u;){if(u.key===c){if((c=i.type)===k){if(7===u.tag){r(n,u.sibling),(a=o(u,i.props.children)).return=n,n=a;break e}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===P&&wa(c)===u.type){r(n,u.sibling),(a=o(u,i.props)).ref=va(n,u,i),a.return=n,n=a;break e}r(n,u);break}t(n,u),u=u.sibling}i.type===k?((a=Lc(i.props.children,n.mode,l,i.key)).return=n,n=a):((l=Dc(i.type,i.key,i.props,null,n.mode,l)).ref=va(n,a,i),l.return=n,n=l)}return s(n);case E:e:{for(u=i.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){r(n,a.sibling),(a=o(a,i.children||[])).return=n,n=a;break e}r(n,a);break}t(n,a),a=a.sibling}(a=Uc(i,n.mode,l)).return=n,n=a}return s(n);case P:return e(n,a,(u=i._init)(i._payload),l)}if(te(i))return m(n,a,i,l);if(L(i))return g(n,a,i,l);ya(n,i)}return"string"==typeof i&&""!==i||"number"==typeof i?(i=""+i,null!==a&&6===a.tag?(r(n,a.sibling),(a=o(a,i)).return=n,n=a):(r(n,a),(a=Fc(i,n.mode,l)).return=n,n=a),s(n)):r(n,a)}}var xa=ba(!0),Ea=ba(!1),ka=To(null),Sa=null,Ta=null,_a=null;function Aa(){_a=Ta=Sa=null}function Ca(e){var t=ka.current;_o(ka),e._currentValue=t}function Na(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ia(e,t){Sa=e,_a=Ta=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Oa(e){var t=e._currentValue;if(_a!==e)if(e={context:e,memoizedValue:t,next:null},null===Ta){if(null===Sa)throw Error(a(308));Ta=e,Sa.dependencies={lanes:0,firstContext:e}}else Ta=Ta.next=e;return t}var Pa=null;function Ra(e){null===Pa?Pa=[e]:Pa.push(e)}function Da(e,t,r,n){var o=t.interleaved;return null===o?(r.next=r,Ra(t)):(r.next=o.next,o.next=r),t.interleaved=r,La(e,n)}function La(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Ma=!1;function Fa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ua(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ja(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ba(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,2&Cl){var o=n.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),n.pending=t,La(e,r)}return null===(o=n.interleaved)?(t.next=t,Ra(n)):(t.next=o.next,o.next=t),n.interleaved=t,La(e,r)}function za(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}function Wa(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var o=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===a?o=a=i:a=a.next=i,r=r.next}while(null!==r);null===a?o=a=t:a=a.next=t}else o=a=t;return r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Va(e,t,r,n){var o=e.updateQueue;Ma=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=o.baseState;for(i=0,u=c=l=null,s=a;;){var h=s.lane,f=s.eventTime;if((n&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=r,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=m.payload)?p.call(f,d,h):p))break e;d=F({},d,h);break e;case 2:Ma=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,i|=h;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(h=s).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{i|=o.lane,o=o.next}while(o!==t)}else null===a&&(o.shared.lanes=0);Ml|=i,e.lanes=i,e.memoizedState=d}}function Ha(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(null!==o){if(n.callback=null,n=r,"function"!=typeof o)throw Error(a(191,o));o.call(n)}}}var $a={},Ga=To($a),Ka=To($a),qa=To($a);function Ya(e){if(e===$a)throw Error(a(174));return e}function Xa(e,t){switch(Ao(qa,t),Ao(Ka,e),Ao(Ga,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_o(Ga),Ao(Ga,t)}function Qa(){_o(Ga),_o(Ka),_o(qa)}function Ja(e){Ya(qa.current);var t=Ya(Ga.current),r=le(t,e.type);t!==r&&(Ao(Ka,e),Ao(Ga,r))}function Za(e){Ka.current===e&&(_o(Ga),_o(Ka))}var ei=To(0);function ti(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ri=[];function ni(){for(var e=0;e<ri.length;e++)ri[e]._workInProgressVersionPrimary=null;ri.length=0}var oi=b.ReactCurrentDispatcher,ai=b.ReactCurrentBatchConfig,ii=0,si=null,li=null,ci=null,ui=!1,di=!1,hi=0,fi=0;function pi(){throw Error(a(321))}function mi(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function gi(e,t,r,n,o,i){if(ii=i,si=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oi.current=null===e||null===e.memoizedState?Zi:es,e=r(n,o),di){i=0;do{if(di=!1,hi=0,25<=i)throw Error(a(301));i+=1,ci=li=null,t.updateQueue=null,oi.current=ts,e=r(n,o)}while(di)}if(oi.current=Ji,t=null!==li&&null!==li.next,ii=0,ci=li=si=null,ui=!1,t)throw Error(a(300));return e}function vi(){var e=0!==hi;return hi=0,e}function yi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ci?si.memoizedState=ci=e:ci=ci.next=e,ci}function wi(){if(null===li){var e=si.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var t=null===ci?si.memoizedState:ci.next;if(null!==t)ci=t,li=e;else{if(null===e)throw Error(a(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===ci?si.memoizedState=ci=e:ci=ci.next=e}return ci}function bi(e,t){return"function"==typeof t?t(e):t}function xi(e){var t=wi(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=li,o=n.baseQueue,i=r.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}n.baseQueue=o=i,r.pending=null}if(null!==o){i=o.next,n=n.baseState;var l=s=null,c=null,u=i;do{var d=u.lane;if((ii&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=n):c=c.next=h,si.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==i);null===c?s=n:c.next=l,sn(n,t.memoizedState)||(ws=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){o=e;do{i=o.lane,si.lanes|=i,Ml|=i,o=o.next}while(o!==e)}else null===o&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ei(e){var t=wi(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,i=t.memoizedState;if(null!==o){r.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);sn(i,t.memoizedState)||(ws=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function ki(){}function Si(e,t){var r=si,n=wi(),o=t(),i=!sn(n.memoizedState,o);if(i&&(n.memoizedState=o,ws=!0),n=n.queue,Mi(Ai.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||null!==ci&&1&ci.memoizedState.tag){if(r.flags|=2048,Oi(9,_i.bind(null,r,n,o,t),void 0,null),null===Nl)throw Error(a(349));30&ii||Ti(r,t,o)}return o}function Ti(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=si.updateQueue)?(t={lastEffect:null,stores:null},si.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function _i(e,t,r,n){t.value=r,t.getSnapshot=n,Ci(t)&&Ni(e)}function Ai(e,t,r){return r((function(){Ci(t)&&Ni(e)}))}function Ci(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sn(e,r)}catch(e){return!0}}function Ni(e){var t=La(e,1);null!==t&&rc(t,e,1,-1)}function Ii(e){var t=yi();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=qi.bind(null,si,e),[t.memoizedState,e]}function Oi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=si.updateQueue)?(t={lastEffect:null,stores:null},si.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Pi(){return wi().memoizedState}function Ri(e,t,r,n){var o=yi();si.flags|=e,o.memoizedState=Oi(1|t,r,void 0,void 0===n?null:n)}function Di(e,t,r,n){var o=wi();n=void 0===n?null:n;var a=void 0;if(null!==li){var i=li.memoizedState;if(a=i.destroy,null!==n&&mi(n,i.deps))return void(o.memoizedState=Oi(t,r,a,n))}si.flags|=e,o.memoizedState=Oi(1|t,r,a,n)}function Li(e,t){return Ri(8390656,8,e,t)}function Mi(e,t){return Di(2048,8,e,t)}function Fi(e,t){return Di(4,2,e,t)}function Ui(e,t){return Di(4,4,e,t)}function ji(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bi(e,t,r){return r=null!=r?r.concat([e]):null,Di(4,4,ji.bind(null,t,e),r)}function zi(){}function Wi(e,t){var r=wi();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&mi(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Vi(e,t){var r=wi();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&mi(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Hi(e,t,r){return 21&ii?(sn(r,t)||(r=mt(),si.lanes|=r,Ml|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=r)}function $i(e,t){var r=wt;wt=0!==r&&4>r?r:4,e(!0);var n=ai.transition;ai.transition={};try{e(!1),t()}finally{wt=r,ai.transition=n}}function Gi(){return wi().memoizedState}function Ki(e,t,r){var n=tc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Yi(e))Xi(t,r);else if(null!==(r=Da(e,t,r,n))){rc(r,e,n,ec()),Qi(r,t,n)}}function qi(e,t,r){var n=tc(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yi(e))Xi(t,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=a(i,r);if(o.hasEagerState=!0,o.eagerState=s,sn(s,i)){var l=t.interleaved;return null===l?(o.next=o,Ra(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(e){}null!==(r=Da(e,t,o,n))&&(rc(r,e,n,o=ec()),Qi(r,t,n))}}function Yi(e){var t=e.alternate;return e===si||null!==t&&t===si}function Xi(e,t){di=ui=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Qi(e,t,r){if(4194240&r){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}var Ji={readContext:Oa,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},Zi={readContext:Oa,useCallback:function(e,t){return yi().memoizedState=[e,void 0===t?null:t],e},useContext:Oa,useEffect:Li,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,Ri(4194308,4,ji.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ri(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ri(4,2,e,t)},useMemo:function(e,t){var r=yi();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=yi();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ki.bind(null,si,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},yi().memoizedState=e},useState:Ii,useDebugValue:zi,useDeferredValue:function(e){return yi().memoizedState=e},useTransition:function(){var e=Ii(!1),t=e[0];return e=$i.bind(null,e[1]),yi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=si,o=yi();if(aa){if(void 0===r)throw Error(a(407));r=r()}else{if(r=t(),null===Nl)throw Error(a(349));30&ii||Ti(n,t,r)}o.memoizedState=r;var i={value:r,getSnapshot:t};return o.queue=i,Li(Ai.bind(null,n,i,e),[e]),n.flags|=2048,Oi(9,_i.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=yi(),t=Nl.identifierPrefix;if(aa){var r=Jo;t=":"+t+"R"+(r=(Qo&~(1<<32-it(Qo)-1)).toString(32)+r),0<(r=hi++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=fi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Oa,useCallback:Wi,useContext:Oa,useEffect:Mi,useImperativeHandle:Bi,useInsertionEffect:Fi,useLayoutEffect:Ui,useMemo:Vi,useReducer:xi,useRef:Pi,useState:function(){return xi(bi)},useDebugValue:zi,useDeferredValue:function(e){return Hi(wi(),li.memoizedState,e)},useTransition:function(){return[xi(bi)[0],wi().memoizedState]},useMutableSource:ki,useSyncExternalStore:Si,useId:Gi,unstable_isNewReconciler:!1},ts={readContext:Oa,useCallback:Wi,useContext:Oa,useEffect:Mi,useImperativeHandle:Bi,useInsertionEffect:Fi,useLayoutEffect:Ui,useMemo:Vi,useReducer:Ei,useRef:Pi,useState:function(){return Ei(bi)},useDebugValue:zi,useDeferredValue:function(e){var t=wi();return null===li?t.memoizedState=e:Hi(t,li.memoizedState,e)},useTransition:function(){return[Ei(bi)[0],wi().memoizedState]},useMutableSource:ki,useSyncExternalStore:Si,useId:Gi,unstable_isNewReconciler:!1};function rs(e,t){if(e&&e.defaultProps){for(var r in t=F({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ns(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:F({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ec(),o=tc(e),a=ja(n,o);a.payload=t,null!=r&&(a.callback=r),null!==(t=Ba(e,a,o))&&(rc(t,e,o,n),za(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ec(),o=tc(e),a=ja(n,o);a.tag=1,a.payload=t,null!=r&&(a.callback=r),null!==(t=Ba(e,a,o))&&(rc(t,e,o,n),za(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),n=tc(e),o=ja(r,n);o.tag=2,null!=t&&(o.callback=t),null!==(t=Ba(e,o,n))&&(rc(t,e,n,r),za(t,e,n))}};function as(e,t,r,n,o,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(o,a))}function is(e,t,r){var n=!1,o=Co,a=t.contextType;return"object"==typeof a&&null!==a?a=Oa(a):(o=Ro(t)?Oo:No.current,a=(n=null!=(n=t.contextTypes))?Po(e,o):Co),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function ss(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function ls(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},Fa(e);var a=t.contextType;"object"==typeof a&&null!==a?o.context=Oa(a):(a=Ro(t)?Oo:No.current,o.context=Po(e,a)),o.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(ns(e,t,a,r),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&os.enqueueReplaceState(o,o.state,null),Va(e,r,o,n),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var r="",n=t;do{r+=z(n),n=n.return}while(n);var o=r}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function us(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var hs="function"==typeof WeakMap?WeakMap:Map;function fs(e,t,r){(r=ja(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hl||(Hl=!0,$l=n),ds(0,t)},r}function ps(e,t,r){(r=ja(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(r.callback=function(){ds(0,t),"function"!=typeof n&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function ms(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new hs;var o=new Set;n.set(t,o)}else void 0===(o=n.get(t))&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=Tc.bind(null,e,t,r),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,r,n,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=ja(-1,1)).tag=2,Ba(r,t,1))),r.lanes|=1),e)}var ys=b.ReactCurrentOwner,ws=!1;function bs(e,t,r,n){t.child=null===e?Ea(t,null,r,n):xa(t,e.child,r,n)}function xs(e,t,r,n,o){r=r.render;var a=t.ref;return Ia(t,o),n=gi(e,t,r,n,a,o),r=vi(),null===e||ws?(aa&&r&&ta(t),t.flags|=1,bs(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Hs(e,t,o))}function Es(e,t,r,n,o){if(null===e){var a=r.type;return"function"!=typeof a||Pc(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Dc(r.type,null,n,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ks(e,t,a,n,o))}if(a=e.child,!(e.lanes&o)){var i=a.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(i,n)&&e.ref===t.ref)return Hs(e,t,o)}return t.flags|=1,(e=Rc(a,n)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,r,n,o){if(null!==e){var a=e.memoizedProps;if(ln(a,n)&&e.ref===t.ref){if(ws=!1,t.pendingProps=n=a,!(e.lanes&o))return t.lanes=e.lanes,Hs(e,t,o);131072&e.flags&&(ws=!0)}}return _s(e,t,r,n,o)}function Ss(e,t,r){var n=t.pendingProps,o=n.children,a=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(1&t.mode){if(!(1073741824&r))return e=null!==a?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ao(Rl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==a?a.baseLanes:r,Ao(Rl,Pl),Pl|=n}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ao(Rl,Pl),Pl|=r;else null!==a?(n=a.baseLanes|r,t.memoizedState=null):n=r,Ao(Rl,Pl),Pl|=n;return bs(e,t,o,r),t.child}function Ts(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function _s(e,t,r,n,o){var a=Ro(r)?Oo:No.current;return a=Po(t,a),Ia(t,o),r=gi(e,t,r,n,a,o),n=vi(),null===e||ws?(aa&&n&&ta(t),t.flags|=1,bs(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Hs(e,t,o))}function As(e,t,r,n,o){if(Ro(r)){var a=!0;Fo(t)}else a=!1;if(Ia(t,o),null===t.stateNode)Vs(e,t),is(t,r,n),ls(t,r,n,o),n=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=r.contextType;"object"==typeof c&&null!==c?c=Oa(c):c=Po(t,c=Ro(r)?Oo:No.current);var u=r.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof i.getSnapshotBeforeUpdate;d||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==n||l!==c)&&ss(t,i,n,c),Ma=!1;var h=t.memoizedState;i.state=h,Va(t,n,i,o),l=t.memoizedState,s!==n||h!==l||Io.current||Ma?("function"==typeof u&&(ns(t,r,u,n),l=t.memoizedState),(s=Ma||as(t,r,s,n,h,l,c))?(d||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=s):("function"==typeof i.componentDidMount&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Ua(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:rs(t.type,s),i.props=c,d=t.pendingProps,h=i.context,"object"==typeof(l=r.contextType)&&null!==l?l=Oa(l):l=Po(t,l=Ro(r)?Oo:No.current);var f=r.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,i,n,l),Ma=!1,h=t.memoizedState,i.state=h,Va(t,n,i,o);var p=t.memoizedState;s!==d||h!==p||Io.current||Ma?("function"==typeof f&&(ns(t,r,f,n),p=t.memoizedState),(c=Ma||as(t,r,c,n,h,p,l)||!1)?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(n,p,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,p,l)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),i.props=n,i.state=p,i.context=l,n=c):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Cs(e,t,r,n,a,o)}function Cs(e,t,r,n,o,a){Ts(e,t);var i=!!(128&t.flags);if(!n&&!i)return o&&Uo(t,r,!1),Hs(e,t,a);n=t.stateNode,ys.current=t;var s=i&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&i?(t.child=xa(t,e.child,null,a),t.child=xa(t,null,s,a)):bs(e,t,s,a),t.memoizedState=n.state,o&&Uo(t,r,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Lo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Lo(0,t.context,!1),Xa(e,t.containerInfo)}function Is(e,t,r,n,o){return pa(),ma(o),t.flags|=256,bs(e,t,r,n),t.child}var Os,Ps,Rs,Ds,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,r){var n,o=t.pendingProps,i=ei.current,s=!1,l=!!(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&!!(2&i)),n?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Ao(ei,1&i),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},1&o||null===s?s=Mc(l,o,0,null):(s.childLanes=0,s.pendingProps=l),e=Lc(e,o,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(r),t.memoizedState=Ls,e):Us(t,l));if(null!==(i=e.memoizedState)&&null!==(n=i.dehydrated))return function(e,t,r,n,o,i,s){if(r)return 256&t.flags?(t.flags&=-257,js(e,t,s,n=us(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=n.fallback,o=t.mode,n=Mc({mode:"visible",children:n.children},o,0,null),(i=Lc(i,o,s,null)).flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,1&t.mode&&xa(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,i);if(!(1&t.mode))return js(e,t,s,null);if("$!"===o.data){if(n=o.nextSibling&&o.nextSibling.dataset)var l=n.dgst;return n=l,js(e,t,s,n=us(i=Error(a(419)),n,void 0))}if(l=!!(s&e.childLanes),ws||l){if(null!==(n=Nl)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=o&(n.suspendedLanes|s)?0:o)&&o!==i.retryLane&&(i.retryLane=o,La(e,o),rc(n,e,o,-1))}return mc(),js(e,t,s,n=us(Error(a(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,oa=co(o.nextSibling),na=t,aa=!0,ia=null,null!==e&&(qo[Yo++]=Qo,qo[Yo++]=Jo,qo[Yo++]=Xo,Qo=e.id,Jo=e.overflow,Xo=t),t=Us(t,n.children),t.flags|=4096,t)}(e,t,l,o,n,i,r);if(s){s=o.fallback,l=t.mode,n=(i=e.child).sibling;var c={mode:"hidden",children:o.children};return 1&l||t.child===i?(o=Rc(i,c)).subtreeFlags=14680064&i.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null),null!==n?s=Rc(n,s):(s=Lc(s,l,r,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?Ms(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~r,t.memoizedState=Ls,o}return e=(s=e.child).sibling,o=Rc(s,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=r),o.return=t,o.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=o,t.memoizedState=null,o}function Us(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,r,n){return null!==n&&ma(n),xa(t,e.child,null,r),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Na(e.return,t,r)}function zs(e,t,r,n,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=o)}function Ws(e,t,r){var n=t.pendingProps,o=n.revealOrder,a=n.tail;if(bs(e,t,n.children,r),2&(n=ei.current))n=1&n|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,r,t);else if(19===e.tag)Bs(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ao(ei,n),1&t.mode)switch(o){case"forwards":for(r=t.child,o=null;null!==r;)null!==(e=r.alternate)&&null===ti(e)&&(o=r),r=r.sibling;null===(r=o)?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),zs(t,!1,o,r,a);break;case"backwards":for(r=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ti(e)){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}zs(t,!0,r,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Vs(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,!(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=Rc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Rc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function $s(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;null!==o;)r|=o.lanes|o.childLanes,n|=14680064&o.subtreeFlags,n|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ks(e,t,r){var n=t.pendingProps;switch(ra(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ro(t.type)&&Do(),Gs(t),null;case 3:return n=t.stateNode,Qa(),_o(Io),_o(No),ni(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ia&&(ic(ia),ia=null))),Ps(e,t),Gs(t),null;case 5:Za(t);var o=Ya(qa.current);if(r=t.type,null!==e&&null!=t.stateNode)Rs(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=Ya(Ga.current),ha(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[fo]=t,n[po]=i,e=!!(1&t.mode),r){case"dialog":jn("cancel",n),jn("close",n);break;case"iframe":case"object":case"embed":jn("load",n);break;case"video":case"audio":for(o=0;o<Ln.length;o++)jn(Ln[o],n);break;case"source":jn("error",n);break;case"img":case"image":case"link":jn("error",n),jn("load",n);break;case"details":jn("toggle",n);break;case"input":X(n,i),jn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},jn("invalid",n);break;case"textarea":oe(n,i),jn("invalid",n)}for(var l in ye(r,i),o=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"==typeof c?n.textContent!==c&&(!0!==i.suppressHydrationWarning&&Jn(n.textContent,c,e),o=["children",c]):"number"==typeof c&&n.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Jn(n.textContent,c,e),o=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&jn("scroll",n)}switch(r){case"input":G(n),Z(n,i,!0);break;case"textarea":G(n),ie(n);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(n.onclick=Zn)}n=o,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[fo]=t,e[po]=n,Os(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(r,n),r){case"dialog":jn("cancel",e),jn("close",e),o=n;break;case"iframe":case"object":case"embed":jn("load",e),o=n;break;case"video":case"audio":for(o=0;o<Ln.length;o++)jn(Ln[o],e);o=n;break;case"source":jn("error",e),o=n;break;case"img":case"image":case"link":jn("error",e),jn("load",e),o=n;break;case"details":jn("toggle",e),o=n;break;case"input":X(e,n),o=Y(e,n),jn("invalid",e);break;case"option":default:o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=F({},n,{value:void 0}),jn("invalid",e);break;case"textarea":oe(e,n),o=ne(e,n),jn("invalid",e)}for(i in ye(r,o),c=o)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?ge(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"==typeof u?("textarea"!==r||""!==u)&&he(e,u):"number"==typeof u&&he(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=u&&"onScroll"===i&&jn("scroll",e):null!=u&&w(e,i,u,l))}switch(r){case"input":G(e),Z(e,n,!1);break;case"textarea":G(e),ie(e);break;case"option":null!=n.value&&e.setAttribute("value",""+H(n.value));break;case"select":e.multiple=!!n.multiple,null!=(i=n.value)?re(e,!!n.multiple,i,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Zn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,n);else{if("string"!=typeof n&&null===t.stateNode)throw Error(a(166));if(r=Ya(qa.current),Ya(Ga.current),ha(t)){if(n=t.stateNode,r=t.memoizedProps,n[fo]=t,(i=n.nodeValue!==r)&&null!==(e=na))switch(e.tag){case 3:Jn(n.nodeValue,r,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jn(n.nodeValue,r,!!(1&e.mode))}i&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[fo]=t,t.stateNode=n}return Gs(t),null;case 13:if(_o(ei),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==oa&&1&t.mode&&!(128&t.flags))fa(),pa(),t.flags|=98560,i=!1;else if(i=ha(t),null!==n&&null!==n.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[fo]=t}else pa(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),i=!1}else null!==ia&&(ic(ia),ia=null),i=!0;if(!i)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ei.current?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return Qa(),Ps(e,t),null===e&&Wn(t.stateNode.containerInfo),Gs(t),null;case 10:return Ca(t.type._context),Gs(t),null;case 19:if(_o(ei),null===(i=t.memoizedState))return Gs(t),null;if(n=!!(128&t.flags),null===(l=i.rendering))if(n)$s(i,!1);else{if(0!==Dl||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=ti(e))){for(t.flags|=128,$s(i,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(i=r).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ao(ei,1&ei.current|2),t.child}e=e.sibling}null!==i.tail&&Qe()>Wl&&(t.flags|=128,n=!0,$s(i,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ti(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),$s(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!aa)return Gs(t),null}else 2*Qe()-i.renderingStartTime>Wl&&1073741824!==r&&(t.flags|=128,n=!0,$s(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=i.last)?r.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qe(),t.sibling=null,r=ei.current,Ao(ei,n?1&r|2:1&r),t):(Gs(t),null);case 22:case 23:return dc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&1&t.mode?!!(1073741824&Pl)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function qs(e,t){switch(ra(t),t.tag){case 1:return Ro(t.type)&&Do(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qa(),_o(Io),_o(No),ni(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(_o(ei),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _o(ei),null;case 4:return Qa(),null;case 10:return Ca(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Os=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ps=function(){},Rs=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,Ya(Ga.current);var a,i=null;switch(r){case"input":o=Y(e,o),n=Y(e,n),i=[];break;case"select":o=F({},o,{value:void 0}),n=F({},n,{value:void 0}),i=[];break;case"textarea":o=ne(e,o),n=ne(e,n),i=[];break;default:"function"!=typeof o.onClick&&"function"==typeof n.onClick&&(e.onclick=Zn)}for(u in ye(r,n),r=null,o)if(!n.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=null!=o?o[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&jn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Ds=function(e,t,r,n){r!==n&&(t.flags|=4)};var Ys=!1,Xs=!1,Qs="function"==typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var r=e.ref;if(null!==r)if("function"==typeof r)try{r(null)}catch(r){Sc(e,t,r)}else r.current=null}function el(e,t,r){try{r()}catch(r){Sc(e,t,r)}}var tl=!1;function rl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var o=n=n.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,void 0!==a&&el(t,r,a)}o=o.next}while(o!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ol(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"==typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fo],delete t[po],delete t[go],delete t[vo],delete t[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!=(r=r._reactRootContainer)||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function cl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}var ul=null,dl=!1;function hl(e,t,r){for(r=r.child;null!==r;)fl(e,t,r),r=r.sibling}function fl(e,t,r){if(at&&"function"==typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(ot,r)}catch(e){}switch(r.tag){case 5:Xs||Zs(r,t);case 6:var n=ul,o=dl;ul=null,hl(e,t,r),dl=o,null!==(ul=n)&&(dl?(e=ul,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):ul.removeChild(r.stateNode));break;case 18:null!==ul&&(dl?(e=ul,r=r.stateNode,8===e.nodeType?lo(e.parentNode,r):1===e.nodeType&&lo(e,r),Wt(e)):lo(ul,r.stateNode));break;case 4:n=ul,o=dl,ul=r.stateNode.containerInfo,dl=!0,hl(e,t,r),ul=n,dl=o;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){o=n=n.next;do{var a=o,i=a.destroy;a=a.tag,void 0!==i&&(2&a||4&a)&&el(r,t,i),o=o.next}while(o!==n)}hl(e,t,r);break;case 1:if(!Xs&&(Zs(r,t),"function"==typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(e){Sc(r,t,e)}hl(e,t,r);break;case 21:hl(e,t,r);break;case 22:1&r.mode?(Xs=(n=Xs)||null!==r.memoizedState,hl(e,t,r),Xs=n):hl(e,t,r);break;default:hl(e,t,r)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Qs),t.forEach((function(t){var n=Cc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function ml(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var o=r[n];try{var i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(a(160));fl(i,s,o),ul=null,dl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(e){Sc(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&n){try{rl(3,e,e.return),nl(3,e)}catch(t){Sc(e,e.return,t)}try{rl(5,e,e.return)}catch(t){Sc(e,e.return,t)}}break;case 1:ml(t,e),vl(e),512&n&&null!==r&&Zs(r,r.return);break;case 5:if(ml(t,e),vl(e),512&n&&null!==r&&Zs(r,r.return),32&e.flags){var o=e.stateNode;try{he(o,"")}catch(t){Sc(e,e.return,t)}}if(4&n&&null!=(o=e.stateNode)){var i=e.memoizedProps,s=null!==r?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&Q(o,i),we(l,s);var u=we(l,i);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(o,h):"dangerouslySetInnerHTML"===d?de(o,h):"children"===d?he(o,h):w(o,d,h,u)}switch(l){case"input":J(o,i);break;case"textarea":ae(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?re(o,!!i.multiple,p,!1):f!==!!i.multiple&&(null!=i.defaultValue?re(o,!!i.multiple,i.defaultValue,!0):re(o,!!i.multiple,i.multiple?[]:"",!1))}o[po]=i}catch(t){Sc(e,e.return,t)}}break;case 6:if(ml(t,e),vl(e),4&n){if(null===e.stateNode)throw Error(a(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(t){Sc(e,e.return,t)}}break;case 3:if(ml(t,e),vl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(t){Sc(e,e.return,t)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(o=e.child).flags&&(i=null!==o.memoizedState,o.stateNode.isHidden=i,!i||null!==o.alternate&&null!==o.alternate.memoizedState||(zl=Qe())),4&n&&pl(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(Xs=(u=Xs)||d,ml(t,e),Xs=u):ml(t,e),vl(e),8192&n){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&1&e.mode)for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(p=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:Zs(f,f.return);var m=f.stateNode;if("function"==typeof m.componentWillUnmount){n=f,r=f.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){Sc(n,r,e)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Js=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{o=h.stateNode,u?"function"==typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,s=null!=(c=h.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(t){Sc(e,e.return,t)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(t){Sc(e,e.return,t)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&n&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(il(r)){var n=r;break e}r=r.return}throw Error(a(160))}switch(n.tag){case 5:var o=n.stateNode;32&n.flags&&(he(o,""),n.flags&=-33),cl(e,sl(e),o);break;case 3:case 4:var i=n.stateNode.containerInfo;ll(e,sl(e),i);break;default:throw Error(a(161))}}catch(t){Sc(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,r){Js=e,wl(e,t,r)}function wl(e,t,r){for(var n=!!(1&e.mode);null!==Js;){var o=Js,a=o.child;if(22===o.tag&&n){var i=null!==o.memoizedState||Ys;if(!i){var s=o.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=Ys;var c=Xs;if(Ys=i,(Xs=l)&&!c)for(Js=o;null!==Js;)l=(i=Js).child,22===i.tag&&null!==i.memoizedState?El(o):null!==l?(l.return=i,Js=l):El(o);for(;null!==a;)Js=a,wl(a,t,r),a=a.sibling;Js=o,Ys=s,Xs=c}bl(e)}else 8772&o.subtreeFlags&&null!==a?(a.return=o,Js=a):bl(e)}}function bl(e){for(;null!==Js;){var t=Js;if(8772&t.flags){var r=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Xs||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Xs)if(null===r)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:rs(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Ha(t,i,n);break;case 3:var s=t.updateQueue;if(null!==s){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Ha(t,s,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&ol(t)}catch(e){Sc(t,t.return,e)}}if(t===e){Js=null;break}if(null!==(r=t.sibling)){r.return=t.return,Js=r;break}Js=t.return}}function xl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Js=r;break}Js=t.return}}function El(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(e){Sc(t,r,e)}break;case 1:var n=t.stateNode;if("function"==typeof n.componentDidMount){var o=t.return;try{n.componentDidMount()}catch(e){Sc(t,o,e)}}var a=t.return;try{ol(t)}catch(e){Sc(t,a,e)}break;case 5:var i=t.return;try{ol(t)}catch(e){Sc(t,i,e)}}}catch(e){Sc(t,t.return,e)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var kl,Sl=Math.ceil,Tl=b.ReactCurrentDispatcher,_l=b.ReactCurrentOwner,Al=b.ReactCurrentBatchConfig,Cl=0,Nl=null,Il=null,Ol=0,Pl=0,Rl=To(0),Dl=0,Ll=null,Ml=0,Fl=0,Ul=0,jl=null,Bl=null,zl=0,Wl=1/0,Vl=null,Hl=!1,$l=null,Gl=null,Kl=!1,ql=null,Yl=0,Xl=0,Ql=null,Jl=-1,Zl=0;function ec(){return 6&Cl?Qe():-1!==Jl?Jl:Jl=Qe()}function tc(e){return 1&e.mode?2&Cl&&0!==Ol?Ol&-Ol:null!==ga.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Xt(e.type):1}function rc(e,t,r,n){if(50<Xl)throw Xl=0,Ql=null,Error(a(185));vt(e,r,n),2&Cl&&e===Nl||(e===Nl&&(!(2&Cl)&&(Fl|=r),4===Dl&&sc(e,Ol)),nc(e,n),1===r&&0===Cl&&!(1&t.mode)&&(Wl=Qe()+500,Bo&&Vo()))}function nc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),s=1<<i,l=o[i];-1===l?s&r&&!(s&n)||(o[i]=ft(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var n=ht(e,e===Nl?Ol:0);if(0===n)null!==r&&qe(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&qe(r),1===t)0===e.tag?function(e){Bo=!0,Wo(e)}(lc.bind(null,e)):Wo(lc.bind(null,e)),io((function(){!(6&Cl)&&Vo()})),r=null;else{switch(bt(n)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Nc(r,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function oc(e,t){if(Jl=-1,Zl=0,6&Cl)throw Error(a(327));var r=e.callbackNode;if(Ec()&&e.callbackNode!==r)return null;var n=ht(e,e===Nl?Ol:0);if(0===n)return null;if(30&n||n&e.expiredLanes||t)t=gc(e,n);else{t=n;var o=Cl;Cl|=2;var i=pc();for(Nl===e&&Ol===t||(Vl=null,Wl=Qe()+500,hc(e,t));;)try{yc();break}catch(t){fc(e,t)}Aa(),Tl.current=i,Cl=o,null!==Il?t=0:(Nl=null,Ol=0,t=Dl)}if(0!==t){if(2===t&&(0!==(o=pt(e))&&(n=o,t=ac(e,o))),1===t)throw r=Ll,hc(e,0),sc(e,n),nc(e,Qe()),r;if(6===t)sc(e,n);else{if(o=e.current.alternate,!(30&n||function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var o=r[n],a=o.getSnapshot;o=o.value;try{if(!sn(a(),o))return!1}catch(e){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=gc(e,n),2===t&&(i=pt(e),0!==i&&(n=i,t=ac(e,i))),1!==t)))throw r=Ll,hc(e,0),sc(e,n),nc(e,Qe()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,Bl,Vl);break;case 3:if(sc(e,n),(130023424&n)===n&&10<(t=zl+500-Qe())){if(0!==ht(e,0))break;if(((o=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=no(xc.bind(null,e,Bl,Vl),t);break}xc(e,Bl,Vl);break;case 4:if(sc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,o=-1;0<n;){var s=31-it(n);i=1<<s,(s=t[s])>o&&(o=s),n&=~i}if(n=o,10<(n=(120>(n=Qe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sl(n/1960))-n)){e.timeoutHandle=no(xc.bind(null,e,Bl,Vl),n);break}xc(e,Bl,Vl);break;default:throw Error(a(329))}}}return nc(e,Qe()),e.callbackNode===r?oc.bind(null,e):null}function ac(e,t){var r=jl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bl,Bl=r,null!==t&&ic(t)),e}function ic(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function sc(e,t){for(t&=~Ul,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-it(t),n=1<<r;e[r]=-1,t&=~n}}function lc(e){if(6&Cl)throw Error(a(327));Ec();var t=ht(e,0);if(!(1&t))return nc(e,Qe()),null;var r=gc(e,t);if(0!==e.tag&&2===r){var n=pt(e);0!==n&&(t=n,r=ac(e,n))}if(1===r)throw r=Ll,hc(e,0),sc(e,t),nc(e,Qe()),r;if(6===r)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bl,Vl),nc(e,Qe()),null}function cc(e,t){var r=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=r)&&(Wl=Qe()+500,Bo&&Vo())}}function uc(e){null!==ql&&0===ql.tag&&!(6&Cl)&&Ec();var t=Cl;Cl|=1;var r=Al.transition,n=wt;try{if(Al.transition=null,wt=1,e)return e()}finally{wt=n,Al.transition=r,!(6&(Cl=t))&&Vo()}}function dc(){Pl=Rl.current,_o(Rl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,oo(r)),null!==Il)for(r=Il.return;null!==r;){var n=r;switch(ra(n),n.tag){case 1:null!=(n=n.type.childContextTypes)&&Do();break;case 3:Qa(),_o(Io),_o(No),ni();break;case 5:Za(n);break;case 4:Qa();break;case 13:case 19:_o(ei);break;case 10:Ca(n.type._context);break;case 22:case 23:dc()}r=r.return}if(Nl=e,Il=e=Rc(e.current,null),Ol=Pl=t,Dl=0,Ll=null,Ul=Fl=Ml=0,Bl=jl=null,null!==Pa){for(t=0;t<Pa.length;t++)if(null!==(n=(r=Pa[t]).interleaved)){r.interleaved=null;var o=n.next,a=r.pending;if(null!==a){var i=a.next;a.next=o,n.next=i}r.pending=n}Pa=null}return e}function fc(e,t){for(;;){var r=Il;try{if(Aa(),oi.current=Ji,ui){for(var n=si.memoizedState;null!==n;){var o=n.queue;null!==o&&(o.pending=null),n=n.next}ui=!1}if(ii=0,ci=li=si=null,di=!1,hi=0,_l.current=null,null===r||null===r.return){Dl=1,Ll=t,Il=null;break}e:{var i=e,s=r.return,l=r,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,d=l,h=d.tag;if(!(1&d.mode||0!==h&&11!==h&&15!==h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,vs(p,s,l,0,t),1&p.mode&&ms(i,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(!(1&t)){ms(i,u,t),mc();break e}c=Error(a(426))}else if(aa&&1&l.mode){var v=gs(s);if(null!==v){!(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,t),ma(cs(c,l));break e}}i=c=cs(c,l),4!==Dl&&(Dl=2),null===jl?jl=[i]:jl.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Wa(i,fs(0,c,t));break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(128&i.flags||"function"!=typeof y.getDerivedStateFromError&&(null===w||"function"!=typeof w.componentDidCatch||null!==Gl&&Gl.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t,Wa(i,ps(i,l,t));break e}}i=i.return}while(null!==i)}bc(r)}catch(e){t=e,Il===r&&null!==r&&(Il=r=r.return);continue}break}}function pc(){var e=Tl.current;return Tl.current=Ji,null===e?Ji:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Nl||!(268435455&Ml)&&!(268435455&Fl)||sc(Nl,Ol)}function gc(e,t){var r=Cl;Cl|=2;var n=pc();for(Nl===e&&Ol===t||(Vl=null,hc(e,t));;)try{vc();break}catch(t){fc(e,t)}if(Aa(),Cl=r,Tl.current=n,null!==Il)throw Error(a(261));return Nl=null,Ol=0,Dl}function vc(){for(;null!==Il;)wc(Il)}function yc(){for(;null!==Il&&!Ye();)wc(Il)}function wc(e){var t=kl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?bc(e):Il=t,_l.current=null}function bc(e){var t=e;do{var r=t.alternate;if(e=t.return,32768&t.flags){if(null!==(r=qs(r,t)))return r.flags&=32767,void(Il=r);if(null===e)return Dl=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(r=Ks(r,t,Pl)))return void(Il=r);if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Dl&&(Dl=5)}function xc(e,t,r){var n=wt,o=Al.transition;try{Al.transition=null,wt=1,function(e,t,r,n){do{Ec()}while(null!==ql);if(6&Cl)throw Error(a(327));r=e.finishedWork;var o=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-it(r),a=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~a}}(e,i),e===Nl&&(Il=Nl=null,Ol=0),!(2064&r.subtreeFlags)&&!(2064&r.flags)||Kl||(Kl=!0,Nc(tt,(function(){return Ec(),null}))),i=!!(15990&r.flags),!!(15990&r.subtreeFlags)||i){i=Al.transition,Al.transition=null;var s=wt;wt=1;var l=Cl;Cl|=4,_l.current=null,function(e,t){if(eo=Ht,fn(e=hn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var o=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch(e){r=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||0!==o&&3!==h.nodeType||(l=s+o),h!==i||0!==n&&3!==h.nodeType||(c=s+n),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===o&&(l=s),f===i&&++d===n&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(to={focusedElem:e,selectionRange:r},Ht=!1,Js=t;null!==Js;)if(e=(t=Js).child,1028&t.subtreeFlags&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:rs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(e){Sc(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,r),gl(r,e),pn(to),Ht=!!eo,to=eo=null,e.current=r,yl(r,e,o),Xe(),Cl=l,wt=s,Al.transition=i}else e.current=r;if(Kl&&(Kl=!1,ql=e,Yl=o),i=e.pendingLanes,0===i&&(Gl=null),function(e){if(at&&"function"==typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(ot,e,void 0,!(128&~e.current.flags))}catch(e){}}(r.stateNode),nc(e,Qe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(Hl)throw Hl=!1,e=$l,$l=null,e;!!(1&Yl)&&0!==e.tag&&Ec(),i=e.pendingLanes,1&i?e===Ql?Xl++:(Xl=0,Ql=e):Xl=0,Vo()}(e,t,r,n)}finally{Al.transition=o,wt=n}return null}function Ec(){if(null!==ql){var e=bt(Yl),t=Al.transition,r=wt;try{if(Al.transition=null,wt=16>e?16:e,null===ql)var n=!1;else{if(e=ql,ql=null,Yl=0,6&Cl)throw Error(a(331));var o=Cl;for(Cl|=4,Js=e.current;null!==Js;){var i=Js,s=i.child;if(16&Js.flags){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:rl(8,d,i)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var f=(d=Js).sibling,p=d.return;if(al(d),d===u){Js=null;break}if(null!==f){f.return=p,Js=f;break}Js=p}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Js=i}}if(2064&i.subtreeFlags&&null!==s)s.return=i,Js=s;else e:for(;null!==Js;){if(2048&(i=Js).flags)switch(i.tag){case 0:case 11:case 15:rl(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Js=y;break e}Js=i.return}}var w=e.current;for(Js=w;null!==Js;){var b=(s=Js).child;if(2064&s.subtreeFlags&&null!==b)b.return=s,Js=b;else e:for(s=w;null!==Js;){if(2048&(l=Js).flags)try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(e){Sc(l,l.return,e)}if(l===s){Js=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Js=x;break e}Js=l.return}}if(Cl=o,Vo(),at&&"function"==typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(ot,e)}catch(e){}n=!0}return n}finally{wt=r,Al.transition=t}}return!1}function kc(e,t,r){e=Ba(e,t=fs(0,t=cs(r,t),1),1),t=ec(),null!==e&&(vt(e,1,t),nc(e,t))}function Sc(e,t,r){if(3===e.tag)kc(e,e,r);else for(;null!==t;){if(3===t.tag){kc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Gl||!Gl.has(n))){t=Ba(t,e=ps(t,e=cs(r,e),1),1),e=ec(),null!==t&&(vt(t,1,e),nc(t,e));break}}t=t.return}}function Tc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,Nl===e&&(Ol&r)===r&&(4===Dl||3===Dl&&(130023424&Ol)===Ol&&500>Qe()-zl?hc(e,0):Ul|=r),nc(e,t)}function _c(e,t){0===t&&(1&e.mode?(t=ut,!(130023424&(ut<<=1))&&(ut=4194304)):t=1);var r=ec();null!==(e=La(e,t))&&(vt(e,t,r),nc(e,r))}function Ac(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),_c(e,r)}function Cc(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;null!==o&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(a(314))}null!==n&&n.delete(t),_c(e,r)}function Nc(e,t){return Ke(e,t)}function Ic(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,r,n){return new Ic(e,t,r,n)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var r=e.alternate;return null===r?((r=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Dc(e,t,r,n,o,i){var s=2;if(n=e,"function"==typeof e)Pc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case k:return Lc(r.children,o,i,t);case S:s=8,o|=8;break;case T:return(e=Oc(12,r,t,2|o)).elementType=T,e.lanes=i,e;case N:return(e=Oc(13,r,t,o)).elementType=N,e.lanes=i,e;case I:return(e=Oc(19,r,t,o)).elementType=I,e.lanes=i,e;case R:return Mc(r,o,i,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case A:s=9;break e;case C:s=11;break e;case O:s=14;break e;case P:s=16,n=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(s,r,t,o)).elementType=e,t.type=n,t.lanes=i,t}function Lc(e,t,r,n){return(e=Oc(7,e,n,t)).lanes=r,e}function Mc(e,t,r,n){return(e=Oc(22,e,n,t)).elementType=R,e.lanes=r,e.stateNode={isHidden:!1},e}function Fc(e,t,r){return(e=Oc(6,e,null,t)).lanes=r,e}function Uc(e,t,r){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Bc(e,t,r,n,o,a,i,s,l){return e=new jc(e,t,r,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fa(a),e}function zc(e){if(!e)return Co;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ro(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var r=e.type;if(Ro(r))return Mo(e,r,t)}return t}function Wc(e,t,r,n,o,a,i,s,l){return(e=Bc(r,n,!0,e,0,a,0,s,l)).context=zc(null),r=e.current,(a=ja(n=ec(),o=tc(r))).callback=null!=t?t:null,Ba(r,a,o),e.current.lanes=o,vt(e,o,n),nc(e,n),e}function Vc(e,t,r,n){var o=t.current,a=ec(),i=tc(o);return r=zc(r),null===t.context?t.context=r:t.pendingContext=r,(t=ja(a,i)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Ba(o,t,i))&&(rc(e,o,i,a),za(e,o,i)),i}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $c(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Gc(e,t){$c(e,t),(e=e.alternate)&&$c(e,t)}kl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Io.current)ws=!0;else{if(!(e.lanes&r||128&t.flags))return ws=!1,function(e,t,r){switch(t.tag){case 3:Ns(t),pa();break;case 5:Ja(t);break;case 1:Ro(t.type)&&Fo(t);break;case 4:Xa(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;Ao(ka,n._currentValue),n._currentValue=o;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Ao(ei,1&ei.current),t.flags|=128,null):r&t.child.childLanes?Fs(e,t,r):(Ao(ei,1&ei.current),null!==(e=Hs(e,t,r))?e.sibling:null);Ao(ei,1&ei.current);break;case 19:if(n=!!(r&t.childLanes),128&e.flags){if(n)return Ws(e,t,r);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ao(ei,ei.current),n)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,r)}return Hs(e,t,r)}(e,t,r);ws=!!(131072&e.flags)}else ws=!1,aa&&1048576&t.flags&&ea(t,Ko,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vs(e,t),e=t.pendingProps;var o=Po(t,No.current);Ia(t,r),o=gi(null,t,n,e,o,r);var i=vi();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ro(n)?(i=!0,Fo(t)):i=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Fa(t),o.updater=os,t.stateNode=o,o._reactInternals=t,ls(t,n,e,r),t=Cs(null,t,n,!0,i,r)):(t.tag=0,aa&&i&&ta(t),bs(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,n=(o=n._init)(n._payload),t.type=n,o=t.tag=function(e){if("function"==typeof e)return Pc(e)?1:0;if(null!=e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(n),e=rs(n,e),o){case 0:t=_s(null,t,n,e,r);break e;case 1:t=As(null,t,n,e,r);break e;case 11:t=xs(null,t,n,e,r);break e;case 14:t=Es(null,t,n,rs(n.type,e),r);break e}throw Error(a(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,_s(e,t,n,o=t.elementType===n?o:rs(n,o),r);case 1:return n=t.type,o=t.pendingProps,As(e,t,n,o=t.elementType===n?o:rs(n,o),r);case 3:e:{if(Ns(t),null===e)throw Error(a(387));n=t.pendingProps,o=(i=t.memoizedState).element,Ua(e,t),Va(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Is(e,t,n,r,o=cs(Error(a(423)),t));break e}if(n!==o){t=Is(e,t,n,r,o=cs(Error(a(424)),t));break e}for(oa=co(t.stateNode.containerInfo.firstChild),na=t,aa=!0,ia=null,r=Ea(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(pa(),n===o){t=Hs(e,t,r);break e}bs(e,t,n,r)}t=t.child}return t;case 5:return Ja(t),null===e&&ua(t),n=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,ro(n,o)?s=null:null!==i&&ro(n,i)&&(t.flags|=32),Ts(e,t),bs(e,t,s,r),t.child;case 6:return null===e&&ua(t),null;case 13:return Fs(e,t,r);case 4:return Xa(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=xa(t,null,n,r):bs(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,xs(e,t,n,o=t.elementType===n?o:rs(n,o),r);case 7:return bs(e,t,t.pendingProps,r),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,Ao(ka,n._currentValue),n._currentValue=s,null!==i)if(sn(i.value,s)){if(i.children===o.children&&!Io.current){t=Hs(e,t,r);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){s=i.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===i.tag){(c=ja(-1,r&-r)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,null!==(c=i.alternate)&&(c.lanes|=r),Na(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),Na(s,r,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}bs(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Ia(t,r),n=n(o=Oa(o)),t.flags|=1,bs(e,t,n,r),t.child;case 14:return o=rs(n=t.type,t.pendingProps),Es(e,t,n,o=rs(n.type,o),r);case 15:return ks(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:rs(n,o),Vs(e,t),t.tag=1,Ro(n)?(e=!0,Fo(t)):e=!1,Ia(t,r),is(t,n,o),ls(t,n,o,r),Cs(null,t,n,!0,e,r);case 19:return Ws(e,t,r);case 22:return Ss(e,t,r)}throw Error(a(156,t.tag))};var Kc="function"==typeof reportError?reportError:function(e){console.error(e)};function qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,r,n,o){var a=r._reactRootContainer;if(a){var i=a;if("function"==typeof o){var s=o;o=function(){var e=Hc(i);s.call(e)}}Vc(t,i,e,o)}else i=function(e,t,r,n,o){if(o){if("function"==typeof n){var a=n;n=function(){var e=Hc(i);a.call(e)}}var i=Wc(t,n,e,0,null,!1,0,"",Jc);return e._reactRootContainer=i,e[mo]=i.current,Wn(8===e.nodeType?e.parentNode:e),uc(),i}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof n){var s=n;n=function(){var e=Hc(l);s.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[mo]=l.current,Wn(8===e.nodeType?e.parentNode:e),uc((function(){Vc(t,l,r,n)})),l}(r,t,e,o,n);return Hc(i)}Yc.prototype.render=qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Vc(e,t,null,null)},Yc.prototype.unmount=qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Vc(null,e,null,null)})),t[mo]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Rt.length&&0!==t&&t<Rt[r].priority;r++);Rt.splice(r,0,e),0===r&&Ft(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dt(t.pendingLanes);0!==r&&(yt(t,1|r),nc(t,Qe()),!(6&Cl)&&(Wl=Qe()+500,Vo()))}break;case 13:uc((function(){var t=La(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}})),Gc(e,1)}},Et=function(e){if(13===e.tag){var t=La(e,134217728);if(null!==t)rc(t,e,134217728,ec());Gc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),r=La(e,t);if(null!==r)rc(r,e,t,ec());Gc(e,t)}},St=function(){return wt},Tt=function(e,t){var r=wt;try{return wt=e,t()}finally{wt=r}},Ee=function(e,t,r){switch(t){case"input":if(J(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=Eo(n);if(!o)throw Error(a(90));K(n),J(n,o)}}}break;case"textarea":ae(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ce=cc,Ne=uc;var eu={usingClientEntryPoint:!1,Events:[bo,xo,Eo,_e,Ae,cc]},tu={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{ot=nu.inject(ru),at=nu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var r=!1,n="",o=Kc;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Bc(e,1,!1,null,0,r,0,n,o),e[mo]=t.current,Wn(8===e.nodeType?e.parentNode:e),new qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,r){if(!Qc(t))throw Error(a(200));return Zc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Xc(e))throw Error(a(405));var n=null!=r&&r.hydratedSources||null,o=!1,i="",s=Kc;if(null!=r&&(!0===r.unstable_strictMode&&(o=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError)),t=Wc(t,null,e,1,null!=r?r:null,o,0,i,s),e[mo]=t.current,Wn(e),n)for(e=0;e<n.length;e++)o=(o=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new Yc(t)},t.render=function(e,t,r){if(!Qc(t))throw Error(a(200));return Zc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(a(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Qc(r))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},338:(e,t,r)=>{"use strict";var n=r(961);t.H=n.createRoot,n.hydrateRoot},961:(e,t,r)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=r(551)},20:(e,t,r)=>{"use strict";var n=r(540),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,a={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,n)&&!l.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:o,type:e,key:c,ref:u,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},287:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}function y(){}function w(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var x=Array.isArray,E=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var o,a={},i=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)E.call(t,o)&&!S.hasOwnProperty(o)&&(a[o]=t[o]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===a[o]&&(a[o]=l[o]);return{$$typeof:r,type:e,key:i,ref:s,props:a,_owner:k.current}}function _(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var A=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,o,a,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return i=i(l=e),e=""===a?"."+C(l,0):a,x(i)?(o="",null!=e&&(o=e.replace(A,"$&/")+"/"),N(i,t,o,"",(function(e){return e}))):null!=i&&(_(i)&&(i=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,o+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(A,"$&/")+"/")+e)),t.push(i)),1;if(l=0,a=""===a?".":a+":",x(e))for(var c=0;c<e.length;c++){var u=a+C(s=e[c],c);l+=N(s,t,o,u,i)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=N(s=s.value,t,o,u=a+C(s,c++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,r){if(null==e)return e;var n=[],o=0;return N(e,n,"","",(function(e){return t.call(r,e,o++)})),n}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,r){I(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=i,t.PureComponent=w,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=L,t.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),a=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:r,type:e.type,key:a,ref:i,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,r){return P.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,r){return P.current.useReducer(e,t,r)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return P.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},540:(e,t,r)=>{"use strict";e.exports=r(287)},848:(e,t,r)=>{"use strict";e.exports=r(20)},463:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,o=e[n];if(!(0<a(o,t)))break e;e[n]=t,e[r]=o,r=n}}function n(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,o=e.length,i=o>>>1;n<i;){var s=2*(n+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,r))c<o&&0>a(u,l)?(e[n]=u,e[c]=r,n=c):(e[n]=l,e[s]=r,n=s);else{if(!(c<o&&0>a(u,r)))break e;e[n]=u,e[c]=r,n=c}}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var t=n(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,r(c,t)}t=n(u)}}function x(e){if(g=!1,b(e),!m)if(null!==n(c))m=!0,R(E);else{var t=n(u);null!==t&&D(x,t.startTime-e)}}function E(e,r){m=!1,g&&(g=!1,y(_),_=-1),p=!0;var a=f;try{for(b(r),h=n(c);null!==h&&(!(h.expirationTime>r)||e&&!N());){var i=h.callback;if("function"==typeof i){h.callback=null,f=h.priorityLevel;var s=i(h.expirationTime<=r);r=t.unstable_now(),"function"==typeof s?h.callback=s:h===n(c)&&o(c),b(r)}else o(c);h=n(c)}if(null!==h)var l=!0;else{var d=n(u);null!==d&&D(x,d.startTime-r),l=!1}return l}finally{h=null,f=a,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,T=null,_=-1,A=5,C=-1;function N(){return!(t.unstable_now()-C<A)}function I(){if(null!==T){var e=t.unstable_now();C=e;var r=!0;try{r=T(!0,e)}finally{r?k():(S=!1,T=null)}}else S=!1}if("function"==typeof w)k=function(){w(I)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=I,k=function(){P.postMessage(null)}}else k=function(){v(I,0)};function R(e){T=e,S||(S=!0,k())}function D(e,r){_=v((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,o,a){var i=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>i?(e.sortIndex=a,r(u,e),null===n(c)&&e===n(u)&&(g?(y(_),_=-1):g=!0,D(x,a-i))):(e.sortIndex=s,r(c,e),m||p||(m=!0,R(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},982:(e,t,r)=>{"use strict";e.exports=r(463)},72:e=>{"use strict";var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var a={},i=[],s=0;s<e.length;s++){var l=e[s],c=n.base?l[0]+n.base:l[0],u=a[c]||0,d="".concat(c," ").concat(u);a[c]=u+1;var h=r(d),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(f);else{var p=o(f,n);n.byIndex=s,t.splice(s,0,{identifier:d,updater:p,references:1})}i.push(d)}return i}function o(e,t){var r=t.domAPI(t);r.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,o){var a=n(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=r(a[i]);t[s].references--}for(var l=n(e,o),c=0;c<a.length;c++){var u=r(a[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}a=l}}},659:e=>{"use strict";var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},159:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,r)=>{"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var a=r.sourceMap;a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},473:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(797),o=r(521),a=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))};const i={getCurrentUser:()=>n.j2.currentUser,isAuthenticated:()=>!!n.j2.currentUser,updateAuthState(e){"undefined"!=typeof window&&(window.WordStream||(window.WordStream={}),e?(window.WordStream.currentUser={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL},window.WordStream.isAuthenticated=!0):(window.WordStream.currentUser=null,window.WordStream.isAuthenticated=!1)),this.saveToStorage(e)},saveToStorage(e){return a(this,void 0,void 0,(function*(){var t;try{"undefined"!=typeof chrome&&(null===(t=chrome.storage)||void 0===t?void 0:t.local)&&(e?yield chrome.storage.local.set({wordstream_auth_state:"authenticated",wordstream_user_info:{uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL},wordstream_auth_timestamp:Date.now()}):yield chrome.storage.local.remove(["wordstream_auth_state","wordstream_user_info","wordstream_auth_timestamp"]))}catch(e){console.warn("WordStream AuthManager: Error saving auth state:",e)}}))},verifyTokenAndRefresh(){return a(this,void 0,void 0,(function*(){try{if(!this.isAuthenticated())return!1;return!!(yield(0,o.eH)())}catch(e){return console.error("WordStream: Token refresh failed:",e),!1}}))},checkPermissions(){return a(this,void 0,void 0,(function*(){return this.isAuthenticated()}))},reauthenticateIfNeeded(){return a(this,void 0,void 0,(function*(){return!!this.isAuthenticated()&&this.verifyTokenAndRefresh()}))}},s=i},521:(e,t,r)=>{"use strict";r.d(t,{G6:()=>c,Ru:()=>l,Wq:()=>s,Z6:()=>h,eH:()=>f,je:()=>d,xw:()=>p});var n=r(908),o=r(797),a=r(405),i=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))};function s(e,t,r){return i(this,void 0,void 0,(function*(){try{const a=yield(0,n.eJ)(o.j2,e,t);return r&&a.user&&(yield u(a.user.uid,Object.assign({email:e},r))),yield m(a.user),a}catch(e){throw console.error("WordStream Auth: Registration failed:",e),e}}))}function l(e,t){return i(this,void 0,void 0,(function*(){try{const r=yield(0,n.x9)(o.j2,e,t);return yield m(r.user),r}catch(e){throw console.error("WordStream Auth: Email sign-in failed:",e),e}}))}function c(){return i(this,void 0,void 0,(function*(){try{if(console.log("WordStream: Starting Google sign-in"),"undefined"==typeof chrome||!chrome.identity)throw new Error("Authentication is only available in Chrome extension");const e=new n.HF;e.addScope("profile"),e.addScope("email");const t=`https://accounts.google.com/o/oauth2/auth?client_id=${encodeURIComponent("1097713470067-g34g0oqh4o6chpjfq41nt84js3r06if1.apps.googleusercontent.com")}&response_type=token&redirect_uri=${encodeURIComponent("https://vidlearn-ai.firebaseapp.com/__/auth/handler")}&scope=${encodeURIComponent("profile email")}`;return new Promise(((e,r)=>{chrome.identity.launchWebAuthFlow({url:t,interactive:!0},(t=>i(this,void 0,void 0,(function*(){if(chrome.runtime.lastError)r(new Error(chrome.runtime.lastError.message));else if(t)try{const i=new URLSearchParams(t.split("#")[1]).get("access_token");if(!i)return void r(new Error("No access token received during authentication"));const s=n.HF.credential(null,i),l=yield(0,n.eN)(o.j2,s);console.log("WordStream: Successfully signed in with Google"),yield m(l.user);const c=(0,a.H9)(o.kA,"users",l.user.uid);(yield(0,a.x7)(c)).exists()||(yield u(l.user.uid,{email:l.user.email||"",displayName:l.user.displayName||""})),e(l)}catch(e){console.error("WordStream: Error processing auth result:",e),r(e)}else r(new Error("Google authentication canceled or failed"))}))))}))}catch(e){throw console.error("WordStream: Google sign-in error:",e),e}}))}function u(e,t){return i(this,void 0,void 0,(function*(){try{yield(0,a.BN)((0,a.H9)(o.kA,"users",e),Object.assign(Object.assign({},t),{updatedAt:(new Date).toISOString(),createdAt:(new Date).toISOString()})),console.log("WordStream Auth: User profile data saved")}catch(e){throw console.error("WordStream Auth: Failed to save user profile data:",e),e}}))}function d(){return i(this,void 0,void 0,(function*(){try{yield(0,n.CI)(o.j2),yield g(),console.log("WordStream Auth: User logged out successfully")}catch(e){throw console.error("WordStream Auth: Logout failed:",e),e}}))}function h(e){return(0,n.hg)(o.j2,(t=>i(this,void 0,void 0,(function*(){console.log("WordStream Auth: Auth state changed:",t?"User logged in":"User logged out"),t?yield m(t):yield g(),e(t)}))))}function f(){return i(this,void 0,void 0,(function*(){try{const e=o.j2.currentUser;if(!e)return null;const t=yield(0,n.p9)(e,!0);return console.log("WordStream Auth: Token refreshed successfully"),t}catch(e){return console.error("WordStream Auth: Token refresh failed:",e),null}}))}function p(e){return i(this,void 0,void 0,(function*(){try{yield(0,n.J1)(o.j2,e),console.log("WordStream Auth: Password reset email sent")}catch(e){throw console.error("WordStream Auth: Failed to send password reset email:",e),e}}))}function m(e){return i(this,void 0,void 0,(function*(){var t,r,n;if(!e)return g();try{const o={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified};if("undefined"!=typeof chrome&&(null===(t=chrome.storage)||void 0===t?void 0:t.local)&&(yield chrome.storage.local.set({wordstream_auth_state:"authenticated",wordstream_user_info:o,wordstream_auth_timestamp:Date.now()})),"undefined"!=typeof chrome&&(null===(r=chrome.runtime)||void 0===r?void 0:r.id)&&(null===(n=chrome.runtime)||void 0===n?void 0:n.sendMessage))try{yield chrome.runtime.sendMessage({action:"AUTH_STATE_UPDATED",isAuthenticated:!0,userInfo:o})}catch(e){console.log("WordStream Auth: Background not available for auth update")}}catch(e){console.error("WordStream Auth: Failed to save auth state:",e)}}))}function g(){return i(this,void 0,void 0,(function*(){var e,t,r;try{if("undefined"!=typeof chrome&&(null===(e=chrome.storage)||void 0===e?void 0:e.local)&&(yield chrome.storage.local.remove(["wordstream_auth_state","wordstream_user_info","wordstream_auth_timestamp"])),"undefined"!=typeof chrome&&(null===(t=chrome.runtime)||void 0===t?void 0:t.id)&&(null===(r=chrome.runtime)||void 0===r?void 0:r.sendMessage))try{yield chrome.runtime.sendMessage({action:"AUTH_STATE_UPDATED",isAuthenticated:!1,userInfo:null})}catch(e){console.log("WordStream Auth: Background not available for auth update")}}catch(e){console.error("WordStream Auth: Failed to clear auth state:",e)}}))}},316:(e,t,r)=>{"use strict";r.d(t,{HW:()=>l,KO:()=>s,fL:()=>i});var n=r(473),o=r(797),a=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))};function i(){return a(this,void 0,void 0,(function*(){try{const e=yield function(){return a(this,void 0,void 0,(function*(){var e,t;try{const r=n.A.getCurrentUser();if(r&&r.uid)return r.uid;if("undefined"!=typeof window&&(null===(t=null===(e=window.WordStream)||void 0===e?void 0:e.currentUser)||void 0===t?void 0:t.uid))return console.log("WordStream: Using user from window.WordStream:",window.WordStream.currentUser.uid),window.WordStream.currentUser.uid;if("undefined"!=typeof chrome&&chrome.storage)try{return new Promise((e=>{chrome.storage.local.get(["wordstream_user_info"],(t=>chrome.runtime.lastError?(console.warn("WordStream: Error reading user from storage:",chrome.runtime.lastError),void e(null)):t&&t.wordstream_user_info&&t.wordstream_user_info.uid?(console.log("WordStream: Using user from chrome.storage:",t.wordstream_user_info.uid),void e(t.wordstream_user_info.uid)):void e(null)))}))}catch(e){return console.warn("WordStream: Error accessing chrome.storage:",e),null}return console.warn("WordStream: No authenticated user found"),null}catch(e){return console.warn("WordStream: Error getting current user ID:",e),null}}))}();if(!e)return console.warn("WordStream: No user ID found during authentication check"),null;if(!(yield function(){return a(this,void 0,void 0,(function*(){try{if(console.log("WordStream: Attempting to refresh auth token"),"undefined"!=typeof self&&"undefined"==typeof Window&&o.j2){const e=o.j2.currentUser;if(!e)return console.warn("WordStream: No current user available to refresh token"),!1;try{return yield e.getIdToken(!0),console.log("WordStream: Successfully refreshed token using Firebase SDK"),!0}catch(e){return console.error("WordStream: Failed to refresh token using Firebase SDK:",e),!1}}return yield n.A.verifyTokenAndRefresh()}catch(e){return console.error("WordStream: Error refreshing auth token:",e),!1}}))}())){console.warn("WordStream: Token validation failed");try{chrome.storage&&chrome.storage.local&&(yield chrome.storage.local.remove(["wordstream_auth_state","wordstream_user_info"]),console.log("WordStream: Cleared invalid auth data from storage"))}catch(e){console.error("WordStream: Error clearing invalid auth data:",e)}return null}return e}catch(e){return console.warn("WordStream: Auth validation error:",e),null}}))}function s(){return a(this,void 0,void 0,(function*(){if("undefined"!=typeof navigator&&!navigator.onLine)return{connected:!1,error:"Device is offline"};const e=yield i();return e?{connected:!0,userId:e}:{connected:!1,error:"No authenticated user"}}))}function l(){try{const e=n.A.getCurrentUser();return e?{uid:e.uid,email:e.email||"",displayName:e.displayName||void 0,photoURL:e.photoURL||void 0}:null}catch(e){return console.error("WordStream: Error getting current user:",e),null}}},797:(e,t,r)=>{"use strict";r.d(t,{j2:()=>l,kA:()=>c});var n=r(223),o=r(405),a=r(908);const i={apiKey:"AIzaSyAVxAdCx5JW0K7o5B53p_fThHYUPtWRQF4",authDomain:"vidlearn-ai.firebaseapp.com",projectId:"vidlearn-ai",storageBucket:"vidlearn-ai.appspot.com",messagingSenderId:"1097713470067",appId:"1:1097713470067:web:821f08db03951f83363806",measurementId:"G-PQDV30TTX1"};let s,l,c;function u(){if(!s)try{s=(0,n.Sx)()}catch(e){console.log("WordStream: Initializing Firebase app"),s=(0,n.Wp)(i)}return s}try{s=u(),l=function(){if(!l){const e=u();l=(0,a.xI)(e),(0,a.oM)(l,a.F0).then((()=>console.log("WordStream: Auth persistence set to browserLocalPersistence"))).catch((e=>console.error("WordStream: Failed to set auth persistence:",e)))}return l}(),c=function(){if(!c){const e=u();c=(0,o.aU)(e)}return c}(),console.log("WordStream: Firebase pre-initialized successfully")}catch(e){console.error("WordStream: Firebase pre-initialization failed:",e)}},364:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addChatMessage:()=>f,deleteChat:()=>h,getChats:()=>d,saveChat:()=>u});var n=r(405),o=r(797),a=r(316),i=r(921),s=r(188),l=r(590),c=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))};function u(e){return c(this,void 0,void 0,(function*(){try{const t=(0,a.HW)();if(!t)throw new Error("User not authenticated");const r=t.uid,c=e.id||Date.now().toString(),u=(new Date).toISOString(),d={id:c,userId:r,title:e.title||"New Chat",createdAt:e.createdAt||u,updatedAt:u,lastMessageContent:e.lastMessageContent,lastMessageRole:e.lastMessageRole,isArchived:e.isArchived||!1,metadata:e.metadata||{}};if(yield(0,i.K)()){const e=(0,n.H9)(o.kA,`users/${r}/chats/${c}`);yield(0,n.BN)(e,d),console.log(`WordStream: Chat saved to Firestore: ${c}`)}else console.log("WordStream: Offline - Queuing chat save operation"),(0,l.Ph)("saveChat",d);return p(d),(0,s.Lo)({action:"CHAT_ADDED",chat:d,timestamp:(new Date).toISOString()}),c}catch(e){throw console.error("WordStream: Error saving chat:",e),e}}))}function d(){return c(this,void 0,void 0,(function*(){try{const e=(0,a.HW)();if(!e)throw new Error("User not authenticated");const t=e.uid;if(yield(0,i.K)()){const e=(0,n.rJ)(o.kA,`users/${t}/chats`),r=(0,n.P)(e),a=(yield(0,n.GG)(r)).docs.map((e=>e.data()));return console.log(`WordStream: Retrieved ${a.length} chats from Firestore`),function(e){try{chrome.storage.sync.set({chats:e},(()=>{console.log(`WordStream: Updated ${e.length} chats in local storage`)}))}catch(e){console.error("WordStream: Error updating chats in local storage:",e)}}(a),a}return console.log("WordStream: Offline - Reading chats from local storage"),m()}catch(e){return console.error("WordStream: Error getting chats:",e),m()}}))}function h(e){return c(this,void 0,void 0,(function*(){try{const t=(0,a.HW)();if(!t)throw new Error("User not authenticated");const r=t.uid;if(yield(0,i.K)()){const t=(0,n.H9)(o.kA,`users/${r}/chats/${e}`);yield(0,n.kd)(t),console.log(`WordStream: Chat deleted from Firestore: ${e}`)}else console.log("WordStream: Offline - Queuing chat delete operation"),(0,l.Ph)("deleteChat",{id:e,userId:r});return function(e){try{const t=m().filter((t=>t.id!==e));chrome.storage.sync.set({chats:t},(()=>{console.log(`WordStream: Chat deleted from local storage: ${e}`)}))}catch(t){console.error(`WordStream: Error deleting chat ${e} from local storage:`,t)}}(e),(0,s.Lo)({action:"CHAT_DELETED",chatId:e,timestamp:(new Date).toISOString()}),!0}catch(t){return console.error(`WordStream: Error deleting chat ${e}:`,t),!1}}))}function f(e,t){return c(this,void 0,void 0,(function*(){try{const r=(0,a.HW)();if(!r)throw new Error("User not authenticated");const c=r.uid,u=(yield d()).find((t=>t.id===e));if(!u)throw new Error(`Chat ${e} not found`);const h=t.id||Date.now().toString(),f=(new Date).toISOString(),m={id:h,chatId:e,content:t.content||"",role:t.role||"user",createdAt:t.createdAt||f,metadata:t.metadata||{}},g=Object.assign(Object.assign({},u),{updatedAt:f,lastMessageContent:m.content,lastMessageRole:m.role});if(yield(0,i.K)()){const t=(0,n.H9)(o.kA,`users/${c}/chats/${e}`);yield(0,n.BN)(t,g,{merge:!0});const r=(0,n.H9)(o.kA,`users/${c}/chats/${e}/messages/${h}`);yield(0,n.BN)(r,m),console.log(`WordStream: Message added to chat ${e}: ${h}`)}else console.log("WordStream: Offline - Queuing message add operation"),(0,l.Ph)("updateChat",g),(0,l.Ph)("addChatMessage",{chatId:e,message:m});return p(g),(0,s.Lo)({action:"CHAT_UPDATED",chat:g,timestamp:(new Date).toISOString()}),h}catch(e){throw console.error("WordStream: Error adding chat message:",e),e}}))}function p(e){try{const t=m(),r=t.findIndex((t=>t.id===e.id));r>=0?t[r]=e:t.push(e),chrome.storage.sync.set({chats:t},(()=>{console.log(`WordStream: Chat saved to local storage: ${e.id}`)}))}catch(e){console.error("WordStream: Error saving chat to local storage:",e)}}function m(){try{let e=[];return chrome.storage.sync.get("chats",(t=>{t.chats&&Array.isArray(t.chats)&&(e=t.chats)})),e}catch(e){return console.error("WordStream: Error getting chats from local storage:",e),[]}}},334:(e,t,r)=>{"use strict";r.r(t),r.d(t,{deleteNote:()=>p,getAllVideosWithNotes:()=>g,getNotes:()=>h,saveNote:()=>u});var n=r(405),o=r(797),a=r(316),i=r(746),s=r(188),l=r(590),c=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))};function u(e){return c(this,void 0,void 0,(function*(){try{const t=yield(0,a.KO)();if(!t.connected)return console.warn(`WordStream: Cannot save note - ${t.error}`),d(e),(0,l.Ph)("saveNote",e),e.id||"";const r=t.userId;e.timestamp||(e.timestamp=(new Date).toISOString());let u=e.id;if(u){const t=(0,i.Wl)(r,u),a=(0,n.H9)(o.kA,t);yield(0,n.mZ)(a,Object.assign(Object.assign({},e),{updatedAt:(0,n.O5)()})),console.log(`WordStream: Updated existing note ${u}`)}else{const t=Object.assign(Object.assign({},e),{userId:r,createdAt:(0,n.O5)(),updatedAt:(0,n.O5)()}),a=(0,i.Nc)(r),s=(0,n.rJ)(o.kA,a);u=(yield(0,n.gS)(s,t)).id,console.log(`WordStream: Created new note ${u}`)}return e.videoId&&(yield function(e,t,r){return c(this,void 0,void 0,(function*(){try{const a=(0,i.NJ)(e,t),s=(0,n.H9)(o.kA,a),l=yield(0,n.x7)(s);l.exists()?yield(0,n.mZ)(s,{[`noteIds.${r}`]:!0,noteCount:l.data().noteCount?l.data().noteCount+1:1,lastUpdated:(0,n.O5)()}):yield(0,n.BN)(s,{videoId:t,userId:e,noteIds:{[r]:!0},noteCount:1,createdAt:(0,n.O5)(),lastUpdated:(0,n.O5)()})}catch(e){console.error("WordStream: Error updating video notes reference:",e)}}))}(r,e.videoId,u)),d(Object.assign(Object.assign({},e),{id:u})),(0,s.Lo)({action:"NOTE_ADDED",noteId:u,videoId:e.videoId,timestamp:(new Date).toISOString()}),u}catch(t){return console.error("WordStream: Error saving note:",t),d(e),e.id||""}}))}function d(e){const t=e.id||`local_${Date.now()}`,r=Object.assign(Object.assign({},e),{id:t}),n=e.videoId||"general";chrome.storage.sync.get(["notes"],(e=>{if(chrome.runtime.lastError)return void console.error("WordStream: Error getting notes from local storage:",chrome.runtime.lastError);let o=e.notes||{};"object"!=typeof o&&(o={});const a=o[n]||[],i=a.findIndex((e=>e.id===t));i>=0?a[i]=Object.assign(Object.assign({},a[i]),r):a.push(r),a.every((e=>void 0!==e.videoTime))&&a.sort(((e,t)=>(e.videoTime||0)-(t.videoTime||0))),o[n]=a,chrome.storage.sync.set({notes:o},(()=>{chrome.runtime.lastError&&console.error("WordStream: Error saving notes to local storage:",chrome.runtime.lastError)}))}))}function h(e){return c(this,void 0,void 0,(function*(){try{const t=yield(0,a.KO)();if(!t.connected)return console.warn(`WordStream: Cannot get notes from Firestore - ${t.error}`),f(e);const r=t.userId,s=(0,i.Nc)(r),l=(0,n.rJ)(o.kA,s),c=(0,n.P)(l,(0,n._M)("videoId","==",e),(0,n.My)("videoTime","asc")),u=(yield(0,n.GG)(c)).docs.map((e=>Object.assign({id:e.id},e.data())));return function(e,t){chrome.storage.sync.get(["notes"],(r=>{if(chrome.runtime.lastError)return void console.error("WordStream: Error getting notes from local storage:",chrome.runtime.lastError);let n=r.notes||{};"object"!=typeof n&&(n={}),n[e]=t,chrome.storage.sync.set({notes:n},(()=>{chrome.runtime.lastError&&console.error("WordStream: Error saving notes to local storage:",chrome.runtime.lastError)}))}))}(e,u),console.log(`WordStream: Retrieved ${u.length} notes for video ${e}`),u}catch(t){return console.error(`WordStream: Error getting notes for video ${e}:`,t),f(e)}}))}function f(e){return new Promise((t=>{chrome.storage.sync.get(["notes"],(r=>{if(chrome.runtime.lastError)return console.error("WordStream: Error getting notes from local storage:",chrome.runtime.lastError),void t([]);const n=r.notes||{};if("object"!=typeof n)return void t([]);const o=n[e]||[];t(o)}))}))}function p(e,t){return c(this,void 0,void 0,(function*(){try{console.log(`WordStream: Starting deletion of note ${e}`);const r=yield(0,a.KO)();if(!r.connected)return console.warn(`WordStream: Cannot delete note - ${r.error}`),m(e,t),!1;const l=r.userId;if(!e)return console.error("WordStream: Cannot delete note - missing noteId"),!1;if(!t){const r=(0,i.Wl)(l,e),a=(0,n.H9)(o.kA,r),s=yield(0,n.x7)(a);s.exists()&&(t=s.data().videoId)}const c=(0,i.Wl)(l,e),u=(0,n.H9)(o.kA,c);if(yield(0,n.kd)(u),t){const r=(0,i.NJ)(l,t),a=(0,n.H9)(o.kA,r),s=yield(0,n.x7)(a);if(s.exists()){const t=s.data(),r=t.noteIds||{};r[e]&&delete r[e];const o=Math.max(0,(t.noteCount||1)-1);yield(0,n.mZ)(a,{noteIds:r,noteCount:o,lastUpdated:(0,n.O5)()})}}return m(e,t),(0,s.Lo)({action:"NOTE_DELETED",noteId:e,videoId:t,timestamp:(new Date).toISOString()}),console.log(`WordStream: Successfully deleted note ${e}`),!0}catch(t){return console.error(`WordStream: Error deleting note ${e}:`,t),!1}}))}function m(e,t){chrome.storage.sync.get(["notes"],(r=>{if(chrome.runtime.lastError)return void console.error("WordStream: Error getting notes from local storage:",chrome.runtime.lastError);let n=r.notes||{};"object"==typeof n&&(t&&n[t]?n[t]=n[t].filter((t=>t.id!==e)):Object.keys(n).forEach((t=>{Array.isArray(n[t])&&(n[t]=n[t].filter((t=>t.id!==e)))})),chrome.storage.sync.set({notes:n},(()=>{chrome.runtime.lastError&&console.error("WordStream: Error saving notes to local storage:",chrome.runtime.lastError)})))}))}function g(){return c(this,void 0,void 0,(function*(){try{const e=yield(0,a.KO)();if(!e.connected)return console.warn(`WordStream: Cannot get videos with notes - ${e.error}`),v();const t=e.userId,r=(0,i.Nc)(t),s=(0,n.rJ)(o.kA,r),l=yield(0,n.GG)(s),c=new Map;l.docs.forEach((e=>{var t;const r=Object.assign({id:e.id},e.data());if(!r.videoId)return;c.has(r.videoId)||c.set(r.videoId,{videoId:r.videoId,videoTitle:r.videoTitle||"Unknown Video",videoURL:`https://www.youtube.com/watch?v=${r.videoId}`,lastUpdated:(null===(t=r.updatedAt)||void 0===t?void 0:t.toString())||(new Date).toISOString(),notes:[]});const n=c.get(r.videoId);n.notes.push(r),r.videoTitle&&!n.videoTitle&&(n.videoTitle=r.videoTitle),n.notes.sort(((e,t)=>(e.videoTime||0)-(t.videoTime||0)))}));const u=Array.from(c.values());return u.sort(((e,t)=>{const r=new Date(e.lastUpdated||0);return new Date(t.lastUpdated||0).getTime()-r.getTime()})),u}catch(e){return console.error("WordStream: Error getting videos with notes:",e),v()}}))}function v(){return new Promise((e=>{chrome.storage.sync.get(["notes"],(t=>{if(chrome.runtime.lastError)return console.error("WordStream: Error getting notes from local storage:",chrome.runtime.lastError),void e([]);const r=t.notes||{};if("object"!=typeof r)return void e([]);const n=[];Object.keys(r).forEach((e=>{if("general"===e)return;const t=r[e]||[];if(!Array.isArray(t)||0===t.length)return;const o=t.reduce(((e,t)=>{const r=new Date(e.timestamp||0);return new Date(t.timestamp||0)>r?t:e}),t[0]);n.push({videoId:e,videoTitle:o.videoTitle||"Unknown Video",videoURL:`https://www.youtube.com/watch?v=${e}`,lastUpdated:o.timestamp||(new Date).toISOString(),notes:t.sort(((e,t)=>(e.videoTime||0)-(t.videoTime||0)))})})),n.sort(((e,t)=>{const r=new Date(e.lastUpdated||0);return new Date(t.lastUpdated||0).getTime()-r.getTime()})),e(n)}))}))}},570:(e,t,r)=>{"use strict";r.r(t),r.d(t,{deleteWord:()=>h,getWords:()=>d,saveWord:()=>u});var n=r(405),o=r(797),a=r(316),i=r(921),s=r(188),l=r(590),c=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))};function u(e){return c(this,void 0,void 0,(function*(){try{const t=(0,a.HW)();if(!t)throw new Error("User not authenticated");const r=t.uid,c=e.id||Date.now().toString(),u=Object.assign({id:c,originalWord:e.originalWord||"",targetWord:e.targetWord||"",sourceLanguage:e.sourceLanguage||"en",targetLanguage:e.targetLanguage||"en",userId:r,timestamp:(new Date).toISOString(),createdAt:e.createdAt||(new Date).toISOString(),updatedAt:(new Date).toISOString()},e);if(yield(0,i.K)()){const e=(0,n.H9)(o.kA,`users/${r}/words/${c}`);yield(0,n.BN)(e,u),console.log(`WordStream: Word saved to Firestore: ${c}`)}else console.log("WordStream: Offline - Queuing word save operation"),(0,l.Ph)("saveWord",u);return function(e){try{const t=f(),r=t.findIndex((t=>t.id===e.id));r>=0?t[r]=e:t.push(e),chrome.storage.sync.set({words:t},(()=>{console.log(`WordStream: Word saved to local storage: ${e.id}`)}))}catch(e){console.error("WordStream: Error saving word to local storage:",e)}}(u),(0,s.Lo)({action:"WORD_ADDED",word:u,timestamp:(new Date).toISOString()}),c}catch(e){throw console.error("WordStream: Error saving word:",e),e}}))}function d(){return c(this,void 0,void 0,(function*(){try{const e=(0,a.HW)();if(!e)throw new Error("User not authenticated");const t=e.uid;if(yield(0,i.K)()){const e=(0,n.rJ)(o.kA,`users/${t}/words`),r=(0,n.P)(e),a=(yield(0,n.GG)(r)).docs.map((e=>e.data()));return console.log(`WordStream: Retrieved ${a.length} words from Firestore`),function(e){try{chrome.storage.sync.set({words:e},(()=>{console.log(`WordStream: Updated ${e.length} words in local storage`)}))}catch(e){console.error("WordStream: Error updating words in local storage:",e)}}(a),a}return console.log("WordStream: Offline - Reading words from local storage"),f()}catch(e){return console.error("WordStream: Error getting words:",e),f()}}))}function h(e){return c(this,void 0,void 0,(function*(){try{const t=(0,a.HW)();if(!t)throw new Error("User not authenticated");const r=t.uid;if(yield(0,i.K)()){const t=(0,n.H9)(o.kA,`users/${r}/words/${e}`);yield(0,n.kd)(t),console.log(`WordStream: Word deleted from Firestore: ${e}`)}else console.log("WordStream: Offline - Queuing word delete operation"),(0,l.Ph)("deleteWord",{id:e,userId:r});return function(e){try{const t=f().filter((t=>t.id!==e));chrome.storage.sync.set({words:t},(()=>{console.log(`WordStream: Word deleted from local storage: ${e}`)}))}catch(t){console.error(`WordStream: Error deleting word ${e} from local storage:`,t)}}(e),(0,s.Lo)({action:"WORD_DELETED",wordId:e,timestamp:(new Date).toISOString()}),!0}catch(t){return console.error(`WordStream: Error deleting word ${e}:`,t),!1}}))}function f(){try{let e=[];return chrome.storage.sync.get("words",(t=>{t.words&&Array.isArray(t.words)&&(e=t.words)})),e}catch(e){return console.error("WordStream: Error getting words from local storage:",e),[]}}},188:(e,t,r)=>{"use strict";r.d(t,{Lo:()=>o});r(540);const n="undefined"!=typeof self&&"undefined"==typeof Window&&!("window"in self);function o(e){try{if(!e)return void console.warn("WordStream: Attempted to broadcast empty message");const t=Object.assign(Object.assign({},e),{timestamp:e.timestamp||(new Date).toISOString()});try{const e=`wordstream_broadcast_${Date.now()}`;chrome.storage.local.set({[e]:t}).then((()=>{!function(){try{if(!n&&"undefined"!=typeof localStorage){const e=[];for(let t=0;t<localStorage.length;t++){const r=localStorage.key(t);r&&r.startsWith("wordstream_broadcast_")&&e.push(r)}e.sort().reverse(),e.length>20&&e.slice(20).forEach((e=>localStorage.removeItem(e)))}chrome.storage.local.get(null,(e=>{if(!e)return;const t=Object.keys(e).filter((e=>e.startsWith("wordstream_broadcast_"))).sort().reverse();if(t.length>20){const e=t.slice(20);chrome.storage.local.remove(e)}}))}catch(e){console.warn("WordStream: Error cleaning up broadcast messages:",e)}}()})).catch((e=>{console.error("WordStream: Error during storage cleanup after broadcast:",e)}))}catch(e){console.error("WordStream: Error broadcasting via storage:",e)}if(!n)try{"undefined"!=typeof window&&window.postMessage(t,"*")}catch(e){console.warn("WordStream: Error using postMessage for broadcast:",e)}try{chrome.runtime.sendMessage(t).catch((()=>{}))}catch(e){}}catch(e){console.error("WordStream: Error in broadcastMessage:",e)}}},590:(e,t,r)=>{"use strict";r.d(t,{Ph:()=>i});var n=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))};let o=[];const a="wordstream_pending_operations";"undefined"!=typeof self&&"undefined"==typeof Window&&self;function i(e,t){return n(this,void 0,void 0,(function*(){const r={type:e,data:t,timestamp:Date.now()};o.push(r),console.log(`WordStream: Queued ${e} operation for later processing`),yield s()}))}function s(){return n(this,void 0,void 0,(function*(){if("undefined"!=typeof chrome&&chrome.storage)try{return new Promise(((e,t)=>{chrome.storage.local.set({[a]:o},(()=>{chrome.runtime.lastError?(console.error("WordStream: Error saving pending operations:",chrome.runtime.lastError),t(chrome.runtime.lastError)):(console.log(`WordStream: Saved ${o.length} pending operations to chrome.storage`),e())}))}))}catch(e){console.error("WordStream: Failed to save pending operations to storage:",e)}else console.warn("WordStream: Chrome storage not available, operations only stored in memory")}))}},921:(e,t,r)=>{"use strict";r.d(t,{K:()=>a});var n=r(316),o=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))};function a(){return o(this,void 0,void 0,(function*(){if("undefined"==typeof navigator||!navigator.onLine)return console.log("WordStream: Device is offline"),!1;return!!(yield(0,n.fL)())||(console.log("WordStream: No authenticated user"),!1)}))}},746:(e,t,r)=>{"use strict";function n(e){return`users/${e}/notes`}function o(e,t){return`users/${e}/notes/${t}`}function a(e,t){return`users/${e}/videos/${t}`}function i(e){return`users/${e}/userData/stats`}r.d(t,{NJ:()=>a,Nc:()=>n,Wl:()=>o,ru:()=>i})},461:(e,t,r)=>{"use strict";r.d(t,{KO:()=>J,MF:()=>Y,Sx:()=>Q,Wp:()=>X,j6:()=>H,om:()=>V,xZ:()=>$});var n=r(125),o=r(424),a=r(743),i=r(602);class s{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const l="@firebase/app",c="0.11.4",u=new o.Vy("@firebase/app"),d="@firebase/app-compat",h="@firebase/analytics-compat",f="@firebase/analytics",p="@firebase/app-check-compat",m="@firebase/app-check",g="@firebase/auth",v="@firebase/auth-compat",y="@firebase/database",w="@firebase/data-connect",b="@firebase/database-compat",x="@firebase/functions",E="@firebase/functions-compat",k="@firebase/installations",S="@firebase/installations-compat",T="@firebase/messaging",_="@firebase/messaging-compat",A="@firebase/performance",C="@firebase/performance-compat",N="@firebase/remote-config",I="@firebase/remote-config-compat",O="@firebase/storage",P="@firebase/storage-compat",R="@firebase/firestore",D="@firebase/vertexai",L="@firebase/firestore-compat",M="firebase",F="[DEFAULT]",U={[l]:"fire-core",[d]:"fire-core-compat",[f]:"fire-analytics",[h]:"fire-analytics-compat",[m]:"fire-app-check",[p]:"fire-app-check-compat",[g]:"fire-auth",[v]:"fire-auth-compat",[y]:"fire-rtdb",[w]:"fire-data-connect",[b]:"fire-rtdb-compat",[x]:"fire-fn",[E]:"fire-fn-compat",[k]:"fire-iid",[S]:"fire-iid-compat",[T]:"fire-fcm",[_]:"fire-fcm-compat",[A]:"fire-perf",[C]:"fire-perf-compat",[N]:"fire-rc",[I]:"fire-rc-compat",[O]:"fire-gcs",[P]:"fire-gcs-compat",[R]:"fire-fst",[L]:"fire-fst-compat",[D]:"fire-vertex","fire-js":"fire-js",[M]:"fire-js-all"},j=new Map,B=new Map,z=new Map;function W(e,t){try{e.container.addComponent(t)}catch(r){u.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function V(e){const t=e.name;if(z.has(t))return u.debug(`There were multiple attempts to register component ${t}.`),!1;z.set(t,e);for(const t of j.values())W(t,e);for(const t of B.values())W(t,e);return!0}function H(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function $(e){return null!=e&&void 0!==e.settings}const G={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},K=new a.FA("app","Firebase",G);class q{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new n.uA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw K.create("app-deleted",{appName:this._name})}}const Y="11.6.0";function X(e,t={}){let r=e;if("object"!=typeof t){t={name:t}}const o=Object.assign({name:F,automaticDataCollectionEnabled:!1},t),i=o.name;if("string"!=typeof i||!i)throw K.create("bad-app-name",{appName:String(i)});if(r||(r=(0,a.T9)()),!r)throw K.create("no-options");const s=j.get(i);if(s){if((0,a.bD)(r,s.options)&&(0,a.bD)(o,s.config))return s;throw K.create("duplicate-app",{appName:i})}const l=new n.h1(i);for(const e of z.values())l.addComponent(e);const c=new q(r,o,l);return j.set(i,c),c}function Q(e=F){const t=j.get(e);if(!t&&e===F&&(0,a.T9)())return X();if(!t)throw K.create("no-app",{appName:e});return t}function J(e,t,r){var o;let a=null!==(o=U[e])&&void 0!==o?o:e;r&&(a+=`-${r}`);const i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const e=[`Unable to register library "${a}" with version "${t}":`];return i&&e.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void u.warn(e.join(" "))}V(new n.uA(`${a}-version`,(()=>({library:a,version:t})),"VERSION"))}const Z="firebase-heartbeat-store";let ee=null;function te(){return ee||(ee=(0,i.P2)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Z)}catch(e){console.warn(e)}}}).catch((e=>{throw K.create("idb-open",{originalErrorMessage:e.message})}))),ee}async function re(e,t){try{const r=(await te()).transaction(Z,"readwrite"),n=r.objectStore(Z);await n.put(t,ne(e)),await r.done}catch(e){if(e instanceof a.g)u.warn(e.message);else{const t=K.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});u.warn(t.message)}}}function ne(e){return`${e.name}!${e.options.appId}`}class oe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ie(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=ae();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some((e=>e.date===n)))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){u.warn(e)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ae(),{heartbeatsToSend:r,unsentEntries:n}=function(e,t=1024){const r=[];let n=e.slice();for(const o of e){const e=r.find((e=>e.agent===o.agent));if(e){if(e.dates.push(o.date),se(r)>t){e.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),se(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}(this._heartbeatsCache.heartbeats),o=(0,a.Uj)(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return u.warn(e),""}}}function ae(){return(new Date).toISOString().substring(0,10)}class ie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,a.zW)()&&(0,a.eX)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await te()).transaction(Z),r=await t.objectStore(Z).get(ne(e));return await t.done,r}catch(e){if(e instanceof a.g)u.warn(e.message);else{const t=K.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});u.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}}}function se(e){return(0,a.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var le;le="",V(new n.uA("platform-logger",(e=>new s(e)),"PRIVATE")),V(new n.uA("heartbeat",(e=>new oe(e)),"PRIVATE")),J(l,c,le),J(l,c,"esm2017"),J("fire-js","")},125:(e,t,r)=>{"use strict";r.d(t,{h1:()=>s,uA:()=>o});var n=r(743);class o{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const a="[DEFAULT]";class i{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new n.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&e.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(e){if(n)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});t.resolve(e)}catch(e){}}}}clearInstance(e=a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=a){return this.instances.has(e)}getOptions(e=a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[e,t]of this.instancesDeferred.entries()){r===this.normalizeInstanceIdentifier(e)&&t.resolve(n)}return n}onInit(e,t){var r;const n=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(n))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(n,o);const a=this.instances.get(n);return a&&e(a,n),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const n of r)try{n(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===a?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(e){}var n;return r||null}normalizeInstanceIdentifier(e=a){return this.component?this.component.multipleInstances?e:a:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class s{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new i(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},424:(e,t,r)=>{"use strict";r.d(t,{$b:()=>o,Vy:()=>c});const n=[];var o;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));const a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},i=o.INFO,s={[o.DEBUG]:"log",[o.VERBOSE]:"log",[o.INFO]:"info",[o.WARN]:"warn",[o.ERROR]:"error"},l=(e,t,...r)=>{if(t<e.logLevel)return;const n=(new Date).toISOString(),o=s[t];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[o](`[${n}]  ${e.name}:`,...r)};class c{constructor(e){this.name=e,this._logLevel=i,this._logHandler=l,this._userLogHandler=null,n.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in o))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?a[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,o.DEBUG,...e),this._logHandler(this,o.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,o.VERBOSE,...e),this._logHandler(this,o.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,o.INFO,...e),this._logHandler(this,o.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,o.WARN,...e),this._logHandler(this,o.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,o.ERROR,...e),this._logHandler(this,o.ERROR,...e)}}},773:(e,t,r)=>{"use strict";r.d(t,{M:()=>n});const n=()=>{}},429:(e,t,r)=>{"use strict";r.d(t,{VV:()=>o,jz:()=>n});var n,o,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(e,t,r){r||(r=0);var n=Array(16);if("string"==typeof t)for(var o=0;16>o;++o)n[o]=t.charCodeAt(r++)|t.charCodeAt(r++)<<8|t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<24;else for(o=0;16>o;++o)n[o]=t[r++]|t[r++]<<8|t[r++]<<16|t[r++]<<24;t=e.g[0],r=e.g[1],o=e.g[2];var a=e.g[3],i=t+(a^r&(o^a))+n[0]+3614090360&4294967295;i=(r=(o=(a=(t=(r=(o=(a=(t=(r=(o=(a=(t=(r=(o=(a=(t=(r=(o=(a=(t=(r=(o=(a=(t=(r=(o=(a=(t=(r=(o=(a=(t=(r=(o=(a=(t=(r=(o=(a=(t=(r=(o=(a=(t=(r=(o=(a=(t=(r=(o=(a=(t=(r=(o=(a=(t=(r=(o=(a=(t=r+(i<<7&4294967295|i>>>25))+((i=a+(o^t&(r^o))+n[1]+3905402710&4294967295)<<12&4294967295|i>>>20))+((i=o+(r^a&(t^r))+n[2]+606105819&4294967295)<<17&4294967295|i>>>15))+((i=r+(t^o&(a^t))+n[3]+3250441966&4294967295)<<22&4294967295|i>>>10))+((i=t+(a^r&(o^a))+n[4]+4118548399&4294967295)<<7&4294967295|i>>>25))+((i=a+(o^t&(r^o))+n[5]+1200080426&4294967295)<<12&4294967295|i>>>20))+((i=o+(r^a&(t^r))+n[6]+2821735955&4294967295)<<17&4294967295|i>>>15))+((i=r+(t^o&(a^t))+n[7]+4249261313&4294967295)<<22&4294967295|i>>>10))+((i=t+(a^r&(o^a))+n[8]+1770035416&4294967295)<<7&4294967295|i>>>25))+((i=a+(o^t&(r^o))+n[9]+2336552879&4294967295)<<12&4294967295|i>>>20))+((i=o+(r^a&(t^r))+n[10]+4294925233&4294967295)<<17&4294967295|i>>>15))+((i=r+(t^o&(a^t))+n[11]+2304563134&4294967295)<<22&4294967295|i>>>10))+((i=t+(a^r&(o^a))+n[12]+1804603682&4294967295)<<7&4294967295|i>>>25))+((i=a+(o^t&(r^o))+n[13]+4254626195&4294967295)<<12&4294967295|i>>>20))+((i=o+(r^a&(t^r))+n[14]+2792965006&4294967295)<<17&4294967295|i>>>15))+((i=r+(t^o&(a^t))+n[15]+1236535329&4294967295)<<22&4294967295|i>>>10))+((i=t+(o^a&(r^o))+n[1]+4129170786&4294967295)<<5&4294967295|i>>>27))+((i=a+(r^o&(t^r))+n[6]+3225465664&4294967295)<<9&4294967295|i>>>23))+((i=o+(t^r&(a^t))+n[11]+643717713&4294967295)<<14&4294967295|i>>>18))+((i=r+(a^t&(o^a))+n[0]+3921069994&4294967295)<<20&4294967295|i>>>12))+((i=t+(o^a&(r^o))+n[5]+3593408605&4294967295)<<5&4294967295|i>>>27))+((i=a+(r^o&(t^r))+n[10]+38016083&4294967295)<<9&4294967295|i>>>23))+((i=o+(t^r&(a^t))+n[15]+3634488961&4294967295)<<14&4294967295|i>>>18))+((i=r+(a^t&(o^a))+n[4]+3889429448&4294967295)<<20&4294967295|i>>>12))+((i=t+(o^a&(r^o))+n[9]+568446438&4294967295)<<5&4294967295|i>>>27))+((i=a+(r^o&(t^r))+n[14]+3275163606&4294967295)<<9&4294967295|i>>>23))+((i=o+(t^r&(a^t))+n[3]+4107603335&4294967295)<<14&4294967295|i>>>18))+((i=r+(a^t&(o^a))+n[8]+1163531501&4294967295)<<20&4294967295|i>>>12))+((i=t+(o^a&(r^o))+n[13]+2850285829&4294967295)<<5&4294967295|i>>>27))+((i=a+(r^o&(t^r))+n[2]+4243563512&4294967295)<<9&4294967295|i>>>23))+((i=o+(t^r&(a^t))+n[7]+1735328473&4294967295)<<14&4294967295|i>>>18))+((i=r+(a^t&(o^a))+n[12]+2368359562&4294967295)<<20&4294967295|i>>>12))+((i=t+(r^o^a)+n[5]+4294588738&4294967295)<<4&4294967295|i>>>28))+((i=a+(t^r^o)+n[8]+2272392833&4294967295)<<11&4294967295|i>>>21))+((i=o+(a^t^r)+n[11]+1839030562&4294967295)<<16&4294967295|i>>>16))+((i=r+(o^a^t)+n[14]+4259657740&4294967295)<<23&4294967295|i>>>9))+((i=t+(r^o^a)+n[1]+2763975236&4294967295)<<4&4294967295|i>>>28))+((i=a+(t^r^o)+n[4]+1272893353&4294967295)<<11&4294967295|i>>>21))+((i=o+(a^t^r)+n[7]+4139469664&4294967295)<<16&4294967295|i>>>16))+((i=r+(o^a^t)+n[10]+3200236656&4294967295)<<23&4294967295|i>>>9))+((i=t+(r^o^a)+n[13]+681279174&4294967295)<<4&4294967295|i>>>28))+((i=a+(t^r^o)+n[0]+3936430074&4294967295)<<11&4294967295|i>>>21))+((i=o+(a^t^r)+n[3]+3572445317&4294967295)<<16&4294967295|i>>>16))+((i=r+(o^a^t)+n[6]+76029189&4294967295)<<23&4294967295|i>>>9))+((i=t+(r^o^a)+n[9]+3654602809&4294967295)<<4&4294967295|i>>>28))+((i=a+(t^r^o)+n[12]+3873151461&4294967295)<<11&4294967295|i>>>21))+((i=o+(a^t^r)+n[15]+530742520&4294967295)<<16&4294967295|i>>>16))+((i=r+(o^a^t)+n[2]+3299628645&4294967295)<<23&4294967295|i>>>9))+((i=t+(o^(r|~a))+n[0]+4096336452&4294967295)<<6&4294967295|i>>>26))+((i=a+(r^(t|~o))+n[7]+1126891415&4294967295)<<10&4294967295|i>>>22))+((i=o+(t^(a|~r))+n[14]+2878612391&4294967295)<<15&4294967295|i>>>17))+((i=r+(a^(o|~t))+n[5]+4237533241&4294967295)<<21&4294967295|i>>>11))+((i=t+(o^(r|~a))+n[12]+1700485571&4294967295)<<6&4294967295|i>>>26))+((i=a+(r^(t|~o))+n[3]+2399980690&4294967295)<<10&4294967295|i>>>22))+((i=o+(t^(a|~r))+n[10]+4293915773&4294967295)<<15&4294967295|i>>>17))+((i=r+(a^(o|~t))+n[1]+2240044497&4294967295)<<21&4294967295|i>>>11))+((i=t+(o^(r|~a))+n[8]+1873313359&4294967295)<<6&4294967295|i>>>26))+((i=a+(r^(t|~o))+n[15]+4264355552&4294967295)<<10&4294967295|i>>>22))+((i=o+(t^(a|~r))+n[6]+2734768916&4294967295)<<15&4294967295|i>>>17))+((i=r+(a^(o|~t))+n[13]+1309151649&4294967295)<<21&4294967295|i>>>11))+((a=(t=r+((i=t+(o^(r|~a))+n[4]+4149444226&4294967295)<<6&4294967295|i>>>26))+((i=a+(r^(t|~o))+n[11]+3174756917&4294967295)<<10&4294967295|i>>>22))^((o=a+((i=o+(t^(a|~r))+n[2]+718787259&4294967295)<<15&4294967295|i>>>17))|~t))+n[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(o+(i<<21&4294967295|i>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+a&4294967295}function a(e,t){this.h=t;for(var r=[],n=!0,o=e.length-1;0<=o;o--){var a=0|e[o];n&&a==t||(r[o]=a,n=!1)}this.g=r}!function(e,t){function r(){}r.prototype=t.prototype,e.D=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.C=function(e,r,n){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[r].apply(e,o)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,o=this.B,a=this.h,i=0;i<t;){if(0==a)for(;i<=n;)r(this,e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(o[a++]=e.charCodeAt(i++),a==this.blockSize){r(this,o),a=0;break}}else for(;i<t;)if(o[a++]=e[i++],a==this.blockSize){r(this,o),a=0;break}}this.h=a,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var r=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&r,r/=256;for(this.u(e),e=Array(16),t=r=0;4>t;++t)for(var n=0;32>n;n+=8)e[r++]=this.g[t]>>>n&255;return e};var s={};function l(e){return-128<=e&&128>e?function(e,t){var r=s;return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}(e,(function(e){return new a([0|e],0>e?-1:0)})):new a([0|e],0>e?-1:0)}function c(e){if(isNaN(e)||!isFinite(e))return u;if(0>e)return m(c(-e));for(var t=[],r=1,n=0;e>=r;n++)t[n]=e/r|0,r*=4294967296;return new a(t,0)}var u=l(0),d=l(1),h=l(16777216);function f(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function p(e){return-1==e.h}function m(e){for(var t=e.g.length,r=[],n=0;n<t;n++)r[n]=~e.g[n];return new a(r,~e.h).add(d)}function g(e,t){return e.add(m(t))}function v(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function w(e,t){if(f(t))throw Error("division by zero");if(f(e))return new y(u,u);if(p(e))return t=w(m(e),t),new y(m(t.g),m(t.h));if(p(t))return t=w(e,m(t)),new y(m(t.g),t.h);if(30<e.g.length){if(p(e)||p(t))throw Error("slowDivide_ only works with positive integers.");for(var r=d,n=t;0>=n.l(e);)r=b(r),n=b(n);var o=x(r,1),a=x(n,1);for(n=x(n,2),r=x(r,2);!f(n);){var i=a.add(n);0>=i.l(e)&&(o=o.add(r),a=i),n=x(n,1),r=x(r,1)}return t=g(e,o.j(t)),new y(o,t)}for(o=u;0<=e.l(t);){for(r=Math.max(1,Math.floor(e.m()/t.m())),n=48>=(n=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,n-48),i=(a=c(r)).j(t);p(i)||0<i.l(e);)i=(a=c(r-=n)).j(t);f(a)&&(a=d),o=o.add(a),e=g(e,i)}return new y(o,e)}function b(e){for(var t=e.g.length+1,r=[],n=0;n<t;n++)r[n]=e.i(n)<<1|e.i(n-1)>>>31;return new a(r,e.h)}function x(e,t){var r=t>>5;t%=32;for(var n=e.g.length-r,o=[],i=0;i<n;i++)o[i]=0<t?e.i(i+r)>>>t|e.i(i+r+1)<<32-t:e.i(i+r);return new a(o,e.h)}(e=a.prototype).m=function(){if(p(this))return-m(this).m();for(var e=0,t=1,r=0;r<this.g.length;r++){var n=this.i(r);e+=(0<=n?n:4294967296+n)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(f(this))return"0";if(p(this))return"-"+m(this).toString(e);for(var t=c(Math.pow(e,6)),r=this,n="";;){var o=w(r,t).g,a=((0<(r=g(r,o.j(t))).g.length?r.g[0]:r.h)>>>0).toString(e);if(f(r=o))return a+n;for(;6>a.length;)a="0"+a;n=a+n}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return p(e=g(this,e))?-1:f(e)?0:1},e.abs=function(){return p(this)?m(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0,o=0;o<=t;o++){var i=n+(65535&this.i(o))+(65535&e.i(o)),s=(i>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);n=s>>>16,i&=65535,s&=65535,r[o]=s<<16|i}return new a(r,-2147483648&r[r.length-1]?-1:0)},e.j=function(e){if(f(this)||f(e))return u;if(p(this))return p(e)?m(this).j(m(e)):m(m(this).j(e));if(p(e))return m(this.j(m(e)));if(0>this.l(h)&&0>e.l(h))return c(this.m()*e.m());for(var t=this.g.length+e.g.length,r=[],n=0;n<2*t;n++)r[n]=0;for(n=0;n<this.g.length;n++)for(var o=0;o<e.g.length;o++){var i=this.i(n)>>>16,s=65535&this.i(n),l=e.i(o)>>>16,d=65535&e.i(o);r[2*n+2*o]+=s*d,v(r,2*n+2*o),r[2*n+2*o+1]+=i*d,v(r,2*n+2*o+1),r[2*n+2*o+1]+=s*l,v(r,2*n+2*o+1),r[2*n+2*o+2]+=i*l,v(r,2*n+2*o+2)}for(n=0;n<t;n++)r[n]=r[2*n+1]<<16|r[2*n];for(n=t;n<2*t;n++)r[n]=0;return new a(r,0)},e.A=function(e){return w(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0;n<t;n++)r[n]=this.i(n)&e.i(n);return new a(r,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0;n<t;n++)r[n]=this.i(n)|e.i(n);return new a(r,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],n=0;n<t;n++)r[n]=this.i(n)^e.i(n);return new a(r,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,o=i.Md5=t,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=function e(t,r){if(0==t.length)throw Error("number format error: empty string");if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if("-"==t.charAt(0))return m(e(t.substring(1),r));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=c(Math.pow(r,8)),o=u,a=0;a<t.length;a+=8){var i=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+i),r);8>i?(i=c(Math.pow(r,i)),o=o.j(i).add(c(s))):o=(o=o.j(n)).add(c(s))}return o},n=i.Integer=a}).apply(void 0!==a?a:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},853:(e,t,r)=>{"use strict";r.d(t,{Ao:()=>c,Bx:()=>a,Jh:()=>l,O4:()=>i,ZS:()=>n,fF:()=>u,iO:()=>o,ro:()=>s});var n,o,a,i,s,l,c,u,d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},h={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){return e==Array.prototype||e==Object.prototype||(e[t]=r.value),e};var r=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof d&&d];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);!function(e,n){if(n)e:{var o=r;e=e.split(".");for(var a=0;a<e.length-1;a++){var i=e[a];if(!(i in o))break e;o=o[i]}(n=n(a=o[e=e[e.length-1]]))!=a&&null!=n&&t(o,e,{configurable:!0,writable:!0,value:n})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var r=0,n=!1,o={next:function(){if(!n&&r<e.length){var o=r++;return{value:t(o,e[o]),done:!1}}return n=!0,{done:!0,value:void 0}}};return o[Symbol.iterator]=function(){return o},o}(this,(function(e,t){return t}))}}));var f=f||{},p=this||self;function m(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function g(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function v(e,t,r){return e.call.apply(e.bind,arguments)}function y(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function w(e,t,r){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function b(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function x(e,t){function r(){}r.prototype=t.prototype,e.aa=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.Qb=function(e,r,n){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[r].apply(e,o)}}function E(e){const t=e.length;if(0<t){const r=Array(t);for(let n=0;n<t;n++)r[n]=e[n];return r}return[]}function k(e,t){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(m(r)){const t=e.length||0,n=r.length||0;e.length=t+n;for(let o=0;o<n;o++)e[t+o]=r[o]}else e.push(r)}}function S(e){return/^[\s\xa0]*$/.test(e)}function T(){var e=p.navigator;return e&&(e=e.userAgent)?e:""}function _(e){return _[" "](e),e}_[" "]=function(){};var A=!(-1==T().indexOf("Gecko")||-1!=T().toLowerCase().indexOf("webkit")&&-1==T().indexOf("Edge")||-1!=T().indexOf("Trident")||-1!=T().indexOf("MSIE")||-1!=T().indexOf("Edge"));function C(e,t,r){for(const n in e)t.call(r,e[n],n,e)}function N(e){const t={};for(const r in e)t[r]=e[r];return t}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(e,t){let r,n;for(let t=1;t<arguments.length;t++){for(r in n=arguments[t],n)e[r]=n[r];for(let t=0;t<I.length;t++)r=I[t],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}}function P(e){var t=1;e=e.split(":");const r=[];for(;0<t&&e.length;)r.push(e.shift()),t--;return e.length&&r.push(e.join(":")),r}function R(e){p.setTimeout((()=>{throw e}),0)}function D(){var e=j;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var L=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new M),(e=>e.reset()));class M{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let F,U=!1,j=new class{constructor(){this.h=this.g=null}add(e,t){const r=L.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},B=()=>{const e=p.Promise.resolve(void 0);F=()=>{e.then(z)}};var z=()=>{for(var e;e=D();){try{e.h.call(e.g)}catch(e){R(e)}var t=L;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}U=!1};function W(){this.s=this.s,this.C=this.C}function V(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},V.prototype.h=function(){this.defaultPrevented=!0};var H=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};p.addEventListener("test",e,t),p.removeEventListener("test",e,t)}catch(e){}return e}();function $(e,t){if(V.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var r=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(A){e:{try{_(t.nodeName);var o=!0;break e}catch(e){}o=!1}o||(t=null)}}else"mouseover"==r?t=e.fromElement:"mouseout"==r&&(t=e.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:G[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&$.aa.h.call(this)}}x($,V);var G={2:"touch",3:"pen",4:"mouse"};$.prototype.h=function(){$.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var K="closure_listenable_"+(1e6*Math.random()|0),q=0;function Y(e,t,r,n,o){this.listener=e,this.proxy=null,this.src=t,this.type=r,this.capture=!!n,this.ha=o,this.key=++q,this.da=this.fa=!1}function X(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Q(e){this.src=e,this.g={},this.h=0}function J(e,t){var r=t.type;if(r in e.g){var n,o=e.g[r],a=Array.prototype.indexOf.call(o,t,void 0);(n=0<=a)&&Array.prototype.splice.call(o,a,1),n&&(X(t),0==e.g[r].length&&(delete e.g[r],e.h--))}}function Z(e,t,r,n){for(var o=0;o<e.length;++o){var a=e[o];if(!a.da&&a.listener==t&&a.capture==!!r&&a.ha==n)return o}return-1}Q.prototype.add=function(e,t,r,n,o){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var i=Z(e,t,n,o);return-1<i?(t=e[i],r||(t.fa=!1)):((t=new Y(t,this.src,a,!!n,o)).fa=r,e.push(t)),t};var ee="closure_lm_"+(1e6*Math.random()|0),te={};function re(e,t,r,n,o){if(n&&n.once)return oe(e,t,r,n,o);if(Array.isArray(t)){for(var a=0;a<t.length;a++)re(e,t[a],r,n,o);return null}return r=de(r),e&&e[K]?e.K(t,r,g(n)?!!n.capture:!!n,o):ne(e,t,r,!1,n,o)}function ne(e,t,r,n,o,a){if(!t)throw Error("Invalid event type");var i=g(o)?!!o.capture:!!o,s=ce(e);if(s||(e[ee]=s=new Q(e)),(r=s.add(t,r,n,i,a)).proxy)return r;if(n=function(){function e(r){return t.call(e.src,e.listener,r)}const t=le;return e}(),r.proxy=n,n.src=e,n.listener=r,e.addEventListener)H||(o=i),void 0===o&&(o=!1),e.addEventListener(t.toString(),n,o);else if(e.attachEvent)e.attachEvent(se(t.toString()),n);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(n)}return r}function oe(e,t,r,n,o){if(Array.isArray(t)){for(var a=0;a<t.length;a++)oe(e,t[a],r,n,o);return null}return r=de(r),e&&e[K]?e.L(t,r,g(n)?!!n.capture:!!n,o):ne(e,t,r,!0,n,o)}function ae(e,t,r,n,o){if(Array.isArray(t))for(var a=0;a<t.length;a++)ae(e,t[a],r,n,o);else n=g(n)?!!n.capture:!!n,r=de(r),e&&e[K]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(r=Z(a=e.g[t],r,n,o))&&(X(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ce(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Z(t,r,n,o)),(r=-1<e?t[e]:null)&&ie(r))}function ie(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[K])J(t.i,e);else{var r=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(r,n,e.capture):t.detachEvent?t.detachEvent(se(r),n):t.addListener&&t.removeListener&&t.removeListener(n),(r=ce(t))?(J(r,e),0==r.h&&(r.src=null,t[ee]=null)):X(e)}}}function se(e){return e in te?te[e]:te[e]="on"+e}function le(e,t){if(e.da)e=!0;else{t=new $(t,this);var r=e.listener,n=e.ha||e.src;e.fa&&ie(e),e=r.call(n,t)}return e}function ce(e){return(e=e[ee])instanceof Q?e:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function de(e){return"function"==typeof e?e:(e[ue]||(e[ue]=function(t){return e.handleEvent(t)}),e[ue])}function he(){W.call(this),this.i=new Q(this),this.M=this,this.F=null}function fe(e,t){var r,n=e.F;if(n)for(r=[];n;n=n.F)r.push(n);if(e=e.M,n=t.type||t,"string"==typeof t)t=new V(t,e);else if(t instanceof V)t.target=t.target||e;else{var o=t;O(t=new V(n,e),o)}if(o=!0,r)for(var a=r.length-1;0<=a;a--){var i=t.g=r[a];o=pe(i,n,!0,t)&&o}if(o=pe(i=t.g=e,n,!0,t)&&o,o=pe(i,n,!1,t)&&o,r)for(a=0;a<r.length;a++)o=pe(i=t.g=r[a],n,!1,t)&&o}function pe(e,t,r,n){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,a=0;a<t.length;++a){var i=t[a];if(i&&!i.da&&i.capture==r){var s=i.listener,l=i.ha||i.src;i.fa&&J(e.i,i),o=!1!==s.call(l,n)&&o}}return o&&!n.defaultPrevented}function me(e,t,r){if("function"==typeof e)r&&(e=w(e,r));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=w(e.handleEvent,e)}return 2147483647<Number(t)?-1:p.setTimeout(e,t||0)}function ge(e){e.g=me((()=>{e.g=null,e.i&&(e.i=!1,ge(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}x(he,W),he.prototype[K]=!0,he.prototype.removeEventListener=function(e,t,r,n){ae(this,e,t,r,n)},he.prototype.N=function(){if(he.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var r=t.g[e],n=0;n<r.length;n++)X(r[n]);delete t.g[e],t.h--}}this.F=null},he.prototype.K=function(e,t,r,n){return this.i.add(String(e),t,!1,r,n)},he.prototype.L=function(e,t,r,n){return this.i.add(String(e),t,!0,r,n)};class ve extends W{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ge(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ye(e){W.call(this),this.h=e,this.g={}}x(ye,W);var we=[];function be(e){C(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ie(e)}),e),e.g={}}ye.prototype.N=function(){ye.aa.N.call(this),be(this)},ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xe=p.JSON.stringify,Ee=p.JSON.parse,ke=class{stringify(e){return p.JSON.stringify(e,void 0)}parse(e){return p.JSON.parse(e,void 0)}};function Se(){}function Te(e){return e.h||(e.h=e.i())}function _e(){}Se.prototype.h=null;var Ae={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ce(){V.call(this,"d")}function Ne(){V.call(this,"c")}x(Ce,V),x(Ne,V);var Ie={},Oe=null;function Pe(){return Oe=Oe||new he}function Re(e){V.call(this,Ie.La,e)}function De(e){const t=Pe();fe(t,new Re(t))}function Le(e,t){V.call(this,Ie.STAT_EVENT,e),this.stat=t}function Me(e){const t=Pe();fe(t,new Le(t,e))}function Fe(e,t){V.call(this,Ie.Ma,e),this.size=t}function Ue(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return p.setTimeout((function(){e()}),t)}function je(){this.g=!0}function Be(e,t,r,n){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var r=JSON.parse(t);if(r)for(e=0;e<r.length;e++)if(Array.isArray(r[e])){var n=r[e];if(!(2>n.length)){var o=n[1];if(Array.isArray(o)&&!(1>o.length)){var a=o[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var i=1;i<o.length;i++)o[i]=""}}}return xe(r)}catch(e){return t}}(e,r)+(n?" "+n:"")}))}Ie.La="serverreachability",x(Re,V),Ie.STAT_EVENT="statevent",x(Le,V),Ie.Ma="timingevent",x(Fe,V),je.prototype.xa=function(){this.g=!1},je.prototype.info=function(){};var ze,We={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ve={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function He(){}function $e(e,t,r,n){this.j=e,this.i=t,this.l=r,this.R=n||1,this.U=new ye(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ge}function Ge(){this.i=null,this.g="",this.h=!1}x(He,Se),He.prototype.g=function(){return new XMLHttpRequest},He.prototype.i=function(){return{}},ze=new He;var Ke={},qe={};function Ye(e,t,r){e.L=1,e.v=xt(gt(t)),e.m=r,e.P=!0,Xe(e,null)}function Xe(e,t){e.F=Date.now(),Ze(e),e.A=gt(e.v);var r=e.A,n=e.R;Array.isArray(n)||(n=[String(n)]),Lt(r.i,"t",n),e.C=0,r=e.j.J,e.h=new Ge,e.g=Er(e.j,r?t:null,!e.m),0<e.O&&(e.M=new ve(w(e.Y,e,e.g),e.O)),t=e.U,r=e.g,n=e.ca;var o="readystatechange";Array.isArray(o)||(o&&(we[0]=o.toString()),o=we);for(var a=0;a<o.length;a++){var i=re(r,o[a],n||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}t=e.H?N(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),De(),function(e,t,r,n,o,a){e.info((function(){if(e.g)if(a)for(var i="",s=a.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");i=2<=d.length&&"type"==d[1]?i+(u+"=")+c+"&":i+(u+"=redacted&")}}else i=null;else i=a;return"XMLHTTP REQ ("+n+") [attempt "+o+"]: "+t+"\n"+r+"\n"+i}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Qe(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Je(e,t){var r=e.C,n=t.indexOf("\n",r);return-1==n?qe:(r=Number(t.substring(r,n)),isNaN(r)?Ke:(n+=1)+r>t.length?qe:(t=t.slice(n,n+r),e.C=n+r,t))}function Ze(e){e.S=Date.now()+e.I,et(e,e.I)}function et(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ue(w(e.ba,e),t)}function tt(e){e.B&&(p.clearTimeout(e.B),e.B=null)}function rt(e){0==e.j.G||e.J||vr(e.j,e)}function nt(e){tt(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,be(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function ot(e,t){try{var r=e.j;if(0!=r.G&&(r.g==e||ct(r.h,e)))if(!e.K&&ct(r.h,e)&&3==r.G){try{var n=r.Da.g.parse(t)}catch(e){n=null}if(Array.isArray(n)&&3==n.length){var o=n;if(0==o[0]){e:if(!r.u){if(r.g){if(!(r.g.F+3e3<e.F))break e;gr(r),ir(r)}fr(r),Me(18)}}else r.za=o[1],0<r.za-r.T&&37500>o[2]&&r.F&&0==r.v&&!r.C&&(r.C=Ue(w(r.Za,r),6e3));if(1>=lt(r.h)&&r.ca){try{r.ca()}catch(e){}r.ca=void 0}}else wr(r,11)}else if((e.K||r.g==e)&&gr(r),!S(t))for(o=r.Da.g.parse(t),t=0;t<o.length;t++){let c=o[t];if(r.T=c[0],c=c[1],2==r.G)if("c"==c[0]){r.K=c[1],r.ia=c[2];const t=c[3];null!=t&&(r.la=t,r.j.info("VER="+r.la));const o=c[4];null!=o&&(r.Aa=o,r.j.info("SVER="+r.Aa));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(n=1.5*u,r.L=n,r.j.info("backChannelRequestTimeoutMs_="+n)),n=r;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=n.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(ut(a,a.h),a.h=null))}if(n.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(n.ya=e,bt(n.I,n.D,e))}}r.G=3,r.l&&r.l.ua(),r.ba&&(r.R=Date.now()-e.F,r.j.info("Handshake RTT: "+r.R+"ms"));var i=e;if((n=r).qa=xr(n,n.J?n.ia:null,n.W),i.K){dt(n.h,i);var s=i,l=n.L;l&&(s.I=l),s.B&&(tt(s),Ze(s)),n.g=i}else hr(n);0<r.i.length&&lr(r)}else"stop"!=c[0]&&"close"!=c[0]||wr(r,7);else 3==r.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?wr(r,7):ar(r):"noop"!=c[0]&&r.l&&r.l.ta(c),r.v=0)}De()}catch(e){}}$e.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==tr(e)?t.j():this.Y(e)},$e.prototype.Y=function(e){try{if(e==this.g)e:{const d=tr(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||rr(this.g)))){this.J||4!=d||7==t||De(),tt(this);var r=this.g.Z();this.X=r;t:if(Qe(this)){var n=rr(this.g);e="";var o=n.length,a=4==tr(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){nt(this),rt(this);var i="";break t}this.h.i=new p.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(n[t],{stream:!(a&&t==o-1)});n.length=0,this.h.g+=e,this.C=0,i=this.h.g}else i=this.g.oa();if(this.o=200==r,function(e,t,r,n,o,a,i){e.info((function(){return"XMLHTTP RESP ("+n+") [ attempt "+o+"]: "+t+"\n"+r+"\n"+a+" "+i}))}(this.i,this.u,this.A,this.l,this.R,d,r),this.o){if(this.T&&!this.K){t:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(s)){var c=s;break t}}c=null}if(!(r=c)){this.o=!1,this.s=3,Me(12),nt(this),rt(this);break e}Be(this.i,this.l,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ot(this,r)}if(this.P){let e;for(r=!0;!this.J&&this.C<i.length;){if(e=Je(this,i),e==qe){4==d&&(this.s=4,Me(14),r=!1),Be(this.i,this.l,null,"[Incomplete Response]");break}if(e==Ke){this.s=4,Me(15),Be(this.i,this.l,i,"[Invalid Chunk]"),r=!1;break}Be(this.i,this.l,e,null),ot(this,e)}if(Qe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=i.length||this.h.h||(this.s=1,Me(16),r=!1),this.o=this.o&&r,r){if(0<i.length&&!this.W){this.W=!0;var u=this.j;u.g==this&&u.ba&&!u.M&&(u.j.info("Great, no buffering proxy detected. Bytes received: "+i.length),pr(u),u.M=!0,Me(11))}}else Be(this.i,this.l,i,"[Invalid Chunked Response]"),nt(this),rt(this)}else Be(this.i,this.l,i,null),ot(this,i);4==d&&nt(this),this.o&&!this.J&&(4==d?vr(this.j,this):(this.o=!1,Ze(this)))}else(function(e){const t={};e=(e.g&&2<=tr(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let n=0;n<e.length;n++){if(S(e[n]))continue;var r=P(e[n]);const o=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();const a=t[o]||[];t[o]=a,a.push(r)}!function(e,t){for(const r in e)t.call(void 0,e[r],r,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<i.indexOf("Unknown SID")?(this.s=3,Me(12)):(this.s=0,Me(13)),nt(this),rt(this)}}}catch(e){}},$e.prototype.cancel=function(){this.J=!0,nt(this)},$e.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(De(),Me(17)),nt(this),this.s=2,rt(this)):et(this,this.S-e)};var at=class{constructor(e,t){this.g=e,this.map=t}};function it(e){this.l=e||10,p.PerformanceNavigationTiming?e=0<(e=p.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function st(e){return!!e.h||!!e.g&&e.g.size>=e.j}function lt(e){return e.h?1:e.g?e.g.size:0}function ct(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ut(e,t){e.g?e.g.add(t):e.h=t}function dt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ht(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const r of e.g.values())t=t.concat(r.D);return t}return E(e.i)}function ft(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(m(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var r=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(m(e)||"string"==typeof e){var t=[];e=e.length;for(var r=0;r<e;r++)t.push(r);return t}t=[],r=0;for(const n in e)t[r++]=n;return t}}}(e),n=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(m(e)){for(var t=[],r=e.length,n=0;n<r;n++)t.push(e[n]);return t}for(n in t=[],r=0,e)t[r++]=e[n];return t}(e),o=n.length,a=0;a<o;a++)t.call(void 0,n[a],r&&r[a],e)}it.prototype.cancel=function(){if(this.i=ht(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var pt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof mt){this.h=e.h,vt(this,e.j),this.o=e.o,this.g=e.g,yt(this,e.s),this.l=e.l;var t=e.i,r=new Ot;r.i=t.i,t.g&&(r.g=new Map(t.g),r.h=t.h),wt(this,r),this.m=e.m}else e&&(t=String(e).match(pt))?(this.h=!1,vt(this,t[1]||"",!0),this.o=Et(t[2]||""),this.g=Et(t[3]||"",!0),yt(this,t[4]),this.l=Et(t[5]||"",!0),wt(this,t[6]||"",!0),this.m=Et(t[7]||"")):(this.h=!1,this.i=new Ot(null,this.h))}function gt(e){return new mt(e)}function vt(e,t,r){e.j=r?Et(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function yt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function wt(e,t,r){t instanceof Ot?(e.i=t,function(e,t){t&&!e.j&&(Pt(e),e.i=null,e.g.forEach((function(e,t){var r=t.toLowerCase();t!=r&&(Rt(this,t),Lt(this,r,e))}),e)),e.j=t}(e.i,e.h)):(r||(t=kt(t,Nt)),e.i=new Ot(t,e.h))}function bt(e,t,r){e.i.set(t,r)}function xt(e){return bt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Et(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function kt(e,t,r){return"string"==typeof e?(e=encodeURI(e).replace(t,St),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function St(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}mt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(kt(t,_t,!0),":");var r=this.g;return(r||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(kt(t,_t,!0),"@"),e.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.s)&&e.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&e.push("/"),e.push(kt(r,"/"==r.charAt(0)?Ct:At,!0))),(r=this.i.toString())&&e.push("?",r),(r=this.m)&&e.push("#",kt(r,It)),e.join("")};var Tt,_t=/[#\/\?@]/g,At=/[#\?:]/g,Ct=/[#\?]/g,Nt=/[#\?@]/g,It=/#/g;function Ot(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Pt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var r=0;r<e.length;r++){var n=e[r].indexOf("="),o=null;if(0<=n){var a=e[r].substring(0,n);o=e[r].substring(n+1)}else a=e[r];t(a,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,(function(t,r){e.add(decodeURIComponent(t.replace(/\+/g," ")),r)})))}function Rt(e,t){Pt(e),t=Mt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Dt(e,t){return Pt(e),t=Mt(e,t),e.g.has(t)}function Lt(e,t,r){Rt(e,t),0<r.length&&(e.i=null,e.g.set(Mt(e,t),E(r)),e.h+=r.length)}function Mt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ft(e,t,r,n,o){try{o&&(o.onload=null,o.onerror=null,o.onabort=null,o.ontimeout=null),n(r)}catch(e){}}function Ut(){this.g=new ke}function jt(e,t,r){const n=r||"";try{ft(e,(function(e,r){let o=e;g(e)&&(o=xe(e)),t.push(n+r+"="+encodeURIComponent(o))}))}catch(e){throw t.push(n+"type="+encodeURIComponent("_badmap")),e}}function Bt(e){this.l=e.Ub||null,this.j=e.eb||!1}function zt(e,t){he.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Wt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Vt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Ht(e)}function Ht(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function $t(e){let t="";return C(e,(function(e,r){t+=r,t+=":",t+=e,t+="\r\n"})),t}function Gt(e,t,r){e:{for(n in r){var n=!1;break e}n=!0}n||(r=$t(r),"string"==typeof e?null!=r&&encodeURIComponent(String(r)):bt(e,t,r))}function Kt(e){he.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Ot.prototype).add=function(e,t){Pt(this),this.i=null,e=Mt(this,e);var r=this.g.get(e);return r||this.g.set(e,r=[]),r.push(t),this.h+=1,this},e.forEach=function(e,t){Pt(this),this.g.forEach((function(r,n){r.forEach((function(r){e.call(t,r,n,this)}),this)}),this)},e.na=function(){Pt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),r=[];for(let n=0;n<t.length;n++){const o=e[n];for(let e=0;e<o.length;e++)r.push(t[n])}return r},e.V=function(e){Pt(this);let t=[];if("string"==typeof e)Dt(this,e)&&(t=t.concat(this.g.get(Mt(this,e))));else{e=Array.from(this.g.values());for(let r=0;r<e.length;r++)t=t.concat(e[r])}return t},e.set=function(e,t){return Pt(this),this.i=null,Dt(this,e=Mt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var r=0;r<t.length;r++){var n=t[r];const a=encodeURIComponent(String(n)),i=this.V(n);for(n=0;n<i.length;n++){var o=a;""!==i[n]&&(o+="="+encodeURIComponent(String(i[n]))),e.push(o)}}return this.i=e.join("&")},x(Bt,Se),Bt.prototype.g=function(){return new zt(this.l,this.j)},Bt.prototype.i=(Tt={},function(){return Tt}),x(zt,he),(e=zt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Ht(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||p).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ht(this)),this.g&&(this.readyState=3,Ht(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==p.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Vt(this):Ht(this),3==this.readyState&&Wt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Vt(this))},e.Qa=function(e){this.g&&(this.response=e,Vt(this))},e.ga=function(){this.g&&Vt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var r=t.next();!r.done;)r=r.value,e.push(r[0]+": "+r[1]),r=t.next();return e.join("\r\n")},Object.defineProperty(zt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),x(Kt,he);var qt=/^https?$/i,Yt=["POST","PUT"];function Xt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Qt(e),Zt(e)}function Qt(e){e.A||(e.A=!0,fe(e,"complete"),fe(e,"error"))}function Jt(e){if(e.h&&void 0!==f&&(!e.v[1]||4!=tr(e)||2!=e.Z()))if(e.u&&4==tr(e))me(e.Ea,0,e);else if(fe(e,"readystatechange"),4==tr(e)){e.h=!1;try{const i=e.Z();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var r;if(!(r=t)){var n;if(n=0===i){var o=String(e.D).match(pt)[1]||null;!o&&p.self&&p.self.location&&(o=p.self.location.protocol.slice(0,-1)),n=!qt.test(o?o.toLowerCase():"")}r=n}if(r)fe(e,"complete"),fe(e,"success");else{e.m=6;try{var a=2<tr(e)?e.g.statusText:""}catch(e){a=""}e.l=a+" ["+e.Z()+"]",Qt(e)}}finally{Zt(e)}}}function Zt(e,t){if(e.g){er(e);const r=e.g,n=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||fe(e,"ready");try{r.onreadystatechange=n}catch(e){}}}function er(e){e.I&&(p.clearTimeout(e.I),e.I=null)}function tr(e){return e.g?e.g.readyState:0}function rr(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function nr(e,t,r){return r&&r.internalChannelParams&&r.internalChannelParams[e]||t}function or(e){this.Aa=0,this.i=[],this.j=new je,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=nr("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=nr("baseRetryDelayMs",5e3,e),this.cb=nr("retryDelaySeedMs",1e4,e),this.Wa=nr("forwardChannelMaxRetries",2,e),this.wa=nr("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new it(e&&e.concurrentRequestLimit),this.Da=new Ut,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function ar(e){if(sr(e),3==e.G){var t=e.U++,r=gt(e.I);if(bt(r,"SID",e.K),bt(r,"RID",t),bt(r,"TYPE","terminate"),ur(e,r),(t=new $e(e,e.j,t)).L=2,t.v=xt(gt(r)),r=!1,p.navigator&&p.navigator.sendBeacon)try{r=p.navigator.sendBeacon(t.v.toString(),"")}catch(e){}!r&&p.Image&&((new Image).src=t.v,r=!0),r||(t.g=Er(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ze(t)}br(e)}function ir(e){e.g&&(pr(e),e.g.cancel(),e.g=null)}function sr(e){ir(e),e.u&&(p.clearTimeout(e.u),e.u=null),gr(e),e.h.cancel(),e.s&&("number"==typeof e.s&&p.clearTimeout(e.s),e.s=null)}function lr(e){if(!st(e.h)&&!e.s){e.s=!0;var t=e.Ga;F||B(),U||(F(),U=!0),j.add(t,e),e.B=0}}function cr(e,t){var r;r=t?t.l:e.U++;const n=gt(e.I);bt(n,"SID",e.K),bt(n,"RID",r),bt(n,"AID",e.T),ur(e,n),e.m&&e.o&&Gt(n,e.m,e.o),r=new $e(e,e.j,r,e.B+1),null===e.m&&(r.H=e.o),t&&(e.i=t.D.concat(e.i)),t=dr(e,r,1e3),r.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),ut(e.h,r),Ye(r,n,t)}function ur(e,t){e.H&&C(e.H,(function(e,r){bt(t,r,e)})),e.l&&ft({},(function(e,r){bt(t,r,e)}))}function dr(e,t,r){r=Math.min(e.i.length,r);var n=e.l?w(e.l.Na,e.l,e):null;e:{var o=e.i;let t=-1;for(;;){const e=["count="+r];-1==t?0<r?(t=o[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let i=0;i<r;i++){let r=o[i].g;const s=o[i].map;if(r-=t,0>r)t=Math.max(0,o[i].g-100),a=!1;else try{jt(s,e,"req"+r+"_")}catch(e){n&&n(s)}}if(a){n=e.join("&");break e}}}return e=e.i.splice(0,r),t.D=e,n}function hr(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;F||B(),U||(F(),U=!0),j.add(t,e),e.v=0}}function fr(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ue(w(e.Fa,e),yr(e,e.v)),e.v++,!0)}function pr(e){null!=e.A&&(p.clearTimeout(e.A),e.A=null)}function mr(e){e.g=new $e(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=gt(e.qa);bt(t,"RID","rpc"),bt(t,"SID",e.K),bt(t,"AID",e.T),bt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&bt(t,"TO",e.ja),bt(t,"TYPE","xmlhttp"),ur(e,t),e.m&&e.o&&Gt(t,e.m,e.o),e.L&&(e.g.I=e.L);var r=e.g;e=e.ia,r.L=1,r.v=xt(gt(t)),r.m=null,r.P=!0,Xe(r,e)}function gr(e){null!=e.C&&(p.clearTimeout(e.C),e.C=null)}function vr(e,t){var r=null;if(e.g==t){gr(e),pr(e),e.g=null;var n=2}else{if(!ct(e.h,t))return;r=t.D,dt(e.h,t),n=1}if(0!=e.G)if(t.o)if(1==n){r=t.m?t.m.length:0,t=Date.now()-t.F;var o=e.B;fe(n=Pe(),new Fe(n,r)),lr(e)}else hr(e);else if(3==(o=t.s)||0==o&&0<t.X||!(1==n&&function(e,t){return!(lt(e.h)>=e.h.j-(e.s?1:0)||(e.s?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa)||(e.s=Ue(w(e.Ga,e,t),yr(e,e.B)),e.B++,0)))}(e,t)||2==n&&fr(e)))switch(r&&0<r.length&&(t=e.h,t.i=t.i.concat(r)),o){case 1:wr(e,5);break;case 4:wr(e,10);break;case 3:wr(e,6);break;default:wr(e,2)}}function yr(e,t){let r=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(r*=2),r*t}function wr(e,t){if(e.j.info("Error code "+t),2==t){var r=w(e.fb,e),n=e.Xa;const t=!n;n=new mt(n||"//www.google.com/images/cleardot.gif"),p.location&&"http"==p.location.protocol||vt(n,"https"),xt(n),t?function(e,t){const r=new je;if(p.Image){const n=new Image;n.onload=b(Ft,r,"TestLoadImage: loaded",!0,t,n),n.onerror=b(Ft,r,"TestLoadImage: error",!1,t,n),n.onabort=b(Ft,r,"TestLoadImage: abort",!1,t,n),n.ontimeout=b(Ft,r,"TestLoadImage: timeout",!1,t,n),p.setTimeout((function(){n.ontimeout&&n.ontimeout()}),1e4),n.src=e}else t(!1)}(n.toString(),r):function(e,t){new je;const r=new AbortController,n=setTimeout((()=>{r.abort(),Ft(0,0,!1,t)}),1e4);fetch(e,{signal:r.signal}).then((e=>{clearTimeout(n),e.ok?Ft(0,0,!0,t):Ft(0,0,!1,t)})).catch((()=>{clearTimeout(n),Ft(0,0,!1,t)}))}(n.toString(),r)}else Me(2);e.G=0,e.l&&e.l.sa(t),br(e),sr(e)}function br(e){if(e.G=0,e.ka=[],e.l){const t=ht(e.h);0==t.length&&0==e.i.length||(k(e.ka,t),k(e.ka,e.i),e.h.i.length=0,E(e.i),e.i.length=0),e.l.ra()}}function xr(e,t,r){var n=r instanceof mt?gt(r):new mt(r);if(""!=n.g)t&&(n.g=t+"."+n.g),yt(n,n.s);else{var o=p.location;n=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var a=new mt(null);n&&vt(a,n),t&&(a.g=t),o&&yt(a,o),r&&(a.l=r),n=a}return r=e.D,t=e.ya,r&&t&&bt(n,r,t),bt(n,"VER",e.la),ur(e,n),n}function Er(e,t,r){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Kt(new Bt({eb:r})):new Kt(e.pa)).Ha(e.J),t}function kr(){}function Sr(){}function Tr(e,t){he.call(this),this.g=new or(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!S(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!S(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Cr(this)}function _r(e){Ce.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const r in t){e=r;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ar(){Ne.call(this),this.status=1}function Cr(e){this.g=e}(e=Kt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,r,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ze.g(),this.v=this.o?Te(this.o):Te(ze),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(e){return void Xt(this,e)}if(e=r||"",r=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var o in n)r.set(o,n[o]);else{if("function"!=typeof n.keys||"function"!=typeof n.get)throw Error("Unknown input type for opt_headers: "+String(n));for(const e of n.keys())r.set(e,n.get(e))}n=Array.from(r.keys()).find((e=>"content-type"==e.toLowerCase())),o=p.FormData&&e instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Yt,t,void 0))||n||o||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[e,t]of r)this.g.setRequestHeader(e,t);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{er(this),this.u=!0,this.g.send(e),this.u=!1}catch(e){Xt(this,e)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,fe(this,"complete"),fe(this,"abort"),Zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),Kt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Jt(this):this.bb())},e.bb=function(){Jt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<tr(this)?this.g.status:-1}catch(e){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ee(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=or.prototype).la=8,e.G=1,e.connect=function(e,t,r,n){Me(0),this.W=e,this.H=t||{},r&&void 0!==n&&(this.H.OSID=r,this.H.OAID=n),this.F=this.X,this.I=xr(this,null,this.W),lr(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const o=new $e(this,this.j,e);let a=this.o;if(this.S&&(a?(a=N(a),O(a,this.S)):a=this.S),null!==this.m||this.O||(o.H=a,a=null),this.P)e:{for(var t=0,r=0;r<this.i.length;r++){var n=this.i[r];if(void 0===(n="__data__"in n.map&&"string"==typeof(n=n.map.__data__)?n.length:void 0))break;if(4096<(t+=n)){t=r;break e}if(4096===t||r===this.i.length-1){t=r+1;break e}}t=1e3}else t=1e3;t=dr(this,o,t),bt(r=gt(this.I),"RID",e),bt(r,"CVER",22),this.D&&bt(r,"X-HTTP-Session-Id",this.D),ur(this,r),a&&(this.O?t="headers="+encodeURIComponent(String($t(a)))+"&"+t:this.m&&Gt(r,this.m,a)),ut(this.h,o),this.Ua&&bt(r,"TYPE","init"),this.P?(bt(r,"$req",t),bt(r,"SID","null"),o.T=!0,Ye(o,r,null)):Ye(o,r,t),this.G=2}}else 3==this.G&&(e?cr(this,e):0==this.i.length||st(this.h)||cr(this))},e.Fa=function(){if(this.u=null,mr(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ue(w(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Me(10),ir(this),mr(this))},e.Za=function(){null!=this.C&&(this.C=null,ir(this),fr(this),Me(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=kr.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},Sr.prototype.g=function(e,t){return new Tr(e,t)},x(Tr,he),Tr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tr.prototype.close=function(){ar(this.g)},Tr.prototype.o=function(e){var t=this.g;if("string"==typeof e){var r={};r.__data__=e,e=r}else this.u&&((r={}).__data__=xe(e),e=r);t.i.push(new at(t.Ya++,e)),3==t.G&&lr(t)},Tr.prototype.N=function(){this.g.l=null,delete this.j,ar(this.g),delete this.g,Tr.aa.N.call(this)},x(_r,Ce),x(Ar,Ne),x(Cr,kr),Cr.prototype.ua=function(){fe(this.g,"a")},Cr.prototype.ta=function(e){fe(this.g,new _r(e))},Cr.prototype.sa=function(e){fe(this.g,new Ar)},Cr.prototype.ra=function(){fe(this.g,"b")},Sr.prototype.createWebChannel=Sr.prototype.g,Tr.prototype.send=Tr.prototype.o,Tr.prototype.open=Tr.prototype.m,Tr.prototype.close=Tr.prototype.close,u=h.createWebChannelTransport=function(){return new Sr},c=h.getStatEventTarget=function(){return Pe()},l=h.Event=Ie,s=h.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},We.NO_ERROR=0,We.TIMEOUT=8,We.HTTP_ERROR=6,i=h.ErrorCode=We,Ve.COMPLETE="complete",a=h.EventType=Ve,_e.EventType=Ae,Ae.OPEN="a",Ae.CLOSE="b",Ae.ERROR="c",Ae.MESSAGE="d",he.prototype.listen=he.prototype.K,o=h.WebChannel=_e,h.FetchXmlHttpFactory=Bt,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,n=h.XhrIo=Kt}).apply(void 0!==d?d:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},223:(e,t,r)=>{"use strict";r.d(t,{Sx:()=>n.Sx,Wp:()=>n.Wp});var n=r(461);(0,n.KO)("firebase","11.6.0","app")},908:(e,t,r)=>{"use strict";r.d(t,{CI:()=>n.CI,F0:()=>n.F0,HF:()=>n.HF,J1:()=>n.J1,eJ:()=>n.eJ,eN:()=>n.eN,hg:()=>n.hg,oM:()=>n.oM,p9:()=>n.p9,x9:()=>n.x9,xI:()=>n.xI});var n=r(27)},405:(e,t,r)=>{"use strict";r.d(t,{BN:()=>n.BN,GG:()=>n.GG,H9:()=>n.H9,My:()=>n.My,O5:()=>n.O5,P:()=>n.P,_M:()=>n._M,aU:()=>n.aU,gS:()=>n.gS,kd:()=>n.kd,mZ:()=>n.mZ,rJ:()=>n.rJ,x7:()=>n.x7});var n=r(790)},602:(e,t,r)=>{"use strict";r.d(t,{P2:()=>o});var n=r(500);function o(e,t,{blocked:r,upgrade:o,blocking:a,terminated:i}={}){const s=indexedDB.open(e,t),l=(0,n.w)(s);return o&&s.addEventListener("upgradeneeded",(e=>{o((0,n.w)(s.result),e.oldVersion,e.newVersion,(0,n.w)(s.transaction),e)})),r&&s.addEventListener("blocked",(e=>r(e.oldVersion,e.newVersion,e))),l.then((e=>{i&&e.addEventListener("close",(()=>i())),a&&e.addEventListener("versionchange",(e=>a(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),l}const a=["get","getKey","getAll","getAllKeys","count"],i=["put","add","delete","clear"],s=new Map;function l(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(s.get(t))return s.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,o=i.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!o&&!a.includes(r))return;const l=async function(e,...t){const a=this.transaction(e,o?"readwrite":"readonly");let i=a.store;return n&&(i=i.index(t.shift())),(await Promise.all([i[r](...t),o&&a.done]))[0]};return s.set(t,l),l}(0,n.r)((e=>({...e,get:(t,r,n)=>l(t,r)||e.get(t,r,n),has:(t,r)=>!!l(t,r)||e.has(t,r)})))},500:(e,t,r)=>{"use strict";r.d(t,{r:()=>h,w:()=>m});const n=(e,t)=>t.some((t=>e instanceof t));let o,a;const i=new WeakMap,s=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap;let d={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return s.get(e);if("objectStoreNames"===t)return e.objectStoreNames||l.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return m(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function h(e){d=e(d)}function f(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(g(this),t),m(i.get(this))}:function(...t){return m(e.apply(g(this),t))}:function(t,...r){const n=e.call(g(this),t,...r);return l.set(n,t.sort?t.sort():[t]),m(n)}}function p(e){return"function"==typeof e?f(e):(e instanceof IDBTransaction&&function(e){if(s.has(e))return;const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{t(),n()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)}));s.set(e,t)}(e),n(e,o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,d):e)}function m(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{t(m(e.result)),n()},a=()=>{r(e.error),n()};e.addEventListener("success",o),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&i.set(t,e)})).catch((()=>{})),u.set(t,e),t}(e);if(c.has(e))return c.get(e);const t=p(e);return t!==e&&(c.set(e,t),u.set(t,e)),t}const g=e=>u.get(e)},635:(e,t,r)=>{"use strict";r.d(t,{Tt:()=>n});function n(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={id:n,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nc=void 0,(()=>{"use strict";var e=r(540),t=r(338);Math.pow(10,8);const n=6048e5,o=Symbol.for("constructDateFrom");function a(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&o in e?e[o](t):e instanceof Date?new e.constructor(t):new Date(t)}function i(e,t){return a(t||e,e)}function s(e,t){const r=i(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function l(e,t){const r=i(e,t?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function c(e,t,r){const n=i(e,r?.in);return isNaN(t)?a(r?.in||e,NaN):t?(n.setDate(n.getDate()+t),n):n}function u(e,t){return i(e,t?.in).getDay()}function d(e,...t){const r=a.bind(null,e||t.find((e=>"object"==typeof e)));return t.map(r)}function h(e,t){const{start:r,end:n}=function(e,t){const[r,n]=d(e,t.start,t.end);return{start:r,end:n}}(t?.in,e);let o=+r>+n;const i=o?+r:+n,s=o?n:r;s.setHours(0,0,0,0);let l=t?.step??1;if(!l)return[];l<0&&(l=-l,o=!o);const c=[];for(;+s<=i;)c.push(a(r,s)),s.setDate(s.getDate()+l),s.setHours(0,0,0,0);return o?c.reverse():c}function f(e,t,r){const n=i(e,r?.in);if(isNaN(t))return a(r?.in||e,NaN);if(!t)return n;const o=n.getDate(),s=a(r?.in||e,n.getTime());s.setMonth(n.getMonth()+t+1,0);return o>=s.getDate()?s:(n.setFullYear(s.getFullYear(),s.getMonth(),o),n)}const p={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function m(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const g={date:m({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:m({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:m({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},v={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function y(e){return(t,r)=>{let n;if("formatting"===(r?.context?String(r.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,o=r?.width?String(r.width):t;n=e.formattingValues[o]||e.formattingValues[t]}else{const t=e.defaultWidth,o=r?.width?String(r.width):e.defaultWidth;n=e.values[o]||e.values[t]}return n[e.argumentCallback?e.argumentCallback(t):t]}}function w(e){return(t,r={})=>{const n=r.width,o=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(o);if(!a)return null;const i=a[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?function(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r;return}(s,(e=>e.test(i))):function(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r;return}(s,(e=>e.test(i)));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;return{value:c,rest:t.slice(i.length)}}}var b;const x={code:"en-US",formatDistance:(e,t,r)=>{let n;const o=p[e];return n="string"==typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},formatLong:g,formatRelative:(e,t,r,n)=>v[e],localize:{ordinalNumber:(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:y({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:y({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:y({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:y({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:y({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(b={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{const r=e.match(b.matchPattern);if(!r)return null;const n=r[0],o=e.match(b.parsePattern);if(!o)return null;let a=b.valueCallback?b.valueCallback(o[0]):o[0];return a=t.valueCallback?t.valueCallback(a):a,{value:a,rest:e.slice(n.length)}}),era:w({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:w({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:w({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:w({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:w({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let E={};function k(){return E}function S(e){const t=i(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function T(e,t){const r=i(e,t?.in);return r.setHours(0,0,0,0),r}function _(e,t,r){const[n,o]=d(r?.in,e,t),a=T(n),i=T(o),s=+a-S(a),l=+i-S(i);return Math.round((s-l)/864e5)}function A(e,t){const r=i(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function C(e,t){const r=i(e,t?.in);return _(r,A(r))+1}function N(e,t){const r=k(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=i(e,t?.in),a=o.getDay(),s=(a<n?7:0)+a-n;return o.setDate(o.getDate()-s),o.setHours(0,0,0,0),o}function I(e,t){return N(e,{...t,weekStartsOn:1})}function O(e,t){const r=i(e,t?.in),n=r.getFullYear(),o=a(r,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);const s=I(o),l=a(r,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const c=I(l);return r.getTime()>=s.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function P(e,t){const r=O(e,t),n=a(t?.in||e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),I(n)}function R(e,t){const r=i(e,t?.in),o=+I(r)-+P(r);return Math.round(o/n)+1}function D(e,t){const r=i(e,t?.in),n=r.getFullYear(),o=k(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,l=a(t?.in||e,0);l.setFullYear(n+1,0,s),l.setHours(0,0,0,0);const c=N(l,t),u=a(t?.in||e,0);u.setFullYear(n,0,s),u.setHours(0,0,0,0);const d=N(u,t);return+r>=+c?n+1:+r>=+d?n:n-1}function L(e,t){const r=k(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=D(e,t),i=a(t?.in||e,0);i.setFullYear(o,0,n),i.setHours(0,0,0,0);return N(i,t)}function M(e,t){const r=i(e,t?.in),o=+N(r,t)-+L(r,t);return Math.round(o/n)+1}function F(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const U={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return F("yy"===t?n%100:n,t.length)},M(e,t){const r=e.getMonth();return"M"===t?String(r+1):F(r+1,2)},d:(e,t)=>F(e.getDate(),t.length),a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(e,t)=>F(e.getHours()%12||12,t.length),H:(e,t)=>F(e.getHours(),t.length),m:(e,t)=>F(e.getMinutes(),t.length),s:(e,t)=>F(e.getSeconds(),t.length),S(e,t){const r=t.length,n=e.getMilliseconds();return F(Math.trunc(n*Math.pow(10,r-3)),t.length)}},j="midnight",B="noon",z="morning",W="afternoon",V="evening",H="night",G={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if("yo"===t){const t=e.getFullYear(),n=t>0?t:1-t;return r.ordinalNumber(n,{unit:"year"})}return U.y(e,t)},Y:function(e,t,r,n){const o=D(e,n),a=o>0?o:1-o;if("YY"===t){return F(a%100,2)}return"Yo"===t?r.ordinalNumber(a,{unit:"year"}):F(a,t.length)},R:function(e,t){return F(O(e),t.length)},u:function(e,t){return F(e.getFullYear(),t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return F(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return F(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return U.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return F(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const o=M(e,n);return"wo"===t?r.ordinalNumber(o,{unit:"week"}):F(o,t.length)},I:function(e,t,r){const n=R(e);return"Io"===t?r.ordinalNumber(n,{unit:"week"}):F(n,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getDate(),{unit:"date"}):U.d(e,t)},D:function(e,t,r){const n=C(e);return"Do"===t?r.ordinalNumber(n,{unit:"dayOfYear"}):F(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const o=e.getDay(),a=(o-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return F(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const o=e.getDay(),a=(o-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return F(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),o=0===n?7:n;switch(t){case"i":return String(o);case"ii":return F(o,t.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let o;switch(o=12===n?B:0===n?j:n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let o;switch(o=n>=17?V:n>=12?W:n>=4?z:H,t){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return U.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getHours(),{unit:"hour"}):U.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return"Ko"===t?r.ordinalNumber(n,{unit:"hour"}):F(n,t.length)},k:function(e,t,r){let n=e.getHours();return 0===n&&(n=24),"ko"===t?r.ordinalNumber(n,{unit:"hour"}):F(n,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):U.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getSeconds(),{unit:"second"}):U.s(e,t)},S:function(e,t){return U.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(0===n)return"Z";switch(t){case"X":return q(n);case"XXXX":case"XX":return Y(n);default:return Y(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return q(n);case"xxxx":case"xx":return Y(n);default:return Y(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+K(n,":");default:return"GMT"+Y(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+K(n,":");default:return"GMT"+Y(n,":")}},t:function(e,t,r){return F(Math.trunc(+e/1e3),t.length)},T:function(e,t,r){return F(+e,t.length)}};function K(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),o=Math.trunc(n/60),a=n%60;return 0===a?r+String(o):r+String(o)+t+F(a,2)}function q(e,t){if(e%60==0){return(e>0?"-":"+")+F(Math.abs(e)/60,2)}return Y(e,t)}function Y(e,t=""){const r=e>0?"-":"+",n=Math.abs(e);return r+F(Math.trunc(n/60),2)+t+F(n%60,2)}const X=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Q=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},J={p:Q,P:(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],o=r[2];if(!o)return X(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"})}return a.replace("{{date}}",X(n,t)).replace("{{time}}",Q(o,t))}},Z=/^D+$/,ee=/^Y+$/,te=["D","DD","YY","YYYY"];function re(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function ne(e){return!(!re(e)&&"number"!=typeof e||isNaN(+i(e)))}const oe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ie=/^'([^]*?)'?$/,se=/''/g,le=/[a-zA-Z]/;function ce(e,t,r){const n=k(),o=r?.locale??n.locale??x,a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=i(e,r?.in);if(!ne(l))throw new RangeError("Invalid time value");let c=t.match(ae).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,J[t])(e,o.formatLong)}return e})).join("").match(oe).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:ue(e)};if(G[t])return{isToken:!0,value:e};if(t.match(le))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));o.localize.preprocessor&&(c=o.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:s,locale:o};return c.map((n=>{if(!n.isToken)return n.value;const a=n.value;(!r?.useAdditionalWeekYearTokens&&function(e){return ee.test(e)}(a)||!r?.useAdditionalDayOfYearTokens&&function(e){return Z.test(e)}(a))&&function(e,t,r){const n=function(e,t,r){const n="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,r);if(console.warn(n),te.includes(e))throw new RangeError(n)}(a,t,String(e));return(0,G[a[0]])(l,a,o.localize,u)})).join("")}function ue(e){const t=e.match(ie);return t?t[1].replace(se,"'"):e}function de(e,t,r){const[n,o]=d(r?.in,e,t);return n.getFullYear()===o.getFullYear()&&n.getMonth()===o.getMonth()}function he(e){return a(e,Date.now())}function fe(e,t,r){const[n,o]=d(r?.in,e,t);return+T(n)==+T(o)}function pe(e,t){return fe(a(t?.in||e,e),he(t?.in||e))}const me=(...e)=>e.filter(((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t)).join(" ").trim();var ge={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ve=(0,e.forwardRef)((({color:t="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:a="",children:i,iconNode:s,...l},c)=>(0,e.createElement)("svg",{ref:c,...ge,width:r,height:r,stroke:t,strokeWidth:o?24*Number(n)/Number(r):n,className:me("lucide",a),...l},[...s.map((([t,r])=>(0,e.createElement)(t,r))),...Array.isArray(i)?i:[i]]))),ye=(t,r)=>{const n=(0,e.forwardRef)((({className:n,...o},a)=>{return(0,e.createElement)(ve,{ref:a,iconNode:r,className:me(`lucide-${i=t,i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,n),...o});var i}));return n.displayName=`${t}`,n},we=ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),be=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),xe=ye("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),Ee=ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),ke=ye("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]),Se=ye("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),Te=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_e=ye("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Ae=ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Ce=ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Ne=ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Ie=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Oe=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Pe=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Re=ye("Gamepad",[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]),De=ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Le=ye("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Me=ye("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Fe=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Ue=ye("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),je={auto:"Auto Detect",af:"Afrikaans",sq:"Albanian",am:"Amharic",ar:"Arabic",hy:"Armenian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",bg:"Bulgarian",ca:"Catalan",ceb:"Cebuano",ny:"Chichewa","zh-CN":"Chinese (Simplified)","zh-TW":"Chinese (Traditional)",co:"Corsican",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",eo:"Esperanto",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",fy:"Frisian",gl:"Galician",ka:"Georgian",de:"German",el:"Greek",gu:"Gujarati",ht:"Haitian Creole",ha:"Hausa",haw:"Hawaiian",he:"Hebrew",hi:"Hindi",hmn:"Hmong",hu:"Hungarian",is:"Icelandic",ig:"Igbo",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",jv:"Javanese",kn:"Kannada",kk:"Kazakh",km:"Khmer",ko:"Korean",ku:"Kurdish",ky:"Kyrgyz",lo:"Lao",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"Macedonian",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mn:"Mongolian",my:"Myanmar (Burmese)",ne:"Nepali",no:"Norwegian",ps:"Pashto",fa:"Persian",pl:"Polish",pt:"Portuguese",pa:"Punjabi",ro:"Romanian",ru:"Russian",sm:"Samoan",gd:"Scots Gaelic",sr:"Serbian",st:"Sesotho",sn:"Shona",sd:"Sindhi",si:"Sinhala",sk:"Slovak",sl:"Slovenian",so:"Somali",es:"Spanish",su:"Sundanese",sw:"Swahili",sv:"Swedish",tg:"Tajik",ta:"Tamil",te:"Telugu",th:"Thai",tr:"Turkish",uk:"Ukrainian",ur:"Urdu",ug:"Uyghur",uz:"Uzbek",vi:"Vietnamese",cy:"Welsh",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",zu:"Zulu"};function Be(e){return"iw"===e||"he-IL"===e?"he":"in"===e?"id":"jw"===e?"jv":e||"auto"}function ze(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=ze(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function We(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=ze(e))&&(n&&(n+=" "),n+=t);return n}const Ve=e=>{const t=Ke(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{const r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),He(r,t)||Ge(e)},getConflictingClassGroupIds:(e,t)=>{const o=r[e]||[];return t&&n[e]?[...o,...n[e]]:o}}},He=(e,t)=>{if(0===e.length)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),o=n?He(e.slice(1),n):void 0;if(o)return o;if(0===t.validators.length)return;const a=e.join("-");return t.validators.find((({validator:e})=>e(a)))?.classGroupId},$e=/^\[(.+)\]$/,Ge=e=>{if($e.test(e)){const t=$e.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Ke=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Qe(Object.entries(e.classGroups),r).forEach((([e,r])=>{qe(r,n,e,t)})),n},qe=(e,t,r,n)=>{e.forEach((e=>{if("string"!=typeof e){if("function"==typeof e)return Xe(e)?void qe(e(n),t,r,n):void t.validators.push({validator:e,classGroupId:r});Object.entries(e).forEach((([e,o])=>{qe(o,Ye(t,e),r,n)}))}else{(""===e?t:Ye(t,e)).classGroupId=r}}))},Ye=(e,t)=>{let r=e;return t.split("-").forEach((e=>{r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)})),r},Xe=e=>e.isThemeGetter,Qe=(e,t)=>t?e.map((([e,r])=>[e,r.map((e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map((([e,r])=>[t+e,r]))):e))])):e,Je=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const o=(o,a)=>{r.set(o,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(e){let t=r.get(e);return void 0!==t?t:void 0!==(t=n.get(e))?(o(e,t),t):void 0},set(e,t){r.has(e)?r.set(e,t):o(e,t)}}},Ze=e=>{const{separator:t,experimentalParseClassName:r}=e,n=1===t.length,o=t[0],a=t.length,i=e=>{const r=[];let i,s=0,l=0;for(let c=0;c<e.length;c++){let u=e[c];if(0===s){if(u===o&&(n||e.slice(c,c+a)===t)){r.push(e.slice(l,c)),l=c+a;continue}if("/"===u){i=c;continue}}"["===u?s++:"]"===u&&s--}const c=0===r.length?e:e.substring(l),u=c.startsWith("!");return{modifiers:r,hasImportantModifier:u,baseClassName:u?c.substring(1):c,maybePostfixModifierPosition:i&&i>l?i-l:void 0}};return r?e=>r({className:e,parseClassName:i}):i},et=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach((e=>{"["===e[0]?(t.push(...r.sort(),e),r=[]):r.push(e)})),t.push(...r.sort()),t},tt=/\s+/;function rt(){let e,t,r=0,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=nt(e))&&(n&&(n+=" "),n+=t);return n}const nt=e=>{if("string"==typeof e)return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=nt(e[n]))&&(r&&(r+=" "),r+=t);return r};function ot(e,...t){let r,n,o,a=function(s){const l=t.reduce(((e,t)=>t(e)),e());return r=(e=>({cache:Je(e.cacheSize),parseClassName:Ze(e),...Ve(e)}))(l),n=r.cache.get,o=r.cache.set,a=i,i(s)};function i(e){const t=n(e);if(t)return t;const a=((e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=t,a=[],i=e.trim().split(tt);let s="";for(let e=i.length-1;e>=0;e-=1){const t=i[e],{modifiers:l,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:d}=r(t);let h=Boolean(d),f=n(h?u.substring(0,d):u);if(!f){if(!h){s=t+(s.length>0?" "+s:s);continue}if(f=n(u),!f){s=t+(s.length>0?" "+s:s);continue}h=!1}const p=et(l).join(":"),m=c?p+"!":p,g=m+f;if(a.includes(g))continue;a.push(g);const v=o(f,h);for(let e=0;e<v.length;++e){const t=v[e];a.push(m+t)}s=t+(s.length>0?" "+s:s)}return s})(e,r);return o(e,a),a}return function(){return a(rt.apply(null,arguments))}}const at=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},it=/^\[(?:([a-z-]+):)?(.+)\]$/i,st=/^\d+\/\d+$/,lt=new Set(["px","full","screen"]),ct=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ut=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dt=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ht=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ft=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pt=e=>gt(e)||lt.has(e)||st.test(e),mt=e=>Nt(e,"length",It),gt=e=>Boolean(e)&&!Number.isNaN(Number(e)),vt=e=>Nt(e,"number",gt),yt=e=>Boolean(e)&&Number.isInteger(Number(e)),wt=e=>e.endsWith("%")&&gt(e.slice(0,-1)),bt=e=>it.test(e),xt=e=>ct.test(e),Et=new Set(["length","size","percentage"]),kt=e=>Nt(e,Et,Ot),St=e=>Nt(e,"position",Ot),Tt=new Set(["image","url"]),_t=e=>Nt(e,Tt,Rt),At=e=>Nt(e,"",Pt),Ct=()=>!0,Nt=(e,t,r)=>{const n=it.exec(e);return!!n&&(n[1]?"string"==typeof t?n[1]===t:t.has(n[1]):r(n[2]))},It=e=>ut.test(e)&&!dt.test(e),Ot=()=>!1,Pt=e=>ht.test(e),Rt=e=>ft.test(e),Dt=(Symbol.toStringTag,()=>{const e=at("colors"),t=at("spacing"),r=at("blur"),n=at("brightness"),o=at("borderColor"),a=at("borderRadius"),i=at("borderSpacing"),s=at("borderWidth"),l=at("contrast"),c=at("grayscale"),u=at("hueRotate"),d=at("invert"),h=at("gap"),f=at("gradientColorStops"),p=at("gradientColorStopPositions"),m=at("inset"),g=at("margin"),v=at("opacity"),y=at("padding"),w=at("saturate"),b=at("scale"),x=at("sepia"),E=at("skew"),k=at("space"),S=at("translate"),T=()=>["auto",bt,t],_=()=>[bt,t],A=()=>["",pt,mt],C=()=>["auto",gt,bt],N=()=>["","0",bt],I=()=>[gt,bt];return{cacheSize:500,separator:":",theme:{colors:[Ct],spacing:[pt,mt],blur:["none","",xt,bt],brightness:I(),borderColor:[e],borderRadius:["none","","full",xt,bt],borderSpacing:_(),borderWidth:A(),contrast:I(),grayscale:N(),hueRotate:I(),invert:N(),gap:_(),gradientColorStops:[e],gradientColorStopPositions:[wt,mt],inset:T(),margin:T(),opacity:I(),padding:_(),saturate:I(),scale:I(),sepia:N(),skew:I(),space:_(),translate:_()},classGroups:{aspect:[{aspect:["auto","square","video",bt]}],container:["container"],columns:[{columns:[xt]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",bt]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yt,bt]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",bt]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",yt,bt]}],"grid-cols":[{"grid-cols":[Ct]}],"col-start-end":[{col:["auto",{span:["full",yt,bt]},bt]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[Ct]}],"row-start-end":[{row:["auto",{span:[yt,bt]},bt]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",bt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",bt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",bt,t]}],"min-w":[{"min-w":[bt,t,"min","max","fit"]}],"max-w":[{"max-w":[bt,t,"none","full","min","max","fit","prose",{screen:[xt]},xt]}],h:[{h:[bt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[bt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[bt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[bt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",xt,mt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vt]}],"font-family":[{font:[Ct]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",bt]}],"line-clamp":[{"line-clamp":["none",gt,vt]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pt,bt]}],"list-image":[{"list-image":["none",bt]}],"list-style-type":[{list:["none","disc","decimal",bt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pt,mt]}],"underline-offset":[{"underline-offset":["auto",pt,bt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",bt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",bt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",St]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",kt]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_t]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[pt,bt]}],"outline-w":[{outline:[pt,mt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[pt,mt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",xt,At]}],"shadow-color":[{shadow:[Ct]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",xt,bt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",bt]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",bt]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",bt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[yt,bt]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",bt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",bt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",bt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[pt,mt,vt]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),Lt=ot(Dt);function Mt(...e){return Lt(We(e))}function Ft(e){if(!e)return"";return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\p{L}\p{N}]/gu,"")}function Ut(e,t){const r=Array(e.length+1).fill(null).map((()=>Array(t.length+1).fill(null)));for(let t=0;t<=e.length;t++)r[t][0]=t;for(let e=0;e<=t.length;e++)r[0][e]=e;for(let n=1;n<=e.length;n++)for(let o=1;o<=t.length;o++){const a=e[n-1]===t[o-1]?0:1;r[n][o]=Math.min(r[n-1][o]+1,r[n][o-1]+1,r[n-1][o-1]+a)}return r[e.length][t.length]}function jt(e){const t=[...e];for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t}var Bt=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};const zt=e.forwardRef(((t,r)=>{var{className:n}=t,o=Bt(t,["className"]);return e.createElement("div",Object.assign({ref:r,className:Mt("rounded-lg border bg-card text-card-foreground shadow-sm",n)},o))}));zt.displayName="Card";e.forwardRef(((t,r)=>{var{className:n}=t,o=Bt(t,["className"]);return e.createElement("div",Object.assign({ref:r,className:Mt("flex flex-col space-y-1.5 p-6",n)},o))})).displayName="CardHeader";e.forwardRef(((t,r)=>{var{className:n}=t,o=Bt(t,["className"]);return e.createElement("h3",Object.assign({ref:r,className:Mt("text-2xl font-semibold leading-none tracking-tight",n)},o))})).displayName="CardTitle";e.forwardRef(((t,r)=>{var{className:n}=t,o=Bt(t,["className"]);return e.createElement("p",Object.assign({ref:r,className:Mt("text-sm text-muted-foreground",n)},o))})).displayName="CardDescription";e.forwardRef(((t,r)=>{var{className:n}=t,o=Bt(t,["className"]);return e.createElement("div",Object.assign({ref:r,className:Mt("p-6 pt-0",n)},o))})).displayName="CardContent";function Wt({value:t,onValueChange:r,options:n,className:o=""}){return e.createElement("select",{value:t,onChange:e=>{const n=e.target.value;console.log("Select value changed:",{oldValue:t,newValue:n}),r(n)},className:`w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${o}`},n.map((t=>e.createElement("option",{key:t.value,value:t.value},t.label))))}e.forwardRef(((t,r)=>{var{className:n}=t,o=Bt(t,["className"]);return e.createElement("div",Object.assign({ref:r,className:Mt("flex items-center p-6 pt-0",n)},o))})).displayName="CardFooter";var Vt=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};const Ht=e.forwardRef(((t,r)=>{var{className:n,variant:o="default",size:a="default"}=t,i=Vt(t,["className","variant","size"]);return e.createElement("button",Object.assign({className:Mt("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{"bg-primary text-primary-foreground hover:bg-primary/90":"default"===o,"border border-input bg-background hover:bg-accent hover:text-accent-foreground":"outline"===o,"hover:bg-accent hover:text-accent-foreground":"ghost"===o,"h-10 px-4 py-2":"default"===a,"h-9 rounded-md px-3":"sm"===a,"h-11 rounded-md px-8":"lg"===a},n),ref:r},i))}));function $t(e){if("undefined"==typeof Proxy)return e;const t=new Map;return new Proxy(((...t)=>e(...t)),{get:(r,n)=>"create"===n?e:(t.has(n)||t.set(n,e(n)),t.get(n))})}function Gt(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function Kt(e){const t=[{},{}];return null==e||e.values.forEach(((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()})),t}function qt(e,t,r,n){if("function"==typeof t){const[o,a]=Kt(n);t=t(void 0!==r?r:e.custom,o,a)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[o,a]=Kt(n);t=t(void 0!==r?r:e.custom,o,a)}return t}function Yt(e,t,r){const n=e.getProps();return qt(n,t,void 0!==r?r:n.custom,e)}function Xt(e){let t;return()=>(void 0===t&&(t=e()),t)}Ht.displayName="Button";const Qt=Xt((()=>void 0!==window.ScrollTimeline));class Jt{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map((e=>"finished"in e?e.finished:e)))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map((r=>Qt()&&r.attachTimeline?r.attachTimeline(e):"function"==typeof t?t(r):void 0));return()=>{r.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Zt extends Jt{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function er(e,t){return e?e[t]||e.default||e:void 0}const tr=2e4;function rr(e){let t=0;let r=e.next(t);for(;!r.done&&t<tr;)t+=50,r=e.next(t);return t>=tr?1/0:t}function nr(e){return"function"==typeof e}function or(e,t){e.timeline=t,e.onfinish=null}const ar=e=>Array.isArray(e)&&"number"==typeof e[0],ir={linearEasing:void 0};function sr(e,t){const r=Xt(e);return()=>{var e;return null!==(e=ir[t])&&void 0!==e?e:r()}}const lr=sr((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),"linearEasing"),cr=(e,t,r)=>{const n=t-e;return 0===n?1:(r-e)/n},ur=(e,t,r=10)=>{let n="";const o=Math.max(Math.round(t/r),2);for(let t=0;t<o;t++)n+=e(cr(0,o-1,t))+", ";return`linear(${n.substring(0,n.length-2)})`};function dr(e){return Boolean("function"==typeof e&&lr()||!e||"string"==typeof e&&(e in fr||lr())||ar(e)||Array.isArray(e)&&e.every(dr))}const hr=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,fr={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hr([0,.65,.55,1]),circOut:hr([.55,0,1,.45]),backIn:hr([.31,.01,.66,-.59]),backOut:hr([.33,1.53,.69,.99])};function pr(e,t){return e?"function"==typeof e&&lr()?ur(e,t):ar(e)?hr(e):Array.isArray(e)?e.map((e=>pr(e,t)||fr.easeOut)):fr[e]:void 0}const mr={x:!1,y:!1};function gr(){return mr.x||mr.y}function vr(e,t){const r=function(e,t,r){var n;if(e instanceof EventTarget)return[e];if("string"==typeof e){let o=document;t&&(o=t.current);const a=null!==(n=null==r?void 0:r[e])&&void 0!==n?n:o.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}(e),n=new AbortController;return[r,{passive:!0,...t,signal:n.signal},()=>n.abort()]}function yr(e){return!("touch"===e.pointerType||gr())}function wr(e,t){const r=`${t}PointerCapture`;if(e.target instanceof Element&&r in e.target&&void 0!==e.pointerId)try{e.target[r](e.pointerId)}catch(e){}}const br=(e,t)=>!!t&&(e===t||br(e,t.parentElement)),xr=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,Er=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const kr=new WeakSet;function Sr(e){return t=>{"Enter"===t.key&&e(t)}}function Tr(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function _r(e){return xr(e)&&!gr()}function Ar(e,t,r={}){const[n,o,a]=vr(e,r),i=e=>{const r=e.currentTarget;if(!r||!_r(e)||kr.has(r))return;kr.add(r),wr(e,"set");const n=t(r,e),a=(e,t)=>{r.removeEventListener("pointerup",i),r.removeEventListener("pointercancel",s),wr(e,"release"),_r(e)&&kr.has(r)&&(kr.delete(r),"function"==typeof n&&n(e,{success:t}))},i=e=>{const t=!!e.isTrusted&&(n=e,o=r instanceof Element?r.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight},n.clientX<o.left||n.clientX>o.right||n.clientY<o.top||n.clientY>o.bottom);var n,o;a(e,!t&&(!(r instanceof Element)||br(r,e.target)))},s=e=>{a(e,!1)};r.addEventListener("pointerup",i,o),r.addEventListener("pointercancel",s,o),r.addEventListener("lostpointercapture",s,o)};return n.forEach((e=>{let t=!1;var n;(e=r.useGlobalTarget?window:e)instanceof HTMLElement&&(t=!0,n=e,Er.has(n.tagName)||-1!==n.tabIndex||null!==e.getAttribute("tabindex")||(e.tabIndex=0)),e.addEventListener("pointerdown",i,o),t&&e.addEventListener("focus",(e=>((e,t)=>{const r=e.currentTarget;if(!r)return;const n=Sr((()=>{if(kr.has(r))return;Tr(r,"down");const e=Sr((()=>{Tr(r,"up")}));r.addEventListener("keyup",e,t),r.addEventListener("blur",(()=>Tr(r,"cancel")),t)}));r.addEventListener("keydown",n,t),r.addEventListener("blur",(()=>r.removeEventListener("keydown",n)),t)})(e,o)),o)})),a}const Cr=e=>1e3*e,Nr=e=>e/1e3,Ir=e=>e;const Or=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pr=new Set(Or),Rr=new Set(["width","height","top","left","right","bottom",...Or]),Dr=e=>Array.isArray(e),Lr=!1,Mr=!1,Fr=["read","resolveKeyframes","update","preRender","render","postRender"],Ur={value:null,addProjectionMetrics:null};function jr(e,t){let r=!1,n=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,i=Fr.reduce(((e,r)=>(e[r]=function(e,t){let r=new Set,n=new Set,o=!1,a=!1;const i=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){i.has(t)&&(u.schedule(t),e()),l++,t(s)}const u={schedule:(e,t=!1,a=!1)=>{const s=a&&o?r:n;return t&&i.add(e),s.has(e)||s.add(e),e},cancel:e=>{n.delete(e),i.delete(e)},process:e=>{s=e,o?a=!0:(o=!0,[r,n]=[n,r],r.forEach(c),t&&Ur.value&&Ur.value.frameloop[t].push(l),l=0,r.clear(),o=!1,a&&(a=!1,u.process(e)))}};return u}(a,t?r:void 0),e)),{}),{read:s,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=i,f=()=>{const a=Mr?o.timestamp:performance.now();r=!1,Mr||(o.delta=n?1e3/60:Math.max(Math.min(a-o.timestamp,40),1)),o.timestamp=a,o.isProcessing=!0,s.process(o),l.process(o),c.process(o),u.process(o),d.process(o),h.process(o),o.isProcessing=!1,r&&t&&(n=!1,e(f))};return{schedule:Fr.reduce(((t,a)=>{const s=i[a];return t[a]=(t,a=!1,i=!1)=>(r||(r=!0,n=!0,o.isProcessing||e(f)),s.schedule(t,a,i)),t}),{}),cancel:e=>{for(let t=0;t<Fr.length;t++)i[Fr[t]].cancel(e)},state:o,steps:i}}const{schedule:Br,cancel:zr,state:Wr,steps:Vr}=jr("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:Ir,!0);let Hr;function $r(){Hr=void 0}const Gr={now:()=>(void 0===Hr&&Gr.set(Wr.isProcessing||Mr?Wr.timestamp:performance.now()),Hr),set:e=>{Hr=e,queueMicrotask($r)}};function Kr(e,t){-1===e.indexOf(t)&&e.push(t)}function qr(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Yr{constructor(){this.subscriptions=[]}add(e){return Kr(this.subscriptions,e),()=>qr(this.subscriptions,e)}notify(e,t,r){const n=this.subscriptions.length;if(n)if(1===n)this.subscriptions[0](e,t,r);else for(let o=0;o<n;o++){const n=this.subscriptions[o];n&&n(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Xr(e,t){return t?e*(1e3/t):0}const Qr={current:void 0};class Jr{constructor(e,t={}){this.version="12.4.7",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{const r=Gr.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Gr.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Yr);const r=this.events[e].add(t);return"change"===e?()=>{r(),Br.read((()=>{this.events.change.getSize()||this.stop()}))}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Qr.current&&Qr.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Gr.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Xr(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zr(e,t){return new Jr(e,t)}function en(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Zr(r))}const tn=e=>Boolean(e&&e.getVelocity);function rn(e,t){const r=e.getValue("willChange");if(n=r,Boolean(tn(n)&&n.add))return r.add(t);var n}const nn=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),on="data-"+nn("framerAppearId");function an(e){return e.props[on]}const sn=!1,ln=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e;function cn(e,t,r,n){if(e===t&&r===n)return Ir;const o=t=>function(e,t,r,n,o){let a,i,s=0;do{i=t+(r-t)/2,a=ln(i,n,o)-e,a>0?r=i:t=i}while(Math.abs(a)>1e-7&&++s<12);return i}(t,0,1,e,r);return e=>0===e||1===e?e:ln(o(e),t,n)}const un=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,dn=e=>t=>1-e(1-t),hn=cn(.33,1.53,.69,.99),fn=dn(hn),pn=un(fn),mn=e=>(e*=2)<1?.5*fn(e):.5*(2-Math.pow(2,-10*(e-1))),gn=e=>1-Math.sin(Math.acos(e)),vn=dn(gn),yn=un(gn),wn=e=>/^0[^.\s]+$/u.test(e);const bn=(e,t,r)=>r>t?t:r<e?e:r,xn={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},En={...xn,transform:e=>bn(0,1,e)},kn={...xn,default:1},Sn=e=>Math.round(1e5*e)/1e5,Tn=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const _n=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,An=(e,t)=>r=>Boolean("string"==typeof r&&_n.test(r)&&r.startsWith(e)||t&&!function(e){return null==e}(r)&&Object.prototype.hasOwnProperty.call(r,t)),Cn=(e,t,r)=>n=>{if("string"!=typeof n)return n;const[o,a,i,s]=n.match(Tn);return{[e]:parseFloat(o),[t]:parseFloat(a),[r]:parseFloat(i),alpha:void 0!==s?parseFloat(s):1}},Nn={...xn,transform:e=>Math.round((e=>bn(0,255,e))(e))},In={test:An("rgb","red"),parse:Cn("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Nn.transform(e)+", "+Nn.transform(t)+", "+Nn.transform(r)+", "+Sn(En.transform(n))+")"};const On={test:An("#"),parse:function(e){let t="",r="",n="",o="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),o=e.substring(4,5),t+=t,r+=r,n+=n,o+=o),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:o?parseInt(o,16)/255:1}},transform:In.transform},Pn=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Rn=Pn("deg"),Dn=Pn("%"),Ln=Pn("px"),Mn=Pn("vh"),Fn=Pn("vw"),Un={...Dn,parse:e=>Dn.parse(e)/100,transform:e=>Dn.transform(100*e)},jn={test:An("hsl","hue"),parse:Cn("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Dn.transform(Sn(t))+", "+Dn.transform(Sn(r))+", "+Sn(En.transform(n))+")"},Bn={test:e=>In.test(e)||On.test(e)||jn.test(e),parse:e=>In.test(e)?In.parse(e):jn.test(e)?jn.parse(e):On.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?In.transform(e):jn.transform(e)},zn=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const Wn="number",Vn="color",Hn=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $n(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},o=[];let a=0;const i=t.replace(Hn,(e=>(Bn.test(e)?(n.color.push(a),o.push(Vn),r.push(Bn.parse(e))):e.startsWith("var(")?(n.var.push(a),o.push("var"),r.push(e)):(n.number.push(a),o.push(Wn),r.push(parseFloat(e))),++a,"${}"))).split("${}");return{values:r,split:i,indexes:n,types:o}}function Gn(e){return $n(e).values}function Kn(e){const{split:t,types:r}=$n(e),n=t.length;return e=>{let o="";for(let a=0;a<n;a++)if(o+=t[a],void 0!==e[a]){const t=r[a];o+=t===Wn?Sn(e[a]):t===Vn?Bn.transform(e[a]):e[a]}return o}}const qn=e=>"number"==typeof e?0:e;const Yn={test:function(e){var t,r;return isNaN(e)&&"string"==typeof e&&((null===(t=e.match(Tn))||void 0===t?void 0:t.length)||0)+((null===(r=e.match(zn))||void 0===r?void 0:r.length)||0)>0},parse:Gn,createTransformer:Kn,getAnimatableNone:function(e){const t=Gn(e);return Kn(e)(t.map(qn))}},Xn=new Set(["brightness","contrast","saturate","opacity"]);function Qn(e){const[t,r]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[n]=r.match(Tn)||[];if(!n)return e;const o=r.replace(n,"");let a=Xn.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+o+")"}const Jn=/\b([a-z-]*)\(.*?\)/gu,Zn={...Yn,getAnimatableNone:e=>{const t=e.match(Jn);return t?t.map(Qn).join(" "):e}},eo={borderWidth:Ln,borderTopWidth:Ln,borderRightWidth:Ln,borderBottomWidth:Ln,borderLeftWidth:Ln,borderRadius:Ln,radius:Ln,borderTopLeftRadius:Ln,borderTopRightRadius:Ln,borderBottomRightRadius:Ln,borderBottomLeftRadius:Ln,width:Ln,maxWidth:Ln,height:Ln,maxHeight:Ln,top:Ln,right:Ln,bottom:Ln,left:Ln,padding:Ln,paddingTop:Ln,paddingRight:Ln,paddingBottom:Ln,paddingLeft:Ln,margin:Ln,marginTop:Ln,marginRight:Ln,marginBottom:Ln,marginLeft:Ln,backgroundPositionX:Ln,backgroundPositionY:Ln},to={rotate:Rn,rotateX:Rn,rotateY:Rn,rotateZ:Rn,scale:kn,scaleX:kn,scaleY:kn,scaleZ:kn,skew:Rn,skewX:Rn,skewY:Rn,distance:Ln,translateX:Ln,translateY:Ln,translateZ:Ln,x:Ln,y:Ln,z:Ln,perspective:Ln,transformPerspective:Ln,opacity:En,originX:Un,originY:Un,originZ:Ln},ro={...xn,transform:Math.round},no={...eo,...to,zIndex:ro,size:Ln,fillOpacity:En,strokeOpacity:En,numOctaves:ro},oo={...no,color:Bn,backgroundColor:Bn,outlineColor:Bn,fill:Bn,stroke:Bn,borderColor:Bn,borderTopColor:Bn,borderRightColor:Bn,borderBottomColor:Bn,borderLeftColor:Bn,filter:Zn,WebkitFilter:Zn},ao=e=>oo[e];function io(e,t){let r=ao(e);return r!==Zn&&(r=Yn),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const so=new Set(["auto","none","0"]);const lo=e=>e===xn||e===Ln,co=(e,t)=>parseFloat(e.split(", ")[t]),uo=(e,t)=>(r,{transform:n})=>{if("none"===n||!n)return 0;const o=n.match(/^matrix3d\((.+)\)$/u);if(o)return co(o[1],t);{const t=n.match(/^matrix\((.+)\)$/u);return t?co(t[1],e):0}},ho=new Set(["x","y","z"]),fo=Or.filter((e=>!ho.has(e)));const po={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:uo(4,13),y:uo(5,14)};po.translateX=po.x,po.translateY=po.y;const mo=new Set;let go=!1,vo=!1;function yo(){if(vo){const e=Array.from(mo).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),r=new Map;t.forEach((e=>{const t=function(e){const t=[];return fo.forEach((r=>{const n=e.getValue(r);void 0!==n&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))})),t}(e);t.length&&(r.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=r.get(e);t&&t.forEach((([t,r])=>{var n;null===(n=e.getValue(t))||void 0===n||n.set(r)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}vo=!1,go=!1,mo.forEach((e=>e.complete())),mo.clear()}function wo(){mo.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(vo=!0)}))}class bo{constructor(e,t,r,n,o,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=n,this.element=o,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(mo.add(this),go||(go=!0,Br.read(wo),Br.resolveKeyframes(yo))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:n}=this;for(let o=0;o<e.length;o++)if(null===e[o])if(0===o){const o=null==n?void 0:n.get(),a=e[e.length-1];if(void 0!==o)e[0]=o;else if(r&&t){const n=r.readValue(t,a);null!=n&&(e[0]=n)}void 0===e[0]&&(e[0]=a),n&&void 0===o&&n.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),mo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,mo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let xo=Ir,Eo=Ir;const ko=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),So=e=>t=>"string"==typeof t&&t.startsWith(e),To=So("--"),_o=So("var(--"),Ao=e=>!!_o(e)&&Co.test(e.split("/*")[0].trim()),Co=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,No=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Io(e,t,r=1){Eo(r<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[n,o]=function(e){const t=No.exec(e);if(!t)return[,];const[,r,n,o]=t;return[`--${null!=r?r:n}`,o]}(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const e=a.trim();return ko(e)?parseFloat(e):e}return Ao(o)?Io(o,t,r+1):o}const Oo=e=>t=>t.test(e),Po=[xn,Ln,Dn,Rn,Fn,Mn,{test:e=>"auto"===e,parse:e=>e}],Ro=e=>Po.find(Oo(e));class Do extends bo{constructor(e,t,r,n,o){super(e,t,r,n,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let r=0;r<e.length;r++){let n=e[r];if("string"==typeof n&&(n=n.trim(),Ao(n))){const o=Io(n,t.current);void 0!==o&&(e[r]=o),r===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Rr.has(r)||2!==e.length)return;const[n,o]=e,a=Ro(n),i=Ro(o);if(a!==i)if(lo(a)&&lo(i))for(let t=0;t<e.length;t++){const r=e[t];"string"==typeof r&&(e[t]=parseFloat(r))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let t=0;t<e.length;t++)("number"==typeof(n=e[t])?0===n:null===n||"none"===n||"0"===n||wn(n))&&r.push(t);var n;r.length&&function(e,t,r){let n,o=0;for(;o<e.length&&!n;){const t=e[o];"string"==typeof t&&!so.has(t)&&$n(t).values.length&&(n=e[o]),o++}if(n&&r)for(const o of t)e[o]=io(r,n)}(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;"height"===r&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=po[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const n=t[t.length-1];void 0!==n&&e.getValue(r,n).jump(n,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const o=t.getValue(r);o&&o.jump(this.measuredOrigin,!1);const a=n.length-1,i=n[a];n[a]=po[r](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==i&&void 0===this.finalKeyframe&&(this.finalKeyframe=i),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach((([e,r])=>{t.getValue(e).set(r)})),this.resolveNoneKeyframes()}}const Lo=(e,t)=>"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!Yn.test(e)&&"0"!==e||e.startsWith("url(")));const Mo=e=>null!==e;function Fo(e,{repeat:t,repeatType:r="loop"},n){const o=e.filter(Mo),a=t&&"loop"!==r&&t%2==1?0:o.length-1;return a&&void 0!==n?n:o[a]}class Uo{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:n=0,repeatDelay:o=0,repeatType:a="loop",...i}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Gr.now(),this.options={autoplay:e,delay:t,type:r,repeat:n,repeatDelay:o,repeatType:a,...i},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(wo(),yo()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Gr.now(),this.hasAttemptedResolve=!0;const{name:r,type:n,velocity:o,delay:a,onComplete:i,onUpdate:s,isGenerator:l}=this.options;if(!l&&!function(e,t,r,n){const o=e[0];if(null===o)return!1;if("display"===t||"visibility"===t)return!0;const a=e[e.length-1],i=Lo(o,t),s=Lo(a,t);return xo(i===s,`You are trying to animate ${t} from "${o}" to "${a}". ${o} is not an animatable value - to enable this animation set ${o} to a value animatable to ${a} via the \`style\` property.`),!(!i||!s)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}(e)||("spring"===r||nr(r))&&n)}(e,r,n,o)){if(sn||!a)return s&&s(Fo(e,this.options,t)),i&&i(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved={keyframes:e,finalKeyframe:t,...c},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}const jo={layout:0,mainThread:0,waapi:0},Bo=(e,t,r)=>e+(t-e)*r;function zo(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Wo(e,t){return r=>r>0?t:e}const Vo=(e,t,r)=>{const n=e*e,o=r*(t*t-n)+n;return o<0?0:Math.sqrt(o)},Ho=[On,In,jn];function $o(e){const t=(r=e,Ho.find((e=>e.test(r))));var r;if(xo(Boolean(t),`'${e}' is not an animatable color. Use the equivalent color code instead.`),!Boolean(t))return!1;let n=t.parse(e);return t===jn&&(n=function({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,r/=100;let o=0,a=0,i=0;if(t/=100){const n=r<.5?r*(1+t):r+t-r*t,s=2*r-n;o=zo(s,n,e+1/3),a=zo(s,n,e),i=zo(s,n,e-1/3)}else o=a=i=r;return{red:Math.round(255*o),green:Math.round(255*a),blue:Math.round(255*i),alpha:n}}(n)),n}const Go=(e,t)=>{const r=$o(e),n=$o(t);if(!r||!n)return Wo(e,t);const o={...r};return e=>(o.red=Vo(r.red,n.red,e),o.green=Vo(r.green,n.green,e),o.blue=Vo(r.blue,n.blue,e),o.alpha=Bo(r.alpha,n.alpha,e),In.transform(o))},Ko=(e,t)=>r=>t(e(r)),qo=(...e)=>e.reduce(Ko),Yo=new Set(["none","hidden"]);function Xo(e,t){return r=>Bo(e,t,r)}function Qo(e){return"number"==typeof e?Xo:"string"==typeof e?Ao(e)?Wo:Bn.test(e)?Go:ea:Array.isArray(e)?Jo:"object"==typeof e?Bn.test(e)?Go:Zo:Wo}function Jo(e,t){const r=[...e],n=r.length,o=e.map(((e,r)=>Qo(e)(e,t[r])));return e=>{for(let t=0;t<n;t++)r[t]=o[t](e);return r}}function Zo(e,t){const r={...e,...t},n={};for(const o in r)void 0!==e[o]&&void 0!==t[o]&&(n[o]=Qo(e[o])(e[o],t[o]));return e=>{for(const t in n)r[t]=n[t](e);return r}}const ea=(e,t)=>{const r=Yn.createTransformer(t),n=$n(e),o=$n(t);return n.indexes.var.length===o.indexes.var.length&&n.indexes.color.length===o.indexes.color.length&&n.indexes.number.length>=o.indexes.number.length?Yo.has(e)&&!o.values.length||Yo.has(t)&&!n.values.length?function(e,t){return Yo.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}(e,t):qo(Jo(function(e,t){var r;const n=[],o={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][o[i]],l=null!==(r=e.values[s])&&void 0!==r?r:0;n[a]=l,o[i]++}return n}(n,o),o.values),r):(xo(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),Wo(e,t))};function ta(e,t,r){if("number"==typeof e&&"number"==typeof t&&"number"==typeof r)return Bo(e,t,r);return Qo(e)(e,t)}function ra(e,t,r){const n=Math.max(t-5,0);return Xr(r-e(n),t-n)}const na=100,oa=10,aa=1,ia=0,sa=800,la=.3,ca=.3,ua={granular:.01,default:2},da={granular:.005,default:.5},ha=.01,fa=10,pa=.05,ma=1,ga=.001;function va({duration:e=sa,bounce:t=la,velocity:r=ia,mass:n=aa}){let o,a;xo(e<=Cr(fa),"Spring duration must be 10 seconds or less");let i=1-t;i=bn(pa,ma,i),e=bn(ha,fa,Nr(e)),i<1?(o=t=>{const n=t*i,o=n*e,a=n-r,s=wa(t,i),l=Math.exp(-o);return ga-a/s*l},a=t=>{const n=t*i*e,a=n*r+r,s=Math.pow(i,2)*Math.pow(t,2)*e,l=Math.exp(-n),c=wa(Math.pow(t,2),i);return(-o(t)+ga>0?-1:1)*((a-s)*l)/c}):(o=t=>Math.exp(-t*e)*((t-r)*e+1)-.001,a=t=>Math.exp(-t*e)*(e*e*(r-t)));const s=function(e,t,r){let n=r;for(let r=1;r<ya;r++)n-=e(n)/t(n);return n}(o,a,5/e);if(e=Cr(e),isNaN(s))return{stiffness:na,damping:oa,duration:e};{const t=Math.pow(s,2)*n;return{stiffness:t,damping:2*i*Math.sqrt(n*t),duration:e}}}const ya=12;function wa(e,t){return e*Math.sqrt(1-t*t)}const ba=["duration","bounce"],xa=["stiffness","damping","mass"];function Ea(e,t){return t.some((t=>void 0!==e[t]))}function ka(e=ca,t=la){const r="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:o}=r;const a=r.keyframes[0],i=r.keyframes[r.keyframes.length-1],s={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t={velocity:ia,stiffness:na,damping:oa,mass:aa,isResolvedFromDuration:!1,...e};if(!Ea(e,xa)&&Ea(e,ba))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(1.2*r),o=n*n,a=2*bn(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:aa,stiffness:o,damping:a}}else{const r=va(e);t={...t,...r,mass:aa},t.isResolvedFromDuration=!0}return t}({...r,velocity:-Nr(r.velocity||0)}),p=h||0,m=c/(2*Math.sqrt(l*u)),g=i-a,v=Nr(Math.sqrt(l/u)),y=Math.abs(g)<5;let w;if(n||(n=y?ua.granular:ua.default),o||(o=y?da.granular:da.default),m<1){const e=wa(v,m);w=t=>{const r=Math.exp(-m*v*t);return i-r*((p+m*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)w=e=>i-Math.exp(-v*e)*(g+(p+v*g)*e);else{const e=v*Math.sqrt(m*m-1);w=t=>{const r=Math.exp(-m*v*t),n=Math.min(e*t,300);return i-r*((p+m*v*g)*Math.sinh(n)+e*g*Math.cosh(n))/e}}const b={calculatedDuration:f&&d||null,next:e=>{const t=w(e);if(f)s.done=e>=d;else{let r=0;m<1&&(r=0===e?Cr(p):ra(w,e,t));const a=Math.abs(r)<=n,l=Math.abs(i-t)<=o;s.done=a&&l}return s.value=s.done?i:t,s},toString:()=>{const e=Math.min(rr(b),tr),t=ur((t=>b.next(e*t).value),e,30);return e+"ms "+t}};return b}function Sa({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:i,min:s,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],h={done:!1,value:d},f=e=>void 0===s?l:void 0===l||Math.abs(s-e)<Math.abs(l-e)?s:l;let p=r*t;const m=d+p,g=void 0===i?m:i(m);g!==m&&(p=g-d);const v=e=>-p*Math.exp(-e/n),y=e=>g+v(e),w=e=>{const t=v(e),r=y(e);h.done=Math.abs(t)<=c,h.value=h.done?g:r};let b,x;const E=e=>{var t;(t=h.value,void 0!==s&&t<s||void 0!==l&&t>l)&&(b=e,x=ka({keyframes:[h.value,f(h.value)],velocity:ra(y,e,h.value),damping:o,stiffness:a,restDelta:c,restSpeed:u}))};return E(0),{calculatedDuration:null,next:e=>{let t=!1;return x||void 0!==b||(t=!0,w(e),E(e)),void 0!==b&&e>=b?x.next(e-b):(!t&&w(e),h)}}}const Ta=cn(.42,0,1,1),_a=cn(0,0,.58,1),Aa=cn(.42,0,.58,1),Ca={linear:Ir,easeIn:Ta,easeInOut:Aa,easeOut:_a,circIn:gn,circInOut:yn,circOut:vn,backIn:fn,backInOut:pn,backOut:hn,anticipate:mn},Na=e=>{if(ar(e)){Eo(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,r,n,o]=e;return cn(t,r,n,o)}return"string"==typeof e?(Eo(void 0!==Ca[e],`Invalid easing type '${e}'`),Ca[e]):e};function Ia(e,t,{clamp:r=!0,ease:n,mixer:o}={}){const a=e.length;if(Eo(a===t.length,"Both input and output ranges must be the same length"),1===a)return()=>t[0];if(2===a&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=function(e,t,r){const n=[],o=r||ta,a=e.length-1;for(let r=0;r<a;r++){let a=o(e[r],e[r+1]);if(t){const e=Array.isArray(t)?t[r]||Ir:t;a=qo(e,a)}n.push(a)}return n}(t,n,o),l=s.length,c=r=>{if(i&&r<e[0])return t[0];let n=0;if(l>1)for(;n<e.length-2&&!(r<e[n+1]);n++);const o=cr(e[n],e[n+1],r);return s[n](o)};return r?t=>c(bn(e[0],e[a-1],t)):c}function Oa(e){const t=[0];return function(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const o=cr(0,t,n);e.push(Bo(r,1,o))}}(t,e.length-1),t}function Pa({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const o=(e=>Array.isArray(e)&&"number"!=typeof e[0])(n)?n.map(Na):Na(n),a={done:!1,value:t[0]},i=function(e,t){return e.map((e=>e*t))}(r&&r.length===t.length?r:Oa(t),e),s=Ia(i,t,{ease:Array.isArray(o)?o:(l=t,c=o,l.map((()=>c||Aa)).splice(0,l.length-1))});var l,c;return{calculatedDuration:e,next:t=>(a.value=s(t),a.done=t>=e,a)}}const Ra=e=>{const t=({timestamp:t})=>e(t);return{start:()=>Br.update(t,!0),stop:()=>zr(t),now:()=>Wr.isProcessing?Wr.timestamp:Gr.now()}},Da={decay:Sa,inertia:Sa,tween:Pa,keyframes:Pa,spring:ka},La=e=>e/100;class Ma extends Uo{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:r,element:n,keyframes:o}=this.options,a=(null==n?void 0:n.KeyframeResolver)||bo;this.resolver=new a(o,((e,t)=>this.onKeyframesResolved(e,t)),t,r,n),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:n=0,repeatType:o,velocity:a=0}=this.options,i=nr(t)?t:Da[t]||Pa;let s,l;i!==Pa&&"number"!=typeof e[0]&&(s=qo(La,ta(e[0],e[1])),e=[0,100]);const c=i({...this.options,keyframes:e});"mirror"===o&&(l=i({...this.options,keyframes:[...e].reverse(),velocity:-a})),null===c.calculatedDuration&&(c.calculatedDuration=rr(c));const{calculatedDuration:u}=c,d=u+n;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:s,calculatedDuration:u,resolvedDuration:d,totalDuration:d*(r+1)-n}}onPostResolved(){const{autoplay:e=!0}=this.options;jo.mainThread++,this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:n,generator:o,mirroredGenerator:a,mapPercentToKeyframes:i,keyframes:s,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=r;if(null===this.startTime)return o.next(0);const{delay:d,repeat:h,repeatType:f,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-d*(this.speed>=0?1:-1),v=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let y=this.currentTime,w=o;if(h){const e=Math.min(this.currentTime,c)/u;let t=Math.floor(e),r=e%1;!r&&e>=1&&(r=1),1===r&&t--,t=Math.min(t,h+1);Boolean(t%2)&&("reverse"===f?(r=1-r,p&&(r-=p/u)):"mirror"===f&&(w=a)),y=bn(0,1,r)*u}const b=v?{done:!1,value:s[0]}:w.next(y);i&&(b.value=i(b.value));let{done:x}=b;v||null===l||(x=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const E=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return E&&void 0!==n&&(b.value=Fo(s,this.options,n)),m&&m(b.value),E&&this.finish(),b}get duration(){const{resolved:e}=this;return e?Nr(e.calculatedDuration):0}get time(){return Nr(this.currentTime)}set time(e){e=Cr(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Nr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=Ra,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const n=this.driver.now();null!==this.holdTime?this.startTime=n-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=n):this.startTime=null!=r?r:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel(),jo.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Fa=new Set(["opacity","clipPath","filter","transform"]);const Ua=Xt((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));const ja={anticipate:mn,backInOut:pn,circInOut:yn};class Ba extends Uo{constructor(e){super(e);const{name:t,motionValue:r,element:n,keyframes:o}=this.options;this.resolver=new Do(o,((e,t)=>this.onKeyframesResolved(e,t)),t,r,n),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:n,ease:o,type:a,motionValue:i,name:s,startTime:l}=this.options;if(!i.owner||!i.owner.current)return!1;var c;if("string"==typeof o&&lr()&&o in ja&&(o=ja[o]),nr((c=this.options).type)||"spring"===c.type||!dr(c.ease)){const{onComplete:t,onUpdate:i,motionValue:s,element:l,...c}=this.options,u=function(e,t){const r=new Ma({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const o=[];let a=0;for(;!n.done&&a<2e4;)n=r.sample(a),o.push(n.value),a+=10;return{times:void 0,keyframes:o,duration:a-10,ease:"linear"}}(e,c);1===(e=u.keyframes).length&&(e[1]=e[0]),r=u.duration,n=u.times,o=u.ease,a="keyframes"}const u=function(e,t,r,{delay:n=0,duration:o=300,repeat:a=0,repeatType:i="loop",ease:s="easeInOut",times:l}={}){const c={[t]:r};l&&(c.offset=l);const u=pr(s,o);Array.isArray(u)&&(c.easing=u),Ur.value&&jo.waapi++;const d=e.animate(c,{delay:n,duration:o,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:"reverse"===i?"alternate":"normal"});return Ur.value&&d.finished.finally((()=>{jo.waapi--})),d}(i.owner.current,s,e,{...this.options,duration:r,times:n,ease:o});return u.startTime=null!=l?l:this.calcStartTime(),this.pendingTimeline?(or(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:r}=this.options;i.set(Fo(e,this.options,t)),r&&r(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:n,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Nr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Nr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Cr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return Ir;const{animation:r}=t;or(r,e)}else this.pendingTimeline=e;return Ir}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:n,type:o,ease:a,times:i}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const{motionValue:e,onUpdate:t,onComplete:s,element:l,...c}=this.options,u=new Ma({...c,keyframes:r,duration:n,type:o,ease:a,times:i,isGenerator:!0}),d=Cr(this.time);e.setWithVelocity(u.sample(d-10).value,u.sample(d).value,10)}const{onStop:s}=this.options;s&&s(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:o,damping:a,type:i}=e;if(!(t&&t.owner&&t.owner.current instanceof HTMLElement))return!1;const{onUpdate:s,transformTemplate:l}=t.owner.getProps();return Ua()&&r&&Fa.has(r)&&!s&&!l&&!n&&"mirror"!==o&&0!==a&&"inertia"!==i}}const za={type:"spring",stiffness:500,damping:25,restSpeed:10},Wa={type:"keyframes",duration:.8},Va={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ha=(e,{keyframes:t})=>t.length>2?Wa:Pr.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:za:Va;const $a=(e,t,r,n={},o,a)=>i=>{const s=er(n,e)||{},l=s.delay||n.delay||0;let{elapsed:c=0}=n;c-=Cr(l);let u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...s,delay:-c,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{i(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:a?void 0:o};(function({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:o,repeat:a,repeatType:i,repeatDelay:s,from:l,elapsed:c,...u}){return!!Object.keys(u).length})(s)||(u={...u,...Ha(e,u)}),u.duration&&(u.duration=Cr(u.duration)),u.repeatDelay&&(u.repeatDelay=Cr(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let d=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(u.duration=0,0===u.delay&&(d=!0)),(sn||Lr)&&(d=!0,u.duration=0,u.delay=0),d&&!a&&void 0!==t.get()){const e=Fo(u.keyframes,s);if(void 0!==e)return Br.update((()=>{u.onUpdate(e),u.onComplete()})),new Zt([])}return!a&&Ba.supports(u)?new Ba(u):new Ma(u)};function Ga({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&!0!==t[r];return t[r]=!1,n}function Ka(e,t,{delay:r=0,transitionOverride:n,type:o}={}){var a;let{transition:i=e.getDefaultTransition(),transitionEnd:s,...l}=t;n&&(i=n);const c=[],u=o&&e.animationState&&e.animationState.getState()[o];for(const t in l){const n=e.getValue(t,null!==(a=e.latestValues[t])&&void 0!==a?a:null),o=l[t];if(void 0===o||u&&Ga(u,t))continue;const s={delay:r,...er(i||{},t)};let d=!1;if(window.MotionHandoffAnimation){const r=an(e);if(r){const e=window.MotionHandoffAnimation(r,t,Br);null!==e&&(s.startTime=e,d=!0)}}rn(e,t),n.start($a(t,n,o,e.shouldReduceMotion&&Rr.has(t)?{type:!1}:s,e,d));const h=n.animation;h&&c.push(h)}return s&&Promise.all(c).then((()=>{Br.update((()=>{s&&function(e,t){const r=Yt(e,t);let{transitionEnd:n={},transition:o={},...a}=r||{};a={...a,...n};for(const t in a)en(e,t,(i=a[t],Dr(i)?i[i.length-1]||0:i));var i}(e,s)}))})),c}function qa(e,t,r={}){var n;const o=Yt(e,t,"exit"===r.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=o||{};r.transitionOverride&&(a=r.transitionOverride);const i=o?()=>Promise.all(Ka(e,o,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(n=0)=>{const{delayChildren:o=0,staggerChildren:i,staggerDirection:s}=a;return function(e,t,r=0,n=0,o=1,a){const i=[],s=(e.variantChildren.size-1)*n,l=1===o?(e=0)=>e*n:(e=0)=>s-e*n;return Array.from(e.variantChildren).sort(Ya).forEach(((e,n)=>{e.notify("AnimationStart",t),i.push(qa(e,t,{...a,delay:r+l(n)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(i)}(e,t,o+n,i,s,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[e,t]="beforeChildren"===l?[i,s]:[s,i];return e().then((()=>t()))}return Promise.all([i(),s(r.delay)])}function Ya(e,t){return e.sortNodePosition(t)}function Xa(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Qa(e){return"string"==typeof e||Array.isArray(e)}const Ja=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Za=["initial",...Ja],ei=Za.length;function ti(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&ti(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let r=0;r<ei;r++){const n=Za[r],o=e.props[n];(Qa(o)||!1===o)&&(t[n]=o)}return t}const ri=[...Ja].reverse(),ni=Ja.length;function oi(e){return t=>Promise.all(t.map((({animation:t,options:r})=>function(e,t,r={}){let n;if(e.notify("AnimationStart",t),Array.isArray(t)){const o=t.map((t=>qa(e,t,r)));n=Promise.all(o)}else if("string"==typeof t)n=qa(e,t,r);else{const o="function"==typeof t?Yt(e,t,r.custom):t;n=Promise.all(Ka(e,o,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,t,r))))}function ai(e){let t=oi(e),r=li(),n=!0;const o=t=>(r,n)=>{var o;const a=Yt(e,n,"exit"===t?null===(o=e.presenceContext)||void 0===o?void 0:o.custom:void 0);if(a){const{transition:e,transitionEnd:t,...n}=a;r={...r,...n,...t}}return r};function a(a){const{props:i}=e,s=ti(e.parent)||{},l=[],c=new Set;let u={},d=1/0;for(let t=0;t<ni;t++){const h=ri[t],f=r[h],p=void 0!==i[h]?i[h]:s[h],m=Qa(p),g=h===a?f.isActive:null;!1===g&&(d=t);let v=p===s[h]&&p!==i[h]&&m;if(v&&n&&e.manuallyAnimateOnMount&&(v=!1),f.protectedKeys={...u},!f.isActive&&null===g||!p&&!f.prevProp||Gt(p)||"boolean"==typeof p)continue;const y=ii(f.prevProp,p);let w=y||h===a&&f.isActive&&!v&&m||t>d&&m,b=!1;const x=Array.isArray(p)?p:[p];let E=x.reduce(o(h),{});!1===g&&(E={});const{prevResolvedValues:k={}}=f,S={...k,...E},T=t=>{w=!0,c.has(t)&&(b=!0,c.delete(t)),f.needsAnimating[t]=!0;const r=e.getValue(t);r&&(r.liveStyle=!1)};for(const e in S){const t=E[e],r=k[e];if(u.hasOwnProperty(e))continue;let n=!1;n=Dr(t)&&Dr(r)?!Xa(t,r):t!==r,n?null!=t?T(e):c.add(e):void 0!==t&&c.has(e)?T(e):f.protectedKeys[e]=!0}f.prevProp=p,f.prevResolvedValues=E,f.isActive&&(u={...u,...E}),n&&e.blockInitialAnimation&&(w=!1);w&&(!(v&&y)||b)&&l.push(...x.map((e=>({animation:e,options:{type:h}}))))}if(c.size){const t={};if("boolean"!=typeof i.initial){const r=Yt(e,Array.isArray(i.initial)?i.initial[0]:i.initial);r&&r.transition&&(t.transition=r.transition)}c.forEach((r=>{const n=e.getBaseTarget(r),o=e.getValue(r);o&&(o.liveStyle=!0),t[r]=null!=n?n:null})),l.push({animation:t})}let h=Boolean(l.length);return!n||!1!==i.initial&&i.initial!==i.animate||e.manuallyAnimateOnMount||(h=!1),n=!1,h?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,n){var o;if(r[t].isActive===n)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((e=>{var r;return null===(r=e.animationState)||void 0===r?void 0:r.setActive(t,n)})),r[t].isActive=n;const i=a(t);for(const e in r)r[e].protectedKeys={};return i},setAnimateFunction:function(r){t=r(e)},getState:()=>r,reset:()=>{r=li(),n=!0}}}function ii(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!Xa(t,e)}function si(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function li(){return{animate:si(!0),whileInView:si(),whileHover:si(),whileTap:si(),whileDrag:si(),whileFocus:si(),exit:si()}}class ci{constructor(e){this.isMounted=!1,this.node=e}update(){}}let ui=0;const di={animation:{Feature:class extends ci{constructor(e){super(e),e.animationState||(e.animationState=ai(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Gt(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends ci{constructor(){super(...arguments),this.id=ui++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const n=this.node.animationState.setActive("exit",!e);t&&!e&&n.then((()=>{t(this.id)}))}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function hi(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function fi(e){return{point:{x:e.pageX,y:e.pageY}}}function pi(e,t,r,n){return hi(e,t,(e=>t=>xr(t)&&e(t,fi(t)))(r),n)}function mi({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function gi(e){return e.max-e.min}function vi(e,t,r,n=.5){e.origin=n,e.originPoint=Bo(t.min,t.max,e.origin),e.scale=gi(r)/gi(t),e.translate=Bo(r.min,r.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function yi(e,t,r,n){vi(e.x,t.x,r.x,n?n.originX:void 0),vi(e.y,t.y,r.y,n?n.originY:void 0)}function wi(e,t,r){e.min=r.min+t.min,e.max=e.min+gi(t)}function bi(e,t,r){e.min=t.min-r.min,e.max=e.min+gi(t)}function xi(e,t,r){bi(e.x,t.x,r.x),bi(e.y,t.y,r.y)}const Ei=()=>({x:{min:0,max:0},y:{min:0,max:0}});function ki(e){return[e("x"),e("y")]}function Si(e){return void 0===e||1===e}function Ti({scale:e,scaleX:t,scaleY:r}){return!Si(e)||!Si(t)||!Si(r)}function _i(e){return Ti(e)||Ai(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Ai(e){return Ci(e.x)||Ci(e.y)}function Ci(e){return e&&"0%"!==e}function Ni(e,t,r){return r+t*(e-r)}function Ii(e,t,r,n,o){return void 0!==o&&(e=Ni(e,o,n)),Ni(e,r,n)+t}function Oi(e,t=0,r=1,n,o){e.min=Ii(e.min,t,r,n,o),e.max=Ii(e.max,t,r,n,o)}function Pi(e,{x:t,y:r}){Oi(e.x,t.translate,t.scale,t.originPoint),Oi(e.y,r.translate,r.scale,r.originPoint)}const Ri=.999999999999,Di=1.0000000000001;function Li(e,t){e.min=e.min+t,e.max=e.max+t}function Mi(e,t,r,n,o=.5){Oi(e,t,r,Bo(e.min,e.max,o),n)}function Fi(e,t){Mi(e.x,t.x,t.scaleX,t.scale,t.originX),Mi(e.y,t.y,t.scaleY,t.scale,t.originY)}function Ui(e,t){return mi(function(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}(e.getBoundingClientRect(),t))}function ji(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const Bi=(e,t)=>Math.abs(e-t);class zi{constructor(e,t,{transformPagePoint:r,dragSnapToOrigin:n=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Hi(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,r=function(e,t){const r=Bi(e.x,t.x),n=Bi(e.y,t.y);return Math.sqrt(r**2+n**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!r)return;const{point:n}=e,{timestamp:o}=Wr;this.history.push({...n,timestamp:o});const{onStart:a,onMove:i}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),i&&i(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{if(e.target instanceof Element&&e.target.hasPointerCapture&&void 0!==e.pointerId)try{if(!e.target.hasPointerCapture(e.pointerId))return}catch(e){}this.lastMoveEvent=e,this.lastMoveEventInfo=Wi(t,this.transformPagePoint),Br.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{wr(e,"release"),this.end();const{onEnd:r,onSessionEnd:n,resumeAnimation:o}=this.handlers;if(this.dragSnapToOrigin&&o&&o(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=Hi("pointercancel"===e.type||"lostpointercapture"===e.type?this.lastMoveEventInfo:Wi(t,this.transformPagePoint),this.history);this.startEvent&&r&&r(e,a),n&&n(e,a)},!xr(e))return;this.dragSnapToOrigin=n,this.handlers=t,this.transformPagePoint=r;const o=Wi(fi(e),this.transformPagePoint),{point:a}=o,{timestamp:i}=Wr;this.history=[{...a,timestamp:i}];const{onSessionStart:s}=t;s&&s(e,Hi(o,this.history)),wr(e,"set"),this.removeListeners=qo(pi(e.currentTarget,"pointermove",this.handlePointerMove),pi(e.currentTarget,"pointerup",this.handlePointerUp),pi(e.currentTarget,"pointercancel",this.handlePointerUp),pi(e.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zr(this.updatePoint)}}function Wi(e,t){return t?{point:t(e.point)}:e}function Vi(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Hi({point:e},t){return{point:e,delta:Vi(e,Gi(t)),offset:Vi(e,$i(t)),velocity:Ki(t,.1)}}function $i(e){return e[0]}function Gi(e){return e[e.length-1]}function Ki(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const o=Gi(e);for(;r>=0&&(n=e[r],!(o.timestamp-n.timestamp>Cr(t)));)r--;if(!n)return{x:0,y:0};const a=Nr(o.timestamp-n.timestamp);if(0===a)return{x:0,y:0};const i={x:(o.x-n.x)/a,y:(o.y-n.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function qi(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function Yi(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}const Xi=.35;function Qi(e,t,r){return{min:Ji(e,t),max:Ji(e,r)}}function Ji(e,t){return"number"==typeof e?e:e[t]||0}const Zi=new WeakMap;class es{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:n}=this.getProps();this.panSession=new zi(e,{onSessionStart:e=>{const{dragSnapToOrigin:r}=this.getProps();r?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(fi(e).point)},onStart:(e,t)=>{const{drag:r,dragPropagation:n,onDragStart:o}=this.getProps();if(r&&!n&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(a=r)||"y"===a?mr[a]?null:(mr[a]=!0,()=>{mr[a]=!1}):mr.x||mr.y?null:(mr.x=mr.y=!0,()=>{mr.x=mr.y=!1}),!this.openDragLock))return;var a;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ki((e=>{let t=this.getAxisMotionValue(e).get()||0;if(Dn.test(t)){const{projection:r}=this.visualElement;if(r&&r.layout){const n=r.layout.layoutBox[e];if(n){t=gi(n)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),o&&Br.postRender((()=>o(e,t))),rn(this.visualElement,"transform");const{animationState:i}=this.visualElement;i&&i.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:r,dragDirectionLock:n,onDirectionLock:o,onDrag:a}=this.getProps();if(!r&&!this.openDragLock)return;const{offset:i}=t;if(n&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let r=null;Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x");return r}(i),void(null!==this.currentDirection&&o&&o(this.currentDirection));this.updateAxis("x",t.point,i),this.updateAxis("y",t.point,i),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>ki((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:n})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:n}=t;this.startAnimation(n);const{onDragEnd:o}=this.getProps();o&&Br.postRender((()=>o(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:n}=this.getProps();if(!r||!ts(e,n,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=function(e,{min:t,max:r},n){return void 0!==t&&e<t?e=n?Bo(t,e,n.min):Math.max(e,t):void 0!==r&&e>r&&(e=n?Bo(r,e,n.max):Math.min(e,r)),e}(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,o=this.constraints;t&&ji(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!n)&&function(e,{top:t,left:r,bottom:n,right:o}){return{x:qi(e.x,r,o),y:qi(e.y,t,n)}}(n.layoutBox,t),this.elastic=function(e=Xi){return!1===e?e=0:!0===e&&(e=Xi),{x:Qi(e,"left","right"),y:Qi(e,"top","bottom")}}(r),o!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ki((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const r={};return void 0!==t.min&&(r.min=t.min-e.min),void 0!==t.max&&(r.max=t.max-e.min),r}(n.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ji(e))return!1;const r=e.current;Eo(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const o=function(e,t,r){const n=Ui(e,r),{scroll:o}=t;return o&&(Li(n.x,o.offset.x),Li(n.y,o.offset.y)),n}(r,n.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:Yi(e.x,t.x),y:Yi(e.y,t.y)}}(n.layout.layoutBox,o);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=mi(e))}return a}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:n,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:i}=this.getProps(),s=this.constraints||{},l=ki((i=>{if(!ts(i,t,this.currentDirection))return;let l=s&&s[i]||{};a&&(l={min:0,max:0});const c=n?200:1e6,u=n?40:1e7,d={type:"inertia",velocity:r?e[i]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...o,...l};return this.startAxisValueAnimation(i,d)}));return Promise.all(l).then(i)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return rn(this.visualElement,e),r.start($a(e,r,0,t,this.visualElement,!1))}stopAnimation(){ki((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){ki((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),n=r[t];return n||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ki((t=>{const{drag:r}=this.getProps();if(!ts(t,r,this.currentDirection))return;const{projection:n}=this.visualElement,o=this.getAxisMotionValue(t);if(n&&n.layout){const{min:r,max:a}=n.layout.layoutBox[t];o.set(e[t]-Bo(r,a,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!ji(t)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};ki((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const r=t.get();n[e]=function(e,t){let r=.5;const n=gi(e),o=gi(t);return o>n?r=cr(t.min,t.max-n,e.min):n>o&&(r=cr(e.min,e.max-o,t.min)),bn(0,1,r)}({min:r,max:r},this.constraints[e])}}));const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ki((t=>{if(!ts(t,e,null))return;const r=this.getAxisMotionValue(t),{min:o,max:a}=this.constraints[t];r.set(Bo(o,a,n[t]))}))}addListeners(){if(!this.visualElement.current)return;Zi.set(this.visualElement,this);const e=pi(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:r=!0}=this.getProps();t&&r&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();ji(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,n=r.addEventListener("measure",t);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Br.read(t);const o=hi(window,"resize",(()=>this.scalePositionWithinConstraints())),a=r.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(ki((t=>{const r=this.getAxisMotionValue(t);r&&(this.originPoint[t]+=e[t].translate,r.set(r.get()+e[t].translate))})),this.visualElement.render())}));return()=>{o(),e(),n(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:o=!1,dragElastic:a=Xi,dragMomentum:i=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:n,dragConstraints:o,dragElastic:a,dragMomentum:i}}}function ts(e,t,r){return!(!0!==t&&t!==e||null!==r&&r!==e)}const rs=e=>(t,r)=>{e&&Br.postRender((()=>e(t,r)))};var ns=r(848);const os=(0,e.createContext)(null);function as(t=!0){const r=(0,e.useContext)(os);if(null===r)return[!0,null];const{isPresent:n,onExitComplete:o,register:a}=r,i=(0,e.useId)();(0,e.useEffect)((()=>{if(t)return a(i)}),[t]);const s=(0,e.useCallback)((()=>t&&o&&o(i)),[i,o,t]);return!n&&o?[!1,s]:[!0]}const is=(0,e.createContext)({}),ss=(0,e.createContext)({}),ls={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function cs(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const us={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!Ln.test(e))return e;e=parseFloat(e)}return`${cs(e,t.target.x)}% ${cs(e,t.target.y)}%`}},ds={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,o=Yn.parse(e);if(o.length>5)return n;const a=Yn.createTransformer(e),i="number"!=typeof o[0]?1:0,s=r.x.scale*t.x,l=r.y.scale*t.y;o[0+i]/=s,o[1+i]/=l;const c=Bo(s,l,.5);return"number"==typeof o[2+i]&&(o[2+i]/=c),"number"==typeof o[3+i]&&(o[3+i]/=c),a(o)}},hs={};const{schedule:fs,cancel:ps}=jr(queueMicrotask,!1);class ms extends e.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:n}=this.props,{projection:o}=e;!function(e){for(const t in e)hs[t]=e[t],To(t)&&(hs[t].isCSSVariable=!0)}(vs),o&&(t.group&&t.group.add(o),r&&r.register&&n&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",(()=>{this.safeToRemove()})),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),ls.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:n,isPresent:o}=this.props,a=r.projection;return a?(a.isPresent=o,n||e.layoutDependency!==t||void 0===t?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||Br.postRender((()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),fs.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:n}=e;n&&(n.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gs(t){const[r,n]=as(),o=(0,e.useContext)(is);return(0,ns.jsx)(ms,{...t,layoutGroup:o,switchLayoutGroup:(0,e.useContext)(ss),isPresent:r,safeToRemove:n})}const vs={borderRadius:{...us,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:us,borderTopRightRadius:us,borderBottomLeftRadius:us,borderBottomRightRadius:us,boxShadow:ds};const ys=(e,t)=>e.depth-t.depth;class ws{constructor(){this.children=[],this.isDirty=!1}add(e){Kr(this.children,e),this.isDirty=!0}remove(e){qr(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ys),this.isDirty=!1,this.children.forEach(e)}}function bs(e,t){const r=Gr.now(),n=({timestamp:o})=>{const a=o-r;a>=t&&(zr(n),e(a-t))};return Br.read(n,!0),()=>zr(n)}function xs(e){const t=tn(e)?e.get():e;return r=t,Boolean(r&&"object"==typeof r&&r.mix&&r.toValue)?t.toValue():t;var r}const Es=["TopLeft","TopRight","BottomLeft","BottomRight"],ks=Es.length,Ss=e=>"string"==typeof e?parseFloat(e):e,Ts=e=>"number"==typeof e||Ln.test(e);function _s(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const As=Ns(0,.5,vn),Cs=Ns(.5,.95,Ir);function Ns(e,t,r){return n=>n<e?0:n>t?1:r(cr(e,t,n))}function Is(e,t){e.min=t.min,e.max=t.max}function Os(e,t){Is(e.x,t.x),Is(e.y,t.y)}function Ps(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Rs(e,t,r,n,o){return e=Ni(e-=t,1/r,n),void 0!==o&&(e=Ni(e,1/o,n)),e}function Ds(e,t,[r,n,o],a,i){!function(e,t=0,r=1,n=.5,o,a=e,i=e){Dn.test(t)&&(t=parseFloat(t),t=Bo(i.min,i.max,t/100)-i.min);if("number"!=typeof t)return;let s=Bo(a.min,a.max,n);e===a&&(s-=t),e.min=Rs(e.min,t,r,s,o),e.max=Rs(e.max,t,r,s,o)}(e,t[r],t[n],t[o],t.scale,a,i)}const Ls=["x","scaleX","originX"],Ms=["y","scaleY","originY"];function Fs(e,t,r,n){Ds(e.x,t,Ls,r?r.x:void 0,n?n.x:void 0),Ds(e.y,t,Ms,r?r.y:void 0,n?n.y:void 0)}function Us(e){return 0===e.translate&&1===e.scale}function js(e){return Us(e.x)&&Us(e.y)}function Bs(e,t){return e.min===t.min&&e.max===t.max}function zs(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Ws(e,t){return zs(e.x,t.x)&&zs(e.y,t.y)}function Vs(e){return gi(e.x)/gi(e.y)}function Hs(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class $s{constructor(){this.members=[]}add(e){Kr(this.members,e),e.scheduleRender()}remove(e){if(qr(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let r;for(let e=t;e>=0;e--){const t=this.members[e];if(!1!==t.isPresent){r=t;break}}return!!r&&(this.promote(r),!0)}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:n}=e.options;!1===n&&r.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Gs={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},Ks=["","X","Y","Z"],qs={visibility:"hidden"};let Ys=0;function Xs(e,t,r,n){const{latestValues:o}=t;o[e]&&(r[e]=o[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Qs(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=an(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:t,layoutId:n}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Br,!(t||n))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Qs(n)}function Js({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:o}){return class{constructor(e={},r=(null==t?void 0:t())){this.id=Ys++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ur.value&&(Gs.nodes=Gs.calculatedTargetDeltas=Gs.calculatedProjections=0),this.nodes.forEach(tl),this.nodes.forEach(ll),this.nodes.forEach(cl),this.nodes.forEach(rl),Ur.addProjectionMetrics&&Ur.addProjectionMetrics(Gs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new ws)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Yr),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const r=this.eventHandlers.get(e);r&&r.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,r=this.root.hasTreeAnimated){if(this.instance)return;var n;this.isSVG=(n=t)instanceof SVGElement&&"svg"!==n.tagName,this.instance=t;const{layoutId:o,layout:a,visualElement:i}=this.options;if(i&&!i.current&&i.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),r&&(a||o)&&(this.isLayoutDirty=!0),e){let r;const n=()=>this.root.updateBlockedByResize=!1;e(t,(()=>{this.root.updateBlockedByResize=!0,r&&r(),r=bs(n,250),ls.hasAnimatedSinceResize&&(ls.hasAnimatedSinceResize=!1,this.nodes.forEach(sl))}))}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&i&&(o||a)&&this.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:r,layout:n})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const o=this.options.transition||i.getDefaultTransition()||ml,{onLayoutAnimationStart:a,onLayoutAnimationComplete:s}=i.getProps(),l=!this.targetLayout||!Ws(this.targetLayout,n),c=!t&&r;if(this.options.layoutRoot||this.resumeFrom||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,c);const t={...er(o,"layout"),onPlay:a,onComplete:s};(i.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||sl(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=n}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ul),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Qs(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){const t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}const{layoutId:t,layout:r}=this.options;if(void 0===t&&!r)return;const n=this.getTransformTemplate();this.prevTransformTemplateValue=n?n(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(ol);this.isUpdating||this.nodes.forEach(al),this.isUpdating=!1,this.nodes.forEach(il),this.nodes.forEach(Zs),this.nodes.forEach(el),this.clearAllSnapshots();const e=Gr.now();Wr.delta=bn(0,1e3/60,e-Wr.timestamp),Wr.timestamp=e,Wr.isProcessing=!0,Vr.update.process(Wr),Vr.preRender.process(Wr),Vr.render.process(Wr),Wr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fs.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nl),this.sharedNodes.forEach(dl)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Br.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Br.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||gi(this.snapshot.measuredBox.x)||gi(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++){this.path[e].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=n(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!o)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!js(this.projectionDelta),r=this.getTransformTemplate(),n=r?r(this.latestValues,""):void 0,a=n!==this.prevTransformTemplateValue;e&&(t||_i(this.latestValues)||a)&&(o(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let r=this.removeElementScroll(t);var n;return e&&(r=this.removeTransform(r)),yl((n=r).x),yl(n.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const r=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(bl))){const{scroll:e}=this.root;e&&(Li(r.x,e.offset.x),Li(r.y,e.offset.y))}return r}removeElementScroll(e){var t;const r={x:{min:0,max:0},y:{min:0,max:0}};if(Os(r,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return r;for(let t=0;t<this.path.length;t++){const n=this.path[t],{scroll:o,options:a}=n;n!==this.root&&o&&a.layoutScroll&&(o.wasRoot&&Os(r,e),Li(r.x,o.offset.x),Li(r.y,o.offset.y))}return r}applyTransform(e,t=!1){const r={x:{min:0,max:0},y:{min:0,max:0}};Os(r,e);for(let e=0;e<this.path.length;e++){const n=this.path[e];!t&&n.options.layoutScroll&&n.scroll&&n!==n.root&&Fi(r,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),_i(n.latestValues)&&Fi(r,n.latestValues)}return _i(this.latestValues)&&Fi(r,this.latestValues),r}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Os(t,e);for(let e=0;e<this.path.length;e++){const r=this.path[e];if(!r.instance)continue;if(!_i(r.latestValues))continue;Ti(r.latestValues)&&r.updateSnapshot();const n={x:{min:0,max:0},y:{min:0,max:0}};Os(n,r.measurePageBox()),Fs(t,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,n)}return _i(this.latestValues)&&Fs(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t;const r=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=r.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=r.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=r.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==r;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:o,layoutId:a}=this.options;if(this.layout&&(o||a)){if(this.resolvedRelativeTargetAt=Wr.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},xi(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var i,s,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i=this.target,s=this.relativeTarget,l=this.relativeParent.target,wi(i.x,s.x,l.x),wi(i.y,s.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Os(this.target,this.layout.layoutBox),Pi(this.target,this.targetDelta)):Os(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},xi(this.relativeTargetOrigin,this.target,e.target),Os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ur.value&&Gs.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Ti(this.parent.latestValues)&&!Ai(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),r=Boolean(this.resumingFrom)||this!==t;let n=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(n=!1),r&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===Wr.timestamp&&(n=!1),n)return;const{layout:o,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!o&&!a)return;Os(this.layoutCorrected,this.layout.layoutBox);const i=this.treeScale.x,s=this.treeScale.y;!function(e,t,r,n=!1){const o=r.length;if(!o)return;let a,i;t.x=t.y=1;for(let s=0;s<o;s++){a=r[s],i=a.projectionDelta;const{visualElement:o}=a.options;o&&o.props.style&&"contents"===o.props.style.display||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Fi(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,Pi(e,i)),n&&_i(a.latestValues)&&Fi(e,a.latestValues))}t.x<Di&&t.x>Ri&&(t.x=1),t.y<Di&&t.y>Ri&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,r),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(Ps(this.prevProjectionDelta.x,this.projectionDelta.x),Ps(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),yi(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===i&&this.treeScale.y===s&&Hs(this.projectionDelta.x,this.prevProjectionDelta.x)&&Hs(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Ur.value&&Gs.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const r=this.snapshot,n=r?r.latestValues:{},o={...this.latestValues},a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const i={x:{min:0,max:0},y:{min:0,max:0}},s=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(s&&!c&&!0===this.options.crossfade&&!this.path.some(pl));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const r=t/1e3;var l,h,f,p,m,g;hl(a.x,e.x,r),hl(a.y,e.y,r),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xi(i,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f=this.relativeTarget,p=this.relativeTargetOrigin,m=i,g=r,fl(f.x,p.x,m.x,g),fl(f.y,p.y,m.y,g),d&&(l=this.relativeTarget,h=d,Bs(l.x,h.x)&&Bs(l.y,h.y))&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),Os(d,this.relativeTarget)),s&&(this.animationValues=o,function(e,t,r,n,o,a){o?(e.opacity=Bo(0,void 0!==r.opacity?r.opacity:1,As(n)),e.opacityExit=Bo(void 0!==t.opacity?t.opacity:1,0,Cs(n))):a&&(e.opacity=Bo(void 0!==t.opacity?t.opacity:1,void 0!==r.opacity?r.opacity:1,n));for(let o=0;o<ks;o++){const a=`border${Es[o]}Radius`;let i=_s(t,a),s=_s(r,a);void 0===i&&void 0===s||(i||(i=0),s||(s=0),0===i||0===s||Ts(i)===Ts(s)?(e[a]=Math.max(Bo(Ss(i),Ss(s),n),0),(Dn.test(s)||Dn.test(i))&&(e[a]+="%")):e[a]=s)}(t.rotate||r.rotate)&&(e.rotate=Bo(t.rotate||0,r.rotate||0,n))}(o,n,this.latestValues,r,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=r},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Br.update((()=>{ls.hasAnimatedSinceResize=!0,jo.layout++,this.currentAnimation=function(e,t,r){const n=tn(e)?e:Zr(e);return n.start($a("",n,t,r)),n.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{jo.layout--},onComplete:()=>{jo.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:r,layout:n,latestValues:o}=e;if(t&&r&&n){if(this!==e&&this.layout&&n&&wl(this.options.animationType,this.layout.layoutBox,n.layoutBox)){r=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=gi(this.layout.layoutBox.x);r.x.min=e.target.x.min,r.x.max=r.x.min+t;const n=gi(this.layout.layoutBox.y);r.y.min=e.target.y.min,r.y.max=r.y.min+n}Os(t,r),Fi(t,o),yi(this.projectionDeltaWithTransform,this.layoutCorrected,t,o)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new $s);this.sharedNodes.get(e).add(t);const r=t.options.initialPromotionConfig;t.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:r}={}){const n=this.getStack();n&&n.promote(this,r),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:r}=e;if((r.z||r.rotate||r.rotateX||r.rotateY||r.rotateZ||r.skewX||r.skewY)&&(t=!0),!t)return;const n={};r.z&&Xs("z",e,n,this.animationValues);for(let t=0;t<Ks.length;t++)Xs(`rotate${Ks[t]}`,e,n,this.animationValues),Xs(`skew${Ks[t]}`,e,n,this.animationValues);e.render();for(const t in n)e.setStaticValue(t,n[t]),this.animationValues&&(this.animationValues[t]=n[t]);e.scheduleRender()}getProjectionStyles(e){var t,r;if(!this.instance||this.isSVG)return;if(!this.isVisible)return qs;const n={visibility:""},o=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,n.opacity="",n.pointerEvents=xs(null==e?void 0:e.pointerEvents)||"",n.transform=o?o(this.latestValues,""):"none",n;const a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=xs(null==e?void 0:e.pointerEvents)||""),this.hasProjected&&!_i(this.latestValues)&&(t.transform=o?o({},""):"none",this.hasProjected=!1),t}const i=a.animationValues||a.latestValues;this.applyTransformsToTarget(),n.transform=function(e,t,r){let n="";const o=e.x.translate/t.x,a=e.y.translate/t.y,i=(null==r?void 0:r.z)||0;if((o||a||i)&&(n=`translate3d(${o}px, ${a}px, ${i}px) `),1===t.x&&1===t.y||(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:e,rotate:t,rotateX:o,rotateY:a,skewX:i,skewY:s}=r;e&&(n=`perspective(${e}px) ${n}`),t&&(n+=`rotate(${t}deg) `),o&&(n+=`rotateX(${o}deg) `),a&&(n+=`rotateY(${a}deg) `),i&&(n+=`skewX(${i}deg) `),s&&(n+=`skewY(${s}deg) `)}const s=e.x.scale*t.x,l=e.y.scale*t.y;return 1===s&&1===l||(n+=`scale(${s}, ${l})`),n||"none"}(this.projectionDeltaWithTransform,this.treeScale,i),o&&(n.transform=o(i,n.transform));const{x:s,y:l}=this.projectionDelta;n.transformOrigin=`${100*s.origin}% ${100*l.origin}% 0`,a.animationValues?n.opacity=a===this?null!==(r=null!==(t=i.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==r?r:1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:n.opacity=a===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const e in hs){if(void 0===i[e])continue;const{correct:t,applyTo:r,isCSSVariable:o}=hs[e],s="none"===n.transform?i[e]:t(i[e],a);if(r){const e=r.length;for(let t=0;t<e;t++)n[r[t]]=s}else o?this.options.visualElement.renderState.vars[e]=s:n[e]=s}return this.options.layoutId&&(n.pointerEvents=a===this?xs(null==e?void 0:e.pointerEvents)||"":"none"),n}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(ol),this.root.sharedNodes.clear()}}}function Zs(e){e.updateLayout()}function el(e){var t;const r=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:n}=e.layout,{animationType:o}=e.options,a=r.source!==e.layout.source;"size"===o?ki((e=>{const n=a?r.measuredBox[e]:r.layoutBox[e],o=gi(n);n.min=t[e].min,n.max=n.min+o})):wl(o,r.layoutBox,t)&&ki((n=>{const o=a?r.measuredBox[n]:r.layoutBox[n],i=gi(t[n]);o.max=o.min+i,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[n].max=e.relativeTarget[n].min+i)}));const i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};yi(i,t,r.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?yi(s,e.applyTransform(n,!0),r.measuredBox):yi(s,t,r.layoutBox);const l=!js(i);let c=!1;if(!e.resumeFrom){const n=e.getClosestProjectingParent();if(n&&!n.resumeFrom){const{snapshot:o,layout:a}=n;if(o&&a){const i={x:{min:0,max:0},y:{min:0,max:0}};xi(i,r.layoutBox,o.layoutBox);const s={x:{min:0,max:0},y:{min:0,max:0}};xi(s,t,a.layoutBox),Ws(i,s)||(c=!0),n.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=i,e.relativeParent=n)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:r,delta:s,layoutDelta:i,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function tl(e){Ur.value&&Gs.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function rl(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function nl(e){e.clearSnapshot()}function ol(e){e.clearMeasurements()}function al(e){e.isLayoutDirty=!1}function il(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function sl(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ll(e){e.resolveTargetDelta()}function cl(e){e.calcProjection()}function ul(e){e.resetSkewAndRotation()}function dl(e){e.removeLeadSnapshot()}function hl(e,t,r){e.translate=Bo(t.translate,0,r),e.scale=Bo(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function fl(e,t,r,n){e.min=Bo(t.min,r.min,n),e.max=Bo(t.max,r.max,n)}function pl(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const ml={duration:.45,ease:[.4,0,.1,1]},gl=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),vl=gl("applewebkit/")&&!gl("chrome/")?Math.round:Ir;function yl(e){e.min=vl(e.min),e.max=vl(e.max)}function wl(e,t,r){return"position"===e||"preserve-aspect"===e&&(n=Vs(t),o=Vs(r),a=.2,!(Math.abs(n-o)<=a));var n,o,a}function bl(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const xl=Js({attachResizeListener:(e,t)=>hi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),El={current:void 0},kl=Js({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!El.current){const e=new xl({});e.mount(window),e.setOptions({layoutScroll:!0}),El.current=e}return El.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Sl={pan:{Feature:class extends ci{constructor(){super(...arguments),this.removePointerDownListener=Ir}onPointerDown(e){this.session=new zi(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:rs(e),onStart:rs(t),onMove:r,onEnd:(e,t)=>{delete this.session,n&&Br.postRender((()=>n(e,t)))}}}mount(){this.removePointerDownListener=pi(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends ci{constructor(e){super(e),this.removeGroupControls=Ir,this.removeListeners=Ir,this.controls=new es(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ir}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:kl,MeasureLayout:gs}};function Tl(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover","Start"===r);const o=n["onHover"+r];o&&Br.postRender((()=>o(t,fi(t))))}function _l(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap","Start"===r);const o=n["onTap"+("End"===r?"":r)];o&&Br.postRender((()=>o(t,fi(t))))}const Al=new WeakMap,Cl=new WeakMap,Nl=e=>{const t=Al.get(e.target);t&&t(e)},Il=e=>{e.forEach(Nl)};function Ol(e,t,r){const n=function({root:e,...t}){const r=e||document;Cl.has(r)||Cl.set(r,{});const n=Cl.get(r),o=JSON.stringify(t);return n[o]||(n[o]=new IntersectionObserver(Il,{root:e,...t})),n[o]}(t);return Al.set(e,r),n.observe(e),()=>{Al.delete(e),n.unobserve(e)}}const Pl={some:0,all:1};const Rl={inView:{Feature:class extends ci{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:n="some",once:o}=e,a={root:t?t.current:void 0,rootMargin:r,threshold:"number"==typeof n?n:Pl[n]};return Ol(this.node.current,a,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,o&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:r,onViewportLeave:n}=this.node.getProps(),a=t?r:n;a&&a(e)}))}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends ci{mount(){const{current:e}=this.node;e&&(this.unmount=Ar(e,((e,t)=>(_l(this.node,t,"Start"),(e,{success:t})=>_l(this.node,e,t?"End":"Cancel"))),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends ci{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qo(hi(this.node.current,"focus",(()=>this.onFocus())),hi(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends ci{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,r={}){const[n,o,a]=vr(e,r),i=e=>{if(!yr(e))return;const{target:r}=e,n=t(r,e);if("function"!=typeof n||!r)return;const a=e=>{yr(e)&&(n(e),r.removeEventListener("pointerleave",a))};r.addEventListener("pointerleave",a,o)};return n.forEach((e=>{e.addEventListener("pointerenter",i,o)})),a}(e,((e,t)=>(Tl(this.node,t,"Start"),e=>Tl(this.node,e,"End")))))}unmount(){}}}},Dl={layout:{ProjectionNode:kl,MeasureLayout:gs}},Ll=(0,e.createContext)({strict:!1}),Ml=(0,e.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Fl=(0,e.createContext)({});function Ul(e){return Gt(e.animate)||Za.some((t=>Qa(e[t])))}function jl(e){return Boolean(Ul(e)||e.variants)}function Bl(t){const{initial:r,animate:n}=function(e,t){if(Ul(e)){const{initial:t,animate:r}=e;return{initial:!1===t||Qa(t)?t:void 0,animate:Qa(r)?r:void 0}}return!1!==e.inherit?t:{}}(t,(0,e.useContext)(Fl));return(0,e.useMemo)((()=>({initial:r,animate:n})),[zl(r),zl(n)])}function zl(e){return Array.isArray(e)?e.join(" "):e}const Wl="undefined"!=typeof window,Vl={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hl={};for(const e in Vl)Hl[e]={isEnabled:t=>Vl[e].some((e=>!!t[e]))};const $l=Symbol.for("motionComponentSymbol");function Gl(t,r,n){return(0,e.useCallback)((e=>{e&&t.onMount&&t.onMount(e),r&&(e?r.mount(e):r.unmount()),n&&("function"==typeof n?n(e):ji(n)&&(n.current=e))}),[r])}const Kl=Wl?e.useLayoutEffect:e.useEffect;function ql(t,r,n,o,a){var i,s;const{visualElement:l}=(0,e.useContext)(Fl),c=(0,e.useContext)(Ll),u=(0,e.useContext)(os),d=(0,e.useContext)(Ml).reducedMotion,h=(0,e.useRef)(null);o=o||c.renderer,!h.current&&o&&(h.current=o(t,{visualState:r,parent:l,props:n,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:d}));const f=h.current,p=(0,e.useContext)(ss);!f||f.projection||!a||"html"!==f.type&&"svg"!==f.type||function(e,t,r,n){const{layoutId:o,layout:a,drag:i,dragConstraints:s,layoutScroll:l,layoutRoot:c}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:Yl(e.parent)),e.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:Boolean(i)||s&&ji(s),visualElement:e,animationType:"string"==typeof a?a:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:c})}(h.current,n,a,p);const m=(0,e.useRef)(!1);(0,e.useInsertionEffect)((()=>{f&&m.current&&f.update(n,u)}));const g=n[on],v=(0,e.useRef)(Boolean(g)&&!(null===(i=window.MotionHandoffIsComplete)||void 0===i?void 0:i.call(window,g))&&(null===(s=window.MotionHasOptimisedAnimation)||void 0===s?void 0:s.call(window,g)));return Kl((()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),fs.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())})),(0,e.useEffect)((()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask((()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,g)})),v.current=!1))})),f}function Yl(e){if(e)return!1!==e.options.allowProjection?e.projection:Yl(e.parent)}function Xl({preloadedFeatures:t,createVisualElement:r,useRender:n,useVisualState:o,Component:a}){var i,s;function l(t,i){let s;const l={...(0,e.useContext)(Ml),...t,layoutId:Ql(t)},{isStatic:c}=l,u=Bl(t),d=o(t,c);if(!c&&Wl){!function(){(0,e.useContext)(Ll).strict;0}();const t=function(e){const{drag:t,layout:r}=Hl;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==r?void 0:r.isEnabled(e))?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}(l);s=t.MeasureLayout,u.visualElement=ql(a,d,l,r,t.ProjectionNode)}return(0,ns.jsxs)(Fl.Provider,{value:u,children:[s&&u.visualElement?(0,ns.jsx)(s,{visualElement:u.visualElement,...l}):null,n(a,t,Gl(d,u.visualElement,i),d,c,u.visualElement)]})}t&&function(e){for(const t in e)Hl[t]={...Hl[t],...e[t]}}(t),l.displayName=`motion.${"string"==typeof a?a:`create(${null!==(s=null!==(i=a.displayName)&&void 0!==i?i:a.name)&&void 0!==s?s:""})`}`;const c=(0,e.forwardRef)(l);return c[$l]=a,c}function Ql({layoutId:t}){const r=(0,e.useContext)(is).id;return r&&void 0!==t?r+"-"+t:t}function Jl(e,{layout:t,layoutId:r}){return Pr.has(e)||e.startsWith("origin")||(t||void 0!==r)&&(!!hs[e]||"opacity"===e)}const Zl=(e,t)=>t&&"number"==typeof e?t.transform(e):e,ec={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tc=Or.length;function rc(e,t,r){const{style:n,vars:o,transformOrigin:a}=e;let i=!1,s=!1;for(const e in t){const r=t[e];if(Pr.has(e))i=!0;else if(To(e))o[e]=r;else{const t=Zl(r,no[e]);e.startsWith("origin")?(s=!0,a[e]=t):n[e]=t}}if(t.transform||(i||r?n.transform=function(e,t,r){let n="",o=!0;for(let a=0;a<tc;a++){const i=Or[a],s=e[i];if(void 0===s)continue;let l=!0;if(l="number"==typeof s?s===(i.startsWith("scale")?1:0):0===parseFloat(s),!l||r){const e=Zl(s,no[i]);l||(o=!1,n+=`${ec[i]||i}(${e}) `),r&&(t[i]=e)}}return n=n.trim(),r?n=r(t,o?"":n):o&&(n="none"),n}(t,e.transform,r):n.transform&&(n.transform="none")),s){const{originX:e="50%",originY:t="50%",originZ:r=0}=a;n.transformOrigin=`${e} ${t} ${r}`}}const nc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oc(e,t,r){for(const n in t)tn(t[n])||Jl(n,r)||(e[n]=t[n])}function ac(t,r){const n={};return oc(n,t.style||{},t),Object.assign(n,function({transformTemplate:t},r){return(0,e.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return rc(e,r,t),Object.assign({},e.vars,e.style)}),[r])}(t,r)),n}function ic(e,t){const r={},n=ac(e,t);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const sc=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lc(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||sc.has(e)}let cc=e=>!lc(e);try{(uc=require("@emotion/is-prop-valid").default)&&(cc=e=>e.startsWith("on")?!lc(e):uc(e))}catch(e){}var uc;const dc=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hc(e){return"string"==typeof e&&!e.includes("-")&&!!(dc.indexOf(e)>-1||/[A-Z]/u.test(e))}const fc={offset:"stroke-dashoffset",array:"stroke-dasharray"},pc={offset:"strokeDashoffset",array:"strokeDasharray"};function mc(e,t,r){return"string"==typeof e?e:Ln.transform(t+r*e)}function gc(e,{attrX:t,attrY:r,attrScale:n,originX:o,originY:a,pathLength:i,pathSpacing:s=1,pathOffset:l=0,...c},u,d){if(rc(e,c,d),u)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:f,dimensions:p}=e;h.transform&&(p&&(f.transform=h.transform),delete h.transform),p&&(void 0!==o||void 0!==a||f.transform)&&(f.transformOrigin=function(e,t,r){return`${mc(t,e.x,e.width)} ${mc(r,e.y,e.height)}`}(p,void 0!==o?o:.5,void 0!==a?a:.5)),void 0!==t&&(h.x=t),void 0!==r&&(h.y=r),void 0!==n&&(h.scale=n),void 0!==i&&function(e,t,r=1,n=0,o=!0){e.pathLength=1;const a=o?fc:pc;e[a.offset]=Ln.transform(-n);const i=Ln.transform(t),s=Ln.transform(r);e[a.array]=`${i} ${s}`}(h,i,s,l,!1)}const vc=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),yc=e=>"string"==typeof e&&"svg"===e.toLowerCase();function wc(t,r,n,o){const a=(0,e.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return gc(e,r,yc(o),t.transformTemplate),{...e.attrs,style:{...e.style}}}),[r]);if(t.style){const e={};oc(e,t.style,t),a.style={...e,...a.style}}return a}function bc(t=!1){return(r,n,o,{latestValues:a},i)=>{const s=(hc(r)?wc:ic)(n,a,i,r),l=function(e,t,r){const n={};for(const o in e)"values"===o&&"object"==typeof e.values||(cc(o)||!0===r&&lc(o)||!t&&!lc(o)||e.draggable&&o.startsWith("onDrag"))&&(n[o]=e[o]);return n}(n,"string"==typeof r,t),c=r!==e.Fragment?{...l,...s,ref:o}:{},{children:u}=n,d=(0,e.useMemo)((()=>tn(u)?u.get():u),[u]);return(0,e.createElement)(r,{...c,children:d})}}function xc(t){const r=(0,e.useRef)(null);return null===r.current&&(r.current=t()),r.current}const Ec=t=>(r,n)=>{const o=(0,e.useContext)(Fl),a=(0,e.useContext)(os),i=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,o,a){const i={latestValues:kc(n,o,a,e),renderState:t()};return r&&(i.onMount=e=>r({props:n,current:e,...i}),i.onUpdate=e=>r(e)),i}(t,r,o,a);return n?i():xc(i)};function kc(e,t,r,n){const o={},a=n(e,{});for(const e in a)o[e]=xs(a[e]);let{initial:i,animate:s}=e;const l=Ul(e),c=jl(e);t&&c&&!l&&!1!==e.inherit&&(void 0===i&&(i=t.initial),void 0===s&&(s=t.animate));let u=!!r&&!1===r.initial;u=u||!1===i;const d=u?s:i;if(d&&"boolean"!=typeof d&&!Gt(d)){const t=Array.isArray(d)?d:[d];for(let r=0;r<t.length;r++){const n=qt(e,t[r]);if(n){const{transitionEnd:e,transition:t,...r}=n;for(const e in r){let t=r[e];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(o[e]=t)}for(const t in e)o[t]=e[t]}}}return o}function Sc(e,t,r){var n;const{style:o}=e,a={};for(const i in o)(tn(o[i])||t.style&&tn(t.style[i])||Jl(i,e)||void 0!==(null===(n=null==r?void 0:r.getValue(i))||void 0===n?void 0:n.liveStyle))&&(a[i]=o[i]);return a}const Tc={useVisualState:Ec({scrapeMotionValuesFromProps:Sc,createRenderState:nc})};function _c(e,t){try{t.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(e){t.dimensions={x:0,y:0,width:0,height:0}}}function Ac(e,{style:t,vars:r},n,o){Object.assign(e.style,t,o&&o.getProjectionStyles(n));for(const t in r)e.style.setProperty(t,r[t])}const Cc=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Nc(e,t,r,n){Ac(e,t,void 0,n);for(const r in t.attrs)e.setAttribute(Cc.has(r)?r:nn(r),t.attrs[r])}function Ic(e,t,r){const n=Sc(e,t,r);for(const r in e)if(tn(e[r])||tn(t[r])){n[-1!==Or.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}const Oc=["x","y","width","height","cx","cy","r"],Pc={useVisualState:Ec({scrapeMotionValuesFromProps:Ic,createRenderState:vc,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:o})=>{if(!r)return;let a=!!e.drag;if(!a)for(const e in o)if(Pr.has(e)){a=!0;break}if(!a)return;let i=!t;if(t)for(let r=0;r<Oc.length;r++){const n=Oc[r];e[n]!==t[n]&&(i=!0)}i&&Br.read((()=>{_c(r,n),Br.render((()=>{gc(n,o,yc(r.tagName),e.transformTemplate),Nc(r,n)}))}))}})};function Rc(e,t){return function(r,{forwardMotionProps:n}={forwardMotionProps:!1}){return Xl({...hc(r)?Pc:Tc,preloadedFeatures:e,useRender:bc(n),createVisualElement:t,Component:r})}}const Dc={current:null},Lc={current:!1};const Mc=[...Po,Bn,Yn],Fc=new WeakMap;const Uc=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class jc{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:n,blockInitialAnimation:o,visualState:a},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bo,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Gr.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Br.render(this.render,!1,!0))};const{latestValues:s,renderState:l,onUpdate:c}=a;this.onUpdate=c,this.latestValues=s,this.baseTarget={...s},this.initialValues=t.initial?{...s}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=n,this.options=i,this.blockInitialAnimation=Boolean(o),this.isControllingVariants=Ul(t),this.isVariantNode=jl(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(const e in d){const t=d[e];void 0!==s[e]&&tn(t)&&t.set(s[e],!1)}}mount(e){this.current=e,Fc.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),Lc.current||function(){if(Lc.current=!0,Wl)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Dc.current=e.matches;e.addListener(t),t()}else Dc.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Dc.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),zr(this.notifyUpdate),zr(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Pr.has(e);r&&this.onBindTransform&&this.onBindTransform();const n=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Br.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)})),o=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{n(),o(),a&&a(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Hl){const t=Hl[e];if(!t)continue;const{isEnabled:r,Feature:n}=t;if(!this.features[e]&&n&&r(this.props)&&(this.features[e]=new n(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<Uc.length;t++){const r=Uc[t];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const n=e["on"+r];n&&(this.propEventSubscriptions[r]=this.on(r,n))}this.prevMotionValues=function(e,t,r){for(const n in t){const o=t[n],a=r[n];if(tn(o))e.addValue(n,o);else if(tn(a))e.addValue(n,Zr(o,{owner:e}));else if(a!==o)if(e.hasValue(n)){const t=e.getValue(n);!0===t.liveStyle?t.jump(o):t.hasAnimated||t.set(o)}else{const t=e.getStaticValue(n);e.addValue(n,Zr(void 0!==t?t:o,{owner:e}))}}for(const n in r)void 0===t[n]&&e.removeValue(n);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return void 0===r&&void 0!==t&&(r=Zr(null===t?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let n=void 0===this.latestValues[e]&&this.current?null!==(r=this.getBaseTargetFromProps(this.props,e))&&void 0!==r?r:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var o;return null!=n&&("string"==typeof n&&(ko(n)||wn(n))?n=parseFloat(n):(o=n,!Mc.find(Oo(o))&&Yn.test(t)&&(n=io(e,t))),this.setBaseTarget(e,tn(n)?n.get():n)),tn(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let n;if("string"==typeof r||"object"==typeof r){const o=qt(this.props,r,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);o&&(n=o[e])}if(r&&void 0!==n)return n;const o=this.getBaseTargetFromProps(this.props,e);return void 0===o||tn(o)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:o}on(e,t){return this.events[e]||(this.events[e]=new Yr),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Bc extends jc{constructor(){super(...arguments),this.KeyframeResolver=Do}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;tn(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}class zc extends Bc{constructor(){super(...arguments),this.type="html",this.renderInstance=Ac}readValueFromInstance(e,t){if(Pr.has(t)){const e=ao(t);return e&&e.default||0}{const n=(r=e,window.getComputedStyle(r)),o=(To(t)?n.getPropertyValue(t):n[t])||0;return"string"==typeof o?o.trim():o}var r}measureInstanceViewportBox(e,{transformPagePoint:t}){return Ui(e,t)}build(e,t,r){rc(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Sc(e,t,r)}}class Wc extends Bc{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ei,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&_c(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Pr.has(t)){const e=ao(t);return e&&e.default||0}return t=Cc.has(t)?t:nn(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return Ic(e,t,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&Br.postRender(this.updateDimensions)}build(e,t,r){gc(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,n){Nc(e,t,0,n)}mount(e){this.isSVGTag=yc(e.tagName),super.mount(e)}}const Vc=$t(Rc({...di,...Rl,...Sl,...Dl},((t,r)=>hc(t)?new Wc(r):new zc(r,{allowProjection:t!==e.Fragment}))));class Hc extends e.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,r=e instanceof HTMLElement&&e.offsetWidth||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=r-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function $c({children:t,isPresent:r,anchorX:n}){const o=(0,e.useId)(),a=(0,e.useRef)(null),i=(0,e.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=(0,e.useContext)(Ml);return(0,e.useInsertionEffect)((()=>{const{width:e,height:t,top:l,left:c,right:u}=i.current;if(r||!a.current||!e||!t)return;const d="left"===n?`left: ${c}`:`right: ${u}`;a.current.dataset.motionPopId=o;const h=document.createElement("style");return s&&(h.nonce=s),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`\n          [data-motion-pop-id="${o}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            ${d}px !important;\n            top: ${l}px !important;\n          }\n        `),()=>{document.head.removeChild(h)}}),[r]),(0,ns.jsx)(Hc,{isPresent:r,childRef:a,sizeRef:i,children:e.cloneElement(t,{ref:a})})}const Gc=({children:t,initial:r,isPresent:n,onExitComplete:o,custom:a,presenceAffectsLayout:i,mode:s,anchorX:l})=>{const c=xc(Kc),u=(0,e.useId)(),d=(0,e.useCallback)((e=>{c.set(e,!0);for(const e of c.values())if(!e)return;o&&o()}),[c,o]),h=(0,e.useMemo)((()=>({id:u,initial:r,isPresent:n,custom:a,onExitComplete:d,register:e=>(c.set(e,!1),()=>c.delete(e))})),i?[Math.random(),d]:[n,d]);return(0,e.useMemo)((()=>{c.forEach(((e,t)=>c.set(t,!1)))}),[n]),e.useEffect((()=>{!n&&!c.size&&o&&o()}),[n]),"popLayout"===s&&(t=(0,ns.jsx)($c,{isPresent:n,anchorX:l,children:t})),(0,ns.jsx)(os.Provider,{value:h,children:t})};function Kc(){return new Map}const qc=e=>e.key||"";function Yc(t){const r=[];return e.Children.forEach(t,(t=>{(0,e.isValidElement)(t)&&r.push(t)})),r}const Xc=({children:t,custom:r,initial:n=!0,onExitComplete:o,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:l="left"})=>{const[c,u]=as(s),d=(0,e.useMemo)((()=>Yc(t)),[t]),h=s&&!c?[]:d.map(qc),f=(0,e.useRef)(!0),p=(0,e.useRef)(d),m=xc((()=>new Map)),[g,v]=(0,e.useState)(d),[y,w]=(0,e.useState)(d);Kl((()=>{f.current=!1,p.current=d;for(let e=0;e<y.length;e++){const t=qc(y[e]);h.includes(t)?m.delete(t):!0!==m.get(t)&&m.set(t,!1)}}),[y,h.length,h.join("-")]);const b=[];if(d!==g){let e=[...d];for(let t=0;t<y.length;t++){const r=y[t],n=qc(r);h.includes(n)||(e.splice(t,0,r),b.push(r))}return"wait"===i&&b.length&&(e=b),w(Yc(e)),v(d),null}const{forceRender:x}=(0,e.useContext)(is);return(0,ns.jsx)(ns.Fragment,{children:y.map((e=>{const t=qc(e),g=!(s&&!c)&&(d===y||h.includes(t));return(0,ns.jsx)(Gc,{isPresent:g,initial:!(f.current&&!n)&&void 0,custom:r,presenceAffectsLayout:a,mode:i,onExitComplete:g?void 0:()=>{if(!m.has(t))return;m.set(t,!0);let e=!0;m.forEach((t=>{t||(e=!1)})),e&&(null==x||x(),w(p.current),s&&(null==u||u()),o&&o())},anchorX:l,children:e},t)}))})},Qc=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Jc=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Zc=ye("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),eu=ye("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),tu=({children:t,onClick:r,isFlipped:n,isMatched:o,isIncorrect:a,className:i=""})=>e.createElement("div",{onClick:r,className:`memory-card cursor-pointer transition-all duration-300 transform hover-scale rounded-lg flex items-center justify-center ${n||o?"glass-card":"glass-card opacity-90 hover:opacity-100"} ${o?"gradient-border-success bg-emerald-500/20":a?"gradient-border-error bg-rose-500/20":"gradient-border"} ${i}`},e.createElement(Vc.div,{initial:{rotateY:180,opacity:0},animate:{rotateY:n||o?0:180,opacity:n||o?1:0},transition:{duration:.3},className:"w-full h-full flex items-center justify-center"},e.createElement("span",{className:"text-center p-1 text-sm font-medium overflow-hidden "+(o?"text-emerald-400":a?"text-rose-400":"vibrant-text")},n||o?t:"")));function ru({words:t,onBack:r,points:n=0}){const[o,a]=(0,e.useState)("start"),[i,s]=(0,e.useState)([]),[l,c]=(0,e.useState)([]),[u,d]=(0,e.useState)(0),[h,f]=(0,e.useState)([]),[p,m]=(0,e.useState)(n),[g,v]=(0,e.useState)(0),[y,w]=(0,e.useState)(0),[b,x]=(0,e.useState)(0),[E,k]=(0,e.useState)(null),S=(0,e.useRef)(null),[T,_]=(0,e.useState)(0),[A,C]=(0,e.useState)(0),[N,I]=(0,e.useState)(null);(0,e.useEffect)((()=>(chrome.storage.sync.get("memoryGameStats",(e=>{e.memoryGameStats&&(_(e.memoryGameStats.bestScore||0),C(e.memoryGameStats.totalGames||0),I(e.memoryGameStats.bestTime||null))})),()=>{E&&clearInterval(E)})),[]);const O=()=>{const e=[...t].sort((()=>Math.random()-.5)).slice(0,6),r=[];e.forEach(((e,t)=>{r.push({id:2*t,content:e.word,isFlipped:!1,isMatched:!1,isIncorrect:!1,type:"word",originalIndex:t,points:5}),r.push({id:2*t+1,content:e.translation,isFlipped:!1,isMatched:!1,isIncorrect:!1,type:"translation",originalIndex:t,points:5})}));const o=[...r].sort((()=>Math.random()-.5));s(o),c([]),d(0),m(n),w(0),x(0),v(0),a("playing"),S.current=Date.now();const i=setInterval((()=>{v(Math.floor((Date.now()-(S.current||0))/1e3))}),1e3);k(i)},P=e=>{var t,r;if(!(l.length>=2||(null===(t=i.find((t=>t.id===e)))||void 0===t?void 0:t.isFlipped)||(null===(r=i.find((t=>t.id===e)))||void 0===r?void 0:r.isMatched))&&(s((t=>t.map((t=>t.id===e?Object.assign(Object.assign({},t),{isFlipped:!0}):t)))),c((t=>[...t,e])),1===l.length)){const t=l[0],r=i.find((e=>e.id===t)),n=i.find((t=>t.id===e));r&&n&&(r.originalIndex===n.originalIndex?setTimeout((()=>{s((r=>r.map((r=>r.id===t||r.id===e?Object.assign(Object.assign({},r),{isMatched:!0,isFlipped:!0}):r)))),c([]),d((e=>e+1)),m((e=>e+r.points+n.points)),w((e=>e+1)),x((e=>Math.max(e,y+1))),u+1===i.length/2&&(E&&clearInterval(E),a("gameOver"),R())}),500):(f([t,e]),setTimeout((()=>{s((r=>r.map((r=>r.id===t||r.id===e?Object.assign(Object.assign({},r),{isFlipped:!1,isIncorrect:!0}):r)))),c([]),w(0),setTimeout((()=>{s((r=>r.map((r=>r.id===t||r.id===e?Object.assign(Object.assign({},r),{isIncorrect:!1}):r)))),f([])}),300)}),1e3)))}},R=()=>{const e=Math.floor((Date.now()-(S.current||0))/1e3),t=p;chrome.storage.sync.get("memoryGameStats",(r=>{const n=r.memoryGameStats||{bestScore:0,totalGames:0,lastPlayed:(new Date).toISOString(),bestTime:Number.MAX_SAFE_INTEGER,recentScores:[]},o=n.recentScores||[];o.unshift(t),o.length>10&&o.pop();const a={bestScore:Math.max(n.bestScore,t),totalGames:n.totalGames+1,lastPlayed:(new Date).toISOString(),bestTime:n.bestTime?Math.min(n.bestTime,e):e,recentScores:o};chrome.storage.sync.set({memoryGameStats:a},(()=>{console.log("Memory game stats saved:",a),_(a.bestScore),C(a.totalGames)}))}))},D=e=>{const t=e%60;return`${Math.floor(e/60)}:${t<10?"0":""}${t}`};return"start"===o?e.createElement("div",{className:"fixed inset-0 animated-gradient-bg text-white overflow-hidden"},e.createElement("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.15)_1px,transparent_0)] bg-[size:24px_24px] opacity-30"}),e.createElement("div",{className:"relative h-full flex flex-col p-6 max-w-4xl mx-auto"},e.createElement(Vc.div,{className:"fixed inset-0 animated-gradient-bg backdrop-blur-sm flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},e.createElement(Vc.div,{className:"glass-card gradient-border p-8 rounded-2xl shadow-xl max-w-md w-full",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0}},e.createElement("div",{className:"flex justify-between items-center mb-6"},e.createElement(Ht,{variant:"ghost",size:"sm",onClick:r,className:"text-white hover:bg-white/10"},e.createElement(Qc,{size:24})),e.createElement("h2",{className:"text-3xl font-bold text-center game-header-text"},"Memory Game"),e.createElement("div",{className:"w-10"})," "),e.createElement("div",{className:"glass-card p-4 rounded-xl text-center w-full mb-6"},e.createElement("p",{className:"text-3xl font-bold gradient-text floating"},N?D(N):"--:--"),e.createElement("p",{className:"text-sm text-white/80"},"Best Time")),e.createElement(Ht,{onClick:O,className:"w-full py-6 glass-button gradient-border font-bold"},"Start Game"))))):"gameOver"===o?e.createElement("div",{className:"fixed inset-0 animated-gradient-bg flex flex-col items-center justify-center overflow-hidden"},e.createElement("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.15)_1px,transparent_0)] bg-[size:24px_24px] opacity-30"}),e.createElement("div",{className:"glass-card p-8 rounded-xl max-w-md w-full"},e.createElement("h2",{className:"text-2xl font-bold text-center game-header-text mb-6"},"Game Complete!"),e.createElement("div",{className:"grid grid-cols-2 gap-6 text-center mb-6"},e.createElement("div",{className:"glass-card p-4 rounded-xl"},e.createElement("p",{className:"text-3xl font-bold gradient-text floating"},p),e.createElement("p",{className:"text-sm text-white/80"},"Score")),e.createElement("div",{className:"glass-card p-4 rounded-xl"},e.createElement("p",{className:"text-3xl font-bold gradient-text floating"},D(g)),e.createElement("p",{className:"text-sm text-white/80"},"Time")),e.createElement("div",{className:"glass-card p-4 rounded-xl"},e.createElement("p",{className:"text-3xl font-bold gradient-text floating"},b,"x"),e.createElement("p",{className:"text-sm text-white/80"},"Max Combo")),e.createElement("div",{className:"glass-card p-4 rounded-xl"},e.createElement("p",{className:"text-3xl font-bold gradient-text floating"},N?D(N):"--:--"),e.createElement("p",{className:"text-sm text-white/80"},"Best Time"))),e.createElement("div",{className:"flex gap-4"},e.createElement(Ht,{onClick:O,className:"w-1/2 glass-button gradient-border font-medium"},"Play Again"),e.createElement(Ht,{onClick:r,className:"w-1/2 glass-button gradient-border font-medium"},"Exit")))):e.createElement("div",{className:"fixed inset-0 animated-gradient-bg flex flex-col overflow-hidden"},e.createElement("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.15)_1px,transparent_0)] bg-[size:24px_24px] opacity-30"}),e.createElement("div",{className:"relative p-2 sm:p-4 flex flex-col h-full"},e.createElement("header",{className:"flex items-center justify-between p-2 bg-indigo-900/70 backdrop-blur-lg rounded-xl mb-2"},e.createElement(Ht,{variant:"ghost",size:"sm",onClick:r,className:"glass-button"},e.createElement(Qc,{size:20})),e.createElement("h1",{className:"text-xl font-bold game-header-text"},"Memory Game"),e.createElement("div",{className:"w-8"})),e.createElement("div",{className:"flex items-center justify-between gap-2 mb-2"},e.createElement("div",{className:"glass-card px-3 py-1 rounded-full flex items-center gap-1"},e.createElement(Jc,{className:"w-4 h-4 text-amber-400"}),e.createElement("span",{className:"text-sm font-medium vibrant-text"},D(g))),e.createElement("div",{className:"glass-card px-3 py-1 rounded-full flex items-center gap-1"},e.createElement(Zc,{className:"w-4 h-4 text-amber-400"}),e.createElement("span",{className:"text-sm font-medium vibrant-text"},p)),e.createElement("div",{className:"glass-card px-3 py-1 rounded-full flex items-center gap-1"},e.createElement(eu,{className:"w-4 h-4 text-amber-400"}),e.createElement("span",{className:"text-sm font-medium vibrant-text"},y,"x"))),e.createElement("div",{className:"flex-1 grid grid-cols-3 gap-1 px-1 py-1 pb-2"},e.createElement(Xc,null,i.map((t=>e.createElement(Vc.div,{key:t.id,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3},className:"aspect-square"},e.createElement(tu,{onClick:()=>P(t.id),isFlipped:t.isFlipped,isMatched:t.isMatched,isIncorrect:t.isIncorrect||h.includes(t.id),className:"h-full w-full"},t.content))))))))}function nu(...t){const r=t[0];if(1===t.length)return r;const n=()=>{const n=t.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(t){const o=n.reduce(((e,{useScope:r,scopeName:n})=>({...e,...r(t)[`__scope${n}`]})),{});return e.useMemo((()=>({[`__scope${r.scopeName}`]:o})),[o])}};return n.scopeName=r.scopeName,n}r(961);function ou(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function au(...e){return t=>{let r=!1;const n=e.map((e=>{const n=ou(e,t);return r||"function"!=typeof n||(r=!0),n}));if(r)return()=>{for(let t=0;t<n.length;t++){const r=n[t];"function"==typeof r?r():ou(e[t],null)}}}}var iu=e.forwardRef(((t,r)=>{const{children:n,...o}=t,a=e.Children.toArray(n),i=a.find(cu);if(i){const t=i.props.children,n=a.map((r=>r===i?e.Children.count(t)>1?e.Children.only(null):e.isValidElement(t)?t.props.children:null:r));return(0,ns.jsx)(su,{...o,ref:r,children:e.isValidElement(t)?e.cloneElement(t,void 0,n):null})}return(0,ns.jsx)(su,{...o,ref:r,children:n})}));iu.displayName="Slot";var su=e.forwardRef(((t,r)=>{const{children:n,...o}=t;if(e.isValidElement(n)){const t=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;if(r)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r)return e.props.ref;return e.props.ref||e.ref}(n),a=function(e,t){const r={...t};for(const n in t){const o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...e)=>{a(...e),o(...e)}:o&&(r[n]=o):"style"===n?r[n]={...o,...a}:"className"===n&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}(o,n.props);return n.type!==e.Fragment&&(a.ref=r?au(r,t):t),e.cloneElement(n,a)}return e.Children.count(n)>1?e.Children.only(null):null}));su.displayName="SlotClone";var lu=({children:e})=>(0,ns.jsx)(ns.Fragment,{children:e});function cu(t){return e.isValidElement(t)&&t.type===lu}var uu=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((t,r)=>{const n=e.forwardRef(((e,t)=>{const{asChild:n,...o}=e,a=n?iu:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,ns.jsx)(a,{...o,ref:t})}));return n.displayName=`Primitive.${r}`,{...t,[r]:n}}),{});var du="Progress",hu=100,[fu,pu]=function(t,r=[]){let n=[];const o=()=>{const r=n.map((t=>e.createContext(t)));return function(n){const o=n?.[t]||r;return e.useMemo((()=>({[`__scope${t}`]:{...n,[t]:o}})),[n,o])}};return o.scopeName=t,[function(r,o){const a=e.createContext(o),i=n.length;n=[...n,o];const s=r=>{const{scope:n,children:o,...s}=r,l=n?.[t]?.[i]||a,c=e.useMemo((()=>s),Object.values(s));return(0,ns.jsx)(l.Provider,{value:c,children:o})};return s.displayName=r+"Provider",[s,function(n,s){const l=s?.[t]?.[i]||a,c=e.useContext(l);if(c)return c;if(void 0!==o)return o;throw new Error(`\`${n}\` must be used within \`${r}\``)}]},nu(o,...r)]}(du),[mu,gu]=fu(du),vu=e.forwardRef(((e,t)=>{const{__scopeProgress:r,value:n=null,max:o,getValueLabel:a=bu,...i}=e;!o&&0!==o||ku(o)||console.error(`Invalid prop \`max\` of value \`${`${o}`}\` supplied to \`${"Progress"}\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`);const s=ku(o)?o:hu;null===n||Su(n,s)||console.error(function(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:\n  - a positive number\n  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)\n  - \`null\` or \`undefined\` if the progress is indeterminate.\n\nDefaulting to \`null\`.`}(`${n}`,"Progress"));const l=Su(n,s)?n:null,c=Eu(l)?a(l,s):void 0;return(0,ns.jsx)(mu,{scope:r,value:l,max:s,children:(0,ns.jsx)(uu.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":Eu(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":xu(l,s),"data-value":l??void 0,"data-max":s,...i,ref:t})})}));vu.displayName=du;var yu="ProgressIndicator",wu=e.forwardRef(((e,t)=>{const{__scopeProgress:r,...n}=e,o=gu(yu,r);return(0,ns.jsx)(uu.div,{"data-state":xu(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...n,ref:t})}));function bu(e,t){return`${Math.round(e/t*100)}%`}function xu(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function Eu(e){return"number"==typeof e}function ku(e){return Eu(e)&&!isNaN(e)&&e>0}function Su(e,t){return Eu(e)&&!isNaN(e)&&e<=t&&e>=0}wu.displayName=yu;var Tu=vu,_u=wu,Au=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};const Cu=e.forwardRef(((t,r)=>{var{className:n,value:o}=t,a=Au(t,["className","value"]);return e.createElement(Tu,Object.assign({ref:r,className:Mt("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",n)},a),e.createElement(_u,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(o||0)}%)`}}))}));Cu.displayName="Progress";const Nu=ye("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),Iu=ye("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);var Ou=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};const Pu=e.forwardRef(((t,r)=>{var{className:n,type:o}=t,a=Ou(t,["className","type"]);return e.createElement("input",Object.assign({type:o,className:Mt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:r},a))}));Pu.displayName="Input";var Ru={};!function e(t,r,n,o){var a=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),i="function"==typeof Path2D&&"function"==typeof DOMMatrix,s=function(){if(!t.OffscreenCanvas)return!1;var e=new OffscreenCanvas(1,1),r=e.getContext("2d");r.fillRect(0,0,1,1);var n=e.transferToImageBitmap();try{r.createPattern(n,"no-repeat")}catch(e){return!1}return!0}();function l(){}function c(e){var n=r.exports.Promise,o=void 0!==n?n:t.Promise;return"function"==typeof o?new o(e):(e(l,l),null)}var u,d,h,f,p,m,g,v,y,w,b,x=(u=s,d=new Map,{transform:function(e){if(u)return e;if(d.has(e))return d.get(e);var t=new OffscreenCanvas(e.width,e.height);return t.getContext("2d").drawImage(e,0,0),d.set(e,t),t},clear:function(){d.clear()}}),E=(p=Math.floor(1e3/60),m={},g=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(h=function(e){var t=Math.random();return m[t]=requestAnimationFrame((function r(n){g===n||g+p-1<n?(g=n,delete m[t],e()):m[t]=requestAnimationFrame(r)})),t},f=function(e){m[e]&&cancelAnimationFrame(m[e])}):(h=function(e){return setTimeout(e,p)},f=function(e){return clearTimeout(e)}),{frame:h,cancel:f}),k=(w={},function(){if(v)return v;if(!n&&a){var t=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{v=new Worker(URL.createObjectURL(new Blob([t])))}catch(e){return void 0!==typeof console&&"function"==typeof console.warn&&console.warn("🎊 Could not load worker",e),null}!function(e){function t(t,r){e.postMessage({options:t||{},callback:r})}e.init=function(t){var r=t.transferControlToOffscreen();e.postMessage({canvas:r},[r])},e.fire=function(r,n,o){if(y)return t(r,null),y;var a=Math.random().toString(36).slice(2);return y=c((function(n){function i(t){t.data.callback===a&&(delete w[a],e.removeEventListener("message",i),y=null,x.clear(),o(),n())}e.addEventListener("message",i),t(r,a),w[a]=i.bind(null,{data:{callback:a}})}))},e.reset=function(){for(var t in e.postMessage({reset:!0}),w)w[t](),delete w[t]}}(v)}return v}),S={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function T(e,t,r){return function(e,t){return t?t(e):e}(e&&null!=e[t]?e[t]:S[t],r)}function _(e){return e<0?0:Math.floor(e)}function A(e){return parseInt(e,16)}function C(e){return e.map(N)}function N(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:A(t.substring(0,2)),g:A(t.substring(2,4)),b:A(t.substring(4,6))}}function I(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function O(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function P(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var r=t.tick++/t.totalTicks,n=t.x+t.random*t.tiltCos,o=t.y+t.random*t.tiltSin,a=t.wobbleX+t.random*t.tiltCos,s=t.wobbleY+t.random*t.tiltSin;if(e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-r)+")",e.beginPath(),i&&"path"===t.shape.type&&"string"==typeof t.shape.path&&Array.isArray(t.shape.matrix))e.fill(function(e,t,r,n,o,a,i){var s=new Path2D(e),l=new Path2D;l.addPath(s,new DOMMatrix(t));var c=new Path2D;return c.addPath(l,new DOMMatrix([Math.cos(i)*o,Math.sin(i)*o,-Math.sin(i)*a,Math.cos(i)*a,r,n])),c}(t.shape.path,t.shape.matrix,t.x,t.y,.1*Math.abs(a-n),.1*Math.abs(s-o),Math.PI/10*t.wobble));else if("bitmap"===t.shape.type){var l=Math.PI/10*t.wobble,c=.1*Math.abs(a-n),u=.1*Math.abs(s-o),d=t.shape.bitmap.width*t.scalar,h=t.shape.bitmap.height*t.scalar,f=new DOMMatrix([Math.cos(l)*c,Math.sin(l)*c,-Math.sin(l)*u,Math.cos(l)*u,t.x,t.y]);f.multiplySelf(new DOMMatrix(t.shape.matrix));var p=e.createPattern(x.transform(t.shape.bitmap),"no-repeat");p.setTransform(f),e.globalAlpha=1-r,e.fillStyle=p,e.fillRect(t.x-d/2,t.y-h/2,d,h),e.globalAlpha=1}else if("circle"===t.shape)e.ellipse?e.ellipse(t.x,t.y,Math.abs(a-n)*t.ovalScalar,Math.abs(s-o)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):function(e,t,r,n,o,a,i,s,l){e.save(),e.translate(t,r),e.rotate(a),e.scale(n,o),e.arc(0,0,1,i,s,l),e.restore()}(e,t.x,t.y,Math.abs(a-n)*t.ovalScalar,Math.abs(s-o)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI);else if("star"===t.shape)for(var m=Math.PI/2*3,g=4*t.scalar,v=8*t.scalar,y=t.x,w=t.y,b=5,E=Math.PI/b;b--;)y=t.x+Math.cos(m)*v,w=t.y+Math.sin(m)*v,e.lineTo(y,w),m+=E,y=t.x+Math.cos(m)*g,w=t.y+Math.sin(m)*g,e.lineTo(y,w),m+=E;else e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(o)),e.lineTo(Math.floor(a),Math.floor(s)),e.lineTo(Math.floor(n),Math.floor(t.wobbleY));return e.closePath(),e.fill(),t.tick<t.totalTicks}function R(e,r){var i,s=!e,l=!!T(r||{},"resize"),u=!1,d=T(r,"disableForReducedMotion",Boolean),h=a&&!!T(r||{},"useWorker")?k():null,f=s?I:O,p=!(!e||!h)&&!!e.__confetti_initialized,m="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function g(t,r,a){for(var s,l,u,d,h,p=T(t,"particleCount",_),m=T(t,"angle",Number),g=T(t,"spread",Number),v=T(t,"startVelocity",Number),y=T(t,"decay",Number),w=T(t,"gravity",Number),b=T(t,"drift",Number),k=T(t,"colors",C),S=T(t,"ticks",Number),A=T(t,"shapes"),N=T(t,"scalar"),I=!!T(t,"flat"),O=function(e){var t=T(e,"origin",Object);return t.x=T(t,"x",Number),t.y=T(t,"y",Number),t}(t),R=p,D=[],L=e.width*O.x,M=e.height*O.y;R--;)D.push((s={x:L,y:M,angle:m,spread:g,startVelocity:v,color:k[R%k.length],shape:A[(d=0,h=A.length,Math.floor(Math.random()*(h-d))+d)],ticks:S,decay:y,gravity:w,drift:b,scalar:N,flat:I},l=void 0,u=void 0,l=s.angle*(Math.PI/180),u=s.spread*(Math.PI/180),{x:s.x,y:s.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*s.startVelocity+Math.random()*s.startVelocity,angle2D:-l+(.5*u-Math.random()*u),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:s.color,shape:s.shape,tick:0,totalTicks:s.ticks,decay:s.decay,drift:s.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*s.gravity,ovalScalar:.6,scalar:s.scalar,flat:s.flat}));return i?i.addFettis(D):(i=function(e,t,r,a,i){var s,l,u=t.slice(),d=e.getContext("2d"),h=c((function(t){function c(){s=l=null,d.clearRect(0,0,a.width,a.height),x.clear(),i(),t()}s=E.frame((function t(){!n||a.width===o.width&&a.height===o.height||(a.width=e.width=o.width,a.height=e.height=o.height),a.width||a.height||(r(e),a.width=e.width,a.height=e.height),d.clearRect(0,0,a.width,a.height),(u=u.filter((function(e){return P(d,e)}))).length?s=E.frame(t):c()})),l=c}));return{addFettis:function(e){return u=u.concat(e),h},canvas:e,promise:h,reset:function(){s&&E.cancel(s),l&&l()}}}(e,D,f,r,a),i.promise)}function v(r){var n=d||T(r,"disableForReducedMotion",Boolean),o=T(r,"zIndex",Number);if(n&&m)return c((function(e){e()}));s&&i?e=i.canvas:s&&!e&&(e=function(e){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=e,t}(o),document.body.appendChild(e)),l&&!p&&f(e);var a={width:e.width,height:e.height};function v(){if(h){var t={getBoundingClientRect:function(){if(!s)return e.getBoundingClientRect()}};return f(t),void h.postMessage({resize:{width:t.width,height:t.height}})}a.width=a.height=null}function y(){i=null,l&&(u=!1,t.removeEventListener("resize",v)),s&&e&&(document.body.contains(e)&&document.body.removeChild(e),e=null,p=!1)}return h&&!p&&h.init(e),p=!0,h&&(e.__confetti_initialized=!0),l&&!u&&(u=!0,t.addEventListener("resize",v,!1)),h?h.fire(r,a,y):g(r,a,y)}return v.reset=function(){h&&h.reset(),i&&i.reset()},v}function D(){return b||(b=R(null,{useWorker:!0,resize:!0})),b}r.exports=function(){return D().apply(this,arguments)},r.exports.reset=function(){D().reset()},r.exports.create=R,r.exports.shapeFromPath=function(e){if(!i)throw new Error("path confetti are not supported in this browser");var t,r;"string"==typeof e?t=e:(t=e.path,r=e.matrix);var n=new Path2D(t),o=document.createElement("canvas").getContext("2d");if(!r){for(var a,s,l=1e3,c=l,u=l,d=0,h=0,f=0;f<l;f+=2)for(var p=0;p<l;p+=2)o.isPointInPath(n,f,p,"nonzero")&&(c=Math.min(c,f),u=Math.min(u,p),d=Math.max(d,f),h=Math.max(h,p));a=d-c,s=h-u;var m=Math.min(10/a,10/s);r=[m,0,0,m,-Math.round(a/2+c)*m,-Math.round(s/2+u)*m]}return{type:"path",path:t,matrix:r}},r.exports.shapeFromText=function(e){var t,r=1,n="#000000",o='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"==typeof e?t=e:(t=e.text,r="scalar"in e?e.scalar:r,o="fontFamily"in e?e.fontFamily:o,n="color"in e?e.color:n);var a=10*r,i=a+"px "+o,s=new OffscreenCanvas(a,a),l=s.getContext("2d");l.font=i;var c=l.measureText(t),u=Math.ceil(c.actualBoundingBoxRight+c.actualBoundingBoxLeft),d=Math.ceil(c.actualBoundingBoxAscent+c.actualBoundingBoxDescent),h=c.actualBoundingBoxLeft+2,f=c.actualBoundingBoxAscent+2;u+=4,d+=4,(l=(s=new OffscreenCanvas(u,d)).getContext("2d")).font=i,l.fillStyle=n,l.fillText(t,h,f);var p=1/r;return{type:"bitmap",bitmap:s.transferToImageBitmap(),matrix:[p,0,0,p,-u*p/2,-d*p/2]}}}(function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:this||{}}(),Ru,!1);const Du=Ru.exports;Ru.exports.create;function Lu(e){if(e)return e.replace(/["']?From youtube["']?/gi,"").replace(/["']?From YouTube["']?/gi,"").trim()}function Mu(){Du({particleCount:150,spread:80,origin:{y:.6},colors:["#FF7E5F","#FEB47B","#FF3366","#FFAF40"]})}function Fu(e,t="en-US"){const r=new SpeechSynthesisUtterance(e);r.lang=t,window.speechSynthesis.speak(r)}function Uu(e){return`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`}function ju(e,t){if(Ft(e)===Ft(t))return!0;if(Ut(Ft(e),Ft(t))<=Math.min(2,Math.ceil(.2*t.length)))return!0;const r=function(e,t){const r=Ut(e,t),n=Math.max(e.length,t.length);return 0===n?1:1-r/n}(Ft(e),Ft(t));return r>=.85}function Bu(){const e=document.createElement("style");return e.textContent="\n    /* Hide number input spinners - WebKit browsers */\n    input[type=number]::-webkit-inner-spin-button, \n    input[type=number]::-webkit-outer-spin-button { \n      -webkit-appearance: none;\n      margin: 0; \n    }\n    /* Firefox */\n    input[type=number] {\n      -moz-appearance: textfield;\n      appearance: textfield;\n    }\n  ",document.head.appendChild(e),()=>{document.head.removeChild(e)}}function zu({initialTime:t=30,autoStart:r=!1,onTimeEnd:n,countUp:o=!1}={}){const[a,i]=(0,e.useState)(t),[s,l]=(0,e.useState)(r),[c,u]=(0,e.useState)(!1),d=(0,e.useRef)(null),h=(0,e.useRef)(null),f=Uu(a);return(0,e.useEffect)((()=>(s&&(d.current=window.setInterval((()=>{if(o){const e=h.current?Math.floor((Date.now()-h.current)/1e3):0;i(e)}else i((e=>e<=1?(clearInterval(d.current),l(!1),u(!0),n&&n(),0):e-1))}),1e3)),()=>{d.current&&(clearInterval(d.current),d.current=null)})),[s,n,o]),{time:a,formattedTime:f,isRunning:s,isComplete:c,startTimer:()=>{s||(l(!0),o&&!h.current&&(h.current=Date.now()))},pauseTimer:()=>{l(!1)},resetTimer:()=>{i(t),l(!1),u(!1),h.current=null},setTimerValue:e=>{i(e)}}}function Wu({words:t,onBack:r}){const[n,o]=(0,e.useState)(!1),[a,i]=(0,e.useState)([]),[s,l]=(0,e.useState)(t.length),[c,u]=(0,e.useState)(0),[d,h]=(0,e.useState)(null),[f,p]=(0,e.useState)(0),[m,g]=(0,e.useState)(0),[v,y]=(0,e.useState)(!1),[w,b]=(0,e.useState)(0),[x,E]=(0,e.useState)({bestScore:0,totalGames:0,lastPlayed:(new Date).toISOString()}),k=zu({countUp:!0,autoStart:n&&!v});(0,e.useEffect)((()=>Bu()),[]),(0,e.useEffect)((()=>{chrome.storage.sync.get("multipleChoiceStats",(e=>{e.multipleChoiceStats&&(console.log("Loaded stats:",e.multipleChoiceStats),E(e.multipleChoiceStats))}))}),[]);const S=e=>{l(Math.min(e,t.length))},T=e=>{const r=parseInt(e.target.value)||0;l(Math.min(Math.max(1,r),t.length))},_=()=>{const e=s,r=[...t].sort((()=>Math.random()-.5)).slice(0,e).map((e=>{const r=[...t.filter((t=>t.translation!==e.translation)).sort((()=>Math.random()-.5)).slice(0,3).map((e=>e.translation)),e.translation].sort((()=>Math.random()-.5)),n=r.indexOf(e.translation);return{word:e.word,translation:e.translation,context:Lu(e.context),options:r,correctIndex:n}}));i(r),u(0),p(0),g(0),h(null),b(0),y(!1),o(!0),k.resetTimer(),k.startTimer()},A=e=>{if(null!==d)return;h(e);const t=e===a[c].correctIndex;t?(p((e=>e+1)),b((e=>e+1)),w>=2&&Mu()):b(0),setTimeout((()=>{c<a.length-1?(u((e=>e+1)),h(null),g((c+1)/a.length*100)):(((e,t)=>{const r=Math.round(e/t*100);console.log("Saving new score:",r,"Current best:",x.bestScore);const n={bestScore:Math.max(x.bestScore||0,r),totalGames:(x.totalGames||0)+1,lastPlayed:(new Date).toISOString()};chrome.storage.sync.set({multipleChoiceStats:n},(()=>{console.log("Saved new stats:",n),E(n)}))})(f+(t?1:0),a.length),y(!0))}),1500)},C=a[c],N=a.length>0&&Math.round(f/(c+(null!==d?1:0))*100)||0;return n?e.createElement("div",{className:"fixed inset-0 bg-background text-foreground animated-gradient-bg overflow-hidden"},e.createElement("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.15)_1px,transparent_0)] bg-[size:24px_24px] opacity-30"}),e.createElement("div",{className:"relative h-full flex flex-col p-4 sm:p-6 max-w-4xl mx-auto"},e.createElement("header",{className:"flex items-center justify-between mb-4 sticky top-0 z-10 bg-indigo-900/70 backdrop-blur-lg py-3 px-4 rounded-xl"},e.createElement(Ht,{variant:"ghost",size:"sm",onClick:r,className:"bg-white/10 backdrop-blur-sm border border-white/20"},e.createElement(Qc,{size:24})),e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm border border-white/20 px-4 py-2 rounded-full"},e.createElement(Nu,{className:"text-amber-400",size:20}),e.createElement("span",{className:"font-bold vibrant-text"},x.bestScore||0,"%")),e.createElement("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm border border-white/20 px-4 py-2 rounded-full"},e.createElement(Zc,{className:"text-amber-400",size:20}),e.createElement("span",{className:"font-bold vibrant-text"},N,"%")))),e.createElement("div",{className:"flex items-center gap-4 mb-4"},e.createElement(Cu,{value:m,className:"flex-1 h-3 bg-white/10 backdrop-blur-sm border border-white/20"}),e.createElement("div",{className:"text-sm font-medium text-white"},c+1," / ",a.length)),e.createElement("div",{className:"flex-1 flex flex-col items-center overflow-hidden"},e.createElement(zt,{className:"bg-white/10 backdrop-blur-sm border border-white/20 w-full rounded-xl p-6 md:p-8 mx-auto mb-6 max-w-2xl shadow-xl"},e.createElement("div",{className:"text-center"},e.createElement("div",{className:"flex justify-center mb-2"},e.createElement(Ht,{variant:"ghost",size:"sm",onClick:()=>Fu(null==C?void 0:C.word),className:"bg-white/10 backdrop-blur-sm border border-white/20 w-10 h-10 rounded-full p-0 flex items-center justify-center"},e.createElement(Iu,{size:20}))),e.createElement("h3",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-2 gradient-text tracking-wide break-words"},null==C?void 0:C.word),(null==C?void 0:C.context)&&e.createElement("p",{className:"text-white text-xs sm:text-sm mt-2 italic px-2 break-words max-h-20 overflow-y-auto"},'"',C.context,'"'))),e.createElement("div",{className:"grid grid-cols-1 gap-3 w-full max-w-lg overflow-y-auto pb-4"},null==C?void 0:C.options.map(((t,r)=>{const n=r===C.correctIndex,o=d===r;return e.createElement(Ht,{key:r,onClick:()=>A(r),disabled:null!==d,className:"choice-button h-auto py-4 transition-all duration-300 break-words "+(null===d?"choice-button-neutral":n?"bg-emerald-500/20 border-emerald-400 text-emerald-400 gradient-border-success":o?"bg-rose-500/20 border-rose-400 text-rose-400 gradient-border-error":"opacity-60")},e.createElement("span",{className:"px-2 break-words"},t))})))),e.createElement(Xc,null,v&&e.createElement(Vc.div,{className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},e.createElement(Vc.div,{className:"bg-white/10 backdrop-blur-sm border border-white/20 p-8 rounded-2xl shadow-xl max-w-md w-full",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0}},e.createElement("h3",{className:"game-header-text mb-6"},"Quiz Complete!"),e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"text-center"},e.createElement("p",{className:"text-5xl font-bold gradient-text floating"},Math.round(f/a.length*100),"%"),e.createElement("p",{className:"text-white/80 mt-1"},"Success Rate")),e.createElement("div",{className:"grid grid-cols-2 gap-4 text-center"},e.createElement("div",null,e.createElement("p",{className:"text-3xl font-bold text-emerald-400"},f,"/",a.length),e.createElement("p",{className:"text-white/80"},"Correct Answers")),e.createElement("div",null,e.createElement("p",{className:"text-3xl font-bold text-amber-400"},x.bestScore||0,"%"),e.createElement("p",{className:"text-white/80"},"Best Score"))),e.createElement("div",{className:"flex gap-3 justify-center"},e.createElement(Ht,{onClick:()=>{o(!1)},className:"bg-white/10 backdrop-blur-sm border border-white/20 px-8 py-4 font-bold text-white"},"New Game"),e.createElement(Ht,{variant:"outline",onClick:r,className:"bg-white/10 backdrop-blur-sm border border-white/20 px-8 py-4 text-white"},"Exit")))))))):e.createElement("div",{className:"fixed inset-0 bg-background text-foreground animated-gradient-bg overflow-hidden"},e.createElement("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.15)_1px,transparent_0)] bg-[size:24px_24px] opacity-30"}),e.createElement("div",{className:"relative h-full flex flex-col p-6 max-w-4xl mx-auto"},e.createElement(Vc.div,{className:"fixed inset-0 animated-gradient-bg backdrop-blur-sm flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},e.createElement(Vc.div,{className:"bg-white/10 backdrop-blur-sm border border-white/20 p-8 rounded-2xl shadow-xl max-w-md w-full",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0}},e.createElement("div",{className:"flex justify-between items-center mb-6"},e.createElement(Ht,{variant:"ghost",size:"sm",onClick:r,className:"text-white hover:bg-white/10"},e.createElement(Qc,{size:24})),e.createElement("h2",{className:"text-3xl font-bold text-center game-header-text"},"Multiple Choice"),e.createElement("div",{className:"w-10"})," "),e.createElement("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 p-4 rounded-xl text-center w-full mb-6"},e.createElement("p",{className:"text-3xl font-bold gradient-text floating"},x.bestScore||0,"%"),e.createElement("p",{className:"text-sm text-white/80"},"Best Score")),e.createElement("div",{className:"mb-6"},e.createElement("p",{className:"text-sm text-white/80 mb-2"},"Number of words to practice:"),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"flex items-center bg-white/10 backdrop-blur-sm border border-white/20 flex-1 p-1 rounded-md"},e.createElement(Ht,{variant:"ghost",size:"sm",onClick:()=>l(Math.max(1,s-1)),className:"h-8 w-8 rounded-full flex items-center justify-center text-white hover:bg-white/20"},"-"),e.createElement(Pu,{type:"number",min:1,max:t.length,value:s,onChange:T,onClick:e=>e.target.select(),className:"text-white bg-transparent border-0 text-center focus:ring-0 focus:outline-none",style:{WebkitAppearance:"none",MozAppearance:"textfield",appearance:"textfield",margin:0}}),e.createElement(Ht,{variant:"ghost",size:"sm",onClick:()=>l(Math.min(t.length,s+1)),className:"h-8 w-8 rounded-full flex items-center justify-center text-white hover:bg-white/20"},"+")),e.createElement("span",{className:"text-sm text-white whitespace-nowrap"},"of ",t.length)),e.createElement("div",{className:"grid grid-cols-4 gap-2"},e.createElement(Ht,{variant:s===t.length?"default":"outline",onClick:()=>S(t.length),className:(s===t.length?"bg-white/20 text-white":"bg-transparent text-white/80 border-white/20")+" hover:bg-white/20 transition-colors"},"All"),[5,10,15].map((r=>e.createElement(Ht,{key:r,variant:s===r?"default":"outline",onClick:()=>S(r),disabled:r>t.length,className:`${s===r?"bg-white/20 text-white":"bg-transparent text-white/80 border-white/20"} hover:bg-white/20 transition-colors ${r>t.length?"opacity-50 cursor-not-allowed":""}`},r)))))),e.createElement(Ht,{onClick:_,className:"w-full py-6 bg-white/10 backdrop-blur-sm border border-white/20 font-bold"},"Start Game")))))}const Vu=ye("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);function Hu({words:t,onBack:r}){var n;const[o,a]=(0,e.useState)([]),[i,s]=(0,e.useState)(0),[l,c]=(0,e.useState)(""),[u,d]=(0,e.useState)(0),[h,f]=(0,e.useState)(0),[p,m]=(0,e.useState)(0),[g,v]=(0,e.useState)(!1),[y,w]=(0,e.useState)(!1),[b,x]=(0,e.useState)(1),[E,k]=(0,e.useState)(10),[S,T]=(0,e.useState)(0),[_,A]=(0,e.useState)(null),C=((0,e.useRef)(null),(0,e.useRef)(null)),[N,I]=(0,e.useState)(0),[O,P]=(0,e.useState)(!1),R=zu({initialTime:30,onTimeEnd:()=>L(),countUp:!1});(0,e.useEffect)((()=>Bu()),[]),(0,e.useEffect)((()=>{chrome.storage.sync.get("fillInBlankStats",(e=>{e.fillInBlankStats&&(A(e.fillInBlankStats.bestPercentage||null),m(e.fillInBlankStats.bestStreak||0))})),O&&D()}),[O,t]);const D=()=>{const e=[...t].sort((()=>Math.random()-.5)).slice(0,E).map((e=>({word:e.word,answer:e.translation,context:Lu(e.context),points:10})));a(e),s(0),c(""),d(0),f(0),v(!1),w(!1),x(1),T(0),R.resetTimer(),R.startTimer(),C.current=Date.now()},L=()=>{if(!o[i])return;const e=o[i],t=ju(l.trim(),e.answer.trim());if(t){const r=Math.floor(R.time/3),n=(e.points+r)*b;d((e=>e+n)),f((e=>e+1)),T((e=>e+1)),x(Math.min(3,1+Math.floor(h/3))),4===h&&Mu();const s=[...o];s[i]=Object.assign(Object.assign({},e),{userAnswer:l,isCorrect:t}),a(s),setTimeout((()=>{if(i<o.length-1)M();else{const e=Math.floor((Date.now()-(C.current||0))/1e3);I(e);const t=Math.round((S+1)/o.length*100);U(t)}}),1500)}else{const t=[...o];t[i]=Object.assign(Object.assign({},e),{userAnswer:l,isCorrect:!1}),a(t),f(0),x(1),setTimeout((()=>{if(i<o.length-1)M();else{const e=Math.floor((Date.now()-(C.current||0))/1e3);I(e);const t=Math.round(S/o.length*100);U(t)}}),1500)}c(""),R.resetTimer(),v(!1)},M=()=>{s((e=>e+1)),c(""),v(!1)},F=i===o.length-1&&void 0!==(null===(n=o[i])||void 0===n?void 0:n.userAnswer),U=e=>{chrome.storage.sync.get("fillInBlankStats",(t=>{const r=t.fillInBlankStats||{bestStreak:0,totalGames:0,bestPercentage:0,lastPlayed:(new Date).toISOString()},n={bestStreak:Math.max(r.bestStreak,h),totalGames:r.totalGames+1,bestPercentage:Math.max(r.bestPercentage||0,e),lastPlayed:(new Date).toISOString()};chrome.storage.sync.set({fillInBlankStats:n},(()=>{A(n.bestPercentage)}))}))},j=i/o.length*100;return e.createElement("div",{className:"fixed inset-0 bg-background text-foreground animated-gradient-bg overflow-hidden"},e.createElement("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.15)_1px,transparent_0)] bg-[size:24px_24px] opacity-30"}),e.createElement("div",{className:"relative h-full flex flex-col p-6 max-w-4xl mx-auto"},O&&e.createElement("header",{className:"flex items-center justify-between mb-8 sticky top-0 z-10 bg-indigo-900/70 backdrop-blur-lg py-3 px-4 rounded-xl"},e.createElement(Ht,{variant:"ghost",size:"sm",onClick:r,className:"bg-white/10 backdrop-blur-sm border border-white/20"},e.createElement(Qc,{size:24})),e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm border border-white/20 px-4 py-2 rounded-full"},e.createElement(Zc,{className:"text-amber-400",size:20}),e.createElement("span",{className:"font-bold text-lg vibrant-text"},u)),h>0&&e.createElement("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm border border-white/20 px-4 py-2 rounded-full"},e.createElement(eu,{className:"text-amber-400",size:20}),e.createElement("span",{className:"font-medium vibrant-text"},h,"x")))),e.createElement("main",{className:"flex-1 flex flex-col gap-6"},O&&e.createElement("div",{className:"flex items-center gap-4"},e.createElement(Cu,{value:j,className:"flex-1 h-3 bg-white/10 backdrop-blur-sm border border-white/20"}),e.createElement("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm border border-white/20 px-3 py-1 rounded-full text-sm"},e.createElement(Vu,{size:16}),R.time,"s")),e.createElement(Vc.div,{layout:!0,className:"flex-1 flex flex-col",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}},O?e.createElement(zt,{className:"flex-1 bg-white/10 backdrop-blur-sm border border-white/20 p-8"},o[i]&&e.createElement("div",{className:"space-y-8"},e.createElement("div",null,e.createElement("h3",{className:"text-2xl font-bold mb-4 flex items-center gap-3 gradient-text"},o[i].word,e.createElement(Ht,{variant:"ghost",size:"sm",onClick:()=>(e=>{const t=new SpeechSynthesisUtterance(e);t.lang="en-US",window.speechSynthesis.speak(t)})(o[i].word),className:"bg-white/10 backdrop-blur-sm border border-white/20 w-10 h-10 rounded-full p-0 flex items-center justify-center"},e.createElement(Iu,{size:18,className:"text-white"}))),o[i].context&&e.createElement("p",{className:"text-white/80 text-lg italic"},'"',o[i].context,'"')),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"relative"},e.createElement(Pu,{type:"text",value:l,onChange:e=>c(e.target.value),onKeyPress:e=>"Enter"===e.key&&L(),placeholder:"Type the translation...",disabled:void 0!==o[i].userAnswer,className:"w-full p-4 text-lg bg-white/10 backdrop-blur-sm border border-white/20 text-white placeholder-white/50"})),o[i].userAnswer&&e.createElement(Vc.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg "+(o[i].isCorrect?"bg-emerald-500/30 border border-emerald-400 text-emerald-200 gradient-border-success":"bg-red-500/30 border border-red-400 text-red-200 gradient-border-error")},e.createElement("p",{className:"font-medium flex items-center gap-2"},o[i].isCorrect?e.createElement(e.Fragment,null,e.createElement("span",{className:"inline-block w-5 h-5 bg-emerald-500 rounded-full flex items-center justify-center text-white"},"✓"),e.createElement("span",{className:"text-emerald-200"},"Correct!")):e.createElement(e.Fragment,null,e.createElement("span",{className:"inline-block w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-white"},"✗"),e.createElement("span",{className:"text-red-200"},"Incorrect!"))),e.createElement("p",{className:"text-sm opacity-90 ml-7"},"Correct answer: ",o[i].answer)),!o[i].userAnswer&&e.createElement("div",{className:"flex gap-3"},e.createElement(Ht,{onClick:L,disabled:!l.trim(),className:"flex-1 bg-white/10 backdrop-blur-sm border border-white/20"},"Check Answer"),e.createElement(Ht,{variant:"outline",onClick:()=>v(!0),disabled:g,className:"flex-1 bg-white/10 backdrop-blur-sm border border-white/20"},"Show Hint")),g&&e.createElement(Vc.p,{initial:{opacity:0},animate:{opacity:1},className:"text-white/70 text-center bg-white/10 backdrop-blur-sm border border-white/20 p-3 rounded-lg"},"First letter: ",e.createElement("span",{className:"text-amber-300 font-bold"},o[i].answer[0]),e.createElement("br",null),"Length: ",e.createElement("span",{className:"text-amber-300 font-bold"},o[i].answer.length)," characters")))):e.createElement(Vc.div,{className:"fixed inset-0 animated-gradient-bg backdrop-blur-sm flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},e.createElement(Vc.div,{className:"bg-white/10 backdrop-blur-sm border border-white/20 p-8 rounded-2xl shadow-xl max-w-md w-full",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0}},e.createElement("div",{className:"flex justify-between items-center mb-6"},e.createElement(Ht,{variant:"ghost",size:"sm",onClick:r,className:"text-white hover:bg-white/10"},e.createElement(Qc,{size:24})),e.createElement("h2",{className:"text-3xl font-bold text-center game-header-text"},"Fill in the Blank"),e.createElement("div",{className:"w-10"})," "),e.createElement("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 p-4 rounded-xl text-center w-full mb-6"},e.createElement("p",{className:"text-3xl font-bold gradient-text floating"},null!==_?`${_}%`:"0%"),e.createElement("p",{className:"text-sm text-white/80"},"Best Score")),e.createElement("div",{className:"mb-6"},e.createElement("p",{className:"text-sm text-white/80 mb-2"},"Number of words:"),e.createElement("div",{className:"grid grid-cols-4 gap-2"},[5,10,15,20].map((t=>e.createElement(Ht,{key:t,variant:E===t?"default":"outline",onClick:()=>k(t),className:(E===t?"bg-white/20 text-white":"bg-transparent text-white/80 border-white/20")+" hover:bg-white/20 transition-colors"},t))))),e.createElement(Ht,{onClick:()=>P(!0),className:"w-full py-6 bg-white/10 backdrop-blur-sm border border-white/20 font-bold"},"Start Game"))))),e.createElement(Xc,null,F&&e.createElement(Vc.div,{className:"fixed inset-0 animated-gradient-bg backdrop-blur-sm flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},e.createElement(Vc.div,{className:"bg-white/10 backdrop-blur-sm border border-white/20 p-8 rounded-2xl shadow-xl max-w-md w-full",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0}},e.createElement("h3",{className:"text-3xl font-bold text-center game-header-text mb-6"},"Challenge Complete!"),e.createElement("div",{className:"grid grid-cols-2 gap-6 text-center mb-6"},e.createElement("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 p-4 rounded-xl"},e.createElement("p",{className:"text-3xl font-bold gradient-text floating"},u),e.createElement("p",{className:"text-sm text-white/80"},"Score")),e.createElement("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 p-4 rounded-xl"},e.createElement("p",{className:"text-3xl font-bold gradient-text floating"},Uu(N)),e.createElement("p",{className:"text-sm text-white/80"},"Time")),e.createElement("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 p-4 rounded-xl"},e.createElement("p",{className:"text-3xl font-bold gradient-text floating"},h),e.createElement("p",{className:"text-sm text-white/80"},"Best Streak")),e.createElement("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 p-4 rounded-xl"},e.createElement("p",{className:"text-3xl font-bold gradient-text floating"},Math.round(S/o.length*100),"%"),e.createElement("p",{className:"text-sm text-white/80"},"Accuracy"))),e.createElement("div",{className:"flex gap-3"},e.createElement(Ht,{onClick:D,className:"w-1/2 bg-white/10 backdrop-blur-sm border border-white/20 font-medium"},"Play Again"),e.createElement(Ht,{onClick:r,className:"w-1/2 bg-white/10 backdrop-blur-sm border border-white/20 font-medium"},"Exit")))))))}function $u({words:t,onBack:r}){var n;const[o,a]=(0,e.useState)([]),[i,s]=(0,e.useState)(0),[l,c]=(0,e.useState)(""),[u,d]=(0,e.useState)(0),[h,f]=(0,e.useState)(!1),[p,m]=(0,e.useState)(0),[g,v]=(0,e.useState)(0),[y,w]=(0,e.useState)(1),[b,x]=(0,e.useState)(!1),[E,k]=(0,e.useState)(10),[S,T]=(0,e.useState)(0),[_,A]=(0,e.useState)(null),C=(0,e.useRef)(null),[N,I]=(0,e.useState)(0),O=zu({initialTime:30,onTimeEnd:()=>D(),countUp:!1});(0,e.useEffect)((()=>Bu()),[]),(0,e.useEffect)((()=>{chrome.storage.sync.get("wordScrambleStats",(e=>{e.wordScrambleStats&&A(e.wordScrambleStats.bestPercentage||null)})),h&&R()}),[h,t]);const P=e=>{const t=e.split("");for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}const r=t.join("");return r===e?P(e):r},R=()=>{const e=[...t].sort((()=>Math.random()-.5)).slice(0,E).map((e=>({word:e.translation,scrambledWord:P(e.word),answer:e.word,context:Lu(e.context),points:10})));a(e),s(0),c(""),d(0),m(0),v(0),w(1),x(!1),T(0),O.resetTimer(),O.startTimer(),C.current=Date.now()},D=()=>{if(!o[i])return;const e=o[i],t=ju(l.trim(),e.answer.trim());if(t){const t=Math.floor(O.time/3),r=(e.points+t)*y;d((e=>e+r)),m((e=>e+1)),w((e=>Math.min(e+.5,3))),T((e=>e+1)),4===p&&Mu()}else m(0),w(1);const r=[...o];r[i]=Object.assign(Object.assign({},e),{userAnswer:l,isCorrect:t}),a(r),M(),setTimeout((()=>{if(i<o.length-1)L();else{const e=Math.floor((Date.now()-(C.current||0))/1e3);I(e);const r=Math.round((S+(t?1:0))/o.length*100);U(r)}}),1500)},L=()=>{s((e=>e+1)),c(""),O.resetTimer(),O.startTimer(),x(!1)},M=()=>{const e=(i+1)/o.length*100;v(e)},F=i===o.length-1&&void 0!==(null===(n=o[i])||void 0===n?void 0:n.userAnswer),U=e=>{console.log("Saving score:",e),chrome.storage.sync.get("wordScrambleStats",(t=>{const r=t.wordScrambleStats||{bestScore:0,totalGames:0,lastPlayed:(new Date).toISOString(),recentScores:[],totalCorrect:0,totalAttempted:0},n=r.recentScores||[];n.unshift(e),n.length>10&&n.pop();const a={bestScore:Math.max(r.bestScore||0,e),totalGames:(r.totalGames||0)+1,lastPlayed:(new Date).toISOString(),recentScores:n,totalCorrect:(r.totalCorrect||0)+S,totalAttempted:(r.totalAttempted||0)+o.length};chrome.storage.sync.set({wordScrambleStats:a},(()=>{console.log("Word Scramble stats saved:",a)}))}))};return e.createElement("div",{className:"fixed inset-0 animated-gradient-bg text-white overflow-hidden"},e.createElement("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.15)_1px,transparent_0)] bg-[size:24px_24px] opacity-30"}),e.createElement("div",{className:"relative h-full flex flex-col p-6 max-w-4xl mx-auto"},h&&e.createElement("header",{className:"flex items-center justify-between mb-8 sticky top-0 z-10 bg-indigo-900/70 backdrop-blur-lg py-3 px-4 rounded-xl"},e.createElement(Ht,{variant:"ghost",size:"sm",onClick:r,className:"bg-white/10 backdrop-blur-sm border border-white/20"},e.createElement(Qc,{size:24})),e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm border border-white/20 px-4 py-2 rounded-full"},e.createElement(Zc,{className:"text-amber-400",size:20}),e.createElement("span",{className:"font-bold text-lg vibrant-text"},u)),p>0&&e.createElement("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm border border-white/20 px-4 py-2 rounded-full"},e.createElement(eu,{className:"text-amber-400",size:20}),e.createElement("span",{className:"font-medium vibrant-text"},p,"x")))),e.createElement("main",{className:"flex-1 flex flex-col gap-6"},h&&e.createElement("div",{className:"flex items-center gap-4"},e.createElement(Cu,{value:g,className:"flex-1 h-3 bg-white/10 backdrop-blur-sm border border-white/20"}),e.createElement("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm border border-white/20 px-3 py-1 rounded-full text-sm"},e.createElement(Vu,{size:16}),O.time,"s")),e.createElement(Vc.div,{layout:!0,className:"flex-1 flex flex-col",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}},h?e.createElement(zt,{className:"flex-1 bg-white/10 backdrop-blur-sm border border-white/20 p-8"},o[i]&&e.createElement("div",{className:"space-y-8"},e.createElement("div",null,e.createElement("h3",{className:"text-2xl font-bold mb-4 flex items-center justify-center gap-3"},e.createElement("span",{className:"gradient-text text-4xl tracking-wide"},o[i].scrambledWord),e.createElement(Ht,{variant:"ghost",size:"sm",onClick:()=>Fu(o[i].answer),className:"bg-white/10 backdrop-blur-sm border border-white/20 w-10 h-10 rounded-full p-0 flex items-center justify-center"},e.createElement(Iu,{size:18,className:"text-white"}))),o[i].context&&e.createElement("p",{className:"text-white/80 text-lg italic text-center"},'"',o[i].context,'"'),e.createElement("p",{className:"text-center font-medium text-xl mb-2"},"Translation:"),e.createElement("p",{className:"text-white text-xl text-center font-bold mb-4"},o[i].word)),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"relative"},e.createElement(Pu,{type:"text",value:l,onChange:e=>c(e.target.value),onKeyPress:e=>"Enter"===e.key&&D(),placeholder:"Unscramble the word...",disabled:void 0!==o[i].userAnswer,className:"w-full p-4 text-lg bg-white/10 backdrop-blur-sm border border-white/20 text-white placeholder-white/50 text-center"})),o[i].userAnswer&&e.createElement(Vc.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-lg "+(o[i].isCorrect?"bg-emerald-500/30 border border-emerald-400 text-emerald-200 gradient-border-success":"bg-red-500/30 border border-red-400 text-red-200 gradient-border-error")},e.createElement("p",{className:"font-medium text-center flex items-center justify-center gap-2"},o[i].isCorrect?e.createElement(e.Fragment,null,e.createElement("span",{className:"inline-block w-5 h-5 bg-emerald-500 rounded-full flex items-center justify-center text-white"},"✓"),e.createElement("span",{className:"text-emerald-200"},"Correct!")):e.createElement(e.Fragment,null,e.createElement("span",{className:"inline-block w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-white"},"✗"),e.createElement("span",{className:"text-red-200"},"Incorrect!"))),!o[i].isCorrect&&e.createElement("p",{className:"text-sm opacity-90 text-center mt-2"},"Correct answer: ",e.createElement("span",{className:"font-bold text-white"},o[i].answer))),!o[i].userAnswer&&e.createElement("div",{className:"flex gap-3"},e.createElement(Ht,{onClick:D,disabled:!l.trim(),className:"flex-1 bg-white/10 backdrop-blur-sm border border-white/20"},"Check Answer"),e.createElement(Ht,{variant:"outline",onClick:()=>x(!0),disabled:b,className:"flex-1 bg-white/10 backdrop-blur-sm border border-white/20"},"Show Hint")),b&&e.createElement(Vc.p,{initial:{opacity:0},animate:{opacity:1},className:"text-white/70 text-center bg-white/10 backdrop-blur-sm border border-white/20 p-3 rounded-lg"},"First letter: ",e.createElement("span",{className:"text-amber-300 font-bold"},o[i].answer[0]),e.createElement("br",null),"Length: ",e.createElement("span",{className:"text-amber-300 font-bold"},o[i].answer.length)," characters")))):e.createElement(Vc.div,{className:"fixed inset-0 animated-gradient-bg backdrop-blur-sm flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},e.createElement(Vc.div,{className:"bg-white/10 backdrop-blur-sm border border-white/20 p-8 rounded-2xl shadow-xl max-w-md w-full",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0}},e.createElement("div",{className:"flex justify-between items-center mb-6"},e.createElement(Ht,{variant:"ghost",size:"sm",onClick:r,className:"text-white hover:bg-white/10"},e.createElement(Qc,{size:24})),e.createElement("h2",{className:"text-3xl font-bold text-center game-header-text"},"Word Scramble"),e.createElement("div",{className:"w-10"})," "),e.createElement("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 p-4 rounded-xl text-center w-full mb-6"},e.createElement("p",{className:"text-3xl font-bold gradient-text floating"},null!==_?`${_}%`:"0%"),e.createElement("p",{className:"text-sm text-white/80"},"Best Score")),e.createElement("div",{className:"mb-6"},e.createElement("p",{className:"text-sm text-white/80 mb-2"},"Number of words:"),e.createElement("div",{className:"grid grid-cols-4 gap-2"},[5,10,15,20].map((t=>e.createElement(Ht,{key:t,variant:E===t?"default":"outline",onClick:()=>k(t),className:(E===t?"bg-white/20 text-white":"bg-transparent text-white/80 border-white/20")+" hover:bg-white/20 transition-colors"},t))))),e.createElement(Ht,{onClick:()=>f(!0),className:"w-full py-6 bg-white/10 backdrop-blur-sm border border-white/20 font-bold"},"Start Game"))))),e.createElement(Xc,null,F&&e.createElement(Vc.div,{className:"fixed inset-0 animated-gradient-bg backdrop-blur-sm flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},e.createElement(Vc.div,{className:"bg-white/10 backdrop-blur-sm border border-white/20 p-8 rounded-2xl shadow-xl max-w-md w-full",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0}},e.createElement("h3",{className:"text-3xl font-bold text-center game-header-text mb-6"},"Challenge Complete!"),e.createElement("div",{className:"grid grid-cols-2 gap-6 text-center mb-6"},e.createElement("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 p-4 rounded-xl"},e.createElement("p",{className:"text-3xl font-bold gradient-text floating"},u),e.createElement("p",{className:"text-sm text-white/80"},"Score")),e.createElement("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 p-4 rounded-xl"},e.createElement("p",{className:"text-3xl font-bold gradient-text floating"},Uu(N)),e.createElement("p",{className:"text-sm text-white/80"},"Time")),e.createElement("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 p-4 rounded-xl"},e.createElement("p",{className:"text-3xl font-bold gradient-text floating"},p),e.createElement("p",{className:"text-sm text-white/80"},"Best Streak")),e.createElement("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 p-4 rounded-xl"},e.createElement("p",{className:"text-3xl font-bold gradient-text floating"},Math.round(S/o.length*100),"%"),e.createElement("p",{className:"text-sm text-white/80"},"Accuracy"))),e.createElement("div",{className:"flex gap-3"},e.createElement(Ht,{onClick:R,className:"w-1/2 bg-white/10 backdrop-blur-sm border border-white/20 font-medium"},"Play Again"),e.createElement(Ht,{onClick:r,className:"w-1/2 bg-white/10 backdrop-blur-sm border border-white/20 font-medium"},"Exit")))))))}function Gu({words:t,onBack:r}){const[n,o]=(0,e.useState)(!1),[a,i]=(0,e.useState)(t.length),[s,l]=(0,e.useState)([]),[c,u]=(0,e.useState)(0),[d,h]=(0,e.useState)(!1),[f,p]=(0,e.useState)(0),[m,g]=(0,e.useState)([]),[v,y]=(0,e.useState)(0),[w,b]=(0,e.useState)(!1),[x,E]=(0,e.useState)(0),[k,S]=(0,e.useState)(null),[T,_]=(0,e.useState)({bestScore:0,totalGames:0,lastPlayed:(new Date).toISOString()});(0,e.useEffect)((()=>Bu()),[]),(0,e.useEffect)((()=>{const e=document.createElement("style");return e.textContent="\n      /* Hide number input spinners - WebKit browsers */\n      input[type=number]::-webkit-inner-spin-button, \n      input[type=number]::-webkit-outer-spin-button { \n        -webkit-appearance: none;\n        margin: 0; \n      }\n      /* Firefox */\n      input[type=number] {\n        -moz-appearance: textfield;\n        appearance: textfield;\n      }\n    ",document.head.appendChild(e),()=>{document.head.removeChild(e)}}),[]),(0,e.useEffect)((()=>{chrome.storage.sync.get("flashCardsStats",(e=>{e.flashCardsStats&&(console.log("Loaded stats:",e.flashCardsStats),_(e.flashCardsStats))}))}),[]);const A=(e,t)=>t>0?Math.round(e/t*100):0,C=e=>{const r=Math.min(Math.max(1,parseInt(e.target.value)||1),t.length);i(r)},N=()=>{const e=[...t].sort((()=>Math.random()-.5)).slice(0,a).map((e=>Object.assign(Object.assign({},e),{context:Lu(e.context)})));l(e),u(0),p(0),g([]),y(0),h(!1),b(!1),E(0),S(null),o(!0)},I=e=>{d?(S(e?"correct":"incorrect"),e&&!m.includes(c)?(g([...m,c]),p((e=>e+1)),E((e=>e+1)),x>=2&&Mu()):e||E(0),setTimeout((()=>{if(c<s.length-1)u((e=>e+1)),h(!1),S(null),y((c+1)/s.length*100);else{(e=>{const t=A(e,s.length);console.log("Saving new score:",t,"Current best:",T.bestScore),chrome.storage.sync.get("flashCardsStats",(r=>{const n=r.flashCardsStats||{bestScore:0,totalGames:0,lastPlayed:(new Date).toISOString(),recentScores:[],totalCorrect:0,totalAttempted:0},o=n.recentScores||[];o.unshift(t),o.length>10&&o.pop();const a={bestScore:Math.max(n.bestScore||0,t),totalGames:(n.totalGames||0)+1,lastPlayed:(new Date).toISOString(),recentScores:o,totalCorrect:(n.totalCorrect||0)+e,totalAttempted:(n.totalAttempted||0)+s.length};chrome.storage.sync.set({flashCardsStats:a},(()=>{console.log("Saved new flash cards stats:",a),_(a)}))}))})(f+(e&&!m.includes(c)?1:0)),b(!0)}}),800)):h(!0)},O=s[c],P=A(f,c+(d?1:0));return n?e.createElement("div",{className:"fixed inset-0 bg-background text-foreground animated-gradient-bg overflow-hidden"},e.createElement("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.15)_1px,transparent_0)] bg-[size:24px_24px] opacity-30"}),e.createElement("div",{className:"relative h-full flex flex-col p-4 sm:p-6 max-w-4xl mx-auto"},e.createElement("header",{className:"flex items-center justify-between mb-4 sticky top-0 z-10 bg-indigo-900/70 backdrop-blur-lg py-3 px-4 rounded-xl"},e.createElement(Ht,{variant:"ghost",size:"sm",onClick:r,className:"bg-white/10 backdrop-blur-sm border border-white/20"},e.createElement(Qc,{size:24})),e.createElement("div",{className:"flex items-center gap-4"},e.createElement("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm border border-white/20 px-4 py-2 rounded-full"},e.createElement(Nu,{className:"text-amber-400",size:20}),e.createElement("span",{className:"font-bold vibrant-text"},T.bestScore||0,"%")),e.createElement("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm border border-white/20 px-4 py-2 rounded-full"},e.createElement(Zc,{className:"text-amber-400",size:20}),e.createElement("span",{className:"font-bold vibrant-text"},P,"%")))),e.createElement("div",{className:"flex items-center gap-4 mb-4"},e.createElement(Cu,{value:v,className:"flex-1 h-3 bg-white/10 backdrop-blur-sm border border-white/20"}),e.createElement("div",{className:"text-sm font-medium text-white"},c+1," / ",s.length)),e.createElement("div",{className:"flex-1 flex flex-col items-center justify-center"},e.createElement(zt,{className:"w-full max-w-lg aspect-[4/3] bg-white/10 backdrop-blur-sm border border-white/20 p-4 sm:p-6 flex flex-col items-center justify-center cursor-pointer rounded-xl relative hover:shadow-xl transition-all duration-300 "+("correct"===k?"gradient-border-success bg-emerald-500/20":"incorrect"===k?"gradient-border-error bg-rose-500/20":"gradient-border"),onClick:()=>{h(!d)}},e.createElement("div",{className:"text-center relative w-full"},e.createElement("h3",{className:"text-3xl md:text-4xl font-bold mb-4 tracking-wide break-words "+("correct"===k?"text-emerald-400":"incorrect"===k?"text-rose-400":"gradient-text")},d?null==O?void 0:O.translation:null==O?void 0:O.word),(null==O?void 0:O.context)&&e.createElement("p",{className:"text-white text-sm mt-4 px-4 break-words max-h-20 overflow-y-auto"},O.context)),e.createElement("div",{className:"absolute bottom-12 flex items-center justify-center gap-2"},e.createElement(Ht,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),Fu(d?null==O?void 0:O.translation:null==O?void 0:O.word)},className:"bg-white/10 backdrop-blur-sm border border-white/20 w-10 h-10 rounded-full p-0 flex items-center justify-center"},e.createElement(Iu,{size:20}))),e.createElement("div",{className:"absolute bottom-4 text-center w-full text-white/70"},d?"Click to see next card":"Click to flip card")),e.createElement("div",{className:"flex gap-4 mt-6"},e.createElement(Ht,{onClick:()=>I(!1),className:"bg-white/10 backdrop-blur-sm border border-white/20 px-8 py-4 rounded-xl font-medium text-lg "+(d?"incorrect"===k?"bg-rose-500/20 border-rose-400 text-rose-400 gradient-border-error":"bg-indigo-500/20 hover:bg-indigo-500/30 border-indigo-300/30":"choice-button-neutral")},d?"Didn't Know":"Show Translation"),d&&e.createElement(Ht,{onClick:()=>I(!0),className:"px-8 py-4 rounded-xl font-medium text-lg "+("correct"===k?"bg-emerald-500/20 border-emerald-400 text-emerald-400 gradient-border-success":"choice-button-correct")},"Knew It"))),e.createElement(Xc,null,w&&e.createElement(Vc.div,{className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},e.createElement(Vc.div,{className:"bg-white/10 backdrop-blur-sm border border-white/20 p-8 rounded-2xl shadow-xl max-w-md w-full",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0}},e.createElement("h3",{className:"game-header-text mb-6"},"Practice Complete!"),e.createElement("div",{className:"space-y-6"},e.createElement("div",{className:"text-center"},e.createElement("p",{className:"text-5xl font-bold gradient-text floating"},P,"%"),e.createElement("p",{className:"text-white/80 mt-1"},"Success Rate")),e.createElement("div",{className:"grid grid-cols-2 gap-4 text-center"},e.createElement("div",null,e.createElement("p",{className:"text-3xl font-bold text-emerald-400"},f),e.createElement("p",{className:"text-white/80"},"Words Known")),e.createElement("div",null,e.createElement("p",{className:"text-3xl font-bold text-amber-400"},T.bestScore||0,"%"),e.createElement("p",{className:"text-white/80"},"Best Score"))),e.createElement("div",{className:"flex gap-3 justify-center"},e.createElement(Ht,{onClick:()=>{o(!1)},className:"bg-white/10 backdrop-blur-sm border border-white/20 px-8 py-4 font-bold text-white"},"New Game"),e.createElement(Ht,{variant:"outline",onClick:r,className:"bg-white/10 backdrop-blur-sm border border-white/20 px-8 py-4 text-white"},"Exit")))))))):e.createElement("div",{className:"fixed inset-0 bg-background text-foreground animated-gradient-bg overflow-hidden"},e.createElement("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.15)_1px,transparent_0)] bg-[size:24px_24px] opacity-30"}),e.createElement("div",{className:"relative h-full flex flex-col p-6 max-w-4xl mx-auto"},e.createElement(Vc.div,{className:"fixed inset-0 animated-gradient-bg backdrop-blur-sm flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},e.createElement(Vc.div,{className:"bg-white/10 backdrop-blur-sm border border-white/20 p-8 rounded-2xl shadow-xl max-w-md w-full",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0}},e.createElement("div",{className:"flex justify-between items-center mb-6"},e.createElement(Ht,{variant:"ghost",size:"sm",onClick:r,className:"text-white hover:bg-white/10"},e.createElement(Qc,{size:24})),e.createElement("h2",{className:"text-3xl font-bold text-center game-header-text"},"Flash Cards"),e.createElement("div",{className:"w-10"})," "),e.createElement("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 p-4 rounded-xl text-center w-full mb-6"},e.createElement("p",{className:"text-3xl font-bold gradient-text floating"},T.bestScore||0,"%"),e.createElement("p",{className:"text-sm text-white/80"},"Best Score")),e.createElement("div",{className:"mb-6"},e.createElement("p",{className:"text-sm text-white/80 mb-2"},"Number of words to practice:"),e.createElement("div",{className:"space-y-4"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"flex items-center bg-white/10 backdrop-blur-sm border border-white/20 flex-1 p-1 rounded-md"},e.createElement(Ht,{variant:"ghost",size:"sm",onClick:()=>i(Math.max(1,a-1)),className:"h-8 w-8 rounded-full flex items-center justify-center text-white hover:bg-white/20"},"-"),e.createElement(Pu,{type:"number",min:1,max:t.length,value:a,onChange:C,onClick:e=>e.target.select(),className:"text-white bg-transparent border-0 text-center focus:ring-0 focus:outline-none",style:{WebkitAppearance:"none",MozAppearance:"textfield",appearance:"textfield",margin:0}}),e.createElement(Ht,{variant:"ghost",size:"sm",onClick:()=>i(Math.min(t.length,a+1)),className:"h-8 w-8 rounded-full flex items-center justify-center text-white hover:bg-white/20"},"+")),e.createElement("span",{className:"text-sm text-white whitespace-nowrap"},"of ",t.length)),e.createElement("div",{className:"grid grid-cols-4 gap-2"},e.createElement(Ht,{variant:a===t.length?"default":"outline",onClick:()=>i(t.length),className:(a===t.length?"bg-white/20 text-white":"bg-transparent text-white/80 border-white/20")+" hover:bg-white/20 transition-colors"},"All"),[5,10,15].map((r=>e.createElement(Ht,{key:r,variant:a===r?"default":"outline",onClick:()=>i(Math.min(r,t.length)),disabled:r>t.length,className:`${a===r?"bg-white/20 text-white":"bg-transparent text-white/80 border-white/20"} hover:bg-white/20 transition-colors ${r>t.length?"opacity-50 cursor-not-allowed":""}`},r)))))),e.createElement(Ht,{onClick:N,className:"w-full py-6 bg-white/10 backdrop-blur-sm border border-white/20 font-bold"},"Start Game")))))}const Ku=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var qu,Yu;function Xu({words:t,onBack:r}){var n;const[o,a]=(0,e.useState)(!1),[i,s]=(0,e.useState)(5),[l,c]=(0,e.useState)([]),[u,d]=(0,e.useState)(0),[h,f]=(0,e.useState)(!1),[p,m]=(0,e.useState)(0),[g,v]=(0,e.useState)(0),[y,w]=(0,e.useState)(null),[b,x]=(0,e.useState)(""),[E,k]=(0,e.useState)(null),[S,T]=(0,e.useState)(!1),[_,A]=(0,e.useState)(0),[C,N]=(0,e.useState)(!1),[I,O]=(0,e.useState)(null);(0,e.useEffect)((()=>{if(o&&!h){const e=window.setInterval((()=>{A((e=>e+1))}),1e3);return O(e),()=>clearInterval(e)}return()=>{I&&clearInterval(I)}}),[o,h]),(0,e.useEffect)((()=>{o&&0===l.length&&(R(i),N(!0))}),[o]);const P=e=>{Fu(e)};function R(e){if(0===t.length)return[];const r=Math.min(e,t.length),n=jt([...t]).slice(0,r),o=t.map((e=>e.translation)),a=[];return n.forEach((e=>{const t=jt([qu.FLASH_CARD,qu.MULTIPLE_CHOICE,qu.FILL_IN_BLANK,qu.WORD_SCRAMBLE])[0];let r={type:t,word:e.word,translation:e.translation,context:Lu(e.context),isAnswered:!1,isCorrect:!1};switch(t){case qu.MULTIPLE_CHOICE:const{options:t,correctIndex:n}=D(e.translation,o);r.options=t,r.correctIndex=n;break;case qu.WORD_SCRAMBLE:r.scrambledWord=j(e.word)}a.push(r)})),jt(a)}const D=(e,t)=>{const r=jt(t.filter((t=>t&&e&&Ft(t)!==Ft(e)))).slice(0,3),n=jt([...r,e]),o=n.findIndex((t=>t&&e&&Ft(t)===Ft(e)));return{options:n,correctIndex:o}},L=Uu(_),M=()=>{Mu()},F=e=>{if(!S)return void T(!0);const t=[...l];t[u]=Object.assign(Object.assign({},t[u]),{isAnswered:!0,isCorrect:e}),e?(m((e=>e+1)),v((e=>e+1)),w("correct"),g>=2&&M()):(w("incorrect"),v(0)),c(t),setTimeout((()=>{B()}),1e3)},U=()=>{if(!b.trim())return;const e=l[u];let t=!1;if(e.type===qu.FILL_IN_BLANK){t=ju(b.trim(),e.translation)}else if(e.type===qu.WORD_SCRAMBLE){t=ju(b.trim(),e.word)}const r=[...l];r[u]=Object.assign(Object.assign({},r[u]),{isAnswered:!0,isCorrect:t,userAnswer:b}),t?(m((e=>e+1)),v((e=>e+1)),w("correct"),g>=2&&M()):(v(0),w("incorrect")),c(r),setTimeout((()=>{B()}),1500)},j=e=>{const t=e.split("");let r="";for(;t.length>0;){const e=Math.floor(Math.random()*t.length);r+=t[e],t.splice(e,1)}return r===e?j(e):r},B=()=>{x(""),k(null),T(!1),u<l.length-1?d((e=>e+1)):(f(!0),N(!1))},z=()=>{const e=[...l];e[u]=Object.assign(Object.assign({},e[u]),{isAnswered:!0,isCorrect:!1}),c(e),B()};if(!o)return e.createElement("div",{className:"fixed inset-0 bg-background text-foreground animated-gradient-bg overflow-auto"},e.createElement("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.15)_1px,transparent_0)] bg-[size:24px_24px] opacity-30"}),e.createElement("div",{className:"relative min-h-full flex flex-col p-4 sm:p-6 max-w-4xl mx-auto"},e.createElement("header",{className:"flex items-center justify-between mb-6 sticky top-0 z-10 bg-indigo-900/70 backdrop-blur-lg py-4 px-4 rounded-xl"},e.createElement(Ht,{variant:"ghost",size:"sm",onClick:r,className:"bg-white/10 backdrop-blur-sm border border-white/20"},e.createElement(Qc,{size:24})),e.createElement("h1",{className:"text-2xl md:text-3xl font-extrabold game-header-text"},"Combined Challenge"),e.createElement("div",{className:"w-10"})," "),e.createElement(zt,{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 md:p-8 relative overflow-hidden border border-white/20 shadow-lg"},e.createElement("div",{className:"text-center mb-8"},e.createElement("div",{className:"mb-6 flex justify-center"},e.createElement("div",{className:"w-20 h-20 flex items-center justify-center rounded-full bg-gradient-to-br from-blue-500/80 to-indigo-600/80 shadow-xl"},e.createElement("span",{className:"text-4xl",role:"img","aria-label":"Combined Challenge"},"🏆"))),e.createElement("h2",{className:"text-3xl font-bold bg-gradient-to-r from-blue-500 to-indigo-600 bg-clip-text text-transparent mb-2"},"Combined Challenge"),e.createElement("p",{className:"text-white/70 text-lg mb-8"},"How many words do you want to practice?")),e.createElement("div",{className:"grid grid-cols-5 gap-3 mb-6"},[1,5,10,15,20].map((r=>e.createElement(Ht,{key:r,variant:i===r?"default":"outline",onClick:()=>s(r),disabled:r>t.length,className:`\n                    h-14 text-lg font-semibold \n                    ${i===r?"bg-gradient-to-br from-blue-500/80 to-indigo-600/80":"bg-white/10 backdrop-blur-sm border border-white/20"}\n                  `},r)))),e.createElement("div",{className:"text-center mb-4"},e.createElement("span",{className:"text-sm text-white/70"},1===i?"Practice 1 word":`Practice ${i} words`)),e.createElement(Ht,{onClick:function(){const e=R(i);c(e),a(!0),d(0),A(0),m(0)},className:"w-full py-6 text-lg font-medium bg-gradient-to-br from-blue-500/80 to-indigo-600/80 hover:from-blue-600/80 hover:to-indigo-700/80",disabled:0===t.length},"Start Challenge"))));if(h){const t=l.length>0?Math.round(p/l.length*100):0;return e.createElement("div",{className:"fixed inset-0 bg-background text-foreground animated-gradient-bg overflow-auto"},e.createElement("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.15)_1px,transparent_0)] bg-[size:24px_24px] opacity-30"}),e.createElement("div",{className:"relative min-h-full flex flex-col p-4 sm:p-6 max-w-4xl mx-auto"},e.createElement("header",{className:"flex items-center justify-between mb-6 sticky top-0 z-10 bg-indigo-900/70 backdrop-blur-lg py-4 px-4 rounded-xl"},e.createElement(Ht,{variant:"ghost",size:"sm",onClick:r,className:"bg-white/10 backdrop-blur-sm border border-white/20"},e.createElement(Qc,{size:24})),e.createElement("h1",{className:"text-2xl md:text-3xl font-extrabold game-header-text"},"Challenge Complete!"),e.createElement("div",{className:"w-10"})," "),e.createElement("div",{className:"w-full max-w-lg mx-auto"},e.createElement("h2",{className:"text-5xl font-bold text-amber-300 text-center mb-12"},"Challenge Complete!"),e.createElement("div",{className:"grid grid-cols-2 gap-6 mb-8"},e.createElement("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 flex flex-col items-center shadow-lg border border-white/20"},e.createElement("div",{className:"text-4xl font-bold text-amber-300 mb-2"},p),e.createElement("div",{className:"text-sm text-white/80"},"Total Score")),e.createElement("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 flex flex-col items-center shadow-lg border border-white/20"},e.createElement("div",{className:"text-4xl font-bold text-amber-300 mb-2"},l.length),e.createElement("div",{className:"text-sm text-white/80"},"Questions")),e.createElement("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 flex flex-col items-center shadow-lg border border-white/20"},e.createElement("div",{className:"text-4xl font-bold text-amber-300 mb-2"},L),e.createElement("div",{className:"text-sm text-white/80"},"Time")),e.createElement("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 flex flex-col items-center shadow-lg border border-white/20"},e.createElement("div",{className:"text-4xl font-bold text-amber-300 mb-2"},t,"%"),e.createElement("div",{className:"text-sm text-white/80"},"Accuracy"))),e.createElement("div",{className:"grid grid-cols-2 gap-6"},e.createElement(Ht,{onClick:()=>{f(!1),a(!1),c([]),d(0),A(0),m(0)},className:"bg-gradient-to-br from-indigo-500/80 to-purple-600/80 hover:from-indigo-600/80 hover:to-purple-700/80 text-lg py-4 font-medium"},"Play Again"),e.createElement(Ht,{onClick:r,variant:"outline",className:"bg-white/10 backdrop-blur-sm border border-white/20 text-lg py-4 font-medium"},"Exit")))))}if(l.length>0&&u<l.length){const t=l[u];return e.createElement("div",{className:"fixed inset-0 bg-background text-foreground animated-gradient-bg overflow-auto"},e.createElement("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.15)_1px,transparent_0)] bg-[size:24px_24px] opacity-30"}),e.createElement("div",{className:"relative min-h-full flex flex-col p-4 sm:p-6 max-w-4xl mx-auto"},e.createElement("header",{className:"flex items-center justify-between mb-6 sticky top-0 z-10 bg-indigo-900/70 backdrop-blur-lg py-4 px-4 rounded-xl"},e.createElement(Ht,{variant:"ghost",size:"sm",onClick:r,className:"bg-white/10 backdrop-blur-sm border border-white/20"},e.createElement(Qc,{size:24})),e.createElement("div",{className:"flex-1 mx-4"},e.createElement(Cu,{value:0===l.length?0:u/l.length*100,className:"w-full"})),e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"flex items-center justify-center bg-white/10 backdrop-blur-sm border border-white/20 px-3 py-1.5 rounded-lg"},e.createElement(Zc,{size:16,className:"text-yellow-400 mr-1.5"}),e.createElement("span",null,p)),e.createElement("span",{className:"text-sm"},u+1,"/",l.length),e.createElement("div",{className:"ml-2 text-sm font-medium"},L))),t.type===qu.FLASH_CARD&&e.createElement(zt,{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 md:p-8 relative overflow-hidden border border-white/20 shadow-lg"},e.createElement("div",{className:"flex flex-col items-center"},e.createElement("div",{className:"w-full max-w-lg mx-auto bg-white/10 backdrop-blur-sm rounded-xl p-8 mb-6 shadow-lg border border-white/20"},e.createElement("div",{className:"text-center"},e.createElement("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-4"},S?t.translation:t.word),e.createElement(Ht,{variant:"ghost",size:"sm",onClick:()=>P(S?t.translation:t.word),className:"bg-white/10 backdrop-blur-sm w-10 h-10 rounded-full p-0 flex items-center justify-center mb-2 border border-white/20"},e.createElement(Iu,{size:20})),t.context&&e.createElement("p",{className:"text-white/80 text-sm mt-4 text-center italic"},'"',t.context,'"'))),S?e.createElement("div",{className:"w-full max-w-md"},e.createElement("div",{className:"grid grid-cols-2 gap-4"},e.createElement(Ht,{variant:"outline",onClick:()=>F(!1),className:"flex items-center justify-center gap-2 h-12 border-white/20 bg-white/10 backdrop-blur-sm"},e.createElement(Te,{className:"w-4 h-4 text-rose-500"}),e.createElement("span",null,"Didn't Know")),e.createElement(Ht,{onClick:()=>F(!0),className:"flex items-center justify-center gap-2 h-12 bg-gradient-to-br from-indigo-500/80 to-purple-600/80"},e.createElement(Ku,{className:"w-4 h-4 text-green-300"}),e.createElement("span",null,"Knew It")))):e.createElement("div",{className:"w-full max-w-md"},e.createElement(Ht,{variant:"default",className:"w-full py-6 text-lg font-medium bg-gradient-to-br from-indigo-500/80 to-purple-600/80 hover:from-indigo-600/80 hover:to-purple-700/80 shadow-lg",onClick:()=>T(!0)},"Show Translation"),e.createElement("div",{className:"flex justify-center mt-4"},e.createElement(Ht,{variant:"ghost",size:"sm",onClick:z,className:"text-white/60 hover:text-white text-sm"},"Skip"))))),t.type===qu.MULTIPLE_CHOICE&&e.createElement(zt,{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 md:p-8 relative overflow-hidden border border-white/20 shadow-lg"},e.createElement("div",{className:"text-center mb-8"},e.createElement("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-2"},t.word),e.createElement(Ht,{variant:"ghost",size:"sm",onClick:()=>P(t.word),className:"bg-white/10 backdrop-blur-sm w-10 h-10 rounded-full p-0 flex items-center justify-center mb-2 border border-white/20"},e.createElement(Iu,{size:20})),t.context&&e.createElement("p",{className:"text-white/80 text-sm mt-2 italic"},'"',t.context,'"')),e.createElement("div",{className:"grid grid-cols-1 gap-3"},null===(n=t.options)||void 0===n?void 0:n.map(((r,n)=>{const o=E===n,a=n===t.correctIndex,i=t.isAnswered;let s="outline";return i&&(a?s="default":o&&(s="ghost")),e.createElement(Ht,{key:n,variant:s,onClick:()=>!t.isAnswered&&(e=>{var t;const r=l[u],n=e===r.correctIndex;k(e);const o=[...l];o[u]=Object.assign(Object.assign({},o[u]),{isAnswered:!0,isCorrect:n,userAnswer:(null===(t=r.options)||void 0===t?void 0:t[e])||""}),n?(m((e=>e+1)),v((e=>e+1)),w("correct"),g>=2&&M()):(v(0),w("incorrect")),c(o),setTimeout((()=>{B()}),1500)})(n),disabled:t.isAnswered,className:"w-full p-4 text-left h-auto justify-start backdrop-blur-sm "+(i&&a?"bg-green-500/20 border-green-500/40 text-green-300":i&&o&&!a?"bg-rose-500/20 border-rose-500/40 text-rose-300":"bg-white/10 border-white/20 hover:bg-white/20")},r,i&&a&&e.createElement(Ku,{className:"ml-auto w-5 h-5 text-green-500"}),i&&o&&!a&&e.createElement(Te,{className:"ml-auto w-5 h-5 text-rose-500"}))}))),!t.isAnswered&&e.createElement("div",{className:"flex justify-center mt-4"},e.createElement(Ht,{variant:"ghost",size:"sm",onClick:z,className:"text-white/60 hover:text-white text-sm"},"Skip"))),t.type===qu.FILL_IN_BLANK&&e.createElement(zt,{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 md:p-8 relative overflow-hidden border border-white/20 shadow-lg"},e.createElement("div",{className:"text-center mb-6"},e.createElement("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-2"},t.word),e.createElement(Ht,{variant:"ghost",size:"sm",onClick:()=>P(t.word),className:"bg-white/10 backdrop-blur-sm w-10 h-10 rounded-full p-0 flex items-center justify-center mb-2 border border-white/20"},e.createElement(Iu,{size:20})),t.context&&e.createElement("p",{className:"text-white/80 text-sm mt-2 italic"},'"',t.context,'"')),e.createElement("div",{className:"flex flex-col"},e.createElement("div",{className:"mb-4"},e.createElement(Pu,{type:"text",value:b,onChange:e=>x(e.target.value),placeholder:"Type the translation...",disabled:t.isAnswered,className:"w-full p-4 text-lg border-white/20 bg-white/10 backdrop-blur-sm focus:border-indigo-500",onKeyDown:e=>{"Enter"===e.key&&b.trim()&&!t.isAnswered&&U()}})),t.isAnswered?e.createElement("div",{className:"p-4 rounded-xl bg-white/10 backdrop-blur-sm border "+(t.isCorrect?"border-green-500/40 text-green-300":"border-rose-500/40 text-rose-300")},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("p",{className:"font-medium"},t.isCorrect?"Correct!":"Incorrect"),t.isCorrect?e.createElement(Ku,{className:"w-5 h-5 text-green-500"}):e.createElement(Te,{className:"w-5 h-5 text-rose-500"})),!t.isCorrect&&e.createElement("p",{className:"text-sm mt-1"},"Correct answer: ",t.translation)):e.createElement("div",{className:"flex flex-col gap-3"},e.createElement(Ht,{onClick:U,disabled:!b.trim(),className:"w-full bg-gradient-to-br from-indigo-500/80 to-purple-600/80 hover:from-indigo-600/80 hover:to-purple-700/80"},"Check Answer"),e.createElement("div",{className:"flex justify-center"},e.createElement(Ht,{variant:"ghost",size:"sm",onClick:z,className:"text-white/60 hover:text-white text-sm"},"Skip"))))),t.type===qu.WORD_SCRAMBLE&&e.createElement(zt,{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 md:p-8 relative overflow-hidden border border-white/20 shadow-lg"},e.createElement("div",{className:"text-center mb-6"},e.createElement("div",{className:"flex items-center justify-center gap-2 mb-2"},e.createElement("h3",{className:"text-2xl md:text-3xl font-bold text-white"},t.scrambledWord),e.createElement(Ht,{variant:"ghost",size:"sm",onClick:()=>P(t.word),className:"bg-white/10 backdrop-blur-sm w-10 h-10 rounded-full p-0 flex items-center justify-center border border-white/20"},e.createElement(Iu,{size:20}))),e.createElement("p",{className:"text-lg mb-4"},"What's the unscrambled word?"),e.createElement("p",{className:"text-md text-white/80"},"Translation: ",e.createElement("strong",null,t.translation)),t.context&&e.createElement("p",{className:"text-white/80 text-sm mt-4 italic"},'"',t.context,'"')),e.createElement("div",{className:"flex flex-col"},e.createElement("div",{className:"mb-4"},e.createElement(Pu,{type:"text",value:b,onChange:e=>x(e.target.value),placeholder:"Type the unscrambled word...",disabled:t.isAnswered,className:"w-full p-4 text-lg border-white/20 bg-white/10 backdrop-blur-sm focus:border-indigo-500",onKeyDown:e=>{"Enter"===e.key&&b.trim()&&!t.isAnswered&&U()}})),t.isAnswered?e.createElement("div",{className:"p-4 rounded-xl bg-white/10 backdrop-blur-sm border "+(t.isCorrect?"border-green-500/40 text-green-300":"border-rose-500/40 text-rose-300")},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("p",{className:"font-medium"},t.isCorrect?"Correct!":"Incorrect"),t.isCorrect?e.createElement(Ku,{className:"w-5 h-5 text-green-500"}):e.createElement(Te,{className:"w-5 h-5 text-rose-500"})),!t.isCorrect&&e.createElement("p",{className:"text-sm mt-1"},"Correct answer: ",t.word)):e.createElement("div",{className:"flex flex-col gap-3"},e.createElement(Ht,{onClick:U,disabled:!b.trim(),className:"w-full bg-gradient-to-br from-indigo-500/80 to-purple-600/80 hover:from-indigo-600/80 hover:to-purple-700/80"},"Check Answer"),e.createElement("div",{className:"flex justify-center"},e.createElement(Ht,{variant:"ghost",size:"sm",onClick:z,className:"text-white/60 hover:text-white text-sm"},"Skip")))))))}return e.createElement("div",null,"Loading...")}(Yu=qu||(qu={})).FLASH_CARD="flash_card",Yu.MULTIPLE_CHOICE="multiple_choice",Yu.FILL_IN_BLANK="fill_in_blank",Yu.WORD_SCRAMBLE="word_scramble";const Qu=ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var Ju=r(473),Zu=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))};function ed({words:t,onBack:r}){var n;const[o,a]=(0,e.useState)(null),[i,s]=(0,e.useState)(null),[l,c]=(0,e.useState)(!1);(0,e.useEffect)((()=>{(()=>{Zu(this,void 0,void 0,(function*(){c(!0);try{if(console.log("WordStream Games: Starting authentication check"),!Ju.A.isAuthenticated())return console.warn("WordStream Games: No authenticated user found"),s("לא נמצא משתמש מחובר. אנא התחבר כדי לשחק במשחקים."),void c(!1);console.log("WordStream Games: User is authenticated, proceeding to games");try{Ju.A.verifyTokenAndRefresh().then((e=>{e||console.warn("WordStream Games: Token refresh failed, but continuing anyway")})).catch((e=>{console.warn("WordStream Games: Token refresh error, but continuing anyway:",e)}))}catch(e){console.warn("WordStream Games: Token refresh attempt failed, but continuing anyway:",e)}s(null)}catch(e){console.error("WordStream Games: Unhandled error during auth check:",e),Ju.A.getCurrentUser()?s(null):s("שגיאה לא צפויה בבדיקת האימות. אנא נסה להתחבר מחדש.")}finally{c(!1)}}))})()}),[]);const u=t.map(((e,t)=>Object.assign(Object.assign({},e),{id:`word-${t}`}))),d=[{id:"flash-cards",title:"Flash Cards",description:"Practice with interactive flash cards",component:Gu,color:"from-rose-500 to-pink-600",bgColor:"bg-rose-500/10",emoji:"🎴"},{id:"multiple-choice",title:"Multiple Choice",description:"Test your knowledge with various types of questions",component:Wu,color:"from-amber-500 to-orange-600",bgColor:"bg-amber-500/10",emoji:"✍️"},{id:"memory",title:"Memory Game",description:"Match pairs of words and translations",component:ru,color:"from-emerald-500 to-teal-600",bgColor:"bg-emerald-500/10",emoji:"🧩"},{id:"fill-in-blank",title:"Fill in the Blank",description:"Practice writing translations from memory",component:Hu,color:"from-cyan-500 to-sky-600",bgColor:"bg-cyan-500/10",emoji:"📝"},{id:"word-scramble",title:"Word Scramble",description:"Unscramble letters to find the correct word",component:$u,color:"from-purple-500 to-violet-600",bgColor:"bg-purple-500/10",emoji:"🔤"},{id:"combined-test",title:"Language Test",description:"Challenge yourself with all types of games in one test",component:Xu,color:"from-blue-500 to-indigo-600",bgColor:"bg-blue-500/10",emoji:"🏆"}];if(i)return e.createElement("div",{className:"fixed inset-0 bg-background text-foreground animated-gradient-bg z-50"},e.createElement("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.15)_1px,transparent_0)] bg-[size:24px_24px] opacity-30"}),e.createElement("div",{className:"relative min-h-full flex flex-col p-4 sm:p-6 max-w-4xl mx-auto"},e.createElement("header",{className:"flex items-center justify-between mb-6 sticky top-0 z-10 bg-indigo-900/70 dark:bg-indigo-900/70 backdrop-blur-lg py-4 px-4 rounded-xl"},e.createElement(Ht,{variant:"outline",size:"sm",onClick:r,className:"flex items-center justify-center bg-white/20 text-black dark:text-white border-white/30 hover:bg-white/40 hover:text-black dark:hover:text-white"},e.createElement(Qc,{size:20}),e.createElement("span",{className:"ml-1"},"Back")),e.createElement("h1",{className:"text-2xl md:text-3xl font-extrabold game-header-text"},"Games"),e.createElement("div",{className:"w-10"})," "),e.createElement("div",{className:"flex flex-col items-center justify-center h-64 p-8 bg-red-500/10 border border-red-300 dark:border-red-700 rounded-xl"},e.createElement("div",{className:"text-5xl mb-4 text-red-500"},e.createElement(Qu,{size:64})),e.createElement("h3",{className:"text-xl font-bold mb-2 text-center text-red-600 dark:text-red-400"},"Authentication Error"),e.createElement("p",{className:"text-center text-black dark:text-white mb-6"},i),e.createElement(Ht,{variant:"outline",onClick:r,className:"bg-white/20 text-black dark:text-white border-white/30 hover:bg-white/40 hover:text-black dark:hover:text-white"},"Back to Home"))));if(l)return e.createElement("div",{className:"fixed inset-0 bg-background text-foreground animated-gradient-bg z-50"},e.createElement("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.15)_1px,transparent_0)] bg-[size:24px_24px] opacity-30"}),e.createElement("div",{className:"relative min-h-full flex flex-col p-4 sm:p-6 max-w-4xl mx-auto"},e.createElement("header",{className:"flex items-center justify-between mb-6 sticky top-0 z-10 bg-indigo-900/70 dark:bg-indigo-900/70 backdrop-blur-lg py-4 px-4 rounded-xl"},e.createElement(Ht,{variant:"outline",size:"sm",onClick:r,className:"flex items-center justify-center bg-white/20 text-black dark:text-white border-white/30 hover:bg-white/40 hover:text-black dark:hover:text-white"},e.createElement(Qc,{size:20}),e.createElement("span",{className:"ml-1"},"Back")),e.createElement("h1",{className:"text-2xl md:text-3xl font-extrabold game-header-text"},"Games"),e.createElement("div",{className:"w-10"})," "),e.createElement("div",{className:"flex flex-col items-center justify-center h-64 p-8"},e.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mb-4"}),e.createElement("h3",{className:"text-xl font-bold mb-2 text-center text-black dark:text-white"},"Checking Permissions"),e.createElement("p",{className:"text-center text-black/70 dark:text-white/70 mb-6"},"Verifying your authentication status..."))));if(0===t.length)return e.createElement("div",{className:"fixed inset-0 bg-background text-foreground animated-gradient-bg z-50"},e.createElement("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.15)_1px,transparent_0)] bg-[size:24px_24px] opacity-30"}),e.createElement("div",{className:"relative min-h-full flex flex-col p-4 sm:p-6 max-w-4xl mx-auto"},e.createElement("header",{className:"flex items-center justify-between mb-6 sticky top-0 z-10 bg-indigo-900/70 dark:bg-indigo-900/70 backdrop-blur-lg py-4 px-4 rounded-xl"},e.createElement(Ht,{variant:"outline",size:"sm",onClick:r,className:"flex items-center justify-center bg-white/20 text-black dark:text-white border-white/30 hover:bg-white/40 hover:text-black dark:hover:text-white"},e.createElement(Qc,{size:20}),e.createElement("span",{className:"ml-1"},"Back")),e.createElement("h1",{className:"text-2xl md:text-3xl font-extrabold game-header-text"},"Games"),e.createElement("div",{className:"w-10"})," "),e.createElement("div",{className:"flex flex-col items-center justify-center h-64 p-8"},e.createElement("div",{className:"text-5xl mb-4"},"🔍"),e.createElement("h3",{className:"text-xl font-bold mb-2 text-center text-black dark:text-white"},"No Words to Practice"),e.createElement("p",{className:"text-center text-black/70 dark:text-white/70 mb-6"},"Your current filter doesn't include any words. Try changing your filter to see more words."),e.createElement(Ht,{variant:"outline",onClick:r,className:"bg-white/20 text-black dark:text-white border-white/30 hover:bg-white/40 hover:text-black dark:hover:text-white"},"Back to Words"))));if(t.length<4)return e.createElement("div",{className:"fixed inset-0 bg-background text-foreground animated-gradient-bg z-50"},e.createElement("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.15)_1px,transparent_0)] bg-[size:24px_24px] opacity-30"}),e.createElement("div",{className:"relative min-h-full flex flex-col p-4 sm:p-6 max-w-4xl mx-auto"},e.createElement("header",{className:"flex items-center justify-between mb-6 sticky top-0 z-10 bg-indigo-900/70 dark:bg-indigo-900/70 backdrop-blur-lg py-4 px-4 rounded-xl"},e.createElement(Ht,{variant:"outline",size:"sm",onClick:r,className:"flex items-center justify-center bg-white/20 text-black dark:text-white border-white/30 hover:bg-white/40 hover:text-black dark:hover:text-white"},e.createElement(Qc,{size:20}),e.createElement("span",{className:"ml-1"},"Back")),e.createElement("h1",{className:"text-2xl md:text-3xl font-extrabold game-header-text"},"Games"),e.createElement("div",{className:"w-10"})," "),e.createElement("div",{className:"flex flex-col items-center justify-center h-64 p-8"},e.createElement("div",{className:"text-5xl mb-4"},"📚"),e.createElement("h3",{className:"text-xl font-bold mb-2 text-center text-black dark:text-white"},"Not Enough Words"),e.createElement("p",{className:"text-center text-black/70 dark:text-white/70 mb-6"},"You need at least ",4," words to play games. Try changing your filter to include more words."),e.createElement(Ht,{variant:"outline",onClick:r,className:"bg-white/20 text-black dark:text-white border-white/30 hover:bg-white/40 hover:text-black dark:hover:text-white"},"Back to Words"))));if(!o)return e.createElement("div",{className:"fixed inset-0 bg-background text-foreground animated-gradient-bg z-50"},e.createElement("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.15)_1px,transparent_0)] bg-[size:24px_24px] opacity-30"}),e.createElement("div",{className:"relative min-h-full flex flex-col p-4 sm:p-6 max-w-4xl mx-auto"},e.createElement("header",{className:"flex items-center justify-between mb-6 sticky top-0 z-10 bg-indigo-900/70 dark:bg-indigo-900/70 backdrop-blur-lg py-4 px-4 rounded-xl"},e.createElement(Ht,{variant:"outline",size:"sm",onClick:r,className:"flex items-center justify-center bg-white/20 text-black dark:text-white border-white/30 hover:bg-white/40 hover:text-black dark:hover:text-white"},e.createElement(Qc,{size:20}),e.createElement("span",{className:"ml-1"},"Back")),e.createElement("h1",{className:"text-2xl md:text-3xl font-extrabold game-header-text"},"Choose Game"),e.createElement("div",{className:"w-10"})," "),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 p-4 pb-10 overflow-y-auto max-h-[calc(100vh-120px)]"},d.map((t=>e.createElement(zt,{key:t.id,className:"group relative overflow-hidden bg-white/10 backdrop-blur-sm border border-white/20 hover:shadow-xl transition-all duration-300 rounded-xl hover:scale-[1.02] cursor-pointer",onClick:()=>a(t.id)},e.createElement("div",{className:`absolute inset-0 ${t.bgColor} opacity-10 group-hover:opacity-20 transition-opacity duration-500 ease-out rounded-xl`}),e.createElement("div",{className:"absolute inset-0 bg-gradient-to-br opacity-0 group-hover:opacity-10 transition-opacity duration-500 ease-out rounded-xl",style:{background:`radial-gradient(circle at center, ${t.color.split(" ")[0]} 0%, transparent 70%)`}}),e.createElement("div",{className:"relative z-10 p-8"},e.createElement("div",{className:"flex items-center gap-3 mb-4"},e.createElement("span",{className:"text-3xl",role:"img","aria-label":t.title},t.emoji),e.createElement("h3",{className:`text-2xl font-bold bg-gradient-to-r ${t.color} bg-clip-text text-transparent`},t.title)),e.createElement("p",{className:"text-white/80 dark:text-white/80 group-hover:text-white dark:group-hover:text-white transition-colors duration-300 font-medium"},t.description))))))));const h=null===(n=d.find((e=>e.id===o)))||void 0===n?void 0:n.component;return h?"memory"===o?e.createElement(h,{words:u,onBack:()=>a(null),points:0}):e.createElement(h,{words:t,onBack:()=>a(null)}):null}const td=ye("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),rd=ye("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),nd=ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),od=ye("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);function ad(e,t=new Date){try{if(!e)return t;if("[object Object]"===e||"[object Object"===e||"string"==typeof e&&(e.includes("[object Object]")||e.includes("[object Object"))||e&&"function"==typeof e.toString&&("[object Object]"===e.toString()||"[object Object"===e.toString()))return console.log("WordStream: Intercepted [object Object] value in safeDate, using default date"),t;if(e instanceof Date)return isNaN(e.getTime())?t:e;if(e&&"object"==typeof e&&"function"==typeof e.toDate)try{const t=e.toDate();if(!isNaN(t.getTime()))return t}catch(e){}if(e&&"object"==typeof e&&"seconds"in e)try{const t="number"==typeof e.seconds?e.seconds:parseInt(String(e.seconds),10);if(!isNaN(t)){const e=new Date(1e3*t);if(!isNaN(e.getTime()))return e}}catch(e){}if("number"==typeof e){const r=e<1e10?new Date(1e3*e):new Date(e);return isNaN(r.getTime())||r.getFullYear()<1970||r.getFullYear()>2100?(console.warn("WordStream: Invalid timestamp value:",e),t):r}if("string"==typeof e){if(e.startsWith("[object")||e.includes("undefined")||e.includes("null"))return t;if(e.includes("seconds")&&e.includes("nanoseconds"))try{const t=JSON.parse(e);if(t.seconds)return new Date(1e3*t.seconds)}catch(e){}const r=new Date(e);return isNaN(r.getTime())?(console.warn("WordStream: Invalid date string format:",e),t):r.getFullYear()<1970||r.getFullYear()>2100?(console.warn("WordStream: Date value out of reasonable range:",e),t):r}if(e&&"object"==typeof e){const r=["time","date","timestamp","created","createdAt","modified","modifiedAt","updated","updatedAt"];for(const n of r)if(n in e&&null!==e[n]&&void 0!==e[n])try{return ad(e[n],t)}catch(e){}}const r=new Date(String(e));return isNaN(r.getTime())?(console.warn("WordStream: Failed to convert value to date:",e),t):r.getFullYear()<1970||r.getFullYear()>2100?(console.warn("WordStream: Converted date out of reasonable range:",e),t):r}catch(e){return console.warn("WordStream: Error parsing date value:",e),t}}function id(e,t="dd/MM/yyyy",r="N/A"){try{return ce(ad(e),t)}catch(e){return console.warn("WordStream: Error formatting date:",e),r}}var sd=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))};function ld({onBack:t,showGames:r}){const[n,o]=(0,e.useState)("overview"),[a,i]=(0,e.useState)(!0),[s,l]=(0,e.useState)(null),[c,u]=(0,e.useState)([]),[d,h]=(0,e.useState)({totalWords:0,todayWords:0,streak:0,lastActive:(new Date).toISOString()}),[f,p]=(0,e.useState)({mostPlayedGame:"None",mostSuccessfulGame:"None",totalGamesPlayed:0,averageScore:0,improvementRate:0,learningStreak:0,totalLearningDays:0,wordsLearned:0,wordsLearnedToday:0,lastActiveDate:(new Date).toISOString()}),[m,g]=(0,e.useState)([]),[v,y]=(0,e.useState)({}),[w,b]=(0,e.useState)(new Date);(0,e.useEffect)((()=>{console.log("StatisticsPage component mounted - refreshing data..."),k(!0);const e=setInterval((()=>{k(!1)}),15e3);return()=>{clearInterval(e)}}),[]);const x=()=>sd(this,void 0,void 0,(function*(){try{const e=yield new Promise(((e,t)=>{chrome.storage.sync.get(["stats"],(r=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e(r)}))}));if(!e.stats)return;const t=S(e.stats);if(t!==e.stats.streak){console.log(`Updating streak from ${e.stats.streak} to ${t}`);const r=Object.assign(Object.assign({},e.stats),{streak:t,lastActive:(new Date).toISOString()});chrome.storage.sync.set({stats:r},(()=>{chrome.runtime.lastError?console.error("Error saving updated streak to storage:",chrome.runtime.lastError):(console.log("Streak updated successfully"),k(!1))}))}}catch(e){console.error("Error refreshing streak:",e)}}));(0,e.useEffect)((()=>{x()}),[]);const E=(e,t)=>{const r={bestScore:0,totalGames:0,lastPlayed:(new Date).toISOString(),recentScores:[],totalCorrect:0,totalAttempted:0};if(!e)return r;if(r.totalGames="number"==typeof e.totalGames?e.totalGames:0,e.lastPlayed&&"string"==typeof e.lastPlayed)try{const t=new Date(e.lastPlayed);isNaN(t.getTime())||(r.lastPlayed=e.lastPlayed)}catch(r){console.warn(`Invalid date format for ${t} stats:`,e.lastPlayed)}return"memory"===t?"number"==typeof e.bestTime?r.bestScore=e.bestTime:"number"==typeof e.bestScore&&(r.bestScore=e.bestScore):"number"==typeof e.bestScore?r.bestScore=Math.min(100,e.bestScore):"number"==typeof e.bestPercentage?r.bestScore=Math.min(100,e.bestPercentage):"number"==typeof e.bestStreak&&(r.bestScore=e.bestStreak,r.highestStreak=e.bestStreak),Array.isArray(e.recentScores)&&(r.recentScores=e.recentScores.slice(0,10)),"number"==typeof e.totalCorrect&&(r.totalCorrect=e.totalCorrect),"number"==typeof e.totalAttempted&&(r.totalAttempted=e.totalAttempted),r},k=(...e)=>sd(this,[...e],void 0,(function*(e=!0){var t;console.log("Loading statistics..."),e&&i(!0),l(null);try{if(!(null===(t=null===chrome||void 0===chrome?void 0:chrome.runtime)||void 0===t?void 0:t.id))throw new Error("Chrome API not available");const e=()=>sd(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{function r(r,n){chrome.storage.sync.get(["memoryGameStats","flashCardsStats","multipleChoiceStats","combinedTestStats","wordScrambleStats","fillInBlankStats"],(o=>{var a,i,s,l,c,u;if(chrome.runtime.lastError)return void t(chrome.runtime.lastError);const d={};o.memoryGameStats&&(d.memory=E(o.memoryGameStats,"memory")),o.flashCardsStats&&(d.flashCards=E(o.flashCardsStats,"flashCards")),o.multipleChoiceStats&&(d.multipleChoice=E(o.multipleChoiceStats,"multipleChoice")),o.combinedTestStats&&(d.combinedTest=E(o.combinedTestStats,"combinedTest")),o.wordScrambleStats&&(d.wordScramble=E(o.wordScrambleStats,"wordScramble")),o.fillInBlankStats&&(d.fillInBlank=E(o.fillInBlankStats,"fillInBlank")),console.log("Game stats loaded successfully:",{memory:(null===(a=d.memory)||void 0===a?void 0:a.totalGames)||0,flashCards:(null===(i=d.flashCards)||void 0===i?void 0:i.totalGames)||0,multipleChoice:(null===(s=d.multipleChoice)||void 0===s?void 0:s.totalGames)||0,combinedTest:(null===(l=d.combinedTest)||void 0===l?void 0:l.totalGames)||0,wordScramble:(null===(c=d.wordScramble)||void 0===c?void 0:c.totalGames)||0,fillInBlank:(null===(u=d.fillInBlank)||void 0===u?void 0:u.totalGames)||0}),chrome.storage.sync.set({gameStats:d},(()=>{console.log("Saved consolidated game stats to storage")}));const h=Object.assign({totalWords:r.length,todayWords:n.todayWords||0,streak:n.streak||0,lastActive:n.lastActive||(new Date).toISOString()},n);h.totalWords!==r.length&&(console.log(`Updating totalWords from ${h.totalWords} to ${r.length}`),h.totalWords=r.length,chrome.storage.sync.set({stats:h},(()=>{console.log("Saved corrected stats to storage")}))),e({words:r,stats:h,gameStats:d})}))}chrome.storage.sync.get(["words_metadata","words_groups","words","stats"],(e=>{if(chrome.runtime.lastError)return void t(chrome.runtime.lastError);let n=[];e.words_metadata&&e.words_groups&&Array.isArray(e.words_groups)?(console.log("Loading words from grouped format..."),chrome.storage.sync.get(e.words_groups,(o=>{if(chrome.runtime.lastError)t(chrome.runtime.lastError);else{for(const t of e.words_groups)o[t]&&Array.isArray(o[t])&&n.push(...o[t]);console.log(`Loaded ${n.length} words from grouped format`),r(n,e.stats||{})}}))):e.words?(console.log("Loading words from old format..."),n=e.words||[],r(n,e.stats||{})):(console.log("No words found in storage"),r([],e.stats||{}))}))}))})),r=yield e(),n=r.words.map((e=>{if("object"==typeof e&&null!==e&&"originalWord"in e){const t=e;return{id:t.id||String(Math.random()),original:t.originalWord||t.original||"",translation:t.targetWord||t.translation||"",timestamp:t.timestamp||(new Date).toISOString(),language:t.sourceLanguage||t.language||"unknown"}}return e})),o=new Map,a=n.filter((e=>{if(!e.original||!e.language)return!0;const t=`${e.original.trim().toLowerCase()}-${e.language||"unknown"}`;if(o.has(t)){const r=ad(o.get(t).timestamp).getTime();return ad(e.timestamp).getTime()>r&&(o.set(t,e),!0)}return o.set(t,e),!0})),s=I(a),l=S(r.stats);h({totalWords:a.length,todayWords:s||r.stats.todayWords||0,streak:l||r.stats.streak||0,lastActive:r.stats.lastActive||(new Date).toISOString()}),r.stats.totalWords!==a.length&&(console.log(`Updating totalWords in storage from ${r.stats.totalWords} to ${a.length}`),chrome.storage.sync.set({stats:Object.assign(Object.assign({},r.stats),{totalWords:a.length})},(()=>{chrome.runtime.lastError?console.error("Error updating totalWords in storage:",chrome.runtime.lastError):console.log("Updated totalWords in storage successfully")})));const c=A(r.gameStats),u=C(r.gameStats);p({mostPlayedGame:T(r.gameStats),mostSuccessfulGame:_(r.gameStats),totalGamesPlayed:c,averageScore:u,improvementRate:N(r.gameStats),learningStreak:l||r.stats.streak||0,totalLearningDays:r.stats.totalDays||0,wordsLearned:n.length,wordsLearnedToday:s,lastActiveDate:r.stats.lastActive||(new Date).toISOString()}),y(r.gameStats),(()=>{const e=new Date,t=new Date;t.setDate(e.getDate()+(7-e.getDay()));const r=Object.keys(v).filter((e=>{const t=v[e];return t&&t.totalGames>0})).length,n=[{id:"1",title:"Word Master",description:"Learn 20 new words this week",target:20,current:d.todayWords,expires:t.toISOString(),completed:d.todayWords>=20,reward:"500 XP"},{id:"2",title:"Game Champion",description:"Play 5 different games",target:5,current:r,expires:t.toISOString(),completed:r>=5,reward:"300 XP"},{id:"3",title:"Perfect Score",description:"Get 100% in any game",target:1,current:Object.values(v).filter((e=>e&&100===e.bestScore)).length,expires:t.toISOString(),completed:Object.values(v).filter((e=>e&&100===e.bestScore)).length>0,reward:"400 XP"},{id:"4",title:"Daily Learner",description:"Maintain a 7-day learning streak",target:7,current:d.streak,expires:t.toISOString(),completed:d.streak>=7,reward:"750 XP"}];g(n)})(),i(!1)}catch(e){console.error("Failed to load statistics:",e),l("Failed to load statistics. Please try again."),i(!1),y({})}})),S=e=>{try{if(!e||!e.lastActive)return 0;const t=new Date;t.setHours(0,0,0,0);const r=ad(e.lastActive);if(r.setHours(0,0,0,0),r.getTime()===t.getTime())return e.streak||0;const n=new Date(t);return n.setDate(n.getDate()-1),r.getTime()===n.getTime()?(e.streak||0)+1:0}catch(e){return console.warn("WordStream: Error calculating streak:",e),0}},T=e=>{if(!e||0===Object.keys(e).length)return"None";let t=0,r="None";return Object.entries(e).forEach((([e,n])=>{n&&n.totalGames>t&&(t=n.totalGames,r=O(e))})),r},_=e=>{if(!e||0===Object.keys(e).length)return"None";let t=0,r="None";return Object.entries(e).forEach((([e,n])=>{"memory"!==e&&n&&n.bestScore>t&&(t=n.bestScore,r=O(e))})),"None"===r&&e.memory&&e.memory.totalGames>0&&(r="Memory"),r},A=e=>e?Object.values(e).reduce(((e,t)=>e+(t&&"number"==typeof t.totalGames?t.totalGames:0)),0):0,C=e=>{if(!e||0===Object.keys(e).length)return 0;let t=0,r=0;if(Object.entries(e).forEach((([e,n])=>{if("memory"!==e&&n&&n.totalGames>0&&"number"==typeof n.bestScore){const e=Math.min(100,n.bestScore);t+=e,r++}})),0===r)return 0;const n=t/r;return Math.round(Math.max(0,Math.min(100,n)))},N=e=>{if(!e||0===Object.keys(e).length)return 0;const t=A(e);if(t<2)return 0;const r=C(e);let n=.6*Math.min(t/20,1),o=r/100*.4;const a=Math.round(100*(n+o));return Math.max(0,Math.min(100,a))},I=e=>{const t=new Date;return t.setHours(0,0,0,0),e.filter((e=>{if(!e.timestamp)return!1;const r=ad(e.timestamp);return r.setHours(0,0,0,0),r.getTime()===t.getTime()})).length},O=e=>{switch(e){case"flashCards":return"Flash Cards";case"multipleChoice":return"Multiple Choice";case"wordScramble":return"Word Scramble";case"fillInBlank":return"Fill in Blank";case"combinedTest":return"Language Test";case"memory":return"Memory Game";default:return e.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase()))}};return e.createElement("div",{className:"p-5 overflow-y-auto max-h-[85vh] bg-white dark:bg-[#121827] text-slate-800 dark:text-white"},e.createElement("div",{className:"flex justify-between items-center mb-8"},e.createElement("button",{onClick:t,className:"flex items-center gap-1.5 text-sm font-medium text-slate-600 hover:text-slate-900 dark:text-white/80 dark:hover:text-white transition-colors"},e.createElement(we,{size:18}),e.createElement("span",null,"Back")),e.createElement("h2",{className:"text-xl font-bold text-center text-slate-900 dark:text-white"},"Statistics"),e.createElement("button",{onClick:()=>k(!0),className:"flex items-center gap-1.5 text-sm font-medium bg-blue-100 dark:bg-blue-900/40 px-2 py-1 rounded-md text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-800/40 transition-colors",title:"Refresh Statistics"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-refresh-cw animate-pulse"},e.createElement("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),e.createElement("path",{d:"M21 3v5h-5"}),e.createElement("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),e.createElement("path",{d:"M3 21v-5h5"})),e.createElement("span",null,"Refresh"))),a?e.createElement("div",{className:"flex justify-center items-center p-8"},e.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})):s?e.createElement("div",{className:"p-4 bg-red-100 border border-red-200 rounded-md text-center shadow-sm dark:bg-red-900/30 dark:border-red-800/50"},e.createElement("p",{className:"text-red-600 dark:text-red-300"},s),e.createElement("button",{onClick:()=>k(!0),className:"mt-2 px-4 py-1.5 bg-red-100 hover:bg-red-200 rounded-md transition-colors dark:bg-red-900/30 dark:hover:bg-red-800/40"},"Retry")):e.createElement("div",{className:"space-y-8"},e.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4"},e.createElement("div",{className:"bg-slate-50 dark:bg-[#1a2236] border border-slate-200 dark:border-slate-700/30 rounded-md p-4 flex flex-col items-center text-center shadow-sm"},e.createElement("div",{className:"text-sm font-medium text-slate-600 dark:text-white/70 mb-2"},"Total Words"),e.createElement("div",{className:"p-2 mb-1"},e.createElement("div",{className:"rounded-full h-11 w-11 flex items-center justify-center bg-blue-100 dark:bg-opacity-20",style:{background:"rgba(88, 101, 242, 0.12)",backdropFilter:"blur(4px)"}},e.createElement(td,{size:24,className:"text-blue-600 dark:text-[#8a96ff]"}))),e.createElement("div",{className:"text-3xl font-bold tracking-tight text-slate-900 dark:text-white"},d.totalWords),e.createElement("div",{className:"mt-1.5 text-sm text-slate-500 dark:text-white/60 flex items-center"},e.createElement(eu,{size:14,className:"mr-1 text-blue-500 dark:text-blue-400"}),d.todayWords," today")),e.createElement("div",{className:"bg-slate-50 dark:bg-[#1a2236] border border-slate-200 dark:border-slate-700/30 rounded-md p-4 flex flex-col items-center text-center shadow-sm"},e.createElement("div",{className:"text-sm font-medium text-slate-600 dark:text-white/70 mb-2"},"Games Played"),e.createElement("div",{className:"p-2 mb-1"},e.createElement("div",{className:"rounded-full h-11 w-11 flex items-center justify-center bg-purple-100 dark:bg-opacity-20",style:{background:"rgba(157, 78, 221, 0.12)",backdropFilter:"blur(4px)"}},e.createElement(rd,{size:24,className:"text-purple-600 dark:text-[#9d4edd]"}))),e.createElement("div",{className:"text-3xl font-bold tracking-tight text-slate-900 dark:text-white"},f.totalGamesPlayed),e.createElement("div",{className:"mt-1.5 text-sm text-slate-500 dark:text-white/60 flex items-center"},e.createElement(Zc,{size:14,className:"mr-1 text-purple-500 dark:text-purple-400"}),f.mostPlayedGame)),e.createElement("div",{className:"bg-slate-50 dark:bg-[#1a2236] border border-slate-200 dark:border-slate-700/30 rounded-md p-4 flex flex-col items-center text-center shadow-sm"},e.createElement("div",{className:"text-sm font-medium text-slate-600 dark:text-white/70 mb-2"},"Daily Streak"),e.createElement("div",{className:"p-2 mb-1"},e.createElement("div",{className:"rounded-full h-11 w-11 flex items-center justify-center bg-orange-100 dark:bg-opacity-20",style:{background:"rgba(255, 151, 71, 0.12)",backdropFilter:"blur(4px)"}},e.createElement(Se,{size:24,className:"text-orange-500 dark:text-[#ff9747]"}))),e.createElement("div",{className:"text-3xl font-bold tracking-tight text-slate-900 dark:text-white"},d.streak),e.createElement("div",{className:"mt-1.5 text-sm text-slate-500 dark:text-white/60 flex items-center"},e.createElement(Ae,{size:14,className:"mr-1 text-orange-500 dark:text-orange-400"}),id(d.lastActive,"PP")))),e.createElement("div",null,e.createElement("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white/90 mb-4"},"Game Performance"),e.createElement("div",{className:"space-y-3"},Object.entries(v).length>0?Object.entries(v).map((([t,r])=>{if(!r)return null;const n=(e=>{switch(e){case"memory":return{bg:"bg-blue-100 dark:bg-opacity-20",styleBg:"rgba(88, 101, 242, 0.12)",color:"text-blue-600 dark:text-[#8a96ff]"};case"flashCards":return{bg:"bg-green-100 dark:bg-opacity-20",styleBg:"rgba(87, 227, 137, 0.12)",color:"text-green-500 dark:text-[#57e389]"};case"multipleChoice":return{bg:"bg-yellow-100 dark:bg-opacity-20",styleBg:"rgba(255, 202, 40, 0.12)",color:"text-yellow-600 dark:text-[#ffca28]"};case"wordScramble":return{bg:"bg-purple-100 dark:bg-opacity-20",styleBg:"rgba(186, 104, 200, 0.12)",color:"text-purple-600 dark:text-[#ba68c8]"};case"fillInBlank":return{bg:"bg-pink-100 dark:bg-opacity-20",styleBg:"rgba(236, 64, 122, 0.12)",color:"text-pink-600 dark:text-[#ec407a]"};case"combinedTest":return{bg:"bg-orange-100 dark:bg-opacity-20",styleBg:"rgba(255, 151, 71, 0.12)",color:"text-orange-500 dark:text-[#ff9747]"};default:return{bg:"bg-gray-100 dark:bg-opacity-20",styleBg:"rgba(255, 255, 255, 0.12)",color:"text-gray-600 dark:text-white"}}})(t);return e.createElement("div",{key:t,className:"bg-white dark:bg-[#1a2236] border border-slate-200 dark:border-slate-700/30 rounded-md p-3 hover:shadow-md dark:hover:bg-[#1e2941] transition-all duration-300"},e.createElement("div",{className:"flex justify-between items-center"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:`rounded-full h-9 w-9 flex items-center justify-center ${n.bg}`,style:{background:n.styleBg,backdropFilter:"blur(4px)"}},"memory"===t&&e.createElement(Jc,{size:18,className:n.color}),"flashCards"===t&&e.createElement(eu,{size:18,className:n.color}),"multipleChoice"===t&&e.createElement(nd,{size:18,className:n.color}),"wordScramble"===t&&e.createElement(Zc,{size:18,className:n.color}),"fillInBlank"===t&&e.createElement(od,{size:18,className:n.color}),"combinedTest"===t&&e.createElement(rd,{size:18,className:n.color})),e.createElement("div",null,e.createElement("div",{className:"font-medium text-slate-800 dark:text-white"},O(t)),e.createElement("div",{className:"text-xs text-slate-500 dark:text-white/60"},"Played ",r.totalGames," time",1!==r.totalGames?"s":""))),e.createElement("div",{className:"text-right"},e.createElement("div",{className:"text-lg font-semibold text-slate-800 dark:text-white"},"memory"===t?r.bestScore?`${Math.floor(r.bestScore/60)}:${(r.bestScore%60).toString().padStart(2,"0")}`:"-":`${r.bestScore||0}%`),e.createElement("div",{className:"text-xs text-slate-500 dark:text-white/60"},"Best Score"))))})):e.createElement("div",{className:"bg-white dark:bg-[#1a2236] border border-slate-200 dark:border-slate-700/30 rounded-md text-center py-6 px-4 shadow-sm"},e.createElement("p",{className:"text-slate-500 dark:text-white/60 mb-4"},"No game statistics available yet"),e.createElement("button",{onClick:r,className:"px-4 py-2 rounded-md bg-primary hover:bg-primary/90 text-white transition-colors shadow"},"Start Playing"))))),e.createElement("div",{className:"mt-6 text-center text-slate-400 dark:text-white/40 text-xs"},"Last updated: ",ce(w,"HH:mm:ss")))}const cd=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ud=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var dd=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))};function hd(){return dd(this,void 0,void 0,(function*(){const e=yield chrome.runtime.sendMessage({action:"REFRESH_TOKEN",requiresAuth:!1});if(!e||!e.success)throw new Error("User authentication session expired");yield new Promise((e=>{function t(r,n){"local"===n&&r.wordstream_auth_state&&(chrome.storage.onChanged.removeListener(t),e())}setTimeout((()=>{chrome.storage.onChanged.removeListener(t),e()}),3e3);chrome.storage.onChanged.addListener(t)}));const{wordstream_auth_state:t}=yield chrome.storage.local.get("wordstream_auth_state");if("authenticated"!==t)throw new Error("User authentication session expired")}))}const fd=e=>dd(void 0,void 0,void 0,(function*(){try{if(!1===e.requiresAuth||"CHECK_AUTH"===e.action||"REFRESH_TOKEN"===e.action){if(!chrome.runtime)throw new Error("Chrome runtime not available");return yield chrome.runtime.sendMessage(e)}const{wordstream_auth_state:t}=yield chrome.storage.local.get("wordstream_auth_state");if("authenticated"!==t){console.log("WordStream: Auth state not authenticated, attempting refresh");try{yield hd(),console.log("WordStream: Auth refresh successful, continuing with message")}catch(e){throw console.error("WordStream: Auth refresh failed:",e),new Error("User authentication session expired")}}if(!chrome.runtime)throw new Error("Chrome runtime not available");const r=yield chrome.runtime.sendMessage(e);if(r&&"User authentication session expired"===r.error){console.error("WordStream: Authentication error from background");try{yield hd();const t=yield chrome.runtime.sendMessage(e);if(t&&"User authentication session expired"===t.error)throw yield chrome.storage.local.set({wordstream_auth_state:"unauthenticated"}),yield pd(!1),new Error("User authentication session expired");return t}catch(e){throw yield chrome.storage.local.set({wordstream_auth_state:"unauthenticated"}),yield pd(!1),new Error("User authentication session expired")}}return r}catch(e){throw console.error("WordStream: Error sending message to background:",e),e instanceof Error&&(e.message.includes("authentication")||e.message.includes("session expired"))&&(yield chrome.storage.local.set({wordstream_auth_state:"unauthenticated"}),yield pd(!1)),e}}));function pd(e){return dd(this,void 0,void 0,(function*(){try{if("undefined"==typeof window)return void console.log("WordStream: Skip window.postMessage in Service Worker environment");window.postMessage({source:"wordstream-extension",action:"AUTH_STATE_CHANGED",isAuthenticated:e},"*")}catch(e){console.error("WordStream: Error in local auth state notification:",e)}}))}function md(){return dd(this,void 0,void 0,(function*(){try{const e=yield fd({action:"GET_AUTH_STATE"});if("undefined"!=typeof localStorage)try{localStorage.setItem("wordstream_last_auth_check",JSON.stringify({data:e,timestamp:Date.now()}))}catch(e){console.warn("WordStream: Failed to cache auth state in localStorage",e)}return e||{isAuthenticated:!1,timestamp:Date.now()}}catch(e){if(console.warn("WordStream: Failed to get auth state from background:",e),"undefined"!=typeof localStorage)try{const e=localStorage.getItem("wordstream_last_auth_check");if(e){const t=JSON.parse(e);if(null==t?void 0:t.data)return console.log("WordStream: Using cached auth state from:",new Date(t.timestamp).toLocaleString()),t.data}}catch(e){console.warn("WordStream: Failed to read cached auth state",e)}return{isAuthenticated:!1,timestamp:Date.now()}}}))}function gd(){return dd(this,void 0,void 0,(function*(){try{return(yield fd({action:"getChats"}))||[]}catch(e){console.error("WordStream: Failed to get chats:",e);if(e instanceof Error&&(e.message.includes("authentication")||e.message.includes("auth")||e.message.includes("expired")||e.message.includes("session"))){console.log("WordStream: Authentication error detected, checking local storage for cached chats");try{return yield new Promise((e=>{chrome.storage.local.get(["chatsCache"],(t=>{t.chatsCache&&Array.isArray(t.chatsCache)?(console.log("WordStream: Found cached chats:",t.chatsCache.length),e(t.chatsCache)):(console.log("WordStream: No cached chats found"),e([]))}))}))}catch(e){console.error("WordStream: Failed to get cached chats:",e)}}return[]}}))}function vd(e){return dd(this,void 0,void 0,(function*(){try{return yield fd({action:"deleteChat",id:e})}catch(e){return console.error("WordStream: Failed to delete chat:",e),!1}}))}function yd(e){return dd(this,void 0,void 0,(function*(){try{return yield fd({action:"saveUserStats",data:e})}catch(e){return console.error("WordStream: Failed to save user stats:",e),!1}}))}function wd(e){try{const t="undefined"==typeof window;let r=()=>{};if(!t){const t=t=>{t.data&&"object"==typeof t.data&&(t.data.action||t.data.type)&&e(t.data)};window.addEventListener("message",t),r=()=>window.removeEventListener("message",t)}const n=(t,r)=>{if("local"===r)for(const r in t)if(r.startsWith("wordstream_")&&t[r].newValue)try{e({source:"storage",key:r,data:t[r].newValue,timestamp:(new Date).toISOString()})}catch(e){console.error("WordStream: Error processing storage change:",e)}},o=(t,r,n)=>(t&&(t.action||t.type)&&(e(t),n({received:!0})),!0);return chrome.storage.onChanged.addListener(n),chrome.runtime.onMessage.addListener(o),()=>{r(),chrome.storage.onChanged.removeListener(n),chrome.runtime.onMessage.removeListener(o)}}catch(e){return console.error("WordStream: Failed to setup broadcast listener:",e),()=>{}}}var bd=Object.defineProperty,xd=Object.defineProperties,Ed=Object.getOwnPropertyDescriptors,kd=Object.getOwnPropertySymbols,Sd=Object.prototype.hasOwnProperty,Td=Object.prototype.propertyIsEnumerable,_d=(e,t,r)=>t in e?bd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ad=(e,t)=>{for(var r in t||(t={}))Sd.call(t,r)&&_d(e,r,t[r]);if(kd)for(var r of kd(t))Td.call(t,r)&&_d(e,r,t[r]);return e},Cd=(e,t)=>xd(e,Ed(t)),Nd=(e,t,r)=>_d(e,"symbol"!=typeof t?t+"":t,r),Id=(e,t,r)=>new Promise(((n,o)=>{var a=e=>{try{s(r.next(e))}catch(e){o(e)}},i=e=>{try{s(r.throw(e))}catch(e){o(e)}},s=e=>e.done?n(e.value):Promise.resolve(e.value).then(a,i);s((r=r.apply(e,t)).next())}));class Od{constructor(e){Nd(this,"rootKey"),this.rootKey=e}}const Pd=Object.seal({});class Rd extends Od{constructor(e){super(e),Nd(this,"root"),this.root=new Array}prepForXml(e){var t;e.stack.push(this);const r=this.root.map((t=>t instanceof Od?t.prepForXml(e):t)).filter((e=>void 0!==e));return e.stack.pop(),{[this.rootKey]:r.length?1===r.length&&(null==(t=r[0])?void 0:t._attr)?r[0]:r:Pd}}addChildElement(e){return this.root.push(e),this}}class Dd extends Rd{prepForXml(e){const t=super.prepForXml(e);if(t&&("object"!=typeof t[this.rootKey]||Object.keys(t[this.rootKey]).length))return t}}class Ld extends Od{constructor(e){super("_attr"),Nd(this,"xmlKeys"),this.root=e}prepForXml(e){const t={};return Object.entries(this.root).forEach((([e,r])=>{if(void 0!==r){const n=this.xmlKeys&&this.xmlKeys[e]||e;t[n]=r}})),{_attr:t}}}class Md extends Od{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter((({value:e})=>void 0!==e)).reduce(((e,{key:t,value:r})=>Cd(Ad({},e),{[t]:r})),{})}}}class Fd extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var Ud="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function jd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bd,zd={},Wd={exports:{}};function Vd(){if(Bd)return Wd.exports;Bd=1;var e,t="object"==typeof Reflect?Reflect:null,r=t&&"function"==typeof t.apply?t.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};e=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var n=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}Wd.exports=o,Wd.exports.once=function(e,t){return new Promise((function(r,n){function o(r){e.removeListener(t,a),n(r)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",o),r([].slice.call(arguments))}p(e,t,a,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&p(e,"error",t,r)}(e,o,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function i(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function s(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var o,a,l,c;if(i(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),l=a[t]),void 0===l)l=a[t]=r,++e._eventsCount;else if("function"==typeof l?l=a[t]=n?[r,l]:[l,r]:n?l.unshift(r):l.push(r),(o=s(e))>0&&l.length>o&&!l.warned){l.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=l.length,c=u,console&&console.warn&&console.warn(c)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=c.bind(n);return o.listener=r,n.wrapFn=o,o}function d(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(o):f(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function f(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function p(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(a){n.once&&e.removeEventListener(t,o),r(a)}))}}return Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return s(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,a=this._events;if(void 0!==a)o=o&&void 0===a.error;else if(!o)return!1;if(o){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var l=a[e];if(void 0===l)return!1;if("function"==typeof l)r(l,this,t);else{var c=l.length,u=f(l,c);for(n=0;n<c;++n)r(u[n],this,t)}return!0},o.prototype.addListener=function(e,t){return l(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return l(this,e,t,!0)},o.prototype.once=function(e,t){return i(t),this.on(e,u(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return i(t),this.prependListener(e,u(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,o,a,s;if(i(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){s=r[a].listener,o=a;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,a=Object.keys(r);for(n=0;n<a.length;++n)"removeListener"!==(o=a[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},Wd.exports}var Hd,$d={exports:{}};function Gd(){return Hd||(Hd=1,"function"==typeof Object.create?$d.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:$d.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}),$d.exports}function Kd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qd,Yd,Xd={exports:{}},Qd=Xd.exports={};function Jd(){throw new Error("setTimeout has not been defined")}function Zd(){throw new Error("clearTimeout has not been defined")}function eh(e){if(qd===setTimeout)return setTimeout(e,0);if((qd===Jd||!qd)&&setTimeout)return qd=setTimeout,setTimeout(e,0);try{return qd(e,0)}catch(t){try{return qd.call(null,e,0)}catch(t){return qd.call(this,e,0)}}}!function(){try{qd="function"==typeof setTimeout?setTimeout:Jd}catch(e){qd=Jd}try{Yd="function"==typeof clearTimeout?clearTimeout:Zd}catch(e){Yd=Zd}}();var th,rh=[],nh=!1,oh=-1;function ah(){nh&&th&&(nh=!1,th.length?rh=th.concat(rh):oh=-1,rh.length&&ih())}function ih(){if(!nh){var e=eh(ah);nh=!0;for(var t=rh.length;t;){for(th=rh,rh=[];++oh<t;)th&&th[oh].run();oh=-1,t=rh.length}th=null,nh=!1,function(e){if(Yd===clearTimeout)return clearTimeout(e);if((Yd===Zd||!Yd)&&clearTimeout)return Yd=clearTimeout,clearTimeout(e);try{return Yd(e)}catch(t){try{return Yd.call(null,e)}catch(t){return Yd.call(this,e)}}}(e)}}function sh(e,t){this.fun=e,this.array=t}function lh(){}Qd.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];rh.push(new sh(e,t)),1!==rh.length||nh||eh(ih)},sh.prototype.run=function(){this.fun.apply(null,this.array)},Qd.title="browser",Qd.browser=!0,Qd.env={},Qd.argv=[],Qd.version="",Qd.versions={},Qd.on=lh,Qd.addListener=lh,Qd.once=lh,Qd.off=lh,Qd.removeListener=lh,Qd.removeAllListeners=lh,Qd.emit=lh,Qd.prependListener=lh,Qd.prependOnceListener=lh,Qd.listeners=function(e){return[]},Qd.binding=function(e){throw new Error("process.binding is not supported")},Qd.cwd=function(){return"/"},Qd.chdir=function(e){throw new Error("process.chdir is not supported")},Qd.umask=function(){return 0};const ch=Kd(Xd.exports);var uh,dh;function hh(){return dh?uh:(dh=1,uh=Vd().EventEmitter)}var fh,ph={},mh={};var gh,vh,yh={};function wh(){return vh||(vh=1,function(e){var t=function(){if(fh)return mh;fh=1,mh.byteLength=function(e){var t=a(e),r=t[0],n=t[1];return 3*(r+n)/4-n},mh.toByteArray=function(e){var n,o,i=a(e),s=i[0],l=i[1],c=new r(function(e,t,r){return 3*(t+r)/4-r}(0,s,l)),u=0,d=l>0?s-4:s;for(o=0;o<d;o+=4)n=t[e.charCodeAt(o)]<<18|t[e.charCodeAt(o+1)]<<12|t[e.charCodeAt(o+2)]<<6|t[e.charCodeAt(o+3)],c[u++]=n>>16&255,c[u++]=n>>8&255,c[u++]=255&n;return 2===l&&(n=t[e.charCodeAt(o)]<<2|t[e.charCodeAt(o+1)]>>4,c[u++]=255&n),1===l&&(n=t[e.charCodeAt(o)]<<10|t[e.charCodeAt(o+1)]<<4|t[e.charCodeAt(o+2)]>>2,c[u++]=n>>8&255,c[u++]=255&n),c},mh.fromByteArray=function(t){for(var r,n=t.length,o=n%3,a=[],s=16383,l=0,c=n-o;l<c;l+=s)a.push(i(t,l,l+s>c?c:l+s));return 1===o?(r=t[n-1],a.push(e[r>>2]+e[r<<4&63]+"==")):2===o&&(r=(t[n-2]<<8)+t[n-1],a.push(e[r>>10]+e[r>>4&63]+e[r<<2&63]+"=")),a.join("")};for(var e=[],t=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)e[o]=n[o],t[n.charCodeAt(o)]=o;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function i(t,r,n){for(var o,a,i=[],s=r;s<n;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),i.push(e[(a=o)>>18&63]+e[a>>12&63]+e[a>>6&63]+e[63&a]);return i.join("")}return t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63,mh}(),r=(gh||(gh=1,yh.read=function(e,t,r,n,o){var a,i,s=8*o-n-1,l=(1<<s)-1,c=l>>1,u=-7,d=r?o-1:0,h=r?-1:1,f=e[t+d];for(d+=h,a=f&(1<<-u)-1,f>>=-u,u+=s;u>0;a=256*a+e[t+d],d+=h,u-=8);for(i=a&(1<<-u)-1,a>>=-u,u+=n;u>0;i=256*i+e[t+d],d+=h,u-=8);if(0===a)a=1-c;else{if(a===l)return i?NaN:1/0*(f?-1:1);i+=Math.pow(2,n),a-=c}return(f?-1:1)*i*Math.pow(2,a-n)},yh.write=function(e,t,r,n,o,a){var i,s,l,c=8*a-o-1,u=(1<<c)-1,d=u>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:a-1,p=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,i=u):(i=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-i))<1&&(i--,l*=2),(t+=i+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(i++,l/=2),i+d>=u?(s=0,i=u):i+d>=1?(s=(t*l-1)*Math.pow(2,o),i+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),i=0));o>=8;e[r+f]=255&s,f+=p,s/=256,o-=8);for(i=i<<o|s,c+=o;c>0;e[r+f]=255&i,f+=p,i/=256,c-=8);e[r+f-p]|=128*m}),yh),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=i,e.SlowBuffer=function(e){+e!=e&&(e=0);return i.alloc(+e)},e.INSPECT_MAX_BYTES=50;var o=2147483647;function a(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,i.prototype),t}function i(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return s(e,t,r)}function s(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!i.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|f(e,t),n=a(r),o=n.write(e,t);o!==r&&(n=n.slice(0,o));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(j(e,Uint8Array)){var t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return u(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(j(e,ArrayBuffer)||e&&j(e.buffer,ArrayBuffer))return d(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(j(e,SharedArrayBuffer)||e&&j(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return i.from(n,t,r);var o=function(e){if(i.isBuffer(e)){var t=0|h(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||B(e.length)?a(0):u(e);if("Buffer"===e.type&&Array.isArray(e.data))return u(e.data)}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return i.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return l(e),a(e<0?0:0|h(e))}function u(e){for(var t=e.length<0?0:0|h(e.length),r=a(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,i.prototype),n}function h(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function f(e,t){if(i.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||j(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return M(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return F(e).length;default:if(o)return n?-1:M(e).length;t=(""+t).toLowerCase(),o=!0}}function p(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return _(this,t,r);case"latin1":case"binary":return A(this,t,r);case"base64":return k(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),B(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=i.from(t,n)),i.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,o){var a,i=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;i=2,s/=2,l/=2,r/=2}function c(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(o){var u=-1;for(a=r;a<s;a++)if(c(e,a)===c(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===l)return u*i}else-1!==u&&(a-=a-u),u=-1}else for(r+l>s&&(r=s-l),a=r;a>=0;a--){for(var d=!0,h=0;h<l;h++)if(c(e,a+h)!==c(t,h)){d=!1;break}if(d)return a}return-1}function y(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var a=t.length;n>a/2&&(n=a/2);for(var i=0;i<n;++i){var s=parseInt(t.substr(2*i,2),16);if(B(s))return i;e[r+i]=s}return i}function w(e,t,r,n){return U(M(t,e.length-r),e,r,n)}function b(e,t,r,n){return U(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function x(e,t,r,n){return U(F(t),e,r,n)}function E(e,t,r,n){return U(function(e,t){for(var r,n,o,a=[],i=0;i<e.length&&!((t-=2)<0);++i)n=(r=e.charCodeAt(i))>>8,o=r%256,a.push(o),a.push(n);return a}(t,e.length-r),e,r,n)}function k(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function S(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var a,i,s,l,c=e[o],u=null,d=c>239?4:c>223?3:c>191?2:1;if(o+d<=r)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(a=e[o+1]))&&(l=(31&c)<<6|63&a)>127&&(u=l);break;case 3:a=e[o+1],i=e[o+2],128==(192&a)&&128==(192&i)&&(l=(15&c)<<12|(63&a)<<6|63&i)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:a=e[o+1],i=e[o+2],s=e[o+3],128==(192&a)&&128==(192&i)&&128==(192&s)&&(l=(15&c)<<18|(63&a)<<12|(63&i)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),o+=d}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=T));return r}(n)}e.kMaxLength=o,i.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),i.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),i.poolSize=8192,i.from=function(e,t,r){return s(e,t,r)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},i.allocUnsafe=function(e){return c(e)},i.allocUnsafeSlow=function(e){return c(e)},i.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==i.prototype},i.compare=function(e,t){if(j(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),j(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,o=0,a=Math.min(r,n);o<a;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=i.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var a=e[r];if(j(a,Uint8Array))o+a.length>n.length?i.from(a).copy(n,o):Uint8Array.prototype.set.call(n,a,o);else{if(!i.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,o)}o+=a.length}return n},i.byteLength=f,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},i.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):p.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(i.prototype[n]=i.prototype.inspect),i.prototype.compare=function(e,t,r,n,o){if(j(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),!i.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(o>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),l=Math.min(a,s),c=this.slice(n,o),u=e.slice(t,r),d=0;d<l;++d)if(c[d]!==u[d]){a=c[d],s=u[d];break}return a<s?-1:s<a?1:0},i.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},i.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},i.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},i.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":case"latin1":case"binary":return b(this,e,t,r);case"base64":return x(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function _(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function A(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function C(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",a=t;a<r;++a)o+=z[e[a]];return o}function N(e,t,r){for(var n=e.slice(t,r),o="",a=0;a<n.length-1;a+=2)o+=String.fromCharCode(n[a]+256*n[a+1]);return o}function I(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,r,n,o,a){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function P(e,t,r,n,o,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function R(e,t,n,o,a){return t=+t,n>>>=0,a||P(e,0,n,4),r.write(e,t,n,o,23,4),n+4}function D(e,t,n,o,a){return t=+t,n>>>=0,a||P(e,0,n,8),r.write(e,t,n,o,52,8),n+8}i.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,i.prototype),n},i.prototype.readUintLE=i.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=this[e],o=1,a=0;++a<t&&(o*=256);)n+=this[e+a]*o;return n},i.prototype.readUintBE=i.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},i.prototype.readUint8=i.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=this[e],o=1,a=0;++a<t&&(o*=256);)n+=this[e+a]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},i.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=t,o=1,a=this[e+--n];n>0&&(o*=256);)a+=this[e+--n]*o;return a>=(o*=128)&&(a-=Math.pow(2,8*t)),a},i.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),r.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),r.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),r.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),r.read(this,e,!1,52,8)},i.prototype.writeUintLE=i.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||O(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,a=0;for(this[t]=255&e;++a<r&&(o*=256);)this[t+a]=e/o&255;return t+r},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||O(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+r},i.prototype.writeUint8=i.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,255,0),this[t]=255&e,t+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*r-1);O(this,e,t,r,o-1,-o)}var a=0,i=1,s=0;for(this[t]=255&e;++a<r&&(i*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/i|0)-s&255;return t+r},i.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*r-1);O(this,e,t,r,o-1,-o)}var a=r-1,i=1,s=0;for(this[t+a]=255&e;--a>=0&&(i*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/i|0)-s&255;return t+r},i.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},i.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeFloatLE=function(e,t,r){return R(this,e,t,!0,r)},i.prototype.writeFloatBE=function(e,t,r){return R(this,e,t,!1,r)},i.prototype.writeDoubleLE=function(e,t,r){return D(this,e,t,!0,r)},i.prototype.writeDoubleBE=function(e,t,r){return D(this,e,t,!1,r)},i.prototype.copy=function(e,t,r,n){if(!i.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),o},i.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!i.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var o=e.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var s=i.isBuffer(e)?e:i.from(e,n),l=s.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-t;++a)this[a+t]=s[a%l]}return this};var L=/[^+/0-9A-Za-z-_]/g;function M(e,t){var r;t=t||1/0;for(var n=e.length,o=null,a=[],i=0;i<n;++i){if((r=e.charCodeAt(i))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(i+1===n){(t-=3)>-1&&a.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&a.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function F(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function j(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function B(e){return e!=e}var z=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,o=0;o<16;++o)t[n+o]=e[r]+e[o];return t}()}(ph)),ph}var bh,xh,Eh,kh,Sh,Th,_h,Ah,Ch,Nh,Ih,Oh,Ph,Rh,Dh,Lh,Mh,Fh,Uh,jh,Bh,zh,Wh,Vh,Hh,$h,Gh,Kh,qh,Yh,Xh={},Qh={};function Jh(){return xh?bh:(xh=1,bh=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0})}function Zh(){if(kh)return Eh;kh=1;var e=Jh();return Eh=function(){return e()&&!!Symbol.toStringTag}}function ef(){return Th?Sh:(Th=1,Sh=Error)}function tf(){return Ah?_h:(Ah=1,_h=EvalError)}function rf(){return Nh?Ch:(Nh=1,Ch=RangeError)}function nf(){return Oh?Ih:(Oh=1,Ih=ReferenceError)}function of(){return Rh?Ph:(Rh=1,Ph=SyntaxError)}function af(){return Lh?Dh:(Lh=1,Dh=TypeError)}function sf(){return Fh?Mh:(Fh=1,Mh=URIError)}function lf(){if(zh)return Bh;zh=1;var e={__proto__:null,foo:{}},t=Object;return Bh=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof t)}}function cf(){if($h)return Hh;$h=1;var e=function(){if(Vh)return Wh;Vh=1;var e=Object.prototype.toString,t=Math.max,r=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r};return Wh=function(n){var o=this;if("function"!=typeof o||"[object Function]"!==e.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var a,i=function(e){for(var t=[],r=1,n=0;r<e.length;r+=1,n+=1)t[n]=e[r];return t}(arguments),s=t(0,o.length-i.length),l=[],c=0;c<s;c++)l[c]="$"+c;if(a=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r}(l,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof a){var e=o.apply(this,r(i,arguments));return Object(e)===e?e:this}return o.apply(n,r(i,arguments))})),o.prototype){var u=function(){};u.prototype=o.prototype,a.prototype=new u,u.prototype=null}return a},Wh}();return Hh=Function.prototype.bind||e}function uf(){if(Kh)return Gh;Kh=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=cf();return Gh=r.call(e,t)}function df(){if(Yh)return qh;var e;Yh=1;var t=ef(),r=tf(),n=rf(),o=nf(),a=of(),i=af(),s=sf(),l=Function,c=function(e){try{return l('"use strict"; return ('+e+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(e){u=null}var d=function(){throw new i},h=u?function(){try{return d}catch(e){try{return u(arguments,"callee").get}catch(e){return d}}}():d,f=function(){if(jh)return Uh;jh=1;var e="undefined"!=typeof Symbol&&Symbol,t=Jh();return Uh=function(){return"function"==typeof e&&"function"==typeof Symbol&&"symbol"==typeof e("foo")&&"symbol"==typeof Symbol("bar")&&t()}}()(),p=lf()(),m=Object.getPrototypeOf||(p?function(e){return e.__proto__}:null),g={},v="undefined"!=typeof Uint8Array&&m?m(Uint8Array):e,y={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?e:ArrayBuffer,"%ArrayIteratorPrototype%":f&&m?m([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":g,"%AsyncGenerator%":g,"%AsyncGeneratorFunction%":g,"%AsyncIteratorPrototype%":g,"%Atomics%":"undefined"==typeof Atomics?e:Atomics,"%BigInt%":"undefined"==typeof BigInt?e:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?e:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":r,"%Float32Array%":"undefined"==typeof Float32Array?e:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?e:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?e:FinalizationRegistry,"%Function%":l,"%GeneratorFunction%":g,"%Int8Array%":"undefined"==typeof Int8Array?e:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?e:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f&&m?m(m([][Symbol.iterator]())):e,"%JSON%":"object"==typeof JSON?JSON:e,"%Map%":"undefined"==typeof Map?e:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f&&m?m((new Map)[Symbol.iterator]()):e,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?e:Promise,"%Proxy%":"undefined"==typeof Proxy?e:Proxy,"%RangeError%":n,"%ReferenceError%":o,"%Reflect%":"undefined"==typeof Reflect?e:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?e:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f&&m?m((new Set)[Symbol.iterator]()):e,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f&&m?m(""[Symbol.iterator]()):e,"%Symbol%":f?Symbol:e,"%SyntaxError%":a,"%ThrowTypeError%":h,"%TypedArray%":v,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?e:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?e:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?e:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?e:Uint32Array,"%URIError%":s,"%WeakMap%":"undefined"==typeof WeakMap?e:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?e:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?e:WeakSet};if(m)try{null.error}catch(e){var w=m(m(e));y["%Error.prototype%"]=w}var b=function e(t){var r;if("%AsyncFunction%"===t)r=c("async function () {}");else if("%GeneratorFunction%"===t)r=c("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=c("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&m&&(r=m(o.prototype))}return y[t]=r,r},x={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},E=cf(),k=uf(),S=E.call(Function.call,Array.prototype.concat),T=E.call(Function.apply,Array.prototype.splice),_=E.call(Function.call,String.prototype.replace),A=E.call(Function.call,String.prototype.slice),C=E.call(Function.call,RegExp.prototype.exec),N=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,I=/\\(\\)?/g,O=function(e,t){var r,n=e;if(k(x,n)&&(n="%"+(r=x[n])[0]+"%"),k(y,n)){var o=y[n];if(o===g&&(o=b(n)),void 0===o&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new a("intrinsic "+e+" does not exist!")};return qh=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');if(null===C(/^%?[^%]*%?$/,e))throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=A(e,0,1),r=A(e,-1);if("%"===t&&"%"!==r)throw new a("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new a("invalid intrinsic syntax, expected opening `%`");var n=[];return _(e,N,(function(e,t,r,o){n[n.length]=r?_(o,I,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",o=O("%"+n+"%",t),s=o.name,l=o.value,c=!1,d=o.alias;d&&(n=d[0],T(r,S([0,1],d)));for(var h=1,f=!0;h<r.length;h+=1){var p=r[h],m=A(p,0,1),g=A(p,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new a("property names with quotes must have matching quotes");if("constructor"!==p&&f||(c=!0),k(y,s="%"+(n+="."+p)+"%"))l=y[s];else if(null!=l){if(!(p in l)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&h+1>=r.length){var v=u(l,p);l=(f=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:l[p]}else f=k(l,p),l=l[p];f&&!c&&(y[s]=l)}}return l},qh}var hf,ff,pf,mf,gf,vf,yf,wf,bf,xf,Ef,kf,Sf,Tf,_f,Af,Cf,Nf,If,Of,Pf,Rf,Df,Lf,Mf,Ff,Uf,jf,Bf,zf,Wf,Vf,Hf,$f,Gf,Kf,qf,Yf={exports:{}};function Xf(){if(ff)return hf;ff=1;var e=df()("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch(t){e=!1}return hf=e}function Qf(){if(mf)return pf;mf=1;var e=df()("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch(t){e=null}return pf=e}function Jf(){if(vf)return gf;vf=1;var e=Xf(),t=of(),r=af(),n=Qf();return gf=function(o,a,i){if(!o||"object"!=typeof o&&"function"!=typeof o)throw new r("`obj` must be an object or a function`");if("string"!=typeof a&&"symbol"!=typeof a)throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new r("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],d=!!n&&n(o,a);if(e)e(o,a,{configurable:null===c&&d?d.configurable:!c,enumerable:null===s&&d?d.enumerable:!s,value:i,writable:null===l&&d?d.writable:!l});else{if(!u&&(s||l||c))throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");o[a]=i}},gf}function Zf(){if(wf)return yf;wf=1;var e=Xf(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return 1!==e([],"length",{value:1}).length}catch(e){return!0}},yf=t}function ep(){if(xf)return bf;xf=1;var e=df(),t=Jf(),r=Zf()(),n=Qf(),o=af(),a=e("%Math.floor%");return bf=function(e,i){if("function"!=typeof e)throw new o("`fn` is not a function");if("number"!=typeof i||i<0||i>4294967295||a(i)!==i)throw new o("`length` must be a positive 32-bit integer");var s=arguments.length>2&&!!arguments[2],l=!0,c=!0;if("length"in e&&n){var u=n(e,"length");u&&!u.configurable&&(l=!1),u&&!u.writable&&(c=!1)}return(l||c||!s)&&(r?t(e,"length",i,!0,!0):t(e,"length",i)),e},bf}function tp(){return Ef||(Ef=1,function(e){var t=cf(),r=df(),n=ep(),o=af(),a=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||t.call(i,a),l=Xf(),c=r("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new o("a function is required");var r=s(t,i,arguments);return n(r,1+c(0,e.length-(arguments.length-1)),!0)};var u=function(){return s(t,a,arguments)};l?l(e.exports,"apply",{value:u}):e.exports.apply=u}(Yf)),Yf.exports}function rp(){if(Sf)return kf;Sf=1;var e=df(),t=tp(),r=t(e("String.prototype.indexOf"));return kf=function(n,o){var a=e(n,!!o);return"function"==typeof a&&r(n,".prototype.")>-1?t(a):a}}function np(){if(Cf)return Af;Cf=1;var e,t=Object.prototype.toString,r=Function.prototype.toString,n=/^\s*(?:function)?\*/,o=Zh()(),a=Object.getPrototypeOf;return Af=function(i){if("function"!=typeof i)return!1;if(n.test(r.call(i)))return!0;if(!o)return"[object GeneratorFunction]"===t.call(i);if(!a)return!1;if(void 0===e){var s=function(){if(!o)return!1;try{return Function("return function*() {}")()}catch(e){}}();e=!!s&&a(s)}return a(i)===e}}function op(){if(Pf)return Of;Pf=1;var e=function(){if(If)return Nf;If=1;var e,t,r=Function.prototype.toString,n="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof n&&"function"==typeof Object.defineProperty)try{e=Object.defineProperty({},"length",{get:function(){throw t}}),t={},n((function(){throw 42}),null,e)}catch(e){e!==t&&(n=null)}else n=null;var o=/^\s*class\b/,a=function(e){try{var t=r.call(e);return o.test(t)}catch(e){return!1}},i=function(e){try{return!a(e)&&(r.call(e),!0)}catch(e){return!1}},s=Object.prototype.toString,l="function"==typeof Symbol&&!!Symbol.toStringTag,c=!(0 in[,]),u=function(){return!1};if("object"==typeof document){var d=document.all;s.call(d)===s.call(document.all)&&(u=function(e){if((c||!e)&&(void 0===e||"object"==typeof e))try{var t=s.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}return Nf=n?function(r){if(u(r))return!0;if(!r)return!1;if("function"!=typeof r&&"object"!=typeof r)return!1;try{n(r,null,e)}catch(e){if(e!==t)return!1}return!a(r)&&i(r)}:function(e){if(u(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(l)return i(e);if(a(e))return!1;var t=s.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&i(e)}}(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty;return Of=function(n,o,a){if(!e(o))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=a),"[object Array]"===t.call(n)?function(e,t,n){for(var o=0,a=e.length;o<a;o++)r.call(e,o)&&(null==n?t(e[o],o,e):t.call(n,e[o],o,e))}(n,o,i):"string"==typeof n?function(e,t,r){for(var n=0,o=e.length;n<o;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)}(n,o,i):function(e,t,n){for(var o in e)r.call(e,o)&&(null==n?t(e[o],o,e):t.call(n,e[o],o,e))}(n,o,i)},Of}function ap(){return Df?Rf:(Df=1,Rf=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"])}function ip(){if(Mf)return Lf;Mf=1;var e=ap(),t="undefined"==typeof globalThis?Ud:globalThis;return Lf=function(){for(var r=[],n=0;n<e.length;n++)"function"==typeof t[e[n]]&&(r[r.length]=e[n]);return r}}function sp(){if(Uf)return Ff;Uf=1;var e=op(),t=ip(),r=tp(),n=rp(),o=Qf(),a=n("Object.prototype.toString"),i=Zh()(),s="undefined"==typeof globalThis?Ud:globalThis,l=t(),c=n("String.prototype.slice"),u=Object.getPrototypeOf,d=n("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},h={__proto__:null};e(l,i&&o&&u?function(e){var t=new s[e];if(Symbol.toStringTag in t){var n=u(t),a=o(n,Symbol.toStringTag);if(!a){var i=u(n);a=o(i,Symbol.toStringTag)}h["$"+e]=r(a.get)}}:function(e){var t=new s[e],n=t.slice||t.set;n&&(h["$"+e]=r(n))});return Ff=function(t){if(!t||"object"!=typeof t)return!1;if(!i){var r=c(a(t),8,-1);return d(l,r)>-1?r:"Object"===r&&function(t){var r=!1;return e(h,(function(e,n){if(!r)try{e(t),r=c(n,1)}catch(e){}})),r}(t)}return o?function(t){var r=!1;return e(h,(function(e,n){if(!r)try{"$"+e(t)===n&&(r=c(n,1))}catch(e){}})),r}(t):null}}function lp(){if(Bf)return jf;Bf=1;var e=sp();return jf=function(t){return!!e(t)}}function cp(){return zf||(zf=1,function(e){var t=function(){if(_f)return Tf;_f=1;var e=Zh()(),t=rp()("Object.prototype.toString"),r=function(r){return!(e&&r&&"object"==typeof r&&Symbol.toStringTag in r)&&"[object Arguments]"===t(r)},n=function(e){return!!r(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==t(e)&&"[object Function]"===t(e.callee)},o=function(){return r(arguments)}();return r.isLegacyArguments=n,Tf=o?r:n}(),r=np(),n=sp(),o=lp();function a(e){return e.call.bind(e)}var i="undefined"!=typeof BigInt,s="undefined"!=typeof Symbol,l=a(Object.prototype.toString),c=a(Number.prototype.valueOf),u=a(String.prototype.valueOf),d=a(Boolean.prototype.valueOf);if(i)var h=a(BigInt.prototype.valueOf);if(s)var f=a(Symbol.prototype.valueOf);function p(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function m(e){return"[object Map]"===l(e)}function g(e){return"[object Set]"===l(e)}function v(e){return"[object WeakMap]"===l(e)}function y(e){return"[object WeakSet]"===l(e)}function w(e){return"[object ArrayBuffer]"===l(e)}function b(e){return"undefined"!=typeof ArrayBuffer&&(w.working?w(e):e instanceof ArrayBuffer)}function x(e){return"[object DataView]"===l(e)}function E(e){return"undefined"!=typeof DataView&&(x.working?x(e):e instanceof DataView)}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=o,e.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},e.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):o(e)||E(e)},e.isUint8Array=function(e){return"Uint8Array"===n(e)},e.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===n(e)},e.isUint16Array=function(e){return"Uint16Array"===n(e)},e.isUint32Array=function(e){return"Uint32Array"===n(e)},e.isInt8Array=function(e){return"Int8Array"===n(e)},e.isInt16Array=function(e){return"Int16Array"===n(e)},e.isInt32Array=function(e){return"Int32Array"===n(e)},e.isFloat32Array=function(e){return"Float32Array"===n(e)},e.isFloat64Array=function(e){return"Float64Array"===n(e)},e.isBigInt64Array=function(e){return"BigInt64Array"===n(e)},e.isBigUint64Array=function(e){return"BigUint64Array"===n(e)},m.working="undefined"!=typeof Map&&m(new Map),e.isMap=function(e){return"undefined"!=typeof Map&&(m.working?m(e):e instanceof Map)},g.working="undefined"!=typeof Set&&g(new Set),e.isSet=function(e){return"undefined"!=typeof Set&&(g.working?g(e):e instanceof Set)},v.working="undefined"!=typeof WeakMap&&v(new WeakMap),e.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(v.working?v(e):e instanceof WeakMap)},y.working="undefined"!=typeof WeakSet&&y(new WeakSet),e.isWeakSet=function(e){return y(e)},w.working="undefined"!=typeof ArrayBuffer&&w(new ArrayBuffer),e.isArrayBuffer=b,x.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&x(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=E;var k="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function S(e){return"[object SharedArrayBuffer]"===l(e)}function T(e){return void 0!==k&&(void 0===S.working&&(S.working=S(new k)),S.working?S(e):e instanceof k)}function _(e){return p(e,c)}function A(e){return p(e,u)}function C(e){return p(e,d)}function N(e){return i&&p(e,h)}function I(e){return s&&p(e,f)}e.isSharedArrayBuffer=T,e.isAsyncFunction=function(e){return"[object AsyncFunction]"===l(e)},e.isMapIterator=function(e){return"[object Map Iterator]"===l(e)},e.isSetIterator=function(e){return"[object Set Iterator]"===l(e)},e.isGeneratorObject=function(e){return"[object Generator]"===l(e)},e.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===l(e)},e.isNumberObject=_,e.isStringObject=A,e.isBooleanObject=C,e.isBigIntObject=N,e.isSymbolObject=I,e.isBoxedPrimitive=function(e){return _(e)||A(e)||C(e)||N(e)||I(e)},e.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(b(e)||T(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))}(Qh)),Qh}function up(){return Hf||(Hf=1,function(e){var t=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},r=/%[sdj%]/g;e.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}n=1;for(var o=arguments,a=o.length,s=String(e).replace(r,(function(e){if("%%"===e)return"%";if(n>=a)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(e){return"[Circular]"}default:return e}})),l=o[n];n<a;l=o[++n])p(l)||!w(l)?s+=" "+l:s+=" "+i(l);return s},e.deprecate=function(t,r){if(void 0!==ch&&!0===ch.noDeprecation)return t;if(void 0===ch)return function(){return e.deprecate(t,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(ch.throwDeprecation)throw new Error(r);ch.traceDeprecation?console.trace(r):console.error(r),n=!0}return t.apply(this,arguments)}};var n={},o=/^$/;if(ch.env.NODE_DEBUG){var a=ch.env.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+a+"$","i")}function i(t,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),f(r)?n.showHidden=r:r&&e._extend(n,r),v(n.showHidden)&&(n.showHidden=!1),v(n.depth)&&(n.depth=2),v(n.colors)&&(n.colors=!1),v(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=s),c(n,t,n.depth)}function s(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function l(e,t){return e}function c(t,r,n){if(t.customInspect&&r&&E(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,t);return g(o)||(o=c(t,o,n)),o}var a=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(g(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(m(t))return e.stylize(""+t,"number");if(f(t))return e.stylize(""+t,"boolean");if(p(t))return e.stylize("null","null")}(t,r);if(a)return a;var i=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(i);if(t.showHidden&&(i=Object.getOwnPropertyNames(r)),x(r)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return u(r);if(0===i.length){if(E(r)){var l=r.name?": "+r.name:"";return t.stylize("[Function"+l+"]","special")}if(y(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(b(r))return t.stylize(Date.prototype.toString.call(r),"date");if(x(r))return u(r)}var w,k="",S=!1,T=["{","}"];(h(r)&&(S=!0,T=["[","]"]),E(r))&&(k=" [Function"+(r.name?": "+r.name:"")+"]");return y(r)&&(k=" "+RegExp.prototype.toString.call(r)),b(r)&&(k=" "+Date.prototype.toUTCString.call(r)),x(r)&&(k=" "+u(r)),0!==i.length||S&&0!=r.length?n<0?y(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),w=S?function(e,t,r,n,o){for(var a=[],i=0,s=t.length;i<s;++i)_(t,String(i))?a.push(d(e,t,r,n,String(i),!0)):a.push("");return o.forEach((function(o){o.match(/^\d+$/)||a.push(d(e,t,r,n,o,!0))})),a}(t,r,n,s,i):i.map((function(e){return d(t,r,n,s,e,S)})),t.seen.pop(),function(e,t,r){var n=e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(n>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(w,k,T)):T[0]+k+T[1]}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,o,a){var i,s,l;if((l=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),_(n,o)||(i="["+o+"]"),s||(e.seen.indexOf(l.value)<0?(s=p(r)?c(e,l.value,null):c(e,l.value,r-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),v(i)){if(a&&o.match(/^\d+$/))return s;(i=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.slice(1,-1),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+s}function h(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function p(e){return null===e}function m(e){return"number"==typeof e}function g(e){return"string"==typeof e}function v(e){return void 0===e}function y(e){return w(e)&&"[object RegExp]"===k(e)}function w(e){return"object"==typeof e&&null!==e}function b(e){return w(e)&&"[object Date]"===k(e)}function x(e){return w(e)&&("[object Error]"===k(e)||e instanceof Error)}function E(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!n[t])if(o.test(t)){var r=ch.pid;n[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else n[t]=function(){};return n[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=cp(),e.isArray=h,e.isBoolean=f,e.isNull=p,e.isNullOrUndefined=function(e){return null==e},e.isNumber=m,e.isString=g,e.isSymbol=function(e){return"symbol"==typeof e},e.isUndefined=v,e.isRegExp=y,e.types.isRegExp=y,e.isObject=w,e.isDate=b,e.types.isDate=b,e.isError=x,e.types.isNativeError=x,e.isFunction=E,e.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},e.isBuffer=Vf?Wf:(Vf=1,Wf=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8});var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function _(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.log=function(){var t,r;console.log("%s - %s",(r=[S((t=new Date).getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":"),[t.getDate(),T[t.getMonth()],r].join(" ")),e.format.apply(e,arguments))},e.inherits=Gd(),e._extend=function(e,t){if(!t||!w(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function C(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}e.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(A&&e[A]){var r;if("function"!=typeof(r=e[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,A,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),o=[],a=0;a<arguments.length;a++)o.push(arguments[a]);o.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,o)}catch(e){r(e)}return n}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),A&&Object.defineProperty(r,A,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,t(e))},e.promisify.custom=A,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function r(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var n=t.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return n.apply(o,arguments)};e.apply(this,t).then((function(e){ch.nextTick(a.bind(null,null,e))}),(function(e){ch.nextTick(C.bind(null,e,a))}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,t(e)),r}}(Xh)),Xh}function dp(){if(Gf)return $f;function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}Gf=1;var n=wh().Buffer,o=up().inspect,a=o&&o.custom||"inspect";return $f=function(){function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.head=null,this.tail=null,this.length=0}return r(i,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return n.alloc(0);for(var t,r,o,a=n.allocUnsafe(e>>>0),i=this.head,s=0;i;)t=i.data,r=a,o=s,n.prototype.copy.call(t,r,o),s+=i.data.length,i=i.next;return a}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var o=t.data,a=e>o.length?o.length:e;if(a===o.length?n+=o:n+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=o.slice(a));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=n.allocUnsafe(e),r=this.head,o=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var a=r.data,i=e>a.length?a.length:e;if(a.copy(t,t.length-e,0,i),0===(e-=i)){i===a.length?(++o,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=a.slice(i));break}++o}return this.length-=o,t}},{key:a,value:function(r,n){return o(this,function(r){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?e(Object(o),!0).forEach((function(e){t(r,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}))}return r}({},n,{depth:0,customInspect:!1}))}}]),i}(),$f}function hp(){if(qf)return Kf;function e(e,n){r(e,n),t(e)}function t(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function r(e,t){e.emit("error",t)}return qf=1,Kf={destroy:function(n,o){var a=this,i=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return i||s?(o?o(n):n&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ch.nextTick(r,this,n)):ch.nextTick(r,this,n)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n||null,(function(r){!o&&r?a._writableState?a._writableState.errorEmitted?ch.nextTick(t,a):(a._writableState.errorEmitted=!0,ch.nextTick(e,a,r)):ch.nextTick(e,a,r):o?(ch.nextTick(t,a),o(r)):ch.nextTick(t,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}var fp,pp,mp,gp,vp,yp,wp,bp,xp,Ep={};function kp(){if(fp)return Ep;fp=1;var e={};function t(t,r,n){n||(n=Error);var o=function(e){var t,n;function o(t,n,o){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,o))||this}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,o}(n);o.prototype.name=n.name,o.prototype.code=t,e[t]=o}function r(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}return t("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),t("ERR_INVALID_ARG_TYPE",(function(e,t,n){var o,a,i;if("string"==typeof t&&(a="not ",t.substr(0,a.length)===a)?(o="must not be",t=t.replace(/^not /,"")):o="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))i="The ".concat(e," ").concat(o," ").concat(r(t,"type"));else{var s=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(s," ").concat(o," ").concat(r(t,"type"))}return i+=". Received type ".concat(typeof n)}),TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Ep.codes=e,Ep}function Sp(){if(mp)return pp;mp=1;var e=kp().codes.ERR_INVALID_OPT_VALUE;return pp={getHighWaterMark:function(t,r,n,o){var a=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(r,o,n);if(null!=a){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new e(o?n:"highWaterMark",a);return Math.floor(a)}return t.objectMode?16:16384}}}function Tp(){if(vp)return gp;function e(e){try{if(!Ud.localStorage)return!1}catch(e){return!1}var t=Ud.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}return vp=1,gp=function(t,r){if(e("noDeprecation"))return t;var n=!1;return function(){if(!n){if(e("throwDeprecation"))throw new Error(r);e("traceDeprecation")?console.trace(r):console.warn(r),n=!0}return t.apply(this,arguments)}},gp}function _p(){if(wp)return yp;function e(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var o=n.callback;t.pendingcb--,o(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var t;wp=1,yp=x,x.WritableState=b;var r={deprecate:Tp()},n=hh(),o=wh().Buffer,a=Ud.Uint8Array||function(){};var i,s=hp(),l=Sp().getHighWaterMark,c=kp().codes,u=c.ERR_INVALID_ARG_TYPE,d=c.ERR_METHOD_NOT_IMPLEMENTED,h=c.ERR_MULTIPLE_CALLBACK,f=c.ERR_STREAM_CANNOT_PIPE,p=c.ERR_STREAM_DESTROYED,m=c.ERR_STREAM_NULL_VALUES,g=c.ERR_STREAM_WRITE_AFTER_END,v=c.ERR_UNKNOWN_ENCODING,y=s.errorOrDestroy;function w(){}function b(r,n,o){t=t||Ap(),r=r||{},"boolean"!=typeof o&&(o=n instanceof t),this.objectMode=!!r.objectMode,o&&(this.objectMode=this.objectMode||!!r.writableObjectMode),this.highWaterMark=l(this,r,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===r.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=r.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o)throw new h;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(ch.nextTick(o,n),ch.nextTick(A,e,t),e._writableState.errorEmitted=!0,y(e,n)):(o(n),e._writableState.errorEmitted=!0,y(e,n),A(e,t))}(e,r,n,t,o);else{var a=T(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||S(e,r),n?ch.nextTick(k,e,r,a,o):k(e,r,a,o)}}(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==r.emitClose,this.autoDestroy=!!r.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function x(e){var r=this instanceof(t=t||Ap());if(!r&&!i.call(x,this))return new x(e);this._writableState=new b(e,this,r),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),n.call(this)}function E(e,t,r,n,o,a,i){t.writelen=n,t.writecb=i,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new p("write")):r?e._writev(o,t.onwrite):e._write(o,a,t.onwrite),t.sync=!1}function k(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),A(e,t)}function S(t,r){r.bufferProcessing=!0;var n=r.bufferedRequest;if(t._writev&&n&&n.next){var o=r.bufferedRequestCount,a=new Array(o),i=r.corkedRequestsFree;i.entry=n;for(var s=0,l=!0;n;)a[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;a.allBuffers=l,E(t,r,!0,r.length,a,"",i.finish),r.pendingcb++,r.lastBufferedRequest=null,i.next?(r.corkedRequestsFree=i.next,i.next=null):r.corkedRequestsFree=new e(r),r.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,d=n.callback;if(E(t,r,!1,r.objectMode?1:c.length,c,u,d),n=n.next,r.bufferedRequestCount--,r.writing)break}null===n&&(r.lastBufferedRequest=null)}r.bufferedRequest=n,r.bufferProcessing=!1}function T(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function _(e,t){e._final((function(r){t.pendingcb--,r&&y(e,r),t.prefinished=!0,e.emit("prefinish"),A(e,t)}))}function A(e,t){var r=T(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,ch.nextTick(_,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}return Gd()(x,n),b.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(b.prototype,"buffer",{get:r.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(i=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(e){return!!i.call(this,e)||this===x&&(e&&e._writableState instanceof b)}})):i=function(e){return e instanceof this},x.prototype.pipe=function(){y(this,new f)},x.prototype.write=function(e,t,r){var n,i=this._writableState,s=!1,l=!i.objectMode&&(n=e,o.isBuffer(n)||n instanceof a);return l&&!o.isBuffer(e)&&(e=function(e){return o.from(e)}(e)),"function"==typeof t&&(r=t,t=null),l?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=w),i.ending?function(e,t){var r=new g;y(e,r),ch.nextTick(t,r)}(this,r):(l||function(e,t,r,n){var o;return null===r?o=new m:"string"==typeof r||t.objectMode||(o=new u("chunk",["string","Buffer"],r)),!o||(y(e,o),ch.nextTick(n,o),!1)}(this,i,e,r))&&(i.pendingcb++,s=function(e,t,r,n,a,i){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=o.from(t,r));return t}(t,n,a);n!==s&&(r=!0,a="buffer",n=s)}var l=t.objectMode?1:n.length;t.length+=l;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:a,isBuf:r,callback:i,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else E(e,t,!1,l,n,a,i);return c}(this,i,l,e,t,r)),s},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||S(this,e))},x.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new v(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(e,t,r){r(new d("_write()"))},x.prototype._writev=null,x.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,A(e,t),r&&(t.finished?ch.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),x.prototype.destroy=s.destroy,x.prototype._undestroy=s.undestroy,x.prototype._destroy=function(e,t){t(e)},yp}function Ap(){if(xp)return bp;xp=1;var e=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};bp=i;var t=hm(),r=_p();Gd()(i,t);for(var n=e(r.prototype),o=0;o<n.length;o++){var a=n[o];i.prototype[a]||(i.prototype[a]=r.prototype[a])}function i(e){if(!(this instanceof i))return new i(e);t.call(this,e),r.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",s)))}function s(){this._writableState.ended||ch.nextTick(l,this)}function l(e){e.end()}return Object.defineProperty(i.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(i.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(i.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(i.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),bp}var Cp,Np,Ip,Op,Pp,Rp,Dp,Lp,Mp,Fp,Up,jp,Bp,zp,Wp,Vp,Hp,$p,Gp,Kp,qp,Yp,Xp,Qp,Jp,Zp,em,tm,rm,nm,om,am,im,sm={},lm={exports:{}};function cm(){if(Np)return sm;Np=1;var e=(Cp||(Cp=1,function(e,t){var r=wh(),n=r.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(n,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var o=n(e);return void 0!==t?"string"==typeof r?o.fill(t,r):o.fill(t):o.fill(0),o},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}}(lm,lm.exports)),lm.exports).Buffer,t=e.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(r){var n;switch(this.encoding=function(r){var n=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(r);if("string"!=typeof n&&(e.isEncoding===t||!t(r)))throw new Error("Unknown encoding: "+r);return n||r}(r),this.encoding){case"utf16le":this.text=a,this.end=i,n=4;break;case"utf8":this.fillLast=o,n=4;break;case"base64":this.text=s,this.end=l,n=3;break;default:return this.write=c,void(this.end=u)}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(n)}function n(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,r=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function a(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function i(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function s(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function c(e){return e.toString(this.encoding)}function u(e){return e&&e.length?this.write(e):""}return sm.StringDecoder=r,r.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},r.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},r.prototype.text=function(e,t){var r=function(e,t,r){var o=t.length-1;if(o<r)return 0;var a=n(t[o]);if(a>=0)return a>0&&(e.lastNeed=a-1),a;if(--o<r||-2===a)return 0;if(a=n(t[o]),a>=0)return a>0&&(e.lastNeed=a-2),a;if(--o<r||-2===a)return 0;if(a=n(t[o]),a>=0)return a>0&&(2===a?a=0:e.lastNeed=a-3),a;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var o=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,o),e.toString("utf8",t,o)},r.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},sm}function um(){if(Op)return Ip;Op=1;var e=kp().codes.ERR_STREAM_PREMATURE_CLOSE;function t(){}return Ip=function r(n,o,a){if("function"==typeof o)return r(n,null,o);o||(o={}),a=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];e.apply(this,n)}}}(a||t);var i=o.readable||!1!==o.readable&&n.readable,s=o.writable||!1!==o.writable&&n.writable,l=function(){n.writable||u()},c=n._writableState&&n._writableState.finished,u=function(){s=!1,c=!0,i||a.call(n)},d=n._readableState&&n._readableState.endEmitted,h=function(){i=!1,d=!0,s||a.call(n)},f=function(e){a.call(n,e)},p=function(){var t;return i&&!d?(n._readableState&&n._readableState.ended||(t=new e),a.call(n,t)):s&&!c?(n._writableState&&n._writableState.ended||(t=new e),a.call(n,t)):void 0},m=function(){n.req.on("finish",u)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(n)?s&&!n._writableState&&(n.on("end",l),n.on("close",l)):(n.on("complete",u),n.on("abort",p),n.req?m():n.on("request",m)),n.on("end",h),n.on("finish",u),!1!==o.error&&n.on("error",f),n.on("close",p),function(){n.removeListener("complete",u),n.removeListener("abort",p),n.removeListener("request",m),n.req&&n.req.removeListener("finish",u),n.removeListener("end",l),n.removeListener("close",l),n.removeListener("finish",u),n.removeListener("end",h),n.removeListener("error",f),n.removeListener("close",p)}},Ip}function dm(){if(Rp)return Pp;var e;function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Rp=1;var r=um(),n=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),i=Symbol("ended"),s=Symbol("lastPromise"),l=Symbol("handlePromise"),c=Symbol("stream");function u(e,t){return{value:e,done:t}}function d(e){var t=e[n];if(null!==t){var r=e[c].read();null!==r&&(e[s]=null,e[n]=null,e[o]=null,t(u(r,!1)))}}function h(e){ch.nextTick(d,e)}var f=Object.getPrototypeOf((function(){})),p=Object.setPrototypeOf((t(e={get stream(){return this[c]},next:function(){var e=this,t=this[a];if(null!==t)return Promise.reject(t);if(this[i])return Promise.resolve(u(void 0,!0));if(this[c].destroyed)return new Promise((function(t,r){ch.nextTick((function(){e[a]?r(e[a]):t(u(void 0,!0))}))}));var r,n=this[s];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[i]?r(u(void 0,!0)):t[l](r,n)}),n)}}(n,this));else{var o=this[c].read();if(null!==o)return Promise.resolve(u(o,!1));r=new Promise(this[l])}return this[s]=r,r}},Symbol.asyncIterator,(function(){return this})),t(e,"return",(function(){var e=this;return new Promise((function(t,r){e[c].destroy(null,(function(e){e?r(e):t(u(void 0,!0))}))}))})),e),f);return Pp=function(e){var d,f=Object.create(p,(t(d={},c,{value:e,writable:!0}),t(d,n,{value:null,writable:!0}),t(d,o,{value:null,writable:!0}),t(d,a,{value:null,writable:!0}),t(d,i,{value:e._readableState.endEmitted,writable:!0}),t(d,l,{value:function(e,t){var r=f[c].read();r?(f[s]=null,f[n]=null,f[o]=null,e(u(r,!1))):(f[n]=e,f[o]=t)},writable:!0}),d));return f[s]=null,r(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=f[o];return null!==t&&(f[s]=null,f[n]=null,f[o]=null,t(e)),void(f[a]=e)}var r=f[n];null!==r&&(f[s]=null,f[n]=null,f[o]=null,r(u(void 0,!0))),f[i]=!0})),e.on("readable",h.bind(null,f)),f}}function hm(){if(Fp)return Mp;var e;Fp=1,Mp=x,x.ReadableState=b,Vd().EventEmitter;var t=function(e,t){return e.listeners(t).length},r=hh(),n=wh().Buffer,o=Ud.Uint8Array||function(){};var a,i=up();a=i&&i.debuglog?i.debuglog("stream"):function(){};var s,l,c,u=dp(),d=hp(),h=Sp().getHighWaterMark,f=kp().codes,p=f.ERR_INVALID_ARG_TYPE,m=f.ERR_STREAM_PUSH_AFTER_EOF,g=f.ERR_METHOD_NOT_IMPLEMENTED,v=f.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;Gd()(x,r);var y=d.errorOrDestroy,w=["error","close","destroy","pause","resume"];function b(t,r,n){e=e||Ap(),t=t||{},"boolean"!=typeof n&&(n=r instanceof e),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=h(this,t,"readableHighWaterMark",n),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(s||(s=cm().StringDecoder),this.decoder=new s(t.encoding),this.encoding=t.encoding)}function x(t){if(e=e||Ap(),!(this instanceof x))return new x(t);var n=this instanceof e;this._readableState=new b(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),r.call(this)}function E(e,t,r,i,s){a("readableAddChunk",t);var l,c=e._readableState;if(null===t)c.reading=!1,function(e,t){if(a("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?_(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}(e,c);else if(s||(l=function(e,t){var r;a=t,n.isBuffer(a)||a instanceof o||"string"==typeof t||void 0===t||e.objectMode||(r=new p("chunk",["string","Buffer","Uint8Array"],t));var a;return r}(c,t)),l)y(e,l);else if(c.objectMode||t&&t.length>0)if("string"==typeof t||c.objectMode||Object.getPrototypeOf(t)===n.prototype||(t=function(e){return n.from(e)}(t)),i)c.endEmitted?y(e,new v):k(e,c,t,!0);else if(c.ended)y(e,new m);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!r?(t=c.decoder.write(t),c.objectMode||0!==t.length?k(e,c,t,!1):C(e,c)):k(e,c,t,!1)}else i||(c.reading=!1,C(e,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function k(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&_(e)),C(e,t)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),x.prototype.destroy=d.destroy,x.prototype._undestroy=d.undestroy,x.prototype._destroy=function(e,t){t(e)},x.prototype.push=function(e,t){var r,o=this._readableState;return o.objectMode?r=!0:"string"==typeof e&&((t=t||o.defaultEncoding)!==o.encoding&&(e=n.from(e,t),t=""),r=!0),E(this,e,t,!1,r)},x.prototype.unshift=function(e){return E(this,e,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(e){s||(s=cm().StringDecoder);var t=new s(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var S=1073741824;function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=S?e=S:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function _(e){var t=e._readableState;a("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(a("emitReadable",t.flowing),t.emittedReadable=!0,ch.nextTick(A,e))}function A(e){var t=e._readableState;a("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,R(e)}function C(e,t){t.readingMore||(t.readingMore=!0,ch.nextTick(N,e,t))}function N(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(a("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function I(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function O(e){a("readable nexttick read 0"),e.read(0)}function P(e,t){a("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),R(e),t.flowing&&!t.reading&&e.read(0)}function R(e){var t=e._readableState;for(a("flow",t.flowing);t.flowing&&null!==e.read(););}function D(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function L(e){var t=e._readableState;a("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,ch.nextTick(M,t,e))}function M(e,t){if(a("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function F(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}return x.prototype.read=function(e){a("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return a("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?L(this):_(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&L(this),null;var n,o=t.needReadable;return a("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&a("length less than watermark",o=!0),t.ended||t.reading?a("reading or ended",o=!1):o&&(a("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(r,t))),null===(n=e>0?D(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&L(this)),null!==n&&this.emit("data",n),n},x.prototype._read=function(e){y(this,new g("_read()"))},x.prototype.pipe=function(e,r){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,a("pipe count=%d opts=%j",o.pipesCount,r);var i=(!r||!1!==r.end)&&e!==ch.stdout&&e!==ch.stderr?l:m;function s(t,r){a("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,a("cleanup"),e.removeListener("close",f),e.removeListener("finish",p),e.removeListener("drain",c),e.removeListener("error",h),e.removeListener("unpipe",s),n.removeListener("end",l),n.removeListener("end",m),n.removeListener("data",d),u=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}function l(){a("onend"),e.end()}o.endEmitted?ch.nextTick(i):n.once("end",i),e.on("unpipe",s);var c=function(e){return function(){var r=e._readableState;a("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,0===r.awaitDrain&&t(e,"data")&&(r.flowing=!0,R(e))}}(n);e.on("drain",c);var u=!1;function d(t){a("ondata");var r=e.write(t);a("dest.write",r),!1===r&&((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==F(o.pipes,e))&&!u&&(a("false write response, pause",o.awaitDrain),o.awaitDrain++),n.pause())}function h(r){a("onerror",r),m(),e.removeListener("error",h),0===t(e,"error")&&y(e,r)}function f(){e.removeListener("finish",p),m()}function p(){a("onfinish"),e.removeListener("close",f),m()}function m(){a("unpipe"),n.unpipe(e)}return n.on("data",d),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",f),e.once("finish",p),e.emit("pipe",n),o.flowing||(a("pipe resume"),n.resume()),e},x.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<o;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var i=F(t.pipes,e);return-1===i||(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},x.prototype.on=function(e,t){var n=r.prototype.on.call(this,e,t),o=this._readableState;return"data"===e?(o.readableListening=this.listenerCount("readable")>0,!1!==o.flowing&&this.resume()):"readable"===e&&(o.endEmitted||o.readableListening||(o.readableListening=o.needReadable=!0,o.flowing=!1,o.emittedReadable=!1,a("on readable",o.length,o.reading),o.length?_(this):o.reading||ch.nextTick(O,this))),n},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(e,t){var n=r.prototype.removeListener.call(this,e,t);return"readable"===e&&ch.nextTick(I,this),n},x.prototype.removeAllListeners=function(e){var t=r.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||ch.nextTick(I,this),t},x.prototype.resume=function(){var e=this._readableState;return e.flowing||(a("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,ch.nextTick(P,e,t))}(this,e)),e.paused=!1,this},x.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},x.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var o in e.on("end",(function(){if(a("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){(a("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o)||(r.objectMode||o&&o.length)&&(t.push(o)||(n=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var i=0;i<w.length;i++)e.on(w[i],this.emit.bind(this,w[i]));return this._read=function(t){a("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(x.prototype[Symbol.asyncIterator]=function(){return void 0===l&&(l=dm()),l(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),x._fromList=D,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(x.from=function(e,t){return void 0===c&&(c=Lp?Dp:(Lp=1,Dp=function(){throw new Error("Readable.from is not available in the browser")})),c(x,e,t)}),Mp}function fm(){if(jp)return Up;jp=1,Up=s;var e=kp().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=e.ERR_TRANSFORM_WITH_LENGTH_0,a=Ap();function i(e,t){var n=this._transformState;n.transforming=!1;var o=n.writecb;if(null===o)return this.emit("error",new r);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),o(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);a.call(this,e),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",l)}function l(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?c(this,null,null):this._flush((function(t,r){c(e,t,r)}))}function c(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new o;if(e._transformState.transforming)throw new n;return e.push(null)}return Gd()(s,a),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},s.prototype._transform=function(e,r,n){n(new t("_transform()"))},s.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},s.prototype._destroy=function(e,t){a.prototype._destroy.call(this,e,(function(e){t(e)}))},Up}function pm(){if(Vp)return Wp;var e;Vp=1;var t=kp().codes,r=t.ERR_MISSING_ARGS,n=t.ERR_STREAM_DESTROYED;function o(e){if(e)throw e}function a(e){e()}function i(e,t){return e.pipe(t)}return Wp=function(){for(var t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];var c,u=function(e){return e.length?"function"!=typeof e[e.length-1]?o:e.pop():o}(s);if(Array.isArray(s[0])&&(s=s[0]),s.length<2)throw new r("streams");var d=s.map((function(t,r){var o=r<s.length-1;return function(t,r,o,a){a=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(a);var i=!1;t.on("close",(function(){i=!0})),void 0===e&&(e=um()),e(t,{readable:r,writable:o},(function(e){if(e)return a(e);i=!0,a()}));var s=!1;return function(e){if(!i&&!s)return s=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void a(e||new n("pipe"))}}(t,o,r>0,(function(e){c||(c=e),e&&d.forEach(a),o||(d.forEach(a),u(c))}))}));return s.reduce(i)},Wp}function mm(){if($p)return Hp;$p=1,Hp=t;var e=Vd().EventEmitter;function t(){e.call(this)}return Gd()(t,e),t.Readable=hm(),t.Writable=_p(),t.Duplex=Ap(),t.Transform=fm(),t.PassThrough=function(){if(zp)return Bp;zp=1,Bp=t;var e=fm();function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return Gd()(t,e),t.prototype._transform=function(e,t,r){r(null,e)},Bp}(),t.finished=um(),t.pipeline=pm(),t.Stream=t,t.prototype.pipe=function(t,r){var n=this;function o(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function a(){n.readable&&n.resume&&n.resume()}n.on("data",o),t.on("drain",a),t._isStdio||r&&!1===r.end||(n.on("end",s),n.on("close",l));var i=!1;function s(){i||(i=!0,t.end())}function l(){i||(i=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(u(),0===e.listenerCount(this,"error"))throw t}function u(){n.removeListener("data",o),t.removeListener("drain",a),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",c),t.removeListener("error",c),n.removeListener("end",u),n.removeListener("close",u),t.removeListener("close",u)}return n.on("error",c),t.on("error",c),n.on("end",u),n.on("close",u),t.on("close",u),t.emit("pipe",n),t},Hp}function gm(){return Gp||(Gp=1,function(e){e.parser=function(e,t){return new n(e,t)},e.SAXParser=n,e.SAXStream=a,e.createStream=function(e,t){return new a(e,t)},e.MAX_BUFFER_LENGTH=65536;var t,r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function n(t,o){if(!(this instanceof n))return new n(t,o);var a=this;!function(e){for(var t=0,n=r.length;t<n;t++)e[r[t]]=""}(a),a.q=a.c="",a.bufferCheckPosition=e.MAX_BUFFER_LENGTH,a.opt=o||{},a.opt.lowercase=a.opt.lowercase||a.opt.lowercasetags,a.looseCase=a.opt.lowercase?"toLowerCase":"toUpperCase",a.tags=[],a.closed=a.closedRoot=a.sawRoot=!1,a.tag=a.error=null,a.strict=!!t,a.noscript=!(!t&&!a.opt.noscript),a.state=k.BEGIN,a.strictEntities=a.opt.strictEntities,a.ENTITIES=a.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),a.attribList=[],a.opt.xmlns&&(a.ns=Object.create(u)),a.trackPosition=!1!==a.opt.position,a.trackPosition&&(a.position=a.line=a.column=0),T(a,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),n.prototype={end:function(){I(this)},write:function(t){var n=this;if(this.error)throw this.error;if(n.closed)return N(n,"Cannot write after close. Assign an onready handler.");if(null===t)return I(n);"object"==typeof t&&(t=t.toString());for(var o=0,a="";a=j(t,o++),n.c=a,a;)switch(n.trackPosition&&(n.position++,"\n"===a?(n.line++,n.column=0):n.column++),n.state){case k.BEGIN:if(n.state=k.BEGIN_WHITESPACE,"\ufeff"===a)continue;U(n,a);continue;case k.BEGIN_WHITESPACE:U(n,a);continue;case k.TEXT:if(n.sawRoot&&!n.closedRoot){for(var l=o-1;a&&"<"!==a&&"&"!==a;)(a=j(t,o++))&&n.trackPosition&&(n.position++,"\n"===a?(n.line++,n.column=0):n.column++);n.textNode+=t.substring(l,o-1)}"<"!==a||n.sawRoot&&n.closedRoot&&!n.strict?(m(a)||n.sawRoot&&!n.closedRoot||O(n,"Text data outside of root node."),"&"===a?n.state=k.TEXT_ENTITY:n.textNode+=a):(n.state=k.OPEN_WAKA,n.startTagPosition=n.position);continue;case k.SCRIPT:"<"===a?n.state=k.SCRIPT_ENDING:n.script+=a;continue;case k.SCRIPT_ENDING:"/"===a?n.state=k.CLOSE_TAG:(n.script+="<"+a,n.state=k.SCRIPT);continue;case k.OPEN_WAKA:if("!"===a)n.state=k.SGML_DECL,n.sgmlDecl="";else if(m(a));else if(y(d,a))n.state=k.OPEN_TAG,n.tagName=a;else if("/"===a)n.state=k.CLOSE_TAG,n.tagName="";else if("?"===a)n.state=k.PROC_INST,n.procInstName=n.procInstBody="";else{if(O(n,"Unencoded <"),n.startTagPosition+1<n.position){var c=n.position-n.startTagPosition;a=new Array(c).join(" ")+a}n.textNode+="<"+a,n.state=k.TEXT}continue;case k.SGML_DECL:(n.sgmlDecl+a).toUpperCase()===i?(_(n,"onopencdata"),n.state=k.CDATA,n.sgmlDecl="",n.cdata=""):n.sgmlDecl+a==="--"?(n.state=k.COMMENT,n.comment="",n.sgmlDecl=""):(n.sgmlDecl+a).toUpperCase()===s?(n.state=k.DOCTYPE,(n.doctype||n.sawRoot)&&O(n,"Inappropriately located doctype declaration"),n.doctype="",n.sgmlDecl=""):">"===a?(_(n,"onsgmldeclaration",n.sgmlDecl),n.sgmlDecl="",n.state=k.TEXT):g(a)?(n.state=k.SGML_DECL_QUOTED,n.sgmlDecl+=a):n.sgmlDecl+=a;continue;case k.SGML_DECL_QUOTED:a===n.q&&(n.state=k.SGML_DECL,n.q=""),n.sgmlDecl+=a;continue;case k.DOCTYPE:">"===a?(n.state=k.TEXT,_(n,"ondoctype",n.doctype),n.doctype=!0):(n.doctype+=a,"["===a?n.state=k.DOCTYPE_DTD:g(a)&&(n.state=k.DOCTYPE_QUOTED,n.q=a));continue;case k.DOCTYPE_QUOTED:n.doctype+=a,a===n.q&&(n.q="",n.state=k.DOCTYPE);continue;case k.DOCTYPE_DTD:n.doctype+=a,"]"===a?n.state=k.DOCTYPE:g(a)&&(n.state=k.DOCTYPE_DTD_QUOTED,n.q=a);continue;case k.DOCTYPE_DTD_QUOTED:n.doctype+=a,a===n.q&&(n.state=k.DOCTYPE_DTD,n.q="");continue;case k.COMMENT:"-"===a?n.state=k.COMMENT_ENDING:n.comment+=a;continue;case k.COMMENT_ENDING:"-"===a?(n.state=k.COMMENT_ENDED,n.comment=C(n.opt,n.comment),n.comment&&_(n,"oncomment",n.comment),n.comment=""):(n.comment+="-"+a,n.state=k.COMMENT);continue;case k.COMMENT_ENDED:">"!==a?(O(n,"Malformed comment"),n.comment+="--"+a,n.state=k.COMMENT):n.state=k.TEXT;continue;case k.CDATA:"]"===a?n.state=k.CDATA_ENDING:n.cdata+=a;continue;case k.CDATA_ENDING:"]"===a?n.state=k.CDATA_ENDING_2:(n.cdata+="]"+a,n.state=k.CDATA);continue;case k.CDATA_ENDING_2:">"===a?(n.cdata&&_(n,"oncdata",n.cdata),_(n,"onclosecdata"),n.cdata="",n.state=k.TEXT):"]"===a?n.cdata+="]":(n.cdata+="]]"+a,n.state=k.CDATA);continue;case k.PROC_INST:"?"===a?n.state=k.PROC_INST_ENDING:m(a)?n.state=k.PROC_INST_BODY:n.procInstName+=a;continue;case k.PROC_INST_BODY:if(!n.procInstBody&&m(a))continue;"?"===a?n.state=k.PROC_INST_ENDING:n.procInstBody+=a;continue;case k.PROC_INST_ENDING:">"===a?(_(n,"onprocessinginstruction",{name:n.procInstName,body:n.procInstBody}),n.procInstName=n.procInstBody="",n.state=k.TEXT):(n.procInstBody+="?"+a,n.state=k.PROC_INST_BODY);continue;case k.OPEN_TAG:y(h,a)?n.tagName+=a:(P(n),">"===a?L(n):"/"===a?n.state=k.OPEN_TAG_SLASH:(m(a)||O(n,"Invalid character in tag name"),n.state=k.ATTRIB));continue;case k.OPEN_TAG_SLASH:">"===a?(L(n,!0),M(n)):(O(n,"Forward-slash in opening tag not followed by >"),n.state=k.ATTRIB);continue;case k.ATTRIB:if(m(a))continue;">"===a?L(n):"/"===a?n.state=k.OPEN_TAG_SLASH:y(d,a)?(n.attribName=a,n.attribValue="",n.state=k.ATTRIB_NAME):O(n,"Invalid attribute name");continue;case k.ATTRIB_NAME:"="===a?n.state=k.ATTRIB_VALUE:">"===a?(O(n,"Attribute without value"),n.attribValue=n.attribName,D(n),L(n)):m(a)?n.state=k.ATTRIB_NAME_SAW_WHITE:y(h,a)?n.attribName+=a:O(n,"Invalid attribute name");continue;case k.ATTRIB_NAME_SAW_WHITE:if("="===a)n.state=k.ATTRIB_VALUE;else{if(m(a))continue;O(n,"Attribute without value"),n.tag.attributes[n.attribName]="",n.attribValue="",_(n,"onattribute",{name:n.attribName,value:""}),n.attribName="",">"===a?L(n):y(d,a)?(n.attribName=a,n.state=k.ATTRIB_NAME):(O(n,"Invalid attribute name"),n.state=k.ATTRIB)}continue;case k.ATTRIB_VALUE:if(m(a))continue;g(a)?(n.q=a,n.state=k.ATTRIB_VALUE_QUOTED):(O(n,"Unquoted attribute value"),n.state=k.ATTRIB_VALUE_UNQUOTED,n.attribValue=a);continue;case k.ATTRIB_VALUE_QUOTED:if(a!==n.q){"&"===a?n.state=k.ATTRIB_VALUE_ENTITY_Q:n.attribValue+=a;continue}D(n),n.q="",n.state=k.ATTRIB_VALUE_CLOSED;continue;case k.ATTRIB_VALUE_CLOSED:m(a)?n.state=k.ATTRIB:">"===a?L(n):"/"===a?n.state=k.OPEN_TAG_SLASH:y(d,a)?(O(n,"No whitespace between attributes"),n.attribName=a,n.attribValue="",n.state=k.ATTRIB_NAME):O(n,"Invalid attribute name");continue;case k.ATTRIB_VALUE_UNQUOTED:if(!v(a)){"&"===a?n.state=k.ATTRIB_VALUE_ENTITY_U:n.attribValue+=a;continue}D(n),">"===a?L(n):n.state=k.ATTRIB;continue;case k.CLOSE_TAG:if(n.tagName)">"===a?M(n):y(h,a)?n.tagName+=a:n.script?(n.script+="</"+n.tagName,n.tagName="",n.state=k.SCRIPT):(m(a)||O(n,"Invalid tagname in closing tag"),n.state=k.CLOSE_TAG_SAW_WHITE);else{if(m(a))continue;w(d,a)?n.script?(n.script+="</"+a,n.state=k.SCRIPT):O(n,"Invalid tagname in closing tag."):n.tagName=a}continue;case k.CLOSE_TAG_SAW_WHITE:if(m(a))continue;">"===a?M(n):O(n,"Invalid characters in closing tag");continue;case k.TEXT_ENTITY:case k.ATTRIB_VALUE_ENTITY_Q:case k.ATTRIB_VALUE_ENTITY_U:var u,b;switch(n.state){case k.TEXT_ENTITY:u=k.TEXT,b="textNode";break;case k.ATTRIB_VALUE_ENTITY_Q:u=k.ATTRIB_VALUE_QUOTED,b="attribValue";break;case k.ATTRIB_VALUE_ENTITY_U:u=k.ATTRIB_VALUE_UNQUOTED,b="attribValue"}";"===a?(n[b]+=F(n),n.entity="",n.state=u):y(n.entity.length?p:f,a)?n.entity+=a:(O(n,"Invalid character in entity name"),n[b]+="&"+n.entity+a,n.entity="",n.state=u);continue;default:throw new Error(n,"Unknown state: "+n.state)}return n.position>=n.bufferCheckPosition&&function(t){for(var n=Math.max(e.MAX_BUFFER_LENGTH,10),o=0,a=0,i=r.length;a<i;a++){var s=t[r[a]].length;if(s>n)switch(r[a]){case"textNode":A(t);break;case"cdata":_(t,"oncdata",t.cdata),t.cdata="";break;case"script":_(t,"onscript",t.script),t.script="";break;default:N(t,"Max buffer length exceeded: "+r[a])}o=Math.max(o,s)}var l=e.MAX_BUFFER_LENGTH-o;t.bufferCheckPosition=l+t.position}(n),n},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;A(e=this),""!==e.cdata&&(_(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(_(e,"onscript",e.script),e.script="")}};try{t=mm().Stream}catch(e){t=function(){}}var o=e.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function a(e,r){if(!(this instanceof a))return new a(e,r);t.apply(this),this._parser=new n(e,r),this.writable=!0,this.readable=!0;var i=this;this._parser.onend=function(){i.emit("end")},this._parser.onerror=function(e){i.emit("error",e),i._parser.error=null},this._decoder=null,o.forEach((function(e){Object.defineProperty(i,"on"+e,{get:function(){return i._parser["on"+e]},set:function(t){if(!t)return i.removeAllListeners(e),i._parser["on"+e]=t,t;i.on(e,t)},enumerable:!0,configurable:!1})}))}a.prototype=Object.create(t.prototype,{constructor:{value:a}}),a.prototype.write=function(e){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)){if(!this._decoder){var t=cm().StringDecoder;this._decoder=new t("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},a.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},a.prototype.on=function(e,r){var n=this;return n._parser["on"+e]||-1===o.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),t.prototype.on.call(n,e,r)};var i="[CDATA[",s="DOCTYPE",l="http://www.w3.org/XML/1998/namespace",c="http://www.w3.org/2000/xmlns/",u={xml:l,xmlns:c},d=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,h=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,f=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,p=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function m(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function g(e){return'"'===e||"'"===e}function v(e){return">"===e||m(e)}function y(e,t){return e.test(t)}function w(e,t){return!y(e,t)}var b,x,E,k=0;for(var S in e.STATE={BEGIN:k++,BEGIN_WHITESPACE:k++,TEXT:k++,TEXT_ENTITY:k++,OPEN_WAKA:k++,SGML_DECL:k++,SGML_DECL_QUOTED:k++,DOCTYPE:k++,DOCTYPE_QUOTED:k++,DOCTYPE_DTD:k++,DOCTYPE_DTD_QUOTED:k++,COMMENT_STARTING:k++,COMMENT:k++,COMMENT_ENDING:k++,COMMENT_ENDED:k++,CDATA:k++,CDATA_ENDING:k++,CDATA_ENDING_2:k++,PROC_INST:k++,PROC_INST_BODY:k++,PROC_INST_ENDING:k++,OPEN_TAG:k++,OPEN_TAG_SLASH:k++,ATTRIB:k++,ATTRIB_NAME:k++,ATTRIB_NAME_SAW_WHITE:k++,ATTRIB_VALUE:k++,ATTRIB_VALUE_QUOTED:k++,ATTRIB_VALUE_CLOSED:k++,ATTRIB_VALUE_UNQUOTED:k++,ATTRIB_VALUE_ENTITY_Q:k++,ATTRIB_VALUE_ENTITY_U:k++,CLOSE_TAG:k++,CLOSE_TAG_SAW_WHITE:k++,SCRIPT:k++,SCRIPT_ENDING:k++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach((function(t){var r=e.ENTITIES[t],n="number"==typeof r?String.fromCharCode(r):r;e.ENTITIES[t]=n})),e.STATE)e.STATE[e.STATE[S]]=S;function T(e,t,r){e[t]&&e[t](r)}function _(e,t,r){e.textNode&&A(e),T(e,t,r)}function A(e){e.textNode=C(e.opt,e.textNode),e.textNode&&T(e,"ontext",e.textNode),e.textNode=""}function C(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function N(e,t){return A(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,T(e,"onerror",t),e}function I(e){return e.sawRoot&&!e.closedRoot&&O(e,"Unclosed root tag"),e.state!==k.BEGIN&&e.state!==k.BEGIN_WHITESPACE&&e.state!==k.TEXT&&N(e,"Unexpected end"),A(e),e.c="",e.closed=!0,T(e,"onend"),n.call(e,e.strict,e.opt),e}function O(e,t){if("object"!=typeof e||!(e instanceof n))throw new Error("bad call to strictFail");e.strict&&N(e,t)}function P(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,r=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(r.ns=t.ns),e.attribList.length=0,_(e,"onopentagstart",r)}function R(e,t){var r=e.indexOf(":")<0?["",e]:e.split(":"),n=r[0],o=r[1];return t&&"xmlns"===e&&(n="xmlns",o=""),{prefix:n,local:o}}function D(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=R(e.attribName,!0),r=t.prefix,n=t.local;if("xmlns"===r)if("xml"===n&&e.attribValue!==l)O(e,"xml: prefix must be bound to "+l+"\nActual: "+e.attribValue);else if("xmlns"===n&&e.attribValue!==c)O(e,"xmlns: prefix must be bound to "+c+"\nActual: "+e.attribValue);else{var o=e.tag,a=e.tags[e.tags.length-1]||e;o.ns===a.ns&&(o.ns=Object.create(a.ns)),o.ns[n]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,_(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function L(e,t){if(e.opt.xmlns){var r=e.tag,n=R(e.tagName);r.prefix=n.prefix,r.local=n.local,r.uri=r.ns[n.prefix]||"",r.prefix&&!r.uri&&(O(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),r.uri=n.prefix);var o=e.tags[e.tags.length-1]||e;r.ns&&o.ns!==r.ns&&Object.keys(r.ns).forEach((function(t){_(e,"onopennamespace",{prefix:t,uri:r.ns[t]})}));for(var a=0,i=e.attribList.length;a<i;a++){var s=e.attribList[a],l=s[0],c=s[1],u=R(l,!0),d=u.prefix,h=u.local,f=""===d?"":r.ns[d]||"",p={name:l,value:c,prefix:d,local:h,uri:f};d&&"xmlns"!==d&&!f&&(O(e,"Unbound namespace prefix: "+JSON.stringify(d)),p.uri=d),e.tag.attributes[l]=p,_(e,"onattribute",p)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),_(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=k.TEXT:e.state=k.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function M(e){if(!e.tagName)return O(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=k.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=k.SCRIPT);_(e,"onscript",e.script),e.script=""}var t=e.tags.length,r=e.tagName;e.strict||(r=r[e.looseCase]());for(var n=r;t--&&e.tags[t].name!==n;)O(e,"Unexpected close tag");if(t<0)return O(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=k.TEXT);e.tagName=r;for(var o=e.tags.length;o-- >t;){var a=e.tag=e.tags.pop();e.tagName=e.tag.name,_(e,"onclosetag",e.tagName);var i={};for(var s in a.ns)i[s]=a.ns[s];var l=e.tags[e.tags.length-1]||e;e.opt.xmlns&&a.ns!==l.ns&&Object.keys(a.ns).forEach((function(t){var r=a.ns[t];_(e,"onclosenamespace",{prefix:t,uri:r})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=k.TEXT}function F(e){var t,r=e.entity,n=r.toLowerCase(),o="";return e.ENTITIES[r]?e.ENTITIES[r]:e.ENTITIES[n]?e.ENTITIES[n]:("#"===(r=n).charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),o=(t=parseInt(r,16)).toString(16)):(r=r.slice(1),o=(t=parseInt(r,10)).toString(10))),r=r.replace(/^0+/,""),isNaN(t)||o.toLowerCase()!==r?(O(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function U(e,t){"<"===t?(e.state=k.OPEN_WAKA,e.startTagPosition=e.position):m(t)||(O(e,"Non-whitespace before first tag."),e.textNode=t,e.state=k.TEXT)}function j(e,t){var r="";return t<e.length&&(r=e.charAt(t)),r}k=e.STATE,String.fromCodePoint||(b=String.fromCharCode,x=Math.floor,E=function(){var e,t,r=[],n=-1,o=arguments.length;if(!o)return"";for(var a="";++n<o;){var i=Number(arguments[n]);if(!isFinite(i)||i<0||i>1114111||x(i)!==i)throw RangeError("Invalid code point: "+i);i<=65535?r.push(i):(e=55296+((i-=65536)>>10),t=i%1024+56320,r.push(e,t)),(n+1===o||r.length>16384)&&(a+=b.apply(null,r),r.length=0)}return a},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:E,configurable:!0,writable:!0}):String.fromCodePoint=E)}(zd)),zd}function vm(){return qp?Kp:(qp=1,Kp={isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}})}function ym(){if(Xp)return Yp;Xp=1;var e=vm().isArray;return Yp={copyOptions:function(e){var t,r={};for(t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r},ensureFlagExists:function(e,t){e in t&&"boolean"==typeof t[e]||(t[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||"number"!=typeof e.spaces&&"string"!=typeof e.spaces)&&(e.spaces=0)},ensureAlwaysArrayExists:function(t){"alwaysArray"in t&&("boolean"==typeof t.alwaysArray||e(t.alwaysArray))||(t.alwaysArray=!1)},ensureKeyExists:function(e,t){e+"Key"in t&&"string"==typeof t[e+"Key"]||(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}}}function wm(){if(Jp)return Qp;Jp=1;var e,t,r=gm(),n=ym(),o=vm().isArray;function a(e){var t=Number(e);if(!isNaN(t))return t;var r=e.toLowerCase();return"true"===r||"false"!==r&&e}function i(r,n){var a;if(e.compact){if(!t[e[r+"Key"]]&&(o(e.alwaysArray)?-1!==e.alwaysArray.indexOf(e[r+"Key"]):e.alwaysArray)&&(t[e[r+"Key"]]=[]),t[e[r+"Key"]]&&!o(t[e[r+"Key"]])&&(t[e[r+"Key"]]=[t[e[r+"Key"]]]),r+"Fn"in e&&"string"==typeof n&&(n=e[r+"Fn"](n,t)),"instruction"===r&&("instructionFn"in e||"instructionNameFn"in e))for(a in n)if(n.hasOwnProperty(a))if("instructionFn"in e)n[a]=e.instructionFn(n[a],a,t);else{var i=n[a];delete n[a],n[e.instructionNameFn(a,i,t)]=i}o(t[e[r+"Key"]])?t[e[r+"Key"]].push(n):t[e[r+"Key"]]=n}else{t[e.elementsKey]||(t[e.elementsKey]=[]);var s={};if(s[e.typeKey]=r,"instruction"===r){for(a in n)if(n.hasOwnProperty(a))break;s[e.nameKey]="instructionNameFn"in e?e.instructionNameFn(a,n,t):a,e.instructionHasAttributes?(s[e.attributesKey]=n[a][e.attributesKey],"instructionFn"in e&&(s[e.attributesKey]=e.instructionFn(s[e.attributesKey],a,t))):("instructionFn"in e&&(n[a]=e.instructionFn(n[a],a,t)),s[e.instructionKey]=n[a])}else r+"Fn"in e&&(n=e[r+"Fn"](n,t)),s[e[r+"Key"]]=n;e.addParent&&(s[e.parentKey]=t),t[e.elementsKey].push(s)}}function s(r){var n;if("attributesFn"in e&&r&&(r=e.attributesFn(r,t)),(e.trim||"attributeValueFn"in e||"attributeNameFn"in e||e.nativeTypeAttributes)&&r)for(n in r)if(r.hasOwnProperty(n)&&(e.trim&&(r[n]=r[n].trim()),e.nativeTypeAttributes&&(r[n]=a(r[n])),"attributeValueFn"in e&&(r[n]=e.attributeValueFn(r[n],n,t)),"attributeNameFn"in e)){var o=r[n];delete r[n],r[e.attributeNameFn(n,r[n],t)]=o}return r}function l(r){var n={};if(r.body&&("xml"===r.name.toLowerCase()||e.instructionHasAttributes)){for(var o,a=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;null!==(o=a.exec(r.body));)n[o[1]]=o[2]||o[3]||o[4];n=s(n)}if("xml"===r.name.toLowerCase()){if(e.ignoreDeclaration)return;t[e.declarationKey]={},Object.keys(n).length&&(t[e.declarationKey][e.attributesKey]=n),e.addParent&&(t[e.declarationKey][e.parentKey]=t)}else{if(e.ignoreInstruction)return;e.trim&&(r.body=r.body.trim());var l={};e.instructionHasAttributes&&Object.keys(n).length?(l[r.name]={},l[r.name][e.attributesKey]=n):l[r.name]=r.body,i("instruction",l)}}function c(r,n){var a;if("object"==typeof r&&(n=r.attributes,r=r.name),n=s(n),"elementNameFn"in e&&(r=e.elementNameFn(r,t)),e.compact){var i;if(a={},!e.ignoreAttributes&&n&&Object.keys(n).length)for(i in a[e.attributesKey]={},n)n.hasOwnProperty(i)&&(a[e.attributesKey][i]=n[i]);!(r in t)&&(o(e.alwaysArray)?-1!==e.alwaysArray.indexOf(r):e.alwaysArray)&&(t[r]=[]),t[r]&&!o(t[r])&&(t[r]=[t[r]]),o(t[r])?t[r].push(a):t[r]=a}else t[e.elementsKey]||(t[e.elementsKey]=[]),(a={})[e.typeKey]="element",a[e.nameKey]=r,!e.ignoreAttributes&&n&&Object.keys(n).length&&(a[e.attributesKey]=n),e.alwaysChildren&&(a[e.elementsKey]=[]),t[e.elementsKey].push(a);a[e.parentKey]=t,t=a}function u(t){e.ignoreText||(t.trim()||e.captureSpacesBetweenElements)&&(e.trim&&(t=t.trim()),e.nativeType&&(t=a(t)),e.sanitize&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),i("text",t))}function d(t){e.ignoreComment||(e.trim&&(t=t.trim()),i("comment",t))}function h(r){var n=t[e.parentKey];e.addParent||delete t[e.parentKey],t=n}function f(t){e.ignoreCdata||(e.trim&&(t=t.trim()),i("cdata",t))}function p(t){e.ignoreDoctype||(t=t.replace(/^ /,""),e.trim&&(t=t.trim()),i("doctype",t))}function m(e){e.note=e}return Qp=function(o,a){var i=r.parser(!0,{}),s={};if(t=s,e=function(t){return e=n.copyOptions(t),n.ensureFlagExists("ignoreDeclaration",e),n.ensureFlagExists("ignoreInstruction",e),n.ensureFlagExists("ignoreAttributes",e),n.ensureFlagExists("ignoreText",e),n.ensureFlagExists("ignoreComment",e),n.ensureFlagExists("ignoreCdata",e),n.ensureFlagExists("ignoreDoctype",e),n.ensureFlagExists("compact",e),n.ensureFlagExists("alwaysChildren",e),n.ensureFlagExists("addParent",e),n.ensureFlagExists("trim",e),n.ensureFlagExists("nativeType",e),n.ensureFlagExists("nativeTypeAttributes",e),n.ensureFlagExists("sanitize",e),n.ensureFlagExists("instructionHasAttributes",e),n.ensureFlagExists("captureSpacesBetweenElements",e),n.ensureAlwaysArrayExists(e),n.ensureKeyExists("declaration",e),n.ensureKeyExists("instruction",e),n.ensureKeyExists("attributes",e),n.ensureKeyExists("text",e),n.ensureKeyExists("comment",e),n.ensureKeyExists("cdata",e),n.ensureKeyExists("doctype",e),n.ensureKeyExists("type",e),n.ensureKeyExists("name",e),n.ensureKeyExists("elements",e),n.ensureKeyExists("parent",e),n.checkFnExists("doctype",e),n.checkFnExists("instruction",e),n.checkFnExists("cdata",e),n.checkFnExists("comment",e),n.checkFnExists("text",e),n.checkFnExists("instructionName",e),n.checkFnExists("elementName",e),n.checkFnExists("attributeName",e),n.checkFnExists("attributeValue",e),n.checkFnExists("attributes",e),e}(a),i.opt={strictEntities:!0},i.onopentag=c,i.ontext=u,i.oncomment=d,i.onclosetag=h,i.onerror=m,i.oncdata=f,i.ondoctype=p,i.onprocessinginstruction=l,i.write(o).close(),s[e.elementsKey]){var g=s[e.elementsKey];delete s[e.elementsKey],s[e.elementsKey]=g,delete s.text}return s}}function bm(){if(em)return Zp;em=1;var e=ym(),t=wm();return Zp=function(r,n){var o,a,i;return o=function(t){var r=e.copyOptions(t);return e.ensureSpacesExists(r),r}(n),a=t(r,o),i="compact"in o&&o.compact?"_parent":"parent",("addParent"in o&&o.addParent?JSON.stringify(a,(function(e,t){return e===i?"_":t}),o.spaces):JSON.stringify(a,null,o.spaces)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}}function xm(){if(rm)return tm;rm=1;var e,t,r=ym(),n=vm().isArray;function o(e,t,r){return(!r&&e.spaces?"\n":"")+Array(t+1).join(e.spaces)}function a(r,n,a){if(n.ignoreAttributes)return"";"attributesFn"in n&&(r=n.attributesFn(r,t,e));var i,s,l,c,u=[];for(i in r)r.hasOwnProperty(i)&&null!==r[i]&&void 0!==r[i]&&(c=n.noQuotesForNativeAttributes&&"string"!=typeof r[i]?"":'"',s=(s=""+r[i]).replace(/"/g,"&quot;"),l="attributeNameFn"in n?n.attributeNameFn(i,s,t,e):i,u.push(n.spaces&&n.indentAttributes?o(n,a+1,!1):" "),u.push(l+"="+c+("attributeValueFn"in n?n.attributeValueFn(s,i,t,e):s)+c));return r&&Object.keys(r).length&&n.spaces&&n.indentAttributes&&u.push(o(n,a,!1)),u.join("")}function i(r,n,o){return e=r,t="xml",n.ignoreDeclaration?"":"<?xml"+a(r[n.attributesKey],n,o)+"?>"}function s(r,n,o){if(n.ignoreInstruction)return"";var i;for(i in r)if(r.hasOwnProperty(i))break;var s="instructionNameFn"in n?n.instructionNameFn(i,r[i],t,e):i;if("object"==typeof r[i])return e=r,t=s,"<?"+s+a(r[i][n.attributesKey],n,o)+"?>";var l=r[i]?r[i]:"";return"instructionFn"in n&&(l=n.instructionFn(l,i,t,e)),"<?"+s+(l?" "+l:"")+"?>"}function l(r,n){return n.ignoreComment?"":"\x3c!--"+("commentFn"in n?n.commentFn(r,t,e):r)+"--\x3e"}function c(r,n){return n.ignoreCdata?"":"<![CDATA["+("cdataFn"in n?n.cdataFn(r,t,e):r.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function u(r,n){return n.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in n?n.doctypeFn(r,t,e):r)+">"}function d(r,n){return n.ignoreText?"":(r=(r=(r=""+r).replace(/&amp;/g,"&")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in n?n.textFn(r,t,e):r)}function h(r,n,i,f){return r.reduce((function(r,p){var m=o(n,i,f&&!r);switch(p.type){case"element":return r+m+function(r,n,o){e=r,t=r.name;var i=[],s="elementNameFn"in n?n.elementNameFn(r.name,r):r.name;i.push("<"+s),r[n.attributesKey]&&i.push(a(r[n.attributesKey],n,o));var l=r[n.elementsKey]&&r[n.elementsKey].length||r[n.attributesKey]&&"preserve"===r[n.attributesKey]["xml:space"];return l||(l="fullTagEmptyElementFn"in n?n.fullTagEmptyElementFn(r.name,r):n.fullTagEmptyElement),l?(i.push(">"),r[n.elementsKey]&&r[n.elementsKey].length&&(i.push(h(r[n.elementsKey],n,o+1)),e=r,t=r.name),i.push(n.spaces&&function(e,t){var r;if(e.elements&&e.elements.length)for(r=0;r<e.elements.length;++r)switch(e.elements[r][t.typeKey]){case"text":if(t.indentText)return!0;break;case"cdata":if(t.indentCdata)return!0;break;case"instruction":if(t.indentInstruction)return!0;break;default:return!0}return!1}(r,n)?"\n"+Array(o+1).join(n.spaces):""),i.push("</"+s+">")):i.push("/>"),i.join("")}(p,n,i);case"comment":return r+m+l(p[n.commentKey],n);case"doctype":return r+m+u(p[n.doctypeKey],n);case"cdata":return r+(n.indentCdata?m:"")+c(p[n.cdataKey],n);case"text":return r+(n.indentText?m:"")+d(p[n.textKey],n);case"instruction":var g={};return g[p[n.nameKey]]=p[n.attributesKey]?p:p[n.instructionKey],r+(n.indentInstruction?m:"")+s(g,n,i)}}),"")}function f(e,t,r){var n;for(n in e)if(e.hasOwnProperty(n))switch(n){case t.parentKey:case t.attributesKey:break;case t.textKey:if(t.indentText||r)return!0;break;case t.cdataKey:if(t.indentCdata||r)return!0;break;case t.instructionKey:if(t.indentInstruction||r)return!0;break;case t.doctypeKey:case t.commentKey:default:return!0}return!1}function p(r,n,i,s,l){e=r,t=n;var c="elementNameFn"in i?i.elementNameFn(n,r):n;if(null==r||""===r)return"fullTagEmptyElementFn"in i&&i.fullTagEmptyElementFn(n,r)||i.fullTagEmptyElement?"<"+c+"></"+c+">":"<"+c+"/>";var u=[];if(n){if(u.push("<"+c),"object"!=typeof r)return u.push(">"+d(r,i)+"</"+c+">"),u.join("");r[i.attributesKey]&&u.push(a(r[i.attributesKey],i,s));var h=f(r,i,!0)||r[i.attributesKey]&&"preserve"===r[i.attributesKey]["xml:space"];if(h||(h="fullTagEmptyElementFn"in i?i.fullTagEmptyElementFn(n,r):i.fullTagEmptyElement),!h)return u.push("/>"),u.join("");u.push(">")}return u.push(m(r,i,s+1,!1)),e=r,t=n,n&&u.push((l?o(i,s,!1):"")+"</"+c+">"),u.join("")}function m(e,t,r,a){var h,m,g,v=[];for(m in e)if(e.hasOwnProperty(m))for(g=n(e[m])?e[m]:[e[m]],h=0;h<g.length;++h){switch(m){case t.declarationKey:v.push(i(g[h],t,r));break;case t.instructionKey:v.push((t.indentInstruction?o(t,r,a):"")+s(g[h],t,r));break;case t.attributesKey:case t.parentKey:break;case t.textKey:v.push((t.indentText?o(t,r,a):"")+d(g[h],t));break;case t.cdataKey:v.push((t.indentCdata?o(t,r,a):"")+c(g[h],t));break;case t.doctypeKey:v.push(o(t,r,a)+u(g[h],t));break;case t.commentKey:v.push(o(t,r,a)+l(g[h],t));break;default:v.push(o(t,r,a)+p(g[h],m,t,r,f(g[h],t)))}a=a&&!v.length}return v.join("")}return tm=function(n,o){o=function(e){var t=r.copyOptions(e);return r.ensureFlagExists("ignoreDeclaration",t),r.ensureFlagExists("ignoreInstruction",t),r.ensureFlagExists("ignoreAttributes",t),r.ensureFlagExists("ignoreText",t),r.ensureFlagExists("ignoreComment",t),r.ensureFlagExists("ignoreCdata",t),r.ensureFlagExists("ignoreDoctype",t),r.ensureFlagExists("compact",t),r.ensureFlagExists("indentText",t),r.ensureFlagExists("indentCdata",t),r.ensureFlagExists("indentAttributes",t),r.ensureFlagExists("indentInstruction",t),r.ensureFlagExists("fullTagEmptyElement",t),r.ensureFlagExists("noQuotesForNativeAttributes",t),r.ensureSpacesExists(t),"number"==typeof t.spaces&&(t.spaces=Array(t.spaces+1).join(" ")),r.ensureKeyExists("declaration",t),r.ensureKeyExists("instruction",t),r.ensureKeyExists("attributes",t),r.ensureKeyExists("text",t),r.ensureKeyExists("comment",t),r.ensureKeyExists("cdata",t),r.ensureKeyExists("doctype",t),r.ensureKeyExists("type",t),r.ensureKeyExists("name",t),r.ensureKeyExists("elements",t),r.checkFnExists("doctype",t),r.checkFnExists("instruction",t),r.checkFnExists("cdata",t),r.checkFnExists("comment",t),r.checkFnExists("text",t),r.checkFnExists("instructionName",t),r.checkFnExists("elementName",t),r.checkFnExists("attributeName",t),r.checkFnExists("attributeValue",t),r.checkFnExists("attributes",t),r.checkFnExists("fullTagEmptyElement",t),t}(o);var a=[];return e=n,t="_root_",o.compact?a.push(m(n,o,0,!0)):(n[o.declarationKey]&&a.push(i(n[o.declarationKey],o,0)),n[o.elementsKey]&&n[o.elementsKey].length&&a.push(h(n[o.elementsKey],o,0,!a.length))),a.join("")}}var Em=function(){if(im)return am;im=1;var e=wm(),t=bm(),r=xm(),n=function(){if(om)return nm;om=1;var e=xm();return nm=function(t,r){t instanceof Buffer&&(t=t.toString());var n=null;if("string"==typeof t)try{n=JSON.parse(t)}catch(e){throw new Error("The JSON structure is invalid")}else n=t;return e(n,r)}}();return am={xml2js:e,xml2json:t,js2xml:r,json2xml:n}}();const km=e=>{switch(e.type){case void 0:case"element":const t=new Tm(e.name,e.attributes),r=e.elements||[];for(const e of r){const r=km(e);void 0!==r&&t.push(r)}return t;case"text":return e.text;default:return}};class Sm extends Ld{}class Tm extends Rd{static fromXmlString(e){const t=Em.xml2js(e,{compact:!1});return km(t)}constructor(e,t){super(e),t&&this.root.push(new Sm(t))}push(e){this.root.push(e)}}class _m extends Rd{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class Am extends Rd{constructor(e,t){super(e),t&&(this.root=t.root)}}const Cm=e=>{if(isNaN(e))throw new Error(`Invalid value '${e}' specified. Must be an integer.`);return Math.floor(e)},Nm=e=>{const t=Cm(e);if(t<0)throw new Error(`Invalid value '${e}' specified. Must be a positive integer.`);return t},Im=(e,t)=>{const r=2*t;if(e.length!==r||isNaN(Number(`0x${e}`)))throw new Error(`Invalid hex value '${e}'. Expected ${r} digit hex value`);return e},Om=e=>Im(e,1),Pm=e=>{const t=e.slice(-2),r=e.substring(0,e.length-2);return`${Number(r)}${t}`},Rm=e=>{const t=Pm(e);if(parseFloat(t)<0)throw new Error(`Invalid value '${t}' specified. Expected a positive number.`);return t},Dm=e=>{if("auto"===e)return e;const t="#"===e.charAt(0)?e.substring(1):e;return Im(t,3)},Lm=e=>"string"==typeof e?Pm(e):Cm(e),Mm=e=>"string"==typeof e?Rm(e):Nm(e),Fm=e=>"string"==typeof e?Rm(e):Nm(e),Um=Nm,jm=Nm;class Bm extends Rd{constructor(e,t=!0){super(e),!0!==t&&this.root.push(new Fd({val:t}))}}class zm extends Rd{constructor(e,t){super(e),this.root.push(new Fd({val:Mm(t)}))}}class Wm extends Rd{constructor(e,t){super(e),this.root.push(new Fd({val:t}))}}const Vm=(e,t)=>new Gm({name:e,attributes:{value:{key:"w:val",value:t}}});class Hm extends Rd{constructor(e,t){super(e),this.root.push(new Fd({val:t}))}}class $m extends Rd{constructor(e,t){super(e),this.root.push(t)}}class Gm extends Rd{constructor({name:e,attributes:t,children:r}){super(e),t&&this.root.push(new Md(t)),r&&this.root.push(...r)}}const Km="start",qm="left",Ym="right";class Xm extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{val:"w:val"})}}class Qm extends Rd{constructor(e){super("w:jc"),this.root.push(new Xm({val:e}))}}class Jm extends Rd{constructor(e,{color:t,size:r,space:n,style:o}){super(e),this.root.push(new Zm({style:o,color:void 0===t?void 0:Dm(t),size:void 0===r?void 0:Um(r),space:void 0===n?void 0:jm(n)}))}}class Zm extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const eg="single",tg="none";class rg extends Dd{constructor(e){super("w:pBdr"),e.top&&this.root.push(new Jm("w:top",e.top)),e.bottom&&this.root.push(new Jm("w:bottom",e.bottom)),e.left&&this.root.push(new Jm("w:left",e.left)),e.right&&this.root.push(new Jm("w:right",e.right))}}class ng extends Rd{constructor(){super("w:pBdr");const e=new Jm("w:bottom",{color:"auto",space:1,style:eg,size:6});this.root.push(e)}}class og extends Rd{constructor({start:e,end:t,left:r,right:n,hanging:o,firstLine:a}){super("w:ind"),this.root.push(new Md({start:{key:"w:start",value:void 0===e?void 0:Lm(e)},end:{key:"w:end",value:void 0===t?void 0:Lm(t)},left:{key:"w:left",value:void 0===r?void 0:Lm(r)},right:{key:"w:right",value:void 0===n?void 0:Lm(n)},hanging:{key:"w:hanging",value:void 0===o?void 0:Fm(o)},firstLine:{key:"w:firstLine",value:void 0===a?void 0:Fm(a)}}))}}let ag=class extends Rd{constructor(){super("w:br")}};const ig="begin",sg="end",lg="separate";class cg extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class ug extends Rd{constructor(e){super("w:fldChar"),this.root.push(new cg({type:ig,dirty:e}))}}class dg extends Rd{constructor(e){super("w:fldChar"),this.root.push(new cg({type:lg,dirty:e}))}}class hg extends Rd{constructor(e){super("w:fldChar"),this.root.push(new cg({type:sg,dirty:e}))}}const fg="default",pg="preserve";class mg extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{space:"xml:space"})}}class gg extends Rd{constructor(){super("w:instrText"),this.root.push(new mg({space:pg})),this.root.push("PAGE")}}class vg extends Rd{constructor(){super("w:instrText"),this.root.push(new mg({space:pg})),this.root.push("NUMPAGES")}}class yg extends Rd{constructor(){super("w:instrText"),this.root.push(new mg({space:pg})),this.root.push("SECTIONPAGES")}}class wg extends Rd{constructor(){super("w:instrText"),this.root.push(new mg({space:pg})),this.root.push("SECTION")}}class bg extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class xg extends Rd{constructor({fill:e,color:t,type:r}){super("w:shd"),this.root.push(new bg({fill:void 0===e?void 0:Dm(e),color:void 0===t?void 0:Dm(t),type:r}))}}class Eg extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const kg="dot";class Sg extends Rd{constructor(e){super("w:em"),this.root.push(new Fd({val:e}))}}class Tg extends Sg{constructor(e=kg){super(e)}}class _g extends Rd{constructor(e){super("w:spacing"),this.root.push(new Fd({val:Lm(e)}))}}class Ag extends Rd{constructor(e){super("w:color"),this.root.push(new Fd({val:Dm(e)}))}}class Cg extends Rd{constructor(e){super("w:highlight"),this.root.push(new Fd({val:e}))}}class Ng extends Rd{constructor(e){super("w:highlightCs"),this.root.push(new Fd({val:e}))}}class Ig extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class Og extends Rd{constructor(e,t){if(super("w:rFonts"),"string"==typeof e){const r=e;this.root.push(new Ig({ascii:r,cs:r,eastAsia:r,hAnsi:r,hint:t}))}else{const t=e;this.root.push(new Ig(t))}}}let Pg=class extends Rd{constructor(e){super("w:vertAlign"),this.root.push(new Fd({val:e}))}};class Rg extends Pg{constructor(){super("superscript")}}class Dg extends Pg{constructor(){super("subscript")}}const Lg="single";class Mg extends Rd{constructor(e=Lg,t){super("w:u"),this.root.push(new Fd({val:e,color:void 0===t?void 0:Dm(t)}))}}class Fg extends Dd{constructor(e){var t,r;if(super("w:rPr"),!e)return;void 0!==e.noProof&&this.push(new Bm("w:noProof",e.noProof)),void 0!==e.bold&&this.push(new Bm("w:b",e.bold)),(void 0===e.boldComplexScript&&void 0!==e.bold||e.boldComplexScript)&&this.push(new Bm("w:bCs",null!=(t=e.boldComplexScript)?t:e.bold)),void 0!==e.italics&&this.push(new Bm("w:i",e.italics)),(void 0===e.italicsComplexScript&&void 0!==e.italics||e.italicsComplexScript)&&this.push(new Bm("w:iCs",null!=(r=e.italicsComplexScript)?r:e.italics)),e.underline&&this.push(new Mg(e.underline.type,e.underline.color)),e.effect&&this.push(new Wm("w:effect",e.effect)),e.emphasisMark&&this.push(new Tg(e.emphasisMark.type)),e.color&&this.push(new Ag(e.color)),e.kern&&this.push(new zm("w:kern",e.kern)),e.position&&this.push(new Wm("w:position",e.position)),void 0!==e.size&&this.push(new zm("w:sz",e.size));const n=void 0===e.sizeComplexScript||!0===e.sizeComplexScript?e.size:e.sizeComplexScript;n&&this.push(new zm("w:szCs",n)),void 0!==e.rightToLeft&&this.push(new Bm("w:rtl",e.rightToLeft)),void 0!==e.smallCaps?this.push(new Bm("w:smallCaps",e.smallCaps)):void 0!==e.allCaps&&this.push(new Bm("w:caps",e.allCaps)),void 0!==e.strike&&this.push(new Bm("w:strike",e.strike)),void 0!==e.doubleStrike&&this.push(new Bm("w:dstrike",e.doubleStrike)),e.subScript&&this.push(new Dg),e.superScript&&this.push(new Rg),e.style&&this.push(new Wm("w:rStyle",e.style)),e.font&&("string"==typeof e.font?this.push(new Og(e.font)):"name"in e.font?this.push(new Og(e.font.name,e.font.hint)):this.push(new Og(e.font))),e.highlight&&this.push(new Cg(e.highlight));const o=void 0===e.highlightComplexScript||!0===e.highlightComplexScript?e.highlight:e.highlightComplexScript;o&&this.push(new Ng(o)),e.characterSpacing&&this.push(new _g(e.characterSpacing)),void 0!==e.emboss&&this.push(new Bm("w:emboss",e.emboss)),void 0!==e.imprint&&this.push(new Bm("w:imprint",e.imprint)),e.shading&&this.push(new xg(e.shading)),e.revision&&this.push(new Ug(e.revision)),e.border&&this.push(new Jm("w:bdr",e.border)),void 0!==e.snapToGrid&&this.push(new Bm("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new Bm("w:vanish",e.vanish)),e.specVanish&&this.push(new Bm("w:specVanish",e.vanish)),void 0!==e.scale&&this.push(new Hm("w:w",e.scale)),e.language&&this.push((e=>new Gm({name:"w:lang",attributes:{value:{key:"w:val",value:e.value},eastAsia:{key:"w:eastAsia",value:e.eastAsia},bidirectional:{key:"w:bidi",value:e.bidirectional}}}))(e.language)),e.math&&this.push(new Bm("w:oMath",e.math))}push(e){this.root.push(e)}}class Ug extends Rd{constructor(e){super("w:rPrChange"),this.root.push(new Eg({id:e.id,author:e.author,date:e.date})),this.addChildElement(new Fg(e))}}class jg extends Rd{constructor(e){var t;super("w:t"),"string"==typeof e?(this.root.push(new mg({space:pg})),this.root.push(e)):(this.root.push(new mg({space:null!=(t=e.space)?t:fg})),this.root.push(e.text))}}const Bg="CURRENT",zg="TOTAL_PAGES",Wg="TOTAL_PAGES_IN_SECTION",Vg="SECTION";class Hg extends Rd{constructor(e){if(super("w:r"),Nd(this,"properties"),this.properties=new Fg(e),this.root.push(this.properties),e.break)for(let t=0;t<e.break;t++)this.root.push(new ag);if(e.children)for(const t of e.children)if("string"!=typeof t)this.root.push(t);else switch(t){case Bg:this.root.push(new ug),this.root.push(new gg),this.root.push(new dg),this.root.push(new hg);break;case zg:this.root.push(new ug),this.root.push(new vg),this.root.push(new dg),this.root.push(new hg);break;case Wg:this.root.push(new ug),this.root.push(new yg),this.root.push(new dg),this.root.push(new hg);break;case Vg:this.root.push(new ug),this.root.push(new wg),this.root.push(new dg),this.root.push(new hg);break;default:this.root.push(new jg(t))}else void 0!==e.text&&this.root.push(new jg(e.text))}}class $g extends Hg{constructor(e){super("string"==typeof e?{text:e}:e)}}var Gg,Kg,qg,Yg={},Xg={};function Qg(){if(Kg)return Gg;function e(e,t){if(!e)throw new Error(t||"Assertion failed")}return Kg=1,Gg=e,e.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)},Gg}function Jg(){if(qg)return Xg;qg=1;var e=Qg(),t=Gd();function r(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function n(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function o(e){return 1===e.length?"0"+e:e}function a(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}return Xg.inherits=t,Xg.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),a=0;a<e.length;a+=2)n.push(parseInt(e[a]+e[a+1],16))}else for(var o=0,a=0;a<e.length;a++){var i=e.charCodeAt(a);i<128?n[o++]=i:i<2048?(n[o++]=i>>6|192,n[o++]=63&i|128):r(e,a)?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++a)),n[o++]=i>>18|240,n[o++]=i>>12&63|128,n[o++]=i>>6&63|128,n[o++]=63&i|128):(n[o++]=i>>12|224,n[o++]=i>>6&63|128,n[o++]=63&i|128)}else for(a=0;a<e.length;a++)n[a]=0|e[a];return n},Xg.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=o(e[r].toString(16));return t},Xg.htonl=n,Xg.toHex32=function(e,t){for(var r="",o=0;o<e.length;o++){var i=e[o];"little"===t&&(i=n(i)),r+=a(i.toString(16))}return r},Xg.zero2=o,Xg.zero8=a,Xg.join32=function(t,r,n,o){var a=n-r;e(a%4==0);for(var i=new Array(a/4),s=0,l=r;s<i.length;s++,l+=4){var c;c="big"===o?t[l]<<24|t[l+1]<<16|t[l+2]<<8|t[l+3]:t[l+3]<<24|t[l+2]<<16|t[l+1]<<8|t[l],i[s]=c>>>0}return i},Xg.split32=function(e,t){for(var r=new Array(4*e.length),n=0,o=0;n<e.length;n++,o+=4){var a=e[n];"big"===t?(r[o]=a>>>24,r[o+1]=a>>>16&255,r[o+2]=a>>>8&255,r[o+3]=255&a):(r[o+3]=a>>>24,r[o+2]=a>>>16&255,r[o+1]=a>>>8&255,r[o]=255&a)}return r},Xg.rotr32=function(e,t){return e>>>t|e<<32-t},Xg.rotl32=function(e,t){return e<<t|e>>>32-t},Xg.sum32=function(e,t){return e+t>>>0},Xg.sum32_3=function(e,t,r){return e+t+r>>>0},Xg.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},Xg.sum32_5=function(e,t,r,n,o){return e+t+r+n+o>>>0},Xg.sum64=function(e,t,r,n){var o=e[t],a=n+e[t+1]>>>0,i=(a<n?1:0)+r+o;e[t]=i>>>0,e[t+1]=a},Xg.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},Xg.sum64_lo=function(e,t,r,n){return t+n>>>0},Xg.sum64_4_hi=function(e,t,r,n,o,a,i,s){var l=0,c=t;return l+=(c=c+n>>>0)<t?1:0,l+=(c=c+a>>>0)<a?1:0,e+r+o+i+(l+=(c=c+s>>>0)<s?1:0)>>>0},Xg.sum64_4_lo=function(e,t,r,n,o,a,i,s){return t+n+a+s>>>0},Xg.sum64_5_hi=function(e,t,r,n,o,a,i,s,l,c){var u=0,d=t;return u+=(d=d+n>>>0)<t?1:0,u+=(d=d+a>>>0)<a?1:0,u+=(d=d+s>>>0)<s?1:0,e+r+o+i+l+(u+=(d=d+c>>>0)<c?1:0)>>>0},Xg.sum64_5_lo=function(e,t,r,n,o,a,i,s,l,c){return t+n+a+s+c>>>0},Xg.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},Xg.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},Xg.shr64_hi=function(e,t,r){return e>>>r},Xg.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},Xg}var Zg,ev={};function tv(){if(Zg)return ev;Zg=1;var e=Jg(),t=Qg();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return ev.BlockHash=r,r.prototype.update=function(t,r){if(t=e.toArray(t,r),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var n=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-n,t.length),0===this.pending.length&&(this.pending=null),t=e.join32(t,0,t.length-n,this.endian);for(var o=0;o<t.length;o+=this._delta32)this._update(t,o,o+this._delta32)}return this},r.prototype.digest=function(e){return this.update(this._pad()),t(null===this.pending),this._digest(e)},r.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var o=1;o<r;o++)n[o]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)n[o++]=0;n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=e>>>24&255,n[o++]=e>>>16&255,n[o++]=e>>>8&255,n[o++]=255&e}else for(n[o++]=255&e,n[o++]=e>>>8&255,n[o++]=e>>>16&255,n[o++]=e>>>24&255,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=0,a=8;a<this.padLength;a++)n[o++]=0;return n},ev}var rv,nv,ov,av,iv,sv,lv,cv,uv,dv,hv,fv,pv={},mv={};function gv(){if(rv)return mv;rv=1;var e=Jg().rotr32;function t(e,t,r){return e&t^~e&r}function r(e,t,r){return e&t^e&r^t&r}function n(e,t,r){return e^t^r}return mv.ft_1=function(e,o,a,i){return 0===e?t(o,a,i):1===e||3===e?n(o,a,i):2===e?r(o,a,i):void 0},mv.ch32=t,mv.maj32=r,mv.p32=n,mv.s0_256=function(t){return e(t,2)^e(t,13)^e(t,22)},mv.s1_256=function(t){return e(t,6)^e(t,11)^e(t,25)},mv.g0_256=function(t){return e(t,7)^e(t,18)^t>>>3},mv.g1_256=function(t){return e(t,17)^e(t,19)^t>>>10},mv}function vv(){if(iv)return av;iv=1;var e=Jg(),t=tv(),r=gv(),n=Qg(),o=e.sum32,a=e.sum32_4,i=e.sum32_5,s=r.ch32,l=r.maj32,c=r.s0_256,u=r.s1_256,d=r.g0_256,h=r.g1_256,f=t.BlockHash,p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function m(){if(!(this instanceof m))return new m;f.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=p,this.W=new Array(64)}return e.inherits(m,f),av=m,m.blockSize=512,m.outSize=256,m.hmacStrength=192,m.padLength=64,m.prototype._update=function(e,t){for(var r=this.W,f=0;f<16;f++)r[f]=e[t+f];for(;f<r.length;f++)r[f]=a(h(r[f-2]),r[f-7],d(r[f-15]),r[f-16]);var p=this.h[0],m=this.h[1],g=this.h[2],v=this.h[3],y=this.h[4],w=this.h[5],b=this.h[6],x=this.h[7];for(n(this.k.length===r.length),f=0;f<r.length;f++){var E=i(x,u(y),s(y,w,b),this.k[f],r[f]),k=o(c(p),l(p,m,g));x=b,b=w,w=y,y=o(v,E),v=g,g=m,m=p,p=o(E,k)}this.h[0]=o(this.h[0],p),this.h[1]=o(this.h[1],m),this.h[2]=o(this.h[2],g),this.h[3]=o(this.h[3],v),this.h[4]=o(this.h[4],y),this.h[5]=o(this.h[5],w),this.h[6]=o(this.h[6],b),this.h[7]=o(this.h[7],x)},m.prototype._digest=function(t){return"hex"===t?e.toHex32(this.h,"big"):e.split32(this.h,"big")},av}function yv(){if(uv)return cv;uv=1;var e=Jg(),t=tv(),r=Qg(),n=e.rotr64_hi,o=e.rotr64_lo,a=e.shr64_hi,i=e.shr64_lo,s=e.sum64,l=e.sum64_hi,c=e.sum64_lo,u=e.sum64_4_hi,d=e.sum64_4_lo,h=e.sum64_5_hi,f=e.sum64_5_lo,p=t.BlockHash,m=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function g(){if(!(this instanceof g))return new g;p.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=m,this.W=new Array(160)}function v(e,t,r,n,o){var a=e&r^~e&o;return a<0&&(a+=4294967296),a}function y(e,t,r,n,o,a){var i=t&n^~t&a;return i<0&&(i+=4294967296),i}function w(e,t,r,n,o){var a=e&r^e&o^r&o;return a<0&&(a+=4294967296),a}function b(e,t,r,n,o,a){var i=t&n^t&a^n&a;return i<0&&(i+=4294967296),i}function x(e,t){var r=n(e,t,28)^n(t,e,2)^n(t,e,7);return r<0&&(r+=4294967296),r}function E(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=4294967296),r}function k(e,t){var r=n(e,t,14)^n(e,t,18)^n(t,e,9);return r<0&&(r+=4294967296),r}function S(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=4294967296),r}function T(e,t){var r=n(e,t,1)^n(e,t,8)^a(e,t,7);return r<0&&(r+=4294967296),r}function _(e,t){var r=o(e,t,1)^o(e,t,8)^i(e,t,7);return r<0&&(r+=4294967296),r}function A(e,t){var r=n(e,t,19)^n(t,e,29)^a(e,t,6);return r<0&&(r+=4294967296),r}function C(e,t){var r=o(e,t,19)^o(t,e,29)^i(e,t,6);return r<0&&(r+=4294967296),r}return e.inherits(g,p),cv=g,g.blockSize=1024,g.outSize=512,g.hmacStrength=192,g.padLength=128,g.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var o=A(r[n-4],r[n-3]),a=C(r[n-4],r[n-3]),i=r[n-14],s=r[n-13],l=T(r[n-30],r[n-29]),c=_(r[n-30],r[n-29]),h=r[n-32],f=r[n-31];r[n]=u(o,a,i,s,l,c,h,f),r[n+1]=d(o,a,i,s,l,c,h,f)}},g.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,o=this.h[0],a=this.h[1],i=this.h[2],u=this.h[3],d=this.h[4],p=this.h[5],m=this.h[6],g=this.h[7],T=this.h[8],_=this.h[9],A=this.h[10],C=this.h[11],N=this.h[12],I=this.h[13],O=this.h[14],P=this.h[15];r(this.k.length===n.length);for(var R=0;R<n.length;R+=2){var D=O,L=P,M=k(T,_),F=S(T,_),U=v(T,_,A,C,N),j=y(T,_,A,C,N,I),B=this.k[R],z=this.k[R+1],W=n[R],V=n[R+1],H=h(D,L,M,F,U,j,B,z,W,V),$=f(D,L,M,F,U,j,B,z,W,V);D=x(o,a),L=E(o,a),M=w(o,a,i,u,d),F=b(o,a,i,u,d,p);var G=l(D,L,M,F),K=c(D,L,M,F);O=N,P=I,N=A,I=C,A=T,C=_,T=l(m,g,H,$),_=c(g,g,H,$),m=d,g=p,d=i,p=u,i=o,u=a,o=l(H,$,G,K),a=c(H,$,G,K)}s(this.h,0,o,a),s(this.h,2,i,u),s(this.h,4,d,p),s(this.h,6,m,g),s(this.h,8,T,_),s(this.h,10,A,C),s(this.h,12,N,I),s(this.h,14,O,P)},g.prototype._digest=function(t){return"hex"===t?e.toHex32(this.h,"big"):e.split32(this.h,"big")},cv}function wv(){return fv||(fv=1,pv.sha1=function(){if(ov)return nv;ov=1;var e=Jg(),t=tv(),r=gv(),n=e.rotl32,o=e.sum32,a=e.sum32_5,i=r.ft_1,s=t.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function c(){if(!(this instanceof c))return new c;s.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return e.inherits(c,s),nv=c,c.blockSize=512,c.outSize=160,c.hmacStrength=80,c.padLength=64,c.prototype._update=function(e,t){for(var r=this.W,s=0;s<16;s++)r[s]=e[t+s];for(;s<r.length;s++)r[s]=n(r[s-3]^r[s-8]^r[s-14]^r[s-16],1);var c=this.h[0],u=this.h[1],d=this.h[2],h=this.h[3],f=this.h[4];for(s=0;s<r.length;s++){var p=~~(s/20),m=a(n(c,5),i(p,u,d,h),f,r[s],l[p]);f=h,h=d,d=n(u,30),u=c,c=m}this.h[0]=o(this.h[0],c),this.h[1]=o(this.h[1],u),this.h[2]=o(this.h[2],d),this.h[3]=o(this.h[3],h),this.h[4]=o(this.h[4],f)},c.prototype._digest=function(t){return"hex"===t?e.toHex32(this.h,"big"):e.split32(this.h,"big")},nv}(),pv.sha224=function(){if(lv)return sv;lv=1;var e=Jg(),t=vv();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return e.inherits(r,t),sv=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(t){return"hex"===t?e.toHex32(this.h.slice(0,7),"big"):e.split32(this.h.slice(0,7),"big")},sv}(),pv.sha256=vv(),pv.sha384=function(){if(hv)return dv;hv=1;var e=Jg(),t=yv();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return e.inherits(r,t),dv=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(t){return"hex"===t?e.toHex32(this.h.slice(0,12),"big"):e.split32(this.h.slice(0,12),"big")},dv}(),pv.sha512=yv()),pv}var bv,xv,Ev,kv,Sv,Tv={};kv||(kv=1,(Sv=Yg).utils=Jg(),Sv.common=tv(),Sv.sha=wv(),Sv.ripemd=function(){if(bv)return Tv;bv=1;var e=Jg(),t=tv(),r=e.rotl32,n=e.sum32,o=e.sum32_3,a=e.sum32_4,i=t.BlockHash;function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function l(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function c(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function u(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}e.inherits(s,i),Tv.ripemd160=s,s.blockSize=512,s.outSize=160,s.hmacStrength=192,s.padLength=64,s.prototype._update=function(e,t){for(var i=this.h[0],s=this.h[1],m=this.h[2],g=this.h[3],v=this.h[4],y=i,w=s,b=m,x=g,E=v,k=0;k<80;k++){var S=n(r(a(i,l(k,s,m,g),e[d[k]+t],c(k)),f[k]),v);i=v,v=g,g=r(m,10),m=s,s=S,S=n(r(a(y,l(79-k,w,b,x),e[h[k]+t],u(k)),p[k]),E),y=E,E=x,x=r(b,10),b=w,w=S}S=o(this.h[1],m,x),this.h[1]=o(this.h[2],g,E),this.h[2]=o(this.h[3],v,y),this.h[3]=o(this.h[4],i,w),this.h[4]=o(this.h[0],s,b),this.h[0]=S},s.prototype._digest=function(t){return"hex"===t?e.toHex32(this.h,"little"):e.split32(this.h,"little")};var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return Tv}(),Sv.hmac=function(){if(Ev)return xv;Ev=1;var e=Jg(),t=Qg();function r(t,n,o){if(!(this instanceof r))return new r(t,n,o);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(e.toArray(n,o))}return xv=r,r.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),t(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=(new this.Hash).update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=(new this.Hash).update(e)},r.prototype.update=function(e,t){return this.inner.update(e,t),this},r.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},xv}(),Sv.sha1=Sv.sha.sha1,Sv.sha256=Sv.sha.sha256,Sv.sha224=Sv.sha.sha224,Sv.sha384=Sv.sha.sha384,Sv.sha512=Sv.sha.sha512,Sv.ripemd160=Sv.ripemd.ripemd160);const _v=e=>Math.floor(72*e*20),Av=(e=0)=>{let t=e;return()=>++t},Cv=()=>((e=21)=>{let t="",r=0|e;for(;r--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t})().toLowerCase(),Nv=e=>((e,t=21)=>(r=t)=>{let n="",o=0|r;for(;o--;)n+=e[Math.random()*e.length|0];return n})("1234567890abcdef",e)();class Iv extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class Ov extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class Pv extends Rd{constructor({id:e,initials:t,author:r,date:n=new Date,children:o}){super("w:comment"),this.root.push(new Iv({id:e,initials:t,author:r,date:n.toISOString()}));for(const e of o)this.root.push(e)}}class Rv extends Rd{constructor({children:e}){super("w:comments"),this.root.push(new Ov({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const t of e)this.root.push(new Pv(t))}}class Dv extends Rd{constructor(){super("w:pageBreakBefore")}}const Lv="auto";class Mv extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutoSpacing"})}}class Fv extends Rd{constructor(e){super("w:spacing"),this.root.push(new Mv(e))}}const Uv="Heading1",jv="Heading2";let Bv=class extends Rd{constructor(e){super("w:pStyle"),this.root.push(new Fd({val:e}))}};class zv extends Rd{constructor(e){super("w:tabs");for(const t of e)this.root.push(new $v(t))}}const Wv="left",Vv="right";class Hv extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class $v extends Rd{constructor({type:e,position:t,leader:r}){super("w:tab"),this.root.push(new Hv({val:e,pos:t,leader:r}))}}class Gv extends Rd{constructor(e,t){super("w:numPr"),this.root.push(new Kv(t)),this.root.push(new qv(e))}}class Kv extends Rd{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Fd({val:e}))}}class qv extends Rd{constructor(e){super("w:numId"),this.root.push(new Fd({val:"string"==typeof e?`{${e}}`:e}))}}class Yv extends Rd{constructor(){super(...arguments),Nd(this,"fileChild",Symbol())}}class Xv extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const Qv="External";class Jv extends Rd{constructor(e,t,r,n){super("Relationship"),this.root.push(new Xv({id:e,type:t,target:r,targetMode:n}))}}class Zv extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class ey extends Rd{constructor(e,t,r){super("w:hyperlink"),Nd(this,"linkId"),this.linkId=t;const n={history:1,anchor:r||void 0,id:r?void 0:`rId${this.linkId}`},o=new Zv(n);this.root.push(o),e.forEach((e=>{this.root.push(e)}))}}class ty extends Rd{constructor(e){super("w:externalHyperlink"),this.options=e}}class ry extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class ny extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{id:"w:id"})}}class oy{constructor(e){Nd(this,"bookmarkUniqueNumericId",Av()),Nd(this,"start"),Nd(this,"children"),Nd(this,"end");const t=this.bookmarkUniqueNumericId();this.start=new ay(e.id,t),this.children=e.children,this.end=new iy(t)}}class ay extends Rd{constructor(e,t){super("w:bookmarkStart");const r=new ry({name:e,id:t});this.root.push(r)}}class iy extends Rd{constructor(e){super("w:bookmarkEnd");const t=new ny({id:e});this.root.push(t)}}class sy extends Rd{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new Fd({val:e}))}}class ly extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{verticalAlign:"w:val"})}}class cy extends Rd{constructor(e){super("w:vAlign"),this.root.push(new ly({verticalAlign:e}))}}class uy extends Rd{constructor({space:e,count:t,separate:r,equalWidth:n,children:o}){super("w:cols"),this.root.push(new Md({space:{key:"w:space",value:void 0===e?void 0:Fm(e)},count:{key:"w:num",value:void 0===t?void 0:Cm(t)},separate:{key:"w:sep",value:r},equalWidth:{key:"w:equalWidth",value:n}})),!n&&o&&o.forEach((e=>this.addChildElement(e)))}}class dy extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{type:"w:type",linePitch:"w:linePitch",charSpace:"w:charSpace"})}}class hy extends Rd{constructor(e,t,r){super("w:docGrid"),this.root.push(new dy({type:r,linePitch:Cm(e),charSpace:t?Cm(t):void 0}))}}const fy="default",py="first",my="even";class gy extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const vy="w:headerReference",yy="w:footerReference";class wy extends Rd{constructor(e,t){super(e),this.root.push(new gy({type:t.type||fy,id:`rId${t.id}`}))}}class by extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class xy extends Dd{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new by({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new by({})),e.pageBorderTop&&this.root.push(new Jm("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new Jm("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new Jm("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new Jm("w:right",e.pageBorderRight))}}class Ey extends Rd{constructor(e,t,r,n,o,a,i){super("w:pgMar"),this.root.push(new Md({top:{key:"w:top",value:Lm(e)},right:{key:"w:right",value:Fm(t)},bottom:{key:"w:bottom",value:Lm(r)},left:{key:"w:left",value:Fm(n)},header:{key:"w:header",value:Fm(o)},footer:{key:"w:footer",value:Fm(a)},gutter:{key:"w:gutter",value:Fm(i)}}))}}class ky extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class Sy extends Rd{constructor({start:e,formatType:t,separator:r}){super("w:pgNumType"),this.root.push(new ky({start:void 0===e?void 0:Cm(e),formatType:t,separator:r}))}}const Ty="portrait",_y="landscape";class Ay extends Rd{constructor(e,t,r){super("w:pgSz");const n=r===_y,o=Fm(e),a=Fm(t);this.root.push(new Md({width:{key:"w:w",value:n?a:o},height:{key:"w:h",value:n?o:a},orientation:{key:"w:orient",value:r}}))}}class Cy extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{val:"w:val"})}}class Ny extends Rd{constructor(e){super("w:textDirection"),this.root.push(new Cy({val:e}))}}class Iy extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{val:"w:val"})}}class Oy extends Rd{constructor(e){super("w:type"),this.root.push(new Iy({val:e}))}}const Py=1440,Ry=1440,Dy=1440,Ly=1440,My=708,Fy=708,Uy=0,jy=11906,By=16838,zy=Ty;class Wy extends Rd{constructor({page:{size:{width:e=jy,height:t=By,orientation:r=zy}={},margin:{top:n=Py,right:o=Ry,bottom:a=Dy,left:i=Ly,header:s=My,footer:l=Fy,gutter:c=Uy}={},pageNumbers:u={},borders:d,textDirection:h}={},grid:{linePitch:f=360,charSpace:p,type:m}={},headerWrapperGroup:g={},footerWrapperGroup:v={},lineNumbers:y,titlePage:w,verticalAlign:b,column:x,type:E}={}){super("w:sectPr"),this.addHeaderFooterGroup(vy,g),this.addHeaderFooterGroup(yy,v),E&&this.root.push(new Oy(E)),this.root.push(new Ay(e,t,r)),this.root.push(new Ey(n,o,a,i,s,l,c)),d&&this.root.push(new xy(d)),y&&this.root.push((({countBy:e,start:t,restart:r,distance:n})=>new Gm({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:void 0===e?void 0:Cm(e)},start:{key:"w:start",value:void 0===t?void 0:Cm(t)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:void 0===n?void 0:Fm(n)}}}))(y)),this.root.push(new Sy(u)),x&&this.root.push(new uy(x)),b&&this.root.push(new cy(b)),void 0!==w&&this.root.push(new Bm("w:titlePg",w)),h&&this.root.push(new Ny(h)),this.root.push(new hy(f,p,m))}addHeaderFooterGroup(e,t){t.default&&this.root.push(new wy(e,{type:fy,id:t.default.View.ReferenceId})),t.first&&this.root.push(new wy(e,{type:py,id:t.first.View.ReferenceId})),t.even&&this.root.push(new wy(e,{type:my,id:t.even.View.ReferenceId}))}}class Vy extends Rd{constructor(){super("w:body"),Nd(this,"sections",[])}addSection(e){const t=this.sections.pop();this.root.push(this.createSectionParagraph(t)),this.sections.push(new Wy(e))}prepForXml(e){return 1===this.sections.length&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const t=new tw({}),r=new ew({});return r.push(e),t.addChildElement(r),t}}const Hy={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class $y extends Ld{constructor(e,t){super(Ad({Ignorable:t},Object.fromEntries(e.map((e=>[e,Hy[e]]))))),Nd(this,"xmlKeys",Ad({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(Hy).map((e=>[e,`xmlns:${e}`])))))}}class Gy extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class Ky extends Rd{constructor(e){super("w:background"),this.root.push(new Gy({color:void 0===e.color?void 0:Dm(e.color),themeColor:e.themeColor,themeShade:void 0===e.themeShade?void 0:Om(e.themeShade),themeTint:void 0===e.themeTint?void 0:Om(e.themeTint)}))}}class qy extends Rd{constructor(e){super("w:document"),Nd(this,"body"),this.root.push(new $y(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new Vy,e.background&&this.root.push(new Ky(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class Yy extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{xmlns:"xmlns"})}}class Xy extends Rd{constructor(){super("Relationships"),this.root.push(new Yy({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,t,r,n){const o=new Jv(`rId${e}`,t,r,n);return this.root.push(o),o}get RelationshipCount(){return this.root.length-1}}class Qy{constructor(e){Nd(this,"document"),Nd(this,"relationships"),this.document=new qy(e),this.relationships=new Xy}get View(){return this.document}get Relationships(){return this.relationships}}class Jy extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{val:"w:val"})}}class Zy extends Rd{constructor(){super("w:wordWrap"),this.root.push(new Jy({val:0}))}}class ew extends Dd{constructor(e){var t,r;if(super("w:pPr"),Nd(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new Bv(e.heading)),e.bullet&&this.push(new Bv("ListParagraph")),e.numbering&&(e.style||e.heading||e.numbering.custom||this.push(new Bv("ListParagraph"))),e.style&&this.push(new Bv(e.style)),void 0!==e.keepNext&&this.push(new Bm("w:keepNext",e.keepNext)),void 0!==e.keepLines&&this.push(new Bm("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new Dv),e.frame&&this.push((e=>{var t,r;return new Gm({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:e.anchorLock},dropCap:{key:"w:dropCap",value:e.dropCap},width:{key:"w:w",value:e.width},height:{key:"w:h",value:e.height},x:{key:"w:x",value:e.position?e.position.x:void 0},y:{key:"w:y",value:e.position?e.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:e.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:e.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:null==(t=e.space)?void 0:t.horizontal},spaceVertical:{key:"w:vSpace",value:null==(r=e.space)?void 0:r.vertical},rule:{key:"w:hRule",value:e.rule},alignmentX:{key:"w:xAlign",value:e.alignment?e.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:e.alignment?e.alignment.y:void 0},lines:{key:"w:lines",value:e.lines},wrap:{key:"w:wrap",value:e.wrap}}})})(e.frame)),void 0!==e.widowControl&&this.push(new Bm("w:widowControl",e.widowControl)),e.bullet&&this.push(new Gv(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:null!=(t=e.numbering.instance)?t:0}),this.push(new Gv(`${e.numbering.reference}-${null!=(r=e.numbering.instance)?r:0}`,e.numbering.level))):!1===e.numbering&&this.push(new Gv(0,0)),e.border&&this.push(new rg(e.border)),e.thematicBreak&&this.push(new ng),e.shading&&this.push(new xg(e.shading)),e.wordWrap&&this.push(new Zy),e.overflowPunctuation&&this.push(new Bm("w:overflowPunct",e.overflowPunctuation));const n=[...void 0!==e.rightTabStop?[{type:Vv,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...void 0!==e.leftTabStop?[{type:Wv,position:e.leftTabStop}]:[]];n.length>0&&this.push(new zv(n)),void 0!==e.bidirectional&&this.push(new Bm("w:bidi",e.bidirectional)),e.spacing&&this.push(new Fv(e.spacing)),e.indent&&this.push(new og(e.indent)),void 0!==e.contextualSpacing&&this.push(new Bm("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new Qm(e.alignment)),void 0!==e.outlineLevel&&this.push(new sy(e.outlineLevel)),void 0!==e.suppressLineNumbers&&this.push(new Bm("w:suppressLineNumbers",e.suppressLineNumbers)),void 0!==e.autoSpaceEastAsianText&&this.push(new Bm("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new Fg(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof Qy)for(const t of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(t.reference,t.instance);return super.prepForXml(e)}}class tw extends Yv{constructor(e){if(super("w:p"),Nd(this,"properties"),"string"==typeof e)return this.properties=new ew({}),this.root.push(this.properties),this.root.push(new $g(e)),this;if(this.properties=new ew(e),this.root.push(this.properties),e.text&&this.root.push(new $g(e.text)),e.children)for(const t of e.children)if(t instanceof oy){this.root.push(t.start);for(const e of t.children)this.root.push(e);this.root.push(t.end)}else this.root.push(t)}prepForXml(e){for(const t of this.root)if(t instanceof ty){const r=this.root.indexOf(t),n=new ey(t.options.children,Cv());e.viewWrapper.Relationships.createRelationship(n.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",t.options.link,Qv),this.root[r]=n}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const rw={style:tg,size:0,color:"auto"},nw={style:eg,size:4,color:"auto"};class ow extends Rd{constructor(e){super("w:tblBorders"),e.top?this.root.push(new Jm("w:top",e.top)):this.root.push(new Jm("w:top",nw)),e.left?this.root.push(new Jm("w:left",e.left)):this.root.push(new Jm("w:left",nw)),e.bottom?this.root.push(new Jm("w:bottom",e.bottom)):this.root.push(new Jm("w:bottom",nw)),e.right?this.root.push(new Jm("w:right",e.right)):this.root.push(new Jm("w:right",nw)),e.insideHorizontal?this.root.push(new Jm("w:insideH",e.insideHorizontal)):this.root.push(new Jm("w:insideH",nw)),e.insideVertical?this.root.push(new Jm("w:insideV",e.insideVertical)):this.root.push(new Jm("w:insideV",nw))}}Nd(ow,"NONE",{top:rw,bottom:rw,left:rw,right:rw,insideHorizontal:rw,insideVertical:rw});class aw extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class iw extends Rd{constructor(){super("Properties"),this.root.push(new aw({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class sw extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{xmlns:"xmlns"})}}class lw extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class cw extends Rd{constructor(e,t){super("Default"),this.root.push(new lw({contentType:e,extension:t}))}}class uw extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class dw extends Rd{constructor(e,t){super("Override"),this.root.push(new uw({contentType:e,partName:t}))}}class hw extends Rd{constructor(){super("Types"),this.root.push(new sw({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new cw("image/png","png")),this.root.push(new cw("image/jpeg","jpeg")),this.root.push(new cw("image/jpeg","jpg")),this.root.push(new cw("image/bmp","bmp")),this.root.push(new cw("image/gif","gif")),this.root.push(new cw("image/svg+xml","svg")),this.root.push(new cw("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new cw("application/xml","xml")),this.root.push(new cw("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new dw("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new dw("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new dw("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new dw("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new dw("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new dw("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new dw("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new dw("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new dw("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new dw("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new dw("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new dw("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class fw extends Rd{constructor(e){super("cp:coreProperties"),this.root.push(new $y(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new $m("dc:title",e.title)),e.subject&&this.root.push(new $m("dc:subject",e.subject)),e.creator&&this.root.push(new $m("dc:creator",e.creator)),e.keywords&&this.root.push(new $m("cp:keywords",e.keywords)),e.description&&this.root.push(new $m("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new $m("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new $m("cp:revision",String(e.revision))),this.root.push(new mw("dcterms:created")),this.root.push(new mw("dcterms:modified"))}}class pw extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{type:"xsi:type"})}}class mw extends Rd{constructor(e){super(e),this.root.push(new pw({type:"dcterms:W3CDTF"})),this.root.push((new Date).toISOString())}}class gw extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class vw extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class yw extends Rd{constructor(e,t){super("property"),this.root.push(new vw({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:t.name})),this.root.push(new ww(t.value))}}class ww extends Rd{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class bw extends Rd{constructor(e){super("Properties"),Nd(this,"nextId"),Nd(this,"properties",[]),this.root.push(new gw({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const t of e)this.addCustomProperty(t)}prepForXml(e){return this.properties.forEach((e=>this.root.push(e))),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new yw(this.nextId++,e))}}const xw=({id:e,fontKey:t,subsetted:r},n)=>new Gm({name:n,attributes:Ad({id:{key:"r:id",value:e}},t?{fontKey:{key:"w:fontKey",value:`{${t}}`}}:{}),children:[...r?[new Bm("w:subsetted",r)]:[]]}),Ew=({name:e,index:t,fontKey:r,characterSet:n})=>(({name:e,altName:t,panose1:r,charset:n,family:o,notTrueType:a,pitch:i,sig:s,embedRegular:l,embedBold:c,embedItalic:u,embedBoldItalic:d})=>new Gm({name:"w:font",attributes:{name:{key:"w:name",value:e}},children:[...t?[Vm("w:altName",t)]:[],...r?[Vm("w:panose1",r)]:[],...n?[Vm("w:charset",n)]:[],...o?[Vm("w:family",o)]:[],...a?[new Bm("w:notTrueType",a)]:[],...i?[Vm("w:pitch",i)]:[],...s?[new Gm({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:s.usb0},usb1:{key:"w:usb1",value:s.usb1},usb2:{key:"w:usb2",value:s.usb2},usb3:{key:"w:usb3",value:s.usb3},csb0:{key:"w:csb0",value:s.csb0},csb1:{key:"w:csb1",value:s.csb1}}})]:[],...l?[xw(l,"w:embedRegular")]:[],...c?[xw(c,"w:embedBold")]:[],...u?[xw(u,"w:embedItalic")]:[],...d?[xw(d,"w:embedBoldItalic")]:[]]}))({name:e,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${t}`}});class kw{constructor(e){var t;Nd(this,"fontTable"),Nd(this,"relationships"),Nd(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map((e=>Cd(Ad({},e),{fontKey:`${Nv(8)}-${Nv(4)}-${Nv(4)}-${Nv(4)}-${Nv(12)}`}))),this.fontTable=(t=this.fontOptionsWithKey,new Gm({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map(((e,t)=>Ew({name:e.name,index:t+1,fontKey:e.fontKey})))})),this.relationships=new Xy;for(let t=0;t<e.length;t++)this.relationships.createRelationship(t+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[t].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class Sw extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let Tw=class extends Am{constructor(e,t){super("w:ftr",t),Nd(this,"refId"),this.refId=e,t||this.root.push(new Sw({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class _w{constructor(e,t,r){Nd(this,"footer"),Nd(this,"relationships"),this.media=e,this.footer=new Tw(t,r),this.relationships=new Xy}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class Aw extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class Cw extends Rd{constructor(){super("w:footnoteRef")}}class Nw extends Hg{constructor(){super({style:"FootnoteReference"}),this.root.push(new Cw)}}const Iw="separator",Ow="continuationSeparator";class Pw extends Rd{constructor(e){super("w:footnote"),this.root.push(new Aw({type:e.type,id:e.id}));for(let t=0;t<e.children.length;t++){const r=e.children[t];0===t&&r.addRunToFront(new Nw),this.root.push(r)}}}class Rw extends Rd{constructor(){super("w:continuationSeparator")}}class Dw extends Hg{constructor(){super({}),this.root.push(new Rw)}}class Lw extends Rd{constructor(){super("w:separator")}}class Mw extends Hg{constructor(){super({}),this.root.push(new Lw)}}class Fw extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class Uw extends Rd{constructor(){super("w:footnotes"),this.root.push(new Fw({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new Pw({id:-1,type:Iw,children:[new tw({spacing:{after:0,line:240,lineRule:Lv},children:[new Mw]})]});this.root.push(e);const t=new Pw({id:0,type:Ow,children:[new tw({spacing:{after:0,line:240,lineRule:Lv},children:[new Dw]})]});this.root.push(t)}createFootNote(e,t){const r=new Pw({id:e,children:t});this.root.push(r)}}class jw{constructor(){Nd(this,"footnotess"),Nd(this,"relationships"),this.footnotess=new Uw,this.relationships=new Xy}get View(){return this.footnotess}get Relationships(){return this.relationships}}class Bw extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let zw=class extends Am{constructor(e,t){super("w:hdr",t),Nd(this,"refId"),this.refId=e,t||this.root.push(new Bw({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class Ww{constructor(e,t,r){Nd(this,"header"),Nd(this,"relationships"),this.media=e,this.header=new zw(t,r),this.relationships=new Xy}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class Vw{constructor(){Nd(this,"map"),this.map=new Map}addImage(e,t){this.map.set(e,t)}get Array(){return Array.from(this.map.values())}}const Hw="bullet";class $w extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class Gw extends Rd{constructor(e){super("w:numFmt"),this.root.push(new Fd({val:e}))}}class Kw extends Rd{constructor(e){super("w:lvlText"),this.root.push(new Fd({val:e}))}}class qw extends Rd{constructor(e){super("w:lvlJc"),this.root.push(new Fd({val:e}))}}class Yw extends Rd{constructor(e){super("w:suff"),this.root.push(new Fd({val:e}))}}class Xw extends Rd{constructor(){super("w:isLgl")}}class Qw extends Rd{constructor({level:e,format:t,text:r,alignment:n=Km,start:o=1,style:a,suffix:i,isLegalNumberingStyle:s}){if(super("w:lvl"),Nd(this,"paragraphProperties"),Nd(this,"runProperties"),this.root.push(new Hm("w:start",Cm(o))),t&&this.root.push(new Gw(t)),i&&this.root.push(new Yw(i)),s&&this.root.push(new Xw),r&&this.root.push(new Kw(r)),this.root.push(new qw(n)),this.paragraphProperties=new ew(a&&a.paragraph),this.runProperties=new Fg(a&&a.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new $w({ilvl:Cm(e),tentative:1}))}}class Jw extends Qw{}class Zw extends Rd{constructor(e){super("w:multiLevelType"),this.root.push(new Fd({val:e}))}}class eb extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class tb extends Rd{constructor(e,t){super("w:abstractNum"),Nd(this,"id"),this.root.push(new eb({abstractNumId:Cm(e),restartNumberingAfterBreak:0})),this.root.push(new Zw("hybridMultilevel")),this.id=e;for(const e of t)this.root.push(new Jw(e))}}class rb extends Rd{constructor(e){super("w:abstractNumId"),this.root.push(new Fd({val:e}))}}class nb extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{numId:"w:numId"})}}class ob extends Rd{constructor(e){if(super("w:num"),Nd(this,"numId"),Nd(this,"reference"),Nd(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new nb({numId:Cm(e.numId)})),this.root.push(new rb(Cm(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const t of e.overrideLevels)this.root.push(new ib(t.num,t.start))}}class ab extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{ilvl:"w:ilvl"})}}class ib extends Rd{constructor(e,t){super("w:lvlOverride"),this.root.push(new ab({ilvl:e})),void 0!==t&&this.root.push(new lb(t))}}class sb extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{val:"w:val"})}}class lb extends Rd{constructor(e){super("w:startOverride"),this.root.push(new sb({val:e}))}}class cb extends Rd{constructor(e){super("w:numbering"),Nd(this,"abstractNumberingMap",new Map),Nd(this,"concreteNumberingMap",new Map),Nd(this,"referenceConfigMap",new Map),Nd(this,"abstractNumUniqueNumericId",Av()),Nd(this,"concreteNumUniqueNumericId",Av(1)),this.root.push(new $y(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const t=new tb(this.abstractNumUniqueNumericId(),[{level:0,format:Hw,text:"●",alignment:qm,style:{paragraph:{indent:{left:_v(.5),hanging:_v(.25)}}}},{level:1,format:Hw,text:"○",alignment:qm,style:{paragraph:{indent:{left:_v(1),hanging:_v(.25)}}}},{level:2,format:Hw,text:"■",alignment:qm,style:{paragraph:{indent:{left:2160,hanging:_v(.25)}}}},{level:3,format:Hw,text:"●",alignment:qm,style:{paragraph:{indent:{left:2880,hanging:_v(.25)}}}},{level:4,format:Hw,text:"○",alignment:qm,style:{paragraph:{indent:{left:3600,hanging:_v(.25)}}}},{level:5,format:Hw,text:"■",alignment:qm,style:{paragraph:{indent:{left:4320,hanging:_v(.25)}}}},{level:6,format:Hw,text:"●",alignment:qm,style:{paragraph:{indent:{left:5040,hanging:_v(.25)}}}},{level:7,format:Hw,text:"●",alignment:qm,style:{paragraph:{indent:{left:5760,hanging:_v(.25)}}}},{level:8,format:Hw,text:"●",alignment:qm,style:{paragraph:{indent:{left:6480,hanging:_v(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new ob({numId:1,abstractNumId:t.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",t);for(const t of e.config)this.abstractNumberingMap.set(t.reference,new tb(this.abstractNumUniqueNumericId(),t.levels)),this.referenceConfigMap.set(t.reference,t.levels)}prepForXml(e){for(const e of this.abstractNumberingMap.values())this.root.push(e);for(const e of this.concreteNumberingMap.values())this.root.push(e);return super.prepForXml(e)}createConcreteNumberingInstance(e,t){const r=this.abstractNumberingMap.get(e);if(!r)return;const n=`${e}-${t}`;if(this.concreteNumberingMap.has(n))return;const o=this.referenceConfigMap.get(e),a=o&&o[0].start,i={numId:this.concreteNumUniqueNumericId(),abstractNumId:r.id,reference:e,instance:t,overrideLevels:[a&&Number.isInteger(a)?{num:0,start:a}:{num:0,start:1}]};this.concreteNumberingMap.set(n,new ob(i))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class ub extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class db extends Rd{constructor(e){super("w:compatSetting"),this.root.push(new ub({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class hb extends Rd{constructor(e){super("w:compat"),e.version&&this.root.push(new db(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new Bm("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new Bm("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new Bm("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new Bm("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new Bm("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new Bm("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new Bm("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new Bm("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new Bm("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new Bm("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new Bm("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new Bm("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new Bm("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new Bm("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new Bm("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new Bm("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new Bm("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new Bm("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new Bm("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new Bm("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new Bm("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new Bm("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new Bm("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new Bm("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new Bm("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new Bm("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new Bm("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new Bm("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new Bm("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new Bm("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new Bm("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new Bm("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new Bm("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new Bm("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new Bm("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new Bm("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new Bm("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Bm("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new Bm("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new Bm("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new Bm("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new Bm("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new Bm("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new Bm("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new Bm("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new Bm("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new Bm("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new Bm("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new Bm("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new Bm("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new Bm("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new Bm("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new Bm("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new Bm("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new Bm("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new Bm("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new Bm("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new Bm("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new Bm("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new Bm("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new Bm("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new Bm("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Bm("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new Bm("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new Bm("w:cachedColBalance",e.cachedColumnBalance))}}class fb extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class pb extends Rd{constructor(e){var t,r,n,o,a,i,s,l;super("w:settings"),this.root.push(new fb({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Bm("w:displayBackgroundShape",!0)),void 0!==e.trackRevisions&&this.root.push(new Bm("w:trackRevisions",e.trackRevisions)),void 0!==e.evenAndOddHeaders&&this.root.push(new Bm("w:evenAndOddHeaders",e.evenAndOddHeaders)),void 0!==e.updateFields&&this.root.push(new Bm("w:updateFields",e.updateFields)),void 0!==e.defaultTabStop&&this.root.push(new Hm("w:defaultTabStop",e.defaultTabStop)),void 0!==(null==(t=e.hyphenation)?void 0:t.autoHyphenation)&&this.root.push(new Bm("w:autoHyphenation",e.hyphenation.autoHyphenation)),void 0!==(null==(r=e.hyphenation)?void 0:r.hyphenationZone)&&this.root.push(new Hm("w:hyphenationZone",e.hyphenation.hyphenationZone)),void 0!==(null==(n=e.hyphenation)?void 0:n.consecutiveHyphenLimit)&&this.root.push(new Hm("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),void 0!==(null==(o=e.hyphenation)?void 0:o.doNotHyphenateCaps)&&this.root.push(new Bm("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new hb(Cd(Ad({},null!=(a=e.compatibility)?a:{}),{version:null!=(l=null!=(s=null==(i=e.compatibility)?void 0:i.version)?s:e.compatibilityModeVersion)?l:15})))}}class mb extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{val:"w:val"})}}class gb extends Rd{constructor(e){super("w:name"),this.root.push(new mb({val:e}))}}class vb extends Rd{constructor(e){super("w:uiPriority"),this.root.push(new mb({val:Cm(e)}))}}class yb extends Ld{constructor(){super(...arguments),Nd(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class wb extends Rd{constructor(e,t){super("w:style"),this.root.push(new yb(e)),t.name&&this.root.push(new gb(t.name)),t.basedOn&&this.root.push(new Wm("w:basedOn",t.basedOn)),t.next&&this.root.push(new Wm("w:next",t.next)),t.link&&this.root.push(new Wm("w:link",t.link)),void 0!==t.uiPriority&&this.root.push(new vb(t.uiPriority)),void 0!==t.semiHidden&&this.root.push(new Bm("w:semiHidden",t.semiHidden)),void 0!==t.unhideWhenUsed&&this.root.push(new Bm("w:unhideWhenUsed",t.unhideWhenUsed)),void 0!==t.quickFormat&&this.root.push(new Bm("w:qFormat",t.quickFormat))}}class bb extends wb{constructor(e){super({type:"paragraph",styleId:e.id},e),Nd(this,"paragraphProperties"),Nd(this,"runProperties"),this.paragraphProperties=new ew(e.paragraph),this.runProperties=new Fg(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class xb extends wb{constructor(e){super({type:"character",styleId:e.id},Ad({uiPriority:99,unhideWhenUsed:!0},e)),Nd(this,"runProperties"),this.runProperties=new Fg(e.run),this.root.push(this.runProperties)}}class Eb extends bb{constructor(e){super(Ad({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class kb extends Eb{constructor(e){super(Ad({id:"Title",name:"Title"},e))}}class Sb extends Eb{constructor(e){super(Ad({id:"Heading1",name:"Heading 1"},e))}}class Tb extends Eb{constructor(e){super(Ad({id:"Heading2",name:"Heading 2"},e))}}class _b extends Eb{constructor(e){super(Ad({id:"Heading3",name:"Heading 3"},e))}}class Ab extends Eb{constructor(e){super(Ad({id:"Heading4",name:"Heading 4"},e))}}class Cb extends Eb{constructor(e){super(Ad({id:"Heading5",name:"Heading 5"},e))}}class Nb extends Eb{constructor(e){super(Ad({id:"Heading6",name:"Heading 6"},e))}}class Ib extends Eb{constructor(e){super(Ad({id:"Strong",name:"Strong"},e))}}class Ob extends bb{constructor(e){super(Ad({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class Pb extends bb{constructor(e){super(Ad({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:Lv}},run:{size:20}},e))}}class Rb extends xb{constructor(e){super(Ad({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class Db extends xb{constructor(e){super(Ad({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class Lb extends xb{constructor(e){super(Ad({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:Lg}}},e))}}class Mb extends Rd{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const t of e.importedStyles)this.root.push(t);if(e.paragraphStyles)for(const t of e.paragraphStyles)this.root.push(new bb(t));if(e.characterStyles)for(const t of e.characterStyles)this.root.push(new xb(t))}}class Fb extends Rd{constructor(e){super("w:pPrDefault"),this.root.push(new ew(e))}}class Ub extends Rd{constructor(e){super("w:rPrDefault"),this.root.push(new Fg(e))}}class jb extends Rd{constructor(e){super("w:docDefaults"),Nd(this,"runPropertiesDefaults"),Nd(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new Ub(e.run),this.paragraphPropertiesDefaults=new Fb(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class Bb{newInstance(e){const t=Em.xml2js(e,{compact:!1});let r;for(const e of t.elements||[])"w:styles"===e.name&&(r=e);if(void 0===r)throw new Error("can not find styles element");const n=r.elements||[];return new Mb({initialStyles:new _m(r.attributes),importedStyles:n.map((e=>km(e)))})}}class zb{newInstance(e={}){var t;return{initialStyles:new $y(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new jb(null!=(t=e.document)?t:{}),new kb(Ad({run:{size:56}},e.title)),new Sb(Ad({run:{color:"2E74B5",size:32}},e.heading1)),new Tb(Ad({run:{color:"2E74B5",size:26}},e.heading2)),new _b(Ad({run:{color:"1F4D78",size:24}},e.heading3)),new Ab(Ad({run:{color:"2E74B5",italics:!0}},e.heading4)),new Cb(Ad({run:{color:"2E74B5"}},e.heading5)),new Nb(Ad({run:{color:"1F4D78"}},e.heading6)),new Ib(Ad({run:{bold:!0}},e.strong)),new Ob(e.listParagraph||{}),new Lb(e.hyperlink||{}),new Rb(e.footnoteReference||{}),new Pb(e.footnoteText||{}),new Db(e.footnoteTextChar||{})]}}}class Wb{constructor(e){var t,r,n,o,a,i,s,l,c,u,d,h;if(Nd(this,"currentRelationshipId",1),Nd(this,"documentWrapper"),Nd(this,"headers",[]),Nd(this,"footers",[]),Nd(this,"coreProperties"),Nd(this,"numbering"),Nd(this,"media"),Nd(this,"fileRelationships"),Nd(this,"footnotesWrapper"),Nd(this,"settings"),Nd(this,"contentTypes"),Nd(this,"customProperties"),Nd(this,"appProperties"),Nd(this,"styles"),Nd(this,"comments"),Nd(this,"fontWrapper"),this.coreProperties=new fw(Cd(Ad({},e),{creator:null!=(t=e.creator)?t:"Un-named",revision:null!=(r=e.revision)?r:1,lastModifiedBy:null!=(n=e.lastModifiedBy)?n:"Un-named"})),this.numbering=new cb(e.numbering?e.numbering:{config:[]}),this.comments=new Rv(null!=(o=e.comments)?o:{children:[]}),this.fileRelationships=new Xy,this.customProperties=new bw(null!=(a=e.customProperties)?a:[]),this.appProperties=new iw,this.footnotesWrapper=new jw,this.contentTypes=new hw,this.documentWrapper=new Qy({background:e.background}),this.settings=new pb({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:null==(i=e.features)?void 0:i.trackRevisions,updateFields:null==(s=e.features)?void 0:s.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:null==(l=e.hyphenation)?void 0:l.autoHyphenation,hyphenationZone:null==(c=e.hyphenation)?void 0:c.hyphenationZone,consecutiveHyphenLimit:null==(u=e.hyphenation)?void 0:u.consecutiveHyphenLimit,doNotHyphenateCaps:null==(d=e.hyphenation)?void 0:d.doNotHyphenateCaps}}),this.media=new Vw,void 0!==e.externalStyles){const t=new Bb;this.styles=t.newInstance(e.externalStyles)}else if(e.styles){const t=(new zb).newInstance(e.styles.default);this.styles=new Mb(Ad(Ad({},t),e.styles))}else{const e=new zb;this.styles=new Mb(e.newInstance())}this.addDefaultRelationships();for(const t of e.sections)this.addSection(t);if(e.footnotes)for(const t in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(t),e.footnotes[t].children);this.fontWrapper=new kw(null!=(h=e.fonts)?h:[])}addSection({headers:e={},footers:t={},children:r,properties:n}){this.documentWrapper.View.Body.addSection(Cd(Ad({},n),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:t.default?this.createFooter(t.default):void 0,first:t.first?this.createFooter(t.first):void 0,even:t.even?this.createFooter(t.even):void 0}}));for(const e of r)this.documentWrapper.View.add(e)}createHeader(e){const t=new Ww(this.media,this.currentRelationshipId++);for(const r of e.options.children)t.add(r);return this.addHeaderToDocument(t),t}createFooter(e){const t=new _w(this.media,this.currentRelationshipId++);for(const r of e.options.children)t.add(r);return this.addFooterToDocument(t),t}addHeaderToDocument(e,t=fy){this.headers.push({header:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,t=fy){this.footers.push({footer:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map((e=>e.header))}get Footers(){return this.footers.map((e=>e.footer))}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}var Vb=mm();function Hb(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $b,Gb={exports:{}};const Kb=jd(($b||($b=1,Gb.exports=function e(t,r,n){function o(i,s){if(!r[i]){if(!t[i]){if(!s&&Hb)return Hb(i);if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[i]={exports:{}};t[i][0].call(c.exports,(function(e){return o(t[i][1][e]||e)}),c,c.exports,e,t,r,n)}return r[i].exports}for(var a=Hb,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(e,t,r){var n=e("./utils"),o=e("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(e){for(var t,r,o,i,s,l,c,u=[],d=0,h=e.length,f=h,p="string"!==n.getTypeOf(e);d<e.length;)f=h-d,o=p?(t=e[d++],r=d<h?e[d++]:0,d<h?e[d++]:0):(t=e.charCodeAt(d++),r=d<h?e.charCodeAt(d++):0,d<h?e.charCodeAt(d++):0),i=t>>2,s=(3&t)<<4|r>>4,l=1<f?(15&r)<<2|o>>6:64,c=2<f?63&o:64,u.push(a.charAt(i)+a.charAt(s)+a.charAt(l)+a.charAt(c));return u.join("")},r.decode=function(e){var t,r,n,i,s,l,c=0,u=0,d="data:";if(e.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var h,f=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&f--,e.charAt(e.length-2)===a.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=o.uint8array?new Uint8Array(0|f):new Array(0|f);c<e.length;)t=a.indexOf(e.charAt(c++))<<2|(i=a.indexOf(e.charAt(c++)))>>4,r=(15&i)<<4|(s=a.indexOf(e.charAt(c++)))>>2,n=(3&s)<<6|(l=a.indexOf(e.charAt(c++))),h[u++]=t,64!==s&&(h[u++]=r),64!==l&&(h[u++]=n);return h}},{"./support":30,"./utils":32}],2:[function(e,t,r){var n=e("./external"),o=e("./stream/DataWorker"),a=e("./stream/Crc32Probe"),i=e("./stream/DataLengthProbe");function s(e,t,r,n,o){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=o}s.prototype={getContentWorker:function(){var e=new o(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new i("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new o(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,r){return e.pipe(new a).pipe(new i("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new i("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,r){var n=e("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,r){var n=e("./utils"),o=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==n.getTypeOf(e)?function(e,t,r,n){var a=o,i=n+r;e^=-1;for(var s=n;s<i;s++)e=e>>>8^a[255&(e^t[s])];return~e}(0|t,e,e.length,0):function(e,t,r,n){var a=o,i=n+r;e^=-1;for(var s=n;s<i;s++)e=e>>>8^a[255&(e^t.charCodeAt(s))];return~e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){var n=null;n="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,r){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=e("pako"),a=e("./utils"),i=e("./stream/GenericWorker"),s=n?"uint8array":"array";function l(e,t){i.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}r.magic="\b\0",a.inherits(l,i),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(s,e.data),!1)},l.prototype.flush=function(){i.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},r.compressWorker=function(e){return new l("Deflate",e)},r.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,r){function n(e,t){var r,n="";for(r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n}function o(e,t,r,o,i,u){var d,h,f=e.file,p=e.compression,m=u!==s.utf8encode,g=a.transformTo("string",u(f.name)),v=a.transformTo("string",s.utf8encode(f.name)),y=f.comment,w=a.transformTo("string",u(y)),b=a.transformTo("string",s.utf8encode(y)),x=v.length!==f.name.length,E=b.length!==y.length,k="",S="",T="",_=f.dir,A=f.date,C={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(C.crc32=e.crc32,C.compressedSize=e.compressedSize,C.uncompressedSize=e.uncompressedSize);var N=0;t&&(N|=8),m||!x&&!E||(N|=2048);var I,O,P,R=0,D=0;_&&(R|=16),"UNIX"===i?(D=798,R|=(I=f.unixPermissions,O=_,P=I,I||(P=O?16893:33204),(65535&P)<<16)):(D=20,R|=function(e){return 63&(e||0)}(f.dosPermissions)),d=A.getUTCHours(),d<<=6,d|=A.getUTCMinutes(),d<<=5,d|=A.getUTCSeconds()/2,h=A.getUTCFullYear()-1980,h<<=4,h|=A.getUTCMonth()+1,h<<=5,h|=A.getUTCDate(),x&&(S=n(1,1)+n(l(g),4)+v,k+="up"+n(S.length,2)+S),E&&(T=n(1,1)+n(l(w),4)+b,k+="uc"+n(T.length,2)+T);var L="";return L+="\n\0",L+=n(N,2),L+=p.magic,L+=n(d,2),L+=n(h,2),L+=n(C.crc32,4),L+=n(C.compressedSize,4),L+=n(C.uncompressedSize,4),L+=n(g.length,2),L+=n(k.length,2),{fileRecord:c.LOCAL_FILE_HEADER+L+g+k,dirRecord:c.CENTRAL_FILE_HEADER+n(D,2)+L+n(w.length,2)+"\0\0\0\0"+n(R,4)+n(o,4)+g+k+w}}var a=e("../utils"),i=e("../stream/GenericWorker"),s=e("../utf8"),l=e("../crc32"),c=e("../signature");function u(e,t,r,n){i.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(u,i),u.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,i.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=o(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t,r=this.streamFiles&&!e.file.dir,a=o(e,r,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(a.dirRecord),r)this.push({data:(t=e,c.DATA_DESCRIPTOR+n(t.crc32,4)+n(t.compressedSize,4)+n(t.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:a.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r,o,i,s,l,u,d=this.bytesWritten-e,h=(r=this.dirRecords.length,o=d,i=e,s=this.zipComment,l=this.encodeFileName,u=a.transformTo("string",l(s)),c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(r,2)+n(r,2)+n(o,4)+n(i,4)+n(u.length,2)+u);this.push({data:h,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},u.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!i.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},u.prototype.lock=function(){i.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,r){var n=e("../compressions"),o=e("./ZipFileWorker");r.generateWorker=function(e,t,r){var a=new o(t.streamFiles,r,t.platform,t.encodeFileName),i=0;try{e.forEach((function(e,r){i++;var o=function(e,t){var r=e||t,o=n[r];if(!o)throw new Error(r+" is not a valid compression method !");return o}(r.options.compression,t.compression),s=r.options.compressionOptions||t.compressionOptions||{},l=r.dir,c=r.date;r._compressWorker(o,s).withStreamInfo("file",{name:e,dir:l,date:c,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(a)})),a.entriesCount=i}catch(e){a.error(e)}return a}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,r){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new n;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(n.prototype=e("./object")).loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.10.1",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e("./external"),t.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,r){var n=e("./utils"),o=e("./external"),a=e("./utf8"),i=e("./zipEntries"),s=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function c(e){return new o.Promise((function(t,r){var n=e.decompressed.getContentWorker().pipe(new s);n.on("error",(function(e){r(e)})).on("end",(function(){n.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var r=this;return t=n.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),l.isNode&&l.isStream(e)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var r=new i(t);return r.load(e),r})).then((function(e){var r=[o.Promise.resolve(e)],n=e.files;if(t.checkCRC32)for(var a=0;a<n.length;a++)r.push(c(n[a]));return o.Promise.all(r)})).then((function(e){for(var o=e.shift(),a=o.files,i=0;i<a.length;i++){var s=a[i],l=s.fileNameStr,c=n.resolve(s.fileNameStr);r.file(c,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(r.file(c).unsafeOriginalName=l)}return o.zipComment.length&&(r.comment=o.zipComment),r}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,r){var n=e("../utils"),o=e("../stream/GenericWorker");function a(e,t){o.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(a,o),a.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,r){var n=e("readable-stream").Readable;function o(e,t,r){n.call(this,t),this._helper=e;var o=this;e.on("data",(function(e,t){o.push(e)||o._helper.pause(),r&&r(t)})).on("error",(function(e){o.emit("error",e)})).on("end",(function(){o.push(null)}))}e("../utils").inherits(o,n),o.prototype._read=function(){this._helper.resume()},t.exports=o},{"../utils":32,"readable-stream":16}],14:[function(e,t,r){t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,r){function n(e,t,r){var n,o=a.getTypeOf(t),s=a.extend(r||{},l);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=m(e)),s.createFolders&&(n=p(e))&&g.call(this,n,!0);var d="string"===o&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!d),(t instanceof c&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",o="string");var v=null;v=t instanceof c||t instanceof i?t:h.isNode&&h.isStream(t)?new f(e,t):a.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var y=new u(e,v,s);this.files[e]=y}var o=e("./utf8"),a=e("./utils"),i=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),l=e("./defaults"),c=e("./compressedObject"),u=e("./zipObject"),d=e("./generate"),h=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:l.createFolders,e=m(e),this.files[e]||n.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function v(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,n;for(t in this.files)n=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,n)},filter:function(e){var t=[];return this.forEach((function(r,n){e(r,n)&&t.push(n)})),t},file:function(e,t,r){if(1!==arguments.length)return e=this.root+e,n.call(this,e,t,r),this;if(v(e)){var o=e;return this.filter((function(e,t){return!t.dir&&o.test(e)}))}var a=this.files[this.root+e];return a&&!a.dir?a:null},folder:function(e){if(!e)return this;if(v(e))return this.filter((function(t,r){return r.dir&&e.test(t)}));var t=this.root+e,r=g.call(this,t),n=this.clone();return n.root=r.name,n},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter((function(t,r){return r.name.slice(0,e.length)===e})),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,r={};try{if((r=a.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");a.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var n=r.comment||this.comment||"";t=d.generateWorker(this,r,n)}catch(e){(t=new i("error")).error(e)}return new s(t,r.type||"string",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,r){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,r){var n=e("./DataReader");function o(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(o,n),o.prototype.byteAt=function(e){return this.data[this.zero+e]},o.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),o=e.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===t&&this.data[a+1]===r&&this.data[a+2]===n&&this.data[a+3]===o)return a-this.zero;return-1},o.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),o=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&r===a[1]&&n===a[2]&&o===a[3]},o.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=o},{"../utils":32,"./DataReader":18}],18:[function(e,t,r){var n=e("../utils");function o(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=o},{"../utils":32}],19:[function(e,t,r){var n=e("./Uint8ArrayReader");function o(e){n.call(this,e)}e("../utils").inherits(o,n),o.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,r){var n=e("./DataReader");function o(e){n.call(this,e)}e("../utils").inherits(o,n),o.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},o.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},o.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},o.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=o},{"../utils":32,"./DataReader":18}],21:[function(e,t,r){var n=e("./ArrayReader");function o(e){n.call(this,e)}e("../utils").inherits(o,n),o.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,r){var n=e("../utils"),o=e("../support"),a=e("./ArrayReader"),i=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),"string"!==t||o.uint8array?"nodebuffer"===t?new s(e):o.uint8array?new l(n.transformTo("uint8array",e)):new a(n.transformTo("array",e)):new i(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,r){var n=e("./GenericWorker"),o=e("../utils");function a(e){n.call(this,"ConvertWorker to "+e),this.destType=e}o.inherits(a,n),a.prototype.processChunk=function(e){this.push({data:o.transformTo(this.destType,e.data),meta:e.meta})},t.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,r){var n=e("./GenericWorker"),o=e("../crc32");function a(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(a,n),a.prototype.processChunk=function(e){this.streamInfo.crc32=o(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,r){var n=e("../utils"),o=e("./GenericWorker");function a(e){o.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(a,o),a.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}o.prototype.processChunk.call(this,e)},t.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,r){var n=e("../utils"),o=e("./GenericWorker");function a(e){o.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}n.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,r){function n(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=n},{}],29:[function(e,t,r){var n=e("../utils"),o=e("./ConvertWorker"),a=e("./GenericWorker"),i=e("../base64"),s=e("../support"),l=e("../external"),c=null;if(s.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function u(e,t){return new l.Promise((function(r,o){var a=[],s=e._internalType,l=e._outputType,c=e._mimeType;e.on("data",(function(e,r){a.push(e),t&&t(r)})).on("error",(function(e){a=[],o(e)})).on("end",(function(){try{var e=function(e,t,r){switch(e){case"blob":return n.newBlob(n.transformTo("arraybuffer",t),r);case"base64":return i.encode(t);default:return n.transformTo(e,t)}}(l,function(e,t){var r,n=0,o=null,a=0;for(r=0;r<t.length;r++)a+=t[r].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(o=new Uint8Array(a),r=0;r<t.length;r++)o.set(t[r],n),n+=t[r].length;return o;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,a),c);r(e)}catch(e){o(e)}a=[]})).resume()}))}function d(e,t,r){var i=t;switch(t){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=t,this._mimeType=r,n.checkSupport(i),this._worker=e.pipe(new o(i)),e.lock()}catch(e){this._worker=new a("error"),this._worker.error(e)}}d.prototype={accumulate:function(e){return u(this,e)},on:function(e,t){var r=this;return"data"===e?this._worker.on(e,(function(e){t.call(r,e.data,e.meta)})):this._worker.on(e,(function(){n.delay(t,arguments,r)})),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(n.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer="undefined"!=typeof Buffer,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=0===new Blob([n],{type:"application/zip"}).size}catch(e){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(n),r.blob=0===o.getBlob("application/zip").size}catch(e){r.blob=!1}}}try{r.nodestream=!!e("readable-stream").Readable}catch(e){r.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,r){for(var n=e("./utils"),o=e("./support"),a=e("./nodejsUtils"),i=e("./stream/GenericWorker"),s=new Array(256),l=0;l<256;l++)s[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function c(){i.call(this,"utf-8 decode"),this.leftOver=null}function u(){i.call(this,"utf-8 encode")}s[254]=s[254]=1,r.utf8encode=function(e){return o.nodebuffer?a.newBufferFrom(e,"utf-8"):function(e){var t,r,n,a,i,s=e.length,l=0;for(a=0;a<s;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(n=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=o.uint8array?new Uint8Array(l):new Array(l),a=i=0;i<l;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(n=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),r<128?t[i++]=r:(r<2048?t[i++]=192|r>>>6:(r<65536?t[i++]=224|r>>>12:(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63),t[i++]=128|r>>>6&63),t[i++]=128|63&r);return t}(e)},r.utf8decode=function(e){return o.nodebuffer?n.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,r,o,a,i=e.length,l=new Array(2*i);for(t=r=0;t<i;)if((o=e[t++])<128)l[r++]=o;else if(4<(a=s[o]))l[r++]=65533,t+=a-1;else{for(o&=2===a?31:3===a?15:7;1<a&&t<i;)o=o<<6|63&e[t++],a--;1<a?l[r++]=65533:o<65536?l[r++]=o:(o-=65536,l[r++]=55296|o>>10&1023,l[r++]=56320|1023&o)}return l.length!==r&&(l.subarray?l=l.subarray(0,r):l.length=r),n.applyFromCharCode(l)}(e=n.transformTo(o.uint8array?"uint8array":"array",e))},n.inherits(c,i),c.prototype.processChunk=function(e){var t=n.transformTo(o.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var a=t;(t=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),t.set(a,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var i=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0||0===r?t:r+s[e[r]]>t?r:t}(t),l=t;i!==t.length&&(o.uint8array?(l=t.subarray(0,i),this.leftOver=t.subarray(i,t.length)):(l=t.slice(0,i),this.leftOver=t.slice(i,t.length))),this.push({data:r.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=c,n.inherits(u,i),u.prototype.processChunk=function(e){this.push({data:r.utf8encode(e.data),meta:e.meta})},r.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,r){var n=e("./support"),o=e("./base64"),a=e("./nodejsUtils"),i=e("./external");function s(e){return e}function l(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}e("setimmediate"),r.newBlob=function(e,t){r.checkSupport("blob");try{return new Blob([e],{type:t})}catch(r){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(e),n.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,r){var n=[],o=0,a=e.length;if(a<=r)return String.fromCharCode.apply(null,e);for(;o<a;)"array"===t||"nodebuffer"===t?n.push(String.fromCharCode.apply(null,e.slice(o,Math.min(o+r,a)))):n.push(String.fromCharCode.apply(null,e.subarray(o,Math.min(o+r,a)))),o+=r;return n.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var t=65536,n=r.getTypeOf(e),o=!0;if("uint8array"===n?o=c.applyCanBeUsed.uint8array:"nodebuffer"===n&&(o=c.applyCanBeUsed.nodebuffer),o)for(;1<t;)try{return c.stringifyByChunk(e,n,t)}catch(e){t=Math.floor(t/2)}return c.stringifyByChar(e)}function d(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}r.applyFromCharCode=u;var h={};h.string={string:s,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return h.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,a.allocBuffer(e.length))}},h.array={string:u,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},h.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},h.uint8array={string:u,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return a.newBufferFrom(e)}},h.nodebuffer={string:u,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return h.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:s},r.transformTo=function(e,t){if(t=t||"",!e)return t;r.checkSupport(e);var n=r.getTypeOf(t);return h[n][e](t)},r.resolve=function(e){for(var t=e.split("/"),r=[],n=0;n<t.length;n++){var o=t[n];"."===o||""===o&&0!==n&&n!==t.length-1||(".."===o?r.pop():r.push(o))}return r.join("/")},r.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":n.nodebuffer&&a.isBuffer(e)?"nodebuffer":n.uint8array&&e instanceof Uint8Array?"uint8array":n.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(e){if(!n[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(e){var t,r,n="";for(r=0;r<(e||"").length;r++)n+="\\x"+((t=e.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase();return n},r.delay=function(e,t,r){setImmediate((function(){e.apply(r||null,t||[])}))},r.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r},r.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},r.prepareContent=function(e,t,a,s,c){return i.Promise.resolve(t).then((function(e){return n.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new i.Promise((function(t,r){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){r(e.target.error)},n.readAsArrayBuffer(e)})):e})).then((function(t){var u,d=r.getTypeOf(t);return d?("arraybuffer"===d?t=r.transformTo("uint8array",t):"string"===d&&(c?t=o.decode(t):a&&!0!==s&&(t=l(u=t,n.uint8array?new Uint8Array(u.length):new Array(u.length)))),t):i.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,r){var n=e("./reader/readerFor"),o=e("./utils"),a=e("./signature"),i=e("./zipEntry"),s=e("./support");function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(t)+", expected "+o.pretty(e)+")")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",r=o.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(e=new i({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=t-r;if(0<n)this.isSignature(t,a.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,r){var n=e("./reader/readerFor"),o=e("./utils"),a=e("./compressedObject"),i=e("./crc32"),s=e("./utf8"),l=e("./compressions"),c=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return!(1&~this.bitFlag)},useUTF8:function(){return!(2048&~this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(Object.prototype.hasOwnProperty.call(l,t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=n(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,r,n,o=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<o;)t=e.readInt(2),r=e.readInt(2),n=e.readData(r),this.extraFields[t]={id:t,length:r,value:n};e.setIndex(o)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=o.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var a=o.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)||i(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)||i(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,r){function n(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var o=e("./stream/StreamHelper"),a=e("./stream/DataWorker"),i=e("./utf8"),s=e("./compressedObject"),l=e("./stream/GenericWorker");n.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");var n="string"===(r=e.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!n&&(t=t.pipe(new i.Utf8EncodeWorker)),!a&&n&&(t=t.pipe(new i.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new o(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new i.Utf8EncodeWorker)),s.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof l?this._data:new a(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<c.length;d++)n.prototype[c[d]]=u;t.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){var r,n,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var a=0,i=new o(u),s=e.document.createTextNode("");i.observe(s,{characterData:!0}),r=function(){s.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,r=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;n=!0;for(var r=c.length;r;){for(t=c,c=[],e=-1;++e<r;)t[e]();r=c.length}n=!1}t.exports=function(e){1!==c.push(e)||n||r()}}).call(this,void 0!==Ud?Ud:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,r){var n=e("immediate");function o(){}var a={},i=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==o&&f(this,e)}function u(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function d(e,t,r){n((function(){var n;try{n=t(r)}catch(t){return a.reject(e,t)}n===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,n)}))}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var r=!1;function n(t){r||(r=!0,a.reject(e,t))}function o(t){r||(r=!0,a.resolve(e,t))}var i=p((function(){t(o,n)}));"error"===i.status&&n(i.value)}function p(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}(t.exports=c).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){throw r}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===i)return this;var r=new this.constructor(o);return this.state!==l?d(r,this.state===s?e:t,this.outcome):this.queue.push(new u(r,e,t)),r},u.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){a.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},a.resolve=function(e,t){var r=p(h,t);if("error"===r.status)return a.reject(e,r.value);var n=r.value;if(n)f(e,n);else{e.state=s,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},a.reject=function(e,t){e.state=i,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:a.resolve(new this(o),e)},c.reject=function(e){var t=new this(o);return a.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var i=new Array(r),s=0,l=-1,c=new this(o);++l<r;)u(e[l],l);return c;function u(e,o){t.resolve(e).then((function(e){i[o]=e,++s!==r||n||(n=!0,a.resolve(c,i))}),(function(e){n||(n=!0,a.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var i,s=-1,l=new this(o);++s<r;)i=e[s],t.resolve(i).then((function(e){n||(n=!0,a.resolve(l,e))}),(function(e){n||(n=!0,a.reject(l,e))}));return l}},{immediate:36}],38:[function(e,t,r){var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,r){var n=e("./zlib/deflate"),o=e("./utils/common"),a=e("./utils/strings"),i=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString,c=0,u=-1,d=0,h=8;function f(e){if(!(this instanceof f))return new f(e);this.options=o.assign({level:u,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==c)throw new Error(i[r]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=n.deflateSetDictionary(this.strm,p))!==c)throw new Error(i[r]);this._dict_set=!0}}function p(e,t){var r=new f(t);if(r.push(e,!0),r.err)throw r.msg||i[r.err];return r.result}f.prototype.push=function(e,t){var r,i,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=a.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new o.Buf8(u),s.next_out=0,s.avail_out=u),1!==(r=n.deflate(s,i))&&r!==c)return this.onEnd(r),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(a.buf2binstring(o.shrinkBuf(s.output,s.next_out))):this.onData(o.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==r);return 4===i?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===c):2!==i||(this.onEnd(c),!(s.avail_out=0))},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=f,r.deflate=p,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,r){var n=e("./zlib/inflate"),o=e("./utils/common"),a=e("./utils/strings"),i=e("./zlib/constants"),s=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),u=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,t.windowBits);if(r!==i.Z_OK)throw new Error(s[r]);this.header=new c,n.inflateGetHeader(this.strm,this.header)}function h(e,t){var r=new d(t);if(r.push(e,!0),r.err)throw r.msg||s[r.err];return r.result}d.prototype.push=function(e,t){var r,s,l,c,d,h,f=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?i.Z_FINISH:i.Z_NO_FLUSH,"string"==typeof e?f.input=a.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new o.Buf8(p),f.next_out=0,f.avail_out=p),(r=n.inflate(f,i.Z_NO_FLUSH))===i.Z_NEED_DICT&&m&&(h="string"==typeof m?a.string2buf(m):"[object ArrayBuffer]"===u.call(m)?new Uint8Array(m):m,r=n.inflateSetDictionary(this.strm,h)),r===i.Z_BUF_ERROR&&!0===g&&(r=i.Z_OK,g=!1),r!==i.Z_STREAM_END&&r!==i.Z_OK)return this.onEnd(r),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&r!==i.Z_STREAM_END&&(0!==f.avail_in||s!==i.Z_FINISH&&s!==i.Z_SYNC_FLUSH)||("string"===this.options.to?(l=a.utf8border(f.output,f.next_out),c=f.next_out-l,d=a.buf2string(f.output,l),f.next_out=c,f.avail_out=p-c,c&&o.arraySet(f.output,f.output,l,c,0),this.onData(d)):this.onData(o.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(g=!0)}while((0<f.avail_in||0===f.avail_out)&&r!==i.Z_STREAM_END);return r===i.Z_STREAM_END&&(s=i.Z_FINISH),s===i.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===i.Z_OK):s!==i.Z_SYNC_FLUSH||(this.onEnd(i.Z_OK),!(f.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===i.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=d,r.inflate=h,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},r.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,r){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,r,n,o){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),o);else for(var a=0;a<n;a++)e[o+a]=t[r+a]},flattenChunks:function(e){var t,r,n,o,a,i;for(t=n=0,r=e.length;t<r;t++)n+=e[t].length;for(i=new Uint8Array(n),t=o=0,r=e.length;t<r;t++)a=e[t],i.set(a,o),o+=a.length;return i}},a={arraySet:function(e,t,r,n,o){for(var a=0;a<n;a++)e[o+a]=t[r+a]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,o)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(n)},{}],42:[function(e,t,r){var n=e("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var i=new n.Buf8(256),s=0;s<256;s++)i[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function l(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&o))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var r="",i=0;i<t;i++)r+=String.fromCharCode(e[i]);return r}i[254]=i[254]=1,r.string2buf=function(e){var t,r,o,a,i,s=e.length,l=0;for(a=0;a<s;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(o=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(o-56320),a++),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new n.Buf8(l),a=i=0;i<l;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(o=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(o-56320),a++),r<128?t[i++]=r:(r<2048?t[i++]=192|r>>>6:(r<65536?t[i++]=224|r>>>12:(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63),t[i++]=128|r>>>6&63),t[i++]=128|63&r);return t},r.buf2binstring=function(e){return l(e,e.length)},r.binstring2buf=function(e){for(var t=new n.Buf8(e.length),r=0,o=t.length;r<o;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,n,o,a,s=t||e.length,c=new Array(2*s);for(r=n=0;r<s;)if((o=e[r++])<128)c[n++]=o;else if(4<(a=i[o]))c[n++]=65533,r+=a-1;else{for(o&=2===a?31:3===a?15:7;1<a&&r<s;)o=o<<6|63&e[r++],a--;1<a?c[n++]=65533:o<65536?c[n++]=o:(o-=65536,c[n++]=55296|o>>10&1023,c[n++]=56320|1023&o)}return l(c,n)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0||0===r?t:r+i[e[r]]>t?r:t}},{"./common":41}],43:[function(e,t,r){t.exports=function(e,t,r,n){for(var o=65535&e,a=e>>>16&65535,i=0;0!==r;){for(r-=i=2e3<r?2e3:r;a=a+(o=o+t[n++]|0)|0,--i;);o%=65521,a%=65521}return o|a<<16}},{}],44:[function(e,t,r){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,o){var a=n,i=o+r;e^=-1;for(var s=o;s<i;s++)e=e>>>8^a[255&(e^t[s])];return~e}},{}],46:[function(e,t,r){var n,o=e("../utils/common"),a=e("./trees"),i=e("./adler32"),s=e("./crc32"),l=e("./messages"),c=0,u=4,d=0,h=-2,f=-1,p=4,m=2,g=8,v=9,y=286,w=30,b=19,x=2*y+1,E=15,k=3,S=258,T=S+k+1,_=42,A=113,C=1,N=2,I=3,O=4;function P(e,t){return e.msg=l[t],t}function R(e){return(e<<1)-(4<e?9:0)}function D(e){for(var t=e.length;0<=--t;)e[t]=0}function L(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(o.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function M(e,t){a._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,L(e.strm)}function F(e,t){e.pending_buf[e.pending++]=t}function U(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function j(e,t){var r,n,o=e.max_chain_length,a=e.strstart,i=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-T?e.strstart-(e.w_size-T):0,c=e.window,u=e.w_mask,d=e.prev,h=e.strstart+S,f=c[a+i-1],p=c[a+i];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(r=t)+i]===p&&c[r+i-1]===f&&c[r]===c[a]&&c[++r]===c[a+1]){a+=2,r++;do{}while(c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&a<h);if(n=S-(h-a),a=h-S,i<n){if(e.match_start=t,s<=(i=n))break;f=c[a+i-1],p=c[a+i]}}}while((t=d[t&u])>l&&0!=--o);return i<=e.lookahead?i:e.lookahead}function B(e){var t,r,n,a,l,c,u,d,h,f,p=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-T)){for(o.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=r=e.hash_size;n=e.head[--t],e.head[t]=p<=n?n-p:0,--r;);for(t=r=p;n=e.prev[--t],e.prev[t]=p<=n?n-p:0,--r;);a+=p}if(0===e.strm.avail_in)break;if(c=e.strm,u=e.window,d=e.strstart+e.lookahead,f=void 0,(h=a)<(f=c.avail_in)&&(f=h),r=0===f?0:(c.avail_in-=f,o.arraySet(u,c.input,c.next_in,f,d),1===c.state.wrap?c.adler=i(c.adler,u,f,d):2===c.state.wrap&&(c.adler=s(c.adler,u,f,d)),c.next_in+=f,c.total_in+=f,f),e.lookahead+=r,e.lookahead+e.insert>=k)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+k-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<k)););}while(e.lookahead<T&&0!==e.strm.avail_in)}function z(e,t){for(var r,n;;){if(e.lookahead<T){if(B(e),e.lookahead<T&&t===c)return C;if(0===e.lookahead)break}if(r=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-T&&(e.match_length=j(e,r)),e.match_length>=k)if(n=a._tr_tally(e,e.strstart-e.match_start,e.match_length-k),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=k){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(M(e,!1),0===e.strm.avail_out))return C}return e.insert=e.strstart<k-1?e.strstart:k-1,t===u?(M(e,!0),0===e.strm.avail_out?I:O):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?C:N}function W(e,t){for(var r,n,o;;){if(e.lookahead<T){if(B(e),e.lookahead<T&&t===c)return C;if(0===e.lookahead)break}if(r=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=k-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-T&&(e.match_length=j(e,r),e.match_length<=5&&(1===e.strategy||e.match_length===k&&4096<e.strstart-e.match_start)&&(e.match_length=k-1)),e.prev_length>=k&&e.match_length<=e.prev_length){for(o=e.strstart+e.lookahead-k,n=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-k),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=k-1,e.strstart++,n&&(M(e,!1),0===e.strm.avail_out))return C}else if(e.match_available){if((n=a._tr_tally(e,0,e.window[e.strstart-1]))&&M(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return C}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<k-1?e.strstart:k-1,t===u?(M(e,!0),0===e.strm.avail_out?I:O):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?C:N}function V(e,t,r,n,o){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=o}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*x),this.dyn_dtree=new o.Buf16(2*(2*w+1)),this.bl_tree=new o.Buf16(2*(2*b+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(E+1),this.heap=new o.Buf16(2*y+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*y+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function $(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=m,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?_:A,e.adler=2===t.wrap?0:1,t.last_flush=c,a._tr_init(t),d):P(e,h)}function G(e){var t,r=$(e);return r===d&&((t=e.state).window_size=2*t.w_size,D(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=k-1,t.match_available=0,t.ins_h=0),r}function K(e,t,r,n,a,i){if(!e)return h;var s=1;if(t===f&&(t=6),n<0?(s=0,n=-n):15<n&&(s=2,n-=16),a<1||v<a||r!==g||n<8||15<n||t<0||9<t||i<0||p<i)return P(e,h);8===n&&(n=9);var l=new H;return(e.state=l).strm=e,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+k-1)/k),l.window=new o.Buf8(2*l.w_size),l.head=new o.Buf16(l.hash_size),l.prev=new o.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new o.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=i,l.method=r,G(e)}n=[new V(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(B(e),0===e.lookahead&&t===c)return C;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,M(e,!1),0===e.strm.avail_out))return C;if(e.strstart-e.block_start>=e.w_size-T&&(M(e,!1),0===e.strm.avail_out))return C}return e.insert=0,t===u?(M(e,!0),0===e.strm.avail_out?I:O):(e.strstart>e.block_start&&(M(e,!1),e.strm.avail_out),C)})),new V(4,4,8,4,z),new V(4,5,16,8,z),new V(4,6,32,32,z),new V(4,4,16,16,W),new V(8,16,32,32,W),new V(8,16,128,128,W),new V(8,32,128,256,W),new V(32,128,258,1024,W),new V(32,258,258,4096,W)],r.deflateInit=function(e,t){return K(e,t,g,15,8,0)},r.deflateInit2=K,r.deflateReset=G,r.deflateResetKeep=$,r.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?h:(e.state.gzhead=t,d):h},r.deflate=function(e,t){var r,o,i,l;if(!e||!e.state||5<t||t<0)return e?P(e,h):h;if(o=e.state,!e.output||!e.input&&0!==e.avail_in||666===o.status&&t!==u)return P(e,0===e.avail_out?-5:h);if(o.strm=e,r=o.last_flush,o.last_flush=t,o.status===_)if(2===o.wrap)e.adler=0,F(o,31),F(o,139),F(o,8),o.gzhead?(F(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),F(o,255&o.gzhead.time),F(o,o.gzhead.time>>8&255),F(o,o.gzhead.time>>16&255),F(o,o.gzhead.time>>24&255),F(o,9===o.level?2:2<=o.strategy||o.level<2?4:0),F(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(F(o,255&o.gzhead.extra.length),F(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=s(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(F(o,0),F(o,0),F(o,0),F(o,0),F(o,0),F(o,9===o.level?2:2<=o.strategy||o.level<2?4:0),F(o,3),o.status=A);else{var f=g+(o.w_bits-8<<4)<<8;f|=(2<=o.strategy||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(f|=32),f+=31-f%31,o.status=A,U(o,f),0!==o.strstart&&(U(o,e.adler>>>16),U(o,65535&e.adler)),e.adler=1}if(69===o.status)if(o.gzhead.extra){for(i=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>i&&(e.adler=s(e.adler,o.pending_buf,o.pending-i,i)),L(e),i=o.pending,o.pending!==o.pending_buf_size));)F(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>i&&(e.adler=s(e.adler,o.pending_buf,o.pending-i,i)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){i=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>i&&(e.adler=s(e.adler,o.pending_buf,o.pending-i,i)),L(e),i=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,F(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>i&&(e.adler=s(e.adler,o.pending_buf,o.pending-i,i)),0===l&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){i=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>i&&(e.adler=s(e.adler,o.pending_buf,o.pending-i,i)),L(e),i=o.pending,o.pending===o.pending_buf_size)){l=1;break}l=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,F(o,l)}while(0!==l);o.gzhead.hcrc&&o.pending>i&&(e.adler=s(e.adler,o.pending_buf,o.pending-i,i)),0===l&&(o.status=103)}else o.status=103;if(103===o.status&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&L(e),o.pending+2<=o.pending_buf_size&&(F(o,255&e.adler),F(o,e.adler>>8&255),e.adler=0,o.status=A)):o.status=A),0!==o.pending){if(L(e),0===e.avail_out)return o.last_flush=-1,d}else if(0===e.avail_in&&R(t)<=R(r)&&t!==u)return P(e,-5);if(666===o.status&&0!==e.avail_in)return P(e,-5);if(0!==e.avail_in||0!==o.lookahead||t!==c&&666!==o.status){var p=2===o.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(B(e),0===e.lookahead)){if(t===c)return C;break}if(e.match_length=0,r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(M(e,!1),0===e.strm.avail_out))return C}return e.insert=0,t===u?(M(e,!0),0===e.strm.avail_out?I:O):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?C:N}(o,t):3===o.strategy?function(e,t){for(var r,n,o,i,s=e.window;;){if(e.lookahead<=S){if(B(e),e.lookahead<=S&&t===c)return C;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=k&&0<e.strstart&&(n=s[o=e.strstart-1])===s[++o]&&n===s[++o]&&n===s[++o]){i=e.strstart+S;do{}while(n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&o<i);e.match_length=S-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=k?(r=a._tr_tally(e,1,e.match_length-k),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(M(e,!1),0===e.strm.avail_out))return C}return e.insert=0,t===u?(M(e,!0),0===e.strm.avail_out?I:O):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?C:N}(o,t):n[o.level].func(o,t);if(p!==I&&p!==O||(o.status=666),p===C||p===I)return 0===e.avail_out&&(o.last_flush=-1),d;if(p===N&&(1===t?a._tr_align(o):5!==t&&(a._tr_stored_block(o,0,0,!1),3===t&&(D(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),L(e),0===e.avail_out))return o.last_flush=-1,d}return t!==u?d:o.wrap<=0?1:(2===o.wrap?(F(o,255&e.adler),F(o,e.adler>>8&255),F(o,e.adler>>16&255),F(o,e.adler>>24&255),F(o,255&e.total_in),F(o,e.total_in>>8&255),F(o,e.total_in>>16&255),F(o,e.total_in>>24&255)):(U(o,e.adler>>>16),U(o,65535&e.adler)),L(e),0<o.wrap&&(o.wrap=-o.wrap),0!==o.pending?d:1)},r.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==_&&69!==t&&73!==t&&91!==t&&103!==t&&t!==A&&666!==t?P(e,h):(e.state=null,t===A?P(e,-3):d):h},r.deflateSetDictionary=function(e,t){var r,n,a,s,l,c,u,f,p=t.length;if(!e||!e.state)return h;if(2===(s=(r=e.state).wrap)||1===s&&r.status!==_||r.lookahead)return h;for(1===s&&(e.adler=i(e.adler,t,p,0)),r.wrap=0,p>=r.w_size&&(0===s&&(D(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new o.Buf8(r.w_size),o.arraySet(f,t,p-r.w_size,r.w_size,0),t=f,p=r.w_size),l=e.avail_in,c=e.next_in,u=e.input,e.avail_in=p,e.next_in=0,e.input=t,B(r);r.lookahead>=k;){for(n=r.strstart,a=r.lookahead-(k-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+k-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++,--a;);r.strstart=n,r.lookahead=k-1,B(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=k-1,r.match_available=0,e.next_in=c,e.input=u,e.avail_in=l,r.wrap=s,d},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,r){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){t.exports=function(e,t){var r,n,o,a,i,s,l,c,u,d,h,f,p,m,g,v,y,w,b,x,E,k,S,T,_;r=e.state,n=e.next_in,T=e.input,o=n+(e.avail_in-5),a=e.next_out,_=e.output,i=a-(t-e.avail_out),s=a+(e.avail_out-257),l=r.dmax,c=r.wsize,u=r.whave,d=r.wnext,h=r.window,f=r.hold,p=r.bits,m=r.lencode,g=r.distcode,v=(1<<r.lenbits)-1,y=(1<<r.distbits)-1;e:do{p<15&&(f+=T[n++]<<p,p+=8,f+=T[n++]<<p,p+=8),w=m[f&v];t:for(;;){if(f>>>=b=w>>>24,p-=b,0==(b=w>>>16&255))_[a++]=65535&w;else{if(!(16&b)){if(!(64&b)){w=m[(65535&w)+(f&(1<<b)-1)];continue t}if(32&b){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}x=65535&w,(b&=15)&&(p<b&&(f+=T[n++]<<p,p+=8),x+=f&(1<<b)-1,f>>>=b,p-=b),p<15&&(f+=T[n++]<<p,p+=8,f+=T[n++]<<p,p+=8),w=g[f&y];r:for(;;){if(f>>>=b=w>>>24,p-=b,!(16&(b=w>>>16&255))){if(!(64&b)){w=g[(65535&w)+(f&(1<<b)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(E=65535&w,p<(b&=15)&&(f+=T[n++]<<p,(p+=8)<b&&(f+=T[n++]<<p,p+=8)),l<(E+=f&(1<<b)-1)){e.msg="invalid distance too far back",r.mode=30;break e}if(f>>>=b,p-=b,(b=a-i)<E){if(u<(b=E-b)&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(S=h,(k=0)===d){if(k+=c-b,b<x){for(x-=b;_[a++]=h[k++],--b;);k=a-E,S=_}}else if(d<b){if(k+=c+d-b,(b-=d)<x){for(x-=b;_[a++]=h[k++],--b;);if(k=0,d<x){for(x-=b=d;_[a++]=h[k++],--b;);k=a-E,S=_}}}else if(k+=d-b,b<x){for(x-=b;_[a++]=h[k++],--b;);k=a-E,S=_}for(;2<x;)_[a++]=S[k++],_[a++]=S[k++],_[a++]=S[k++],x-=3;x&&(_[a++]=S[k++],1<x&&(_[a++]=S[k++]))}else{for(k=a-E;_[a++]=_[k++],_[a++]=_[k++],_[a++]=_[k++],2<(x-=3););x&&(_[a++]=_[k++],1<x&&(_[a++]=_[k++]))}break}}break}}while(n<o&&a<s);n-=x=p>>3,f&=(1<<(p-=x<<3))-1,e.next_in=n,e.next_out=a,e.avail_in=n<o?o-n+5:5-(n-o),e.avail_out=a<s?s-a+257:257-(a-s),r.hold=f,r.bits=p}},{}],49:[function(e,t,r){var n=e("../utils/common"),o=e("./adler32"),a=e("./crc32"),i=e("./inffast"),s=e("./inftrees"),l=1,c=2,u=0,d=-2,h=1,f=852,p=592;function m(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=h,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(f),t.distcode=t.distdyn=new n.Buf32(p),t.sane=1,t.back=-1,u):d}function y(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,v(e)):d}function w(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?d:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,y(e))):d}function b(e,t){var r,n;return e?(n=new g,(e.state=n).window=null,(r=w(e,t))!==u&&(e.state=null),r):d}var x,E,k=!0;function S(e){if(k){var t;for(x=new n.Buf32(512),E=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(l,e.lens,0,288,x,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(c,e.lens,0,32,E,0,e.work,{bits:5}),k=!1}e.lencode=x,e.lenbits=9,e.distcode=E,e.distbits=5}function T(e,t,r,o){var a,i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new n.Buf8(i.wsize)),o>=i.wsize?(n.arraySet(i.window,t,r-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):(o<(a=i.wsize-i.wnext)&&(a=o),n.arraySet(i.window,t,r-o,a,i.wnext),(o-=a)?(n.arraySet(i.window,t,r-o,o,0),i.wnext=o,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0}r.inflateReset=y,r.inflateReset2=w,r.inflateResetKeep=v,r.inflateInit=function(e){return b(e,15)},r.inflateInit2=b,r.inflate=function(e,t){var r,f,p,g,v,y,w,b,x,E,k,_,A,C,N,I,O,P,R,D,L,M,F,U,j=0,B=new n.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return d;12===(r=e.state).mode&&(r.mode=13),v=e.next_out,p=e.output,w=e.avail_out,g=e.next_in,f=e.input,y=e.avail_in,b=r.hold,x=r.bits,E=y,k=w,M=u;e:for(;;)switch(r.mode){case h:if(0===r.wrap){r.mode=13;break}for(;x<16;){if(0===y)break e;y--,b+=f[g++]<<x,x+=8}if(2&r.wrap&&35615===b){B[r.check=0]=255&b,B[1]=b>>>8&255,r.check=a(r.check,B,2,0),x=b=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&b)<<8)+(b>>8))%31){e.msg="incorrect header check",r.mode=30;break}if(8!=(15&b)){e.msg="unknown compression method",r.mode=30;break}if(x-=4,L=8+(15&(b>>>=4)),0===r.wbits)r.wbits=L;else if(L>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<L,e.adler=r.check=1,r.mode=512&b?10:12,x=b=0;break;case 2:for(;x<16;){if(0===y)break e;y--,b+=f[g++]<<x,x+=8}if(r.flags=b,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=b>>8&1),512&r.flags&&(B[0]=255&b,B[1]=b>>>8&255,r.check=a(r.check,B,2,0)),x=b=0,r.mode=3;case 3:for(;x<32;){if(0===y)break e;y--,b+=f[g++]<<x,x+=8}r.head&&(r.head.time=b),512&r.flags&&(B[0]=255&b,B[1]=b>>>8&255,B[2]=b>>>16&255,B[3]=b>>>24&255,r.check=a(r.check,B,4,0)),x=b=0,r.mode=4;case 4:for(;x<16;){if(0===y)break e;y--,b+=f[g++]<<x,x+=8}r.head&&(r.head.xflags=255&b,r.head.os=b>>8),512&r.flags&&(B[0]=255&b,B[1]=b>>>8&255,r.check=a(r.check,B,2,0)),x=b=0,r.mode=5;case 5:if(1024&r.flags){for(;x<16;){if(0===y)break e;y--,b+=f[g++]<<x,x+=8}r.length=b,r.head&&(r.head.extra_len=b),512&r.flags&&(B[0]=255&b,B[1]=b>>>8&255,r.check=a(r.check,B,2,0)),x=b=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(y<(_=r.length)&&(_=y),_&&(r.head&&(L=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,f,g,_,L)),512&r.flags&&(r.check=a(r.check,f,_,g)),y-=_,g+=_,r.length-=_),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===y)break e;for(_=0;L=f[g+_++],r.head&&L&&r.length<65536&&(r.head.name+=String.fromCharCode(L)),L&&_<y;);if(512&r.flags&&(r.check=a(r.check,f,_,g)),y-=_,g+=_,L)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===y)break e;for(_=0;L=f[g+_++],r.head&&L&&r.length<65536&&(r.head.comment+=String.fromCharCode(L)),L&&_<y;);if(512&r.flags&&(r.check=a(r.check,f,_,g)),y-=_,g+=_,L)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;x<16;){if(0===y)break e;y--,b+=f[g++]<<x,x+=8}if(b!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}x=b=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;x<32;){if(0===y)break e;y--,b+=f[g++]<<x,x+=8}e.adler=r.check=m(b),x=b=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=v,e.avail_out=w,e.next_in=g,e.avail_in=y,r.hold=b,r.bits=x,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){b>>>=7&x,x-=7&x,r.mode=27;break}for(;x<3;){if(0===y)break e;y--,b+=f[g++]<<x,x+=8}switch(r.last=1&b,x-=1,3&(b>>>=1)){case 0:r.mode=14;break;case 1:if(S(r),r.mode=20,6!==t)break;b>>>=2,x-=2;break e;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}b>>>=2,x-=2;break;case 14:for(b>>>=7&x,x-=7&x;x<32;){if(0===y)break e;y--,b+=f[g++]<<x,x+=8}if((65535&b)!=(b>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&b,x=b=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(_=r.length){if(y<_&&(_=y),w<_&&(_=w),0===_)break e;n.arraySet(p,f,g,_,v),y-=_,g+=_,w-=_,v+=_,r.length-=_;break}r.mode=12;break;case 17:for(;x<14;){if(0===y)break e;y--,b+=f[g++]<<x,x+=8}if(r.nlen=257+(31&b),b>>>=5,x-=5,r.ndist=1+(31&b),b>>>=5,x-=5,r.ncode=4+(15&b),b>>>=4,x-=4,286<r.nlen||30<r.ndist){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;x<3;){if(0===y)break e;y--,b+=f[g++]<<x,x+=8}r.lens[z[r.have++]]=7&b,b>>>=3,x-=3}for(;r.have<19;)r.lens[z[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,F={bits:r.lenbits},M=s(0,r.lens,0,19,r.lencode,0,r.work,F),r.lenbits=F.bits,M){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;I=(j=r.lencode[b&(1<<r.lenbits)-1])>>>16&255,O=65535&j,!((N=j>>>24)<=x);){if(0===y)break e;y--,b+=f[g++]<<x,x+=8}if(O<16)b>>>=N,x-=N,r.lens[r.have++]=O;else{if(16===O){for(U=N+2;x<U;){if(0===y)break e;y--,b+=f[g++]<<x,x+=8}if(b>>>=N,x-=N,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}L=r.lens[r.have-1],_=3+(3&b),b>>>=2,x-=2}else if(17===O){for(U=N+3;x<U;){if(0===y)break e;y--,b+=f[g++]<<x,x+=8}x-=N,L=0,_=3+(7&(b>>>=N)),b>>>=3,x-=3}else{for(U=N+7;x<U;){if(0===y)break e;y--,b+=f[g++]<<x,x+=8}x-=N,L=0,_=11+(127&(b>>>=N)),b>>>=7,x-=7}if(r.have+_>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;_--;)r.lens[r.have++]=L}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,F={bits:r.lenbits},M=s(l,r.lens,0,r.nlen,r.lencode,0,r.work,F),r.lenbits=F.bits,M){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,F={bits:r.distbits},M=s(c,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,F),r.distbits=F.bits,M){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(6<=y&&258<=w){e.next_out=v,e.avail_out=w,e.next_in=g,e.avail_in=y,r.hold=b,r.bits=x,i(e,k),v=e.next_out,p=e.output,w=e.avail_out,g=e.next_in,f=e.input,y=e.avail_in,b=r.hold,x=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;I=(j=r.lencode[b&(1<<r.lenbits)-1])>>>16&255,O=65535&j,!((N=j>>>24)<=x);){if(0===y)break e;y--,b+=f[g++]<<x,x+=8}if(I&&!(240&I)){for(P=N,R=I,D=O;I=(j=r.lencode[D+((b&(1<<P+R)-1)>>P)])>>>16&255,O=65535&j,!(P+(N=j>>>24)<=x);){if(0===y)break e;y--,b+=f[g++]<<x,x+=8}b>>>=P,x-=P,r.back+=P}if(b>>>=N,x-=N,r.back+=N,r.length=O,0===I){r.mode=26;break}if(32&I){r.back=-1,r.mode=12;break}if(64&I){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&I,r.mode=22;case 22:if(r.extra){for(U=r.extra;x<U;){if(0===y)break e;y--,b+=f[g++]<<x,x+=8}r.length+=b&(1<<r.extra)-1,b>>>=r.extra,x-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;I=(j=r.distcode[b&(1<<r.distbits)-1])>>>16&255,O=65535&j,!((N=j>>>24)<=x);){if(0===y)break e;y--,b+=f[g++]<<x,x+=8}if(!(240&I)){for(P=N,R=I,D=O;I=(j=r.distcode[D+((b&(1<<P+R)-1)>>P)])>>>16&255,O=65535&j,!(P+(N=j>>>24)<=x);){if(0===y)break e;y--,b+=f[g++]<<x,x+=8}b>>>=P,x-=P,r.back+=P}if(b>>>=N,x-=N,r.back+=N,64&I){e.msg="invalid distance code",r.mode=30;break}r.offset=O,r.extra=15&I,r.mode=24;case 24:if(r.extra){for(U=r.extra;x<U;){if(0===y)break e;y--,b+=f[g++]<<x,x+=8}r.offset+=b&(1<<r.extra)-1,b>>>=r.extra,x-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===w)break e;if(_=k-w,r.offset>_){if((_=r.offset-_)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}A=_>r.wnext?(_-=r.wnext,r.wsize-_):r.wnext-_,_>r.length&&(_=r.length),C=r.window}else C=p,A=v-r.offset,_=r.length;for(w<_&&(_=w),w-=_,r.length-=_;p[v++]=C[A++],--_;);0===r.length&&(r.mode=21);break;case 26:if(0===w)break e;p[v++]=r.length,w--,r.mode=21;break;case 27:if(r.wrap){for(;x<32;){if(0===y)break e;y--,b|=f[g++]<<x,x+=8}if(k-=w,e.total_out+=k,r.total+=k,k&&(e.adler=r.check=r.flags?a(r.check,p,k,v-k):o(r.check,p,k,v-k)),k=w,(r.flags?b:m(b))!==r.check){e.msg="incorrect data check",r.mode=30;break}x=b=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;x<32;){if(0===y)break e;y--,b+=f[g++]<<x,x+=8}if(b!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}x=b=0}r.mode=29;case 29:M=1;break e;case 30:M=-3;break e;case 31:return-4;default:return d}return e.next_out=v,e.avail_out=w,e.next_in=g,e.avail_in=y,r.hold=b,r.bits=x,(r.wsize||k!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&T(e,e.output,e.next_out,k-e.avail_out)?(r.mode=31,-4):(E-=e.avail_in,k-=e.avail_out,e.total_in+=E,e.total_out+=k,r.total+=k,r.wrap&&k&&(e.adler=r.check=r.flags?a(r.check,p,k,e.next_out-k):o(r.check,p,k,e.next_out-k)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==E&&0===k||4===t)&&M===u&&(M=-5),M)},r.inflateEnd=function(e){if(!e||!e.state)return d;var t=e.state;return t.window&&(t.window=null),e.state=null,u},r.inflateGetHeader=function(e,t){var r;return e&&e.state&&2&(r=e.state).wrap?((r.head=t).done=!1,u):d},r.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?d:11===r.mode&&o(1,t,n,0)!==r.check?-3:T(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,u):d},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,r){var n=e("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],i=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,l,c,u,d,h){var f,p,m,g,v,y,w,b,x,E=h.bits,k=0,S=0,T=0,_=0,A=0,C=0,N=0,I=0,O=0,P=0,R=null,D=0,L=new n.Buf16(16),M=new n.Buf16(16),F=null,U=0;for(k=0;k<=15;k++)L[k]=0;for(S=0;S<l;S++)L[t[r+S]]++;for(A=E,_=15;1<=_&&0===L[_];_--);if(_<A&&(A=_),0===_)return c[u++]=20971520,c[u++]=20971520,h.bits=1,0;for(T=1;T<_&&0===L[T];T++);for(A<T&&(A=T),k=I=1;k<=15;k++)if(I<<=1,(I-=L[k])<0)return-1;if(0<I&&(0===e||1!==_))return-1;for(M[1]=0,k=1;k<15;k++)M[k+1]=M[k]+L[k];for(S=0;S<l;S++)0!==t[r+S]&&(d[M[t[r+S]]++]=S);if(y=0===e?(R=F=d,19):1===e?(R=o,D-=257,F=a,U-=257,256):(R=i,F=s,-1),k=T,v=u,N=S=P=0,m=-1,g=(O=1<<(C=A))-1,1===e&&852<O||2===e&&592<O)return 1;for(;;){for(w=k-N,x=d[S]<y?(b=0,d[S]):d[S]>y?(b=F[U+d[S]],R[D+d[S]]):(b=96,0),f=1<<k-N,T=p=1<<C;c[v+(P>>N)+(p-=f)]=w<<24|b<<16|x,0!==p;);for(f=1<<k-1;P&f;)f>>=1;if(0!==f?(P&=f-1,P+=f):P=0,S++,0==--L[k]){if(k===_)break;k=t[r+d[S]]}if(A<k&&(P&g)!==m){for(0===N&&(N=A),v+=T,I=1<<(C=k-N);C+N<_&&!((I-=L[C+N])<=0);)C++,I<<=1;if(O+=1<<C,1===e&&852<O||2===e&&592<O)return 1;c[m=P&g]=A<<24|C<<16|v-u}}return 0!==P&&(c[v+P]=k-N<<24|64<<16),h.bits=A,0}},{"../utils/common":41}],51:[function(e,t,r){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,r){var n=e("../utils/common"),o=0,a=1;function i(e){for(var t=e.length;0<=--t;)e[t]=0}var s=0,l=29,c=256,u=c+1+l,d=30,h=19,f=2*u+1,p=15,m=16,g=7,v=256,y=16,w=17,b=18,x=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],E=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=new Array(2*(u+2));i(T);var _=new Array(2*d);i(_);var A=new Array(512);i(A);var C=new Array(256);i(C);var N=new Array(l);i(N);var I,O,P,R=new Array(d);function D(e,t,r,n,o){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=o,this.has_stree=e&&e.length}function L(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function M(e){return e<256?A[e]:A[256+(e>>>7)]}function F(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function U(e,t,r){e.bi_valid>m-r?(e.bi_buf|=t<<e.bi_valid&65535,F(e,e.bi_buf),e.bi_buf=t>>m-e.bi_valid,e.bi_valid+=r-m):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function j(e,t,r){U(e,r[2*t],r[2*t+1])}function B(e,t){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--t;);return r>>>1}function z(e,t,r){var n,o,a=new Array(p+1),i=0;for(n=1;n<=p;n++)a[n]=i=i+r[n-1]<<1;for(o=0;o<=t;o++){var s=e[2*o+1];0!==s&&(e[2*o]=B(a[s]++,s))}}function W(e){var t;for(t=0;t<u;t++)e.dyn_ltree[2*t]=0;for(t=0;t<d;t++)e.dyn_dtree[2*t]=0;for(t=0;t<h;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*v]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function V(e){8<e.bi_valid?F(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function H(e,t,r,n){var o=2*t,a=2*r;return e[o]<e[a]||e[o]===e[a]&&n[t]<=n[r]}function $(e,t,r){for(var n=e.heap[r],o=r<<1;o<=e.heap_len&&(o<e.heap_len&&H(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!H(t,n,e.heap[o],e.depth));)e.heap[r]=e.heap[o],r=o,o<<=1;e.heap[r]=n}function G(e,t,r){var n,o,a,i,s=0;if(0!==e.last_lit)for(;n=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],o=e.pending_buf[e.l_buf+s],s++,0===n?j(e,o,t):(j(e,(a=C[o])+c+1,t),0!==(i=x[a])&&U(e,o-=N[a],i),j(e,a=M(--n),r),0!==(i=E[a])&&U(e,n-=R[a],i)),s<e.last_lit;);j(e,v,t)}function K(e,t){var r,n,o,a=t.dyn_tree,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=f,r=0;r<l;r++)0!==a[2*r]?(e.heap[++e.heap_len]=c=r,e.depth[r]=0):a[2*r+1]=0;for(;e.heap_len<2;)a[2*(o=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[o]=0,e.opt_len--,s&&(e.static_len-=i[2*o+1]);for(t.max_code=c,r=e.heap_len>>1;1<=r;r--)$(e,a,r);for(o=l;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],$(e,a,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,a[2*o]=a[2*r]+a[2*n],e.depth[o]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,a[2*r+1]=a[2*n+1]=o,e.heap[1]=o++,$(e,a,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,o,a,i,s,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,g=t.stat_desc.max_length,v=0;for(a=0;a<=p;a++)e.bl_count[a]=0;for(l[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<f;r++)g<(a=l[2*l[2*(n=e.heap[r])+1]+1]+1)&&(a=g,v++),l[2*n+1]=a,c<n||(e.bl_count[a]++,i=0,m<=n&&(i=h[n-m]),s=l[2*n],e.opt_len+=s*(a+i),d&&(e.static_len+=s*(u[2*n+1]+i)));if(0!==v){do{for(a=g-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[g]--,v-=2}while(0<v);for(a=g;0!==a;a--)for(n=e.bl_count[a];0!==n;)c<(o=e.heap[--r])||(l[2*o+1]!==a&&(e.opt_len+=(a-l[2*o+1])*l[2*o],l[2*o+1]=a),n--)}}(e,t),z(a,c,e.bl_count)}function q(e,t,r){var n,o,a=-1,i=t[1],s=0,l=7,c=4;for(0===i&&(l=138,c=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)o=i,i=t[2*(n+1)+1],++s<l&&o===i||(s<c?e.bl_tree[2*o]+=s:0!==o?(o!==a&&e.bl_tree[2*o]++,e.bl_tree[2*y]++):s<=10?e.bl_tree[2*w]++:e.bl_tree[2*b]++,a=o,c=(s=0)===i?(l=138,3):o===i?(l=6,3):(l=7,4))}function Y(e,t,r){var n,o,a=-1,i=t[1],s=0,l=7,c=4;for(0===i&&(l=138,c=3),n=0;n<=r;n++)if(o=i,i=t[2*(n+1)+1],!(++s<l&&o===i)){if(s<c)for(;j(e,o,e.bl_tree),0!=--s;);else 0!==o?(o!==a&&(j(e,o,e.bl_tree),s--),j(e,y,e.bl_tree),U(e,s-3,2)):s<=10?(j(e,w,e.bl_tree),U(e,s-3,3)):(j(e,b,e.bl_tree),U(e,s-11,7));a=o,c=(s=0)===i?(l=138,3):o===i?(l=6,3):(l=7,4)}}i(R);var X=!1;function Q(e,t,r,o){var a,i,l;U(e,(s<<1)+(o?1:0),3),i=t,l=r,V(a=e),F(a,l),F(a,~l),n.arraySet(a.pending_buf,a.window,i,l,a.pending),a.pending+=l}r._tr_init=function(e){X||(function(){var e,t,r,n,o,a=new Array(p+1);for(n=r=0;n<l-1;n++)for(N[n]=r,e=0;e<1<<x[n];e++)C[r++]=n;for(C[r-1]=n,n=o=0;n<16;n++)for(R[n]=o,e=0;e<1<<E[n];e++)A[o++]=n;for(o>>=7;n<d;n++)for(R[n]=o<<7,e=0;e<1<<E[n]-7;e++)A[256+o++]=n;for(t=0;t<=p;t++)a[t]=0;for(e=0;e<=143;)T[2*e+1]=8,e++,a[8]++;for(;e<=255;)T[2*e+1]=9,e++,a[9]++;for(;e<=279;)T[2*e+1]=7,e++,a[7]++;for(;e<=287;)T[2*e+1]=8,e++,a[8]++;for(z(T,u+1,a),e=0;e<d;e++)_[2*e+1]=5,_[2*e]=B(e,5);I=new D(T,x,c+1,u,p),O=new D(_,E,0,d,p),P=new D(new Array(0),k,0,h,g)}(),X=!0),e.l_desc=new L(e.dyn_ltree,I),e.d_desc=new L(e.dyn_dtree,O),e.bl_desc=new L(e.bl_tree,P),e.bi_buf=0,e.bi_valid=0,W(e)},r._tr_stored_block=Q,r._tr_flush_block=function(e,t,r,n){var i,s,l=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(t=32;t<c;t++)if(0!==e.dyn_ltree[2*t])return a;return o}(e)),K(e,e.l_desc),K(e,e.d_desc),l=function(e){var t;for(q(e,e.dyn_ltree,e.l_desc.max_code),q(e,e.dyn_dtree,e.d_desc.max_code),K(e,e.bl_desc),t=h-1;3<=t&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=i&&(i=s)):i=s=r+5,r+4<=i&&-1!==t?Q(e,t,r,n):4===e.strategy||s===i?(U(e,2+(n?1:0),3),G(e,T,_)):(U(e,4+(n?1:0),3),function(e,t,r,n){var o;for(U(e,t-257,5),U(e,r-1,5),U(e,n-4,4),o=0;o<n;o++)U(e,e.bl_tree[2*S[o]+1],3);Y(e,e.dyn_ltree,t-1),Y(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),G(e,e.dyn_ltree,e.dyn_dtree)),W(e),n&&V(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(C[r]+c+1)]++,e.dyn_dtree[2*M(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){var t;U(e,2,3),j(e,v,T),16===(t=e).bi_valid?(F(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":41}],53:[function(e,t,r){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(e,t){if(!e.setImmediate){var r,n,o,a,i=1,s={},l=!1,c=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,r="[object process]"==={}.toString.call(e.process)?function(e){ch.nextTick((function(){h(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(a="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",f,!1):e.attachEvent("onmessage",f),function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){h(e.data)},function(e){o.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(n=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):function(e){setTimeout(h,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return s[i]=o,r(i),i++},u.clearImmediate=d}function d(e){delete s[e]}function h(e){if(l)setTimeout(h,0,e);else{var r=s[e];if(r){l=!0;try{!function(e){var r=e.callback,n=e.args;switch(n.length){case 0:r();break;case 1:r(n[0]);break;case 2:r(n[0],n[1]);break;case 3:r(n[0],n[1],n[2]);break;default:r.apply(t,n)}}(r)}finally{d(e),l=!1}}}}function f(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,void 0!==Ud?Ud:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)),Gb.exports));var qb,Yb,Xb,Qb={exports:{}};const Jb=jd(function(){if(Xb)return Qb.exports;Xb=1;var e=function(){if(Yb)return qb;Yb=1;var e={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};return qb=function(t){return t&&t.replace?t.replace(/([&"<>'])/g,(function(t,r){return e[r]})):t}}(),t=mm().Stream;function r(t,n,o){o=o||0;var a,i,s=(a=n,new Array(o||0).join(a||"")),l=t;if("object"==typeof t&&((l=t[i=Object.keys(t)[0]])&&l._elem))return l._elem.name=i,l._elem.icount=o,l._elem.indent=n,l._elem.indents=s,l._elem.interrupt=l,l._elem;var c,u=[],d=[];function h(t){Object.keys(t).forEach((function(r){u.push(function(t,r){return t+'="'+e(r)+'"'}(r,t[r]))}))}switch(typeof l){case"object":if(null===l)break;l._attr&&h(l._attr),l._cdata&&d.push(("<![CDATA["+l._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),l.forEach&&(c=!1,d.push(""),l.forEach((function(t){"object"==typeof t?"_attr"==Object.keys(t)[0]?h(t._attr):d.push(r(t,n,o+1)):(d.pop(),c=!0,d.push(e(t)))})),c||d.push(""));break;default:d.push(e(l))}return{name:i,interrupt:!1,attributes:u,content:d,icount:o,indents:s,indent:n}}function n(e,t,r){if("object"!=typeof t)return e(!1,t);var o=t.interrupt?1:t.content.length;function a(){for(;t.content.length;){var a=t.content.shift();if(void 0!==a){if(i(a))return;n(e,a)}}e(!1,(o>1?t.indents:"")+(t.name?"</"+t.name+">":"")+(t.indent&&!r?"\n":"")),r&&r()}function i(t){return!!t.interrupt&&(t.interrupt.append=e,t.interrupt.end=a,t.interrupt=!1,e(!0),!0)}if(e(!1,t.indents+(t.name?"<"+t.name:"")+(t.attributes.length?" "+t.attributes.join(" "):"")+(o?t.name?">":"":t.name?"/>":"")+(t.indent&&o>1?"\n":"")),!o)return e(!1,t.indent?"\n":"");i(t)||a()}return Qb.exports=function(e,o){"object"!=typeof o&&(o={indent:o});var a,i,s=o.stream?new t:null,l="",c=!1,u=o.indent?!0===o.indent?"    ":o.indent:"",d=!0;function h(e){d?ch.nextTick(e):e()}function f(e,r){if(void 0!==r&&(l+=r),e&&!c&&(s=s||new t,c=!0),e&&c){var n=l;h((function(){s.emit("data",n)})),l=""}}function p(e,t){n(f,r(e,u,u?1:0),t)}function m(){if(s){var e=l;h((function(){s.emit("data",e),s.emit("end"),s.readable=!1,s.emit("close")}))}}return h((function(){d=!1})),o.declaration&&(a=o.declaration,i={version:"1.0",encoding:a.encoding||"UTF-8"},a.standalone&&(i.standalone=a.standalone),p({"?xml":{_attr:i}}),l=l.replace("/>","?>")),e&&e.forEach?e.forEach((function(t,r){var n;r+1===e.length&&(n=m),p(t,n)})):p(e,m),s?(s.readable=!0,s):l},Qb.exports.element=Qb.exports.Element=function(){var e={_elem:r(Array.prototype.slice.call(arguments)),push:function(e){if(!this.append)throw new Error("not assigned to a parent!");var t=this,o=this._elem.indent;n(this.append,r(e,o,this._elem.icount+(o?1:0)),(function(){t.append(!0)}))},close:function(e){void 0!==e&&this.push(e),this.end&&this.end()}};return e},Qb.exports}()),Zb=(e,t)=>{const r=t.replace(/-/g,"");if(32!==r.length)throw new Error(`Error: Cannot extract GUID from font filename: ${t}`);const n=r.replace(/(..)/g,"$1 ").trim().split(" ").map((e=>parseInt(e,16)));n.reverse();const o=e.slice(0,32).map(((e,t)=>e^n[t%n.length])),a=new Uint8Array(0+o.length+Math.max(0,e.length-32));return a.set(e.slice(0,0)),a.set(o,0),a.set(e.slice(32),0+o.length),a};class ex{format(e,t={stack:[]}){const r=e.prepForXml(t);if(r)return r;throw Error("XMLComponent did not format correctly")}}class tx{replace(e,t,r){let n=e;return t.forEach(((e,t)=>{n=n.replace(new RegExp(`{${e.fileName}}`,"g"),(r+t).toString())})),n}getMediaData(e,t){return t.Array.filter((t=>e.search(`{${t.fileName}}`)>0))}}class rx{replace(e,t){let r=e;for(const e of t)r=r.replace(new RegExp(`{${e.reference}-${e.instance}}`,"g"),e.numId.toString());return r}}const nx="  ",ox=e=>!0===e?nx:!1===e?void 0:e,ax=class e{static pack(e,t,r){return Id(this,arguments,(function*(e,t,r,n=[]){return this.compiler.compile(e,ox(r),n).generateAsync({type:t,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})}))}static toString(t,r,n=[]){return e.pack(t,"string",r,n)}static toBuffer(t,r,n=[]){return e.pack(t,"nodebuffer",r,n)}static toBase64String(t,r,n=[]){return e.pack(t,"base64",r,n)}static toBlob(t,r,n=[]){return e.pack(t,"blob",r,n)}static toArrayBuffer(t,r,n=[]){return e.pack(t,"arraybuffer",r,n)}static toStream(e,t,r=[]){const n=new Vb.Stream;return this.compiler.compile(e,ox(t),r).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then((e=>{n.emit("data",e),n.emit("end")})),n}};Nd(ax,"compiler",new class{constructor(){Nd(this,"formatter"),Nd(this,"imageReplacer"),Nd(this,"numberingReplacer"),this.formatter=new ex,this.imageReplacer=new tx,this.numberingReplacer=new rx}compile(e,t,r=[]){const n=new Kb,o=this.xmlifyFile(e,t),a=new Map(Object.entries(o));for(const[,e]of a)if(Array.isArray(e))for(const t of e)n.file(t.path,t.data);else n.file(e.path,e.data);for(const e of r)n.file(e.path,e.data);for(const t of e.Media.Array)"svg"!==t.type?n.file(`word/media/${t.fileName}`,t.data):(n.file(`word/media/${t.fileName}`,t.data),n.file(`word/media/${t.fallback.fileName}`,t.fallback.data));for(const{data:t,name:r,fontKey:o}of e.FontTable.fontOptionsWithKey){const[e]=r.split(".");n.file(`word/fonts/${e}.odttf`,Zb(t,o))}return n}xmlifyFile(e,t){const r=e.Document.Relationships.RelationshipCount+1,n=Jb(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),o=this.imageReplacer.getMediaData(n,e.Media);return{Relationships:{data:(()=>(o.forEach(((t,n)=>{e.Document.Relationships.createRelationship(r+n,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${t.fileName}`)})),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),Jb(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})))(),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const t=this.imageReplacer.replace(n,o,r);return this.numberingReplacer.replace(t,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const r=Jb(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(r,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Jb(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Jb(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Jb(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map(((r,n)=>{const o=Jb(this.formatter.format(r.View,{viewWrapper:r,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(o,e.Media).forEach(((e,t)=>{r.Relationships.createRelationship(t,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${e.fileName}`)})),{data:Jb(this.formatter.format(r.Relationships,{viewWrapper:r,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${n+1}.xml.rels`}})),FooterRelationships:e.Footers.map(((r,n)=>{const o=Jb(this.formatter.format(r.View,{viewWrapper:r,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(o,e.Media).forEach(((e,t)=>{r.Relationships.createRelationship(t,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${e.fileName}`)})),{data:Jb(this.formatter.format(r.Relationships,{viewWrapper:r,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${n+1}.xml.rels`}})),Headers:e.Headers.map(((r,n)=>{const o=Jb(this.formatter.format(r.View,{viewWrapper:r,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),a=this.imageReplacer.getMediaData(o,e.Media),i=this.imageReplacer.replace(o,a,0);return{data:this.numberingReplacer.replace(i,e.Numbering.ConcreteNumbering),path:`word/header${n+1}.xml`}})),Footers:e.Footers.map(((r,n)=>{const o=Jb(this.formatter.format(r.View,{viewWrapper:r,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),a=this.imageReplacer.getMediaData(o,e.Media),i=this.imageReplacer.replace(o,a,0);return{data:this.numberingReplacer.replace(i,e.Numbering.ConcreteNumbering),path:`word/footer${n+1}.xml`}})),ContentTypes:{data:Jb(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Jb(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Jb(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Jb(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Jb(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Jb(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:Jb(this.formatter.format(e.Comments,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/comments.xml"},FontTable:{data:Jb(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:(()=>Jb(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}))(),path:"word/_rels/fontTable.xml.rels"}}}});let ix=ax;new ex,new ex,new tx;var sx=r(213),lx=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))};function cx(e,t){try{if(!e)return"N/A";const r="string"==typeof e?new Date(e):e;return r instanceof Date&&isNaN(r.getTime())?"Invalid date":ce(r,t,{locale:x})}catch(e){return console.error("Error formatting date:",e),"Error formatting date"}}function ux({onBack:t}){const[r,n]=(0,e.useState)([]),[o,a]=(0,e.useState)(!0),[i,s]=(0,e.useState)(null),[l,c]=(0,e.useState)(null),[u,d]=(0,e.useState)(!1),[h,f]=(0,e.useState)(!1),[p,m]=(0,e.useState)(null),[g,v]=(0,e.useState)(!1),y=(0,e.useRef)(null),[w,b]=(0,e.useState)("list");(0,e.useEffect)((()=>{function e(e){y.current&&!y.current.contains(e.target)&&f(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]),(0,e.useEffect)((()=>{let e=null;const t=function(){return lx(this,void 0,void 0,(function*(){try{e=wd((e=>{x(e)}));const t=e=>{e.data&&"object"==typeof e.data&&x(e.data)};return window.addEventListener("message",t),()=>{e&&e(),window.removeEventListener("message",t)}}catch(e){return console.error("WordStream: Error initializing in NotesAndSummaries:",e),()=>{}}}))}();return()=>{t.then((e=>e&&e()))}}),[]);const x=(0,e.useCallback)((e=>{if("NOTE_DELETED"===e.action&&e.noteId&&(console.log("WordStream: Received note deletion broadcast in popup:",e.noteId),l&&l.notes&&c((t=>t?Object.assign(Object.assign({},t),{notes:t.notes.filter((t=>t.id!==e.noteId))}):null)),n((t=>t.map((t=>Object.assign(Object.assign({},t),{notes:t.notes.filter((t=>t.id!==e.noteId))})))))),"NOTE_ADDED"===e.action&&e.note){console.log("WordStream: Received new note broadcast in popup:",e.noteId);const t=e.note,o=t.videoId;if(!o)return;const a=r.findIndex((e=>e.videoId===o));if(a>=0)n((e=>{const r=[...e],n=r[a].notes.findIndex((e=>e.id===t.id));return n>=0?r[a].notes[n]=t:r[a].notes.push(t),r[a].lastUpdated=(new Date).toISOString(),r})),l&&l.videoId===o&&c((e=>{if(!e)return null;const r=e.notes.findIndex((e=>e.id===t.id));if(r>=0){const n=[...e.notes];return n[r]=t,Object.assign(Object.assign({},e),{notes:n,lastUpdated:(new Date).toISOString()})}return Object.assign(Object.assign({},e),{notes:[...e.notes,t],lastUpdated:(new Date).toISOString()})}));else{const e={videoId:o,videoTitle:t.videoTitle||"Unknown Video",videoURL:t.videoURL||`https://www.youtube.com/watch?v=${o}`,lastUpdated:(new Date).toISOString(),notes:[t]};n((t=>[e,...t]))}}"NOTES_SYNCED"===e.action&&(console.log("WordStream: Received notes sync broadcast in popup"),k())}),[l,r]);(0,e.useEffect)((()=>{k()}),[]);const E=()=>lx(this,void 0,void 0,(function*(){try{v(!0),s(null),console.log("WordStream: Starting notes sync with Firestore...");if(!(yield md()).isAuthenticated)return s("You need to be signed in to sync notes with Firestore. Please sign in and try again."),console.warn("WordStream: Sync failed - user not authenticated"),void v(!1);yield k(),console.log("WordStream: Notes sync completed successfully")}catch(e){console.error("WordStream: Error syncing with Firestore:",e),e instanceof Error?e.message.includes("permission")||e.message.includes("denied")?s(`Permission error: ${e.message}. Please check your account permissions.`):e.message.includes("network")||e.message.includes("offline")?s("Network error: Please check your internet connection and try again."):s(`Error syncing notes: ${e.message}`):s("Error syncing notes: Unknown error occurred")}finally{v(!1)}})),k=()=>lx(this,void 0,void 0,(function*(){try{a(!0),c(null);const e=yield function(){return dd(this,void 0,void 0,(function*(){try{return yield fd({action:"getAllVideosWithNotes"})}catch(e){if(console.error("WordStream: Failed to get videos with notes:",e),e instanceof Error&&(e.message.includes("authentication")||e.message.includes("auth")||e.message.includes("expired")||e.message.includes("session"))){console.log("WordStream: Authentication error detected, checking local storage for cached notes");try{return yield new Promise((e=>{chrome.storage.local.get(["videosWithNotesCache"],(t=>{t.videosWithNotesCache&&Array.isArray(t.videosWithNotesCache)?(console.log("WordStream: Found cached videos with notes:",t.videosWithNotesCache.length),e(t.videosWithNotesCache)):(console.log("WordStream: No cached videos with notes found"),e([]))}))}))}catch(e){console.error("WordStream: Failed to get cached videos with notes:",e)}}return[]}}))}();if(e&&e.length>0){const t=e.map((e=>{if(!e.videoTitle||"Unknown Video"===e.videoTitle){const t=e.videoId;e.videoTitle=e.videoTitle||`Video: ${t}`}return!e.videoURL&&e.videoId&&(e.videoURL=`https://www.youtube.com/watch?v=${e.videoId}`),e.notes&&Array.isArray(e.notes)&&(e.notes=e.notes.sort(((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime())),e.notes=e.notes.map((e=>(e.videoTime&&!e.formattedTime&&(e.formattedTime=S(e.videoTime)),e)))),e}));n(t),b("list"),s(null)}else n([]),s("No notes found");a(!1)}catch(e){console.error("WordStream: Error loading notes:",e),s("Error loading notes"),a(!1)}})),S=e=>{try{if(isNaN(e))return"N/A";const t=Math.floor(e/3600),r=Math.floor(e%3600/60),n=Math.floor(e%60);return t>0?`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`:`${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}catch(e){return console.error("Error formatting video time:",e),"N/A"}},T=e=>{c(e)},_=()=>{c(null)},A=(e,t)=>lx(this,void 0,void 0,(function*(){try{if(t.stopPropagation(),!window.confirm("Are you sure you want to delete this note?"))return;if(l){const t=l.notes.filter((t=>t.id!==e));c(Object.assign(Object.assign({},l),{notes:t}))}const r=yield function(e){return dd(this,void 0,void 0,(function*(){try{return yield fd({action:"deleteNote",id:e})}catch(e){return console.error("WordStream: Failed to delete note:",e),!1}}))}(e);r||(console.error("WordStream: Failed to delete note from Firestore"),s("Error deleting note"),l&&T(l))}catch(e){console.error("WordStream: Error deleting note:",e),s("Error deleting note")}})),C=(e,t)=>lx(this,void 0,void 0,(function*(){if(t.stopPropagation(),window.confirm("Are you sure you want to delete all notes for this video?"))try{if(!(yield md()).isAuthenticated)return void s("Cannot delete notes: You are not signed in. Please sign in and try again.");a(!0);const t=r.filter((t=>t.videoId!==e));n(t);const o=yield function(e){return dd(this,void 0,void 0,(function*(){try{return(yield fd({action:"deleteAllNotesForVideo",videoId:e})).deletedCount||0}catch(t){return console.error(`WordStream: Failed to delete notes for video ${e}:`,t),0}}))}(e);"number"==typeof o?console.log(`WordStream: Successfully deleted ${o} notes for video ${e}`):(console.error("WordStream: Error response from deleteAllNotesForVideo:",o),s("Error deleting notes: the operation failed"),k())}catch(e){console.error("WordStream: Error deleting video notes:",e),e instanceof Error?e.message.includes("permission")||e.message.includes("denied")?s("Permission error: You don't have permission to delete these notes."):e.message.includes("network")||e.message.includes("offline")?s("Network error: Please check your internet connection and try again."):s(`Error: ${e.message}`):s("Failed to delete notes - unknown error occurred"),k()}finally{a(!1)}})),N=(e,...t)=>lx(this,[e,...t],void 0,(function*(e,t="docx"){d(!0),f(!1);try{if(!e||!e.notes)throw new Error("Video data is not valid for export");const r=Array.isArray(e.notes)?e.notes:[];if("docx"===t){const t=new Wb({sections:[{properties:{},children:[new tw({text:"Summary & Notes",heading:Uv,thematicBreak:!0,spacing:{after:200}}),new tw({text:`Video: ${e.videoTitle}`,heading:jv,spacing:{after:100}}),new tw({children:[new $g({text:"URL: ",bold:!0}),new $g(e.videoURL)],spacing:{after:100}}),new tw({children:[new $g({text:"Export Date: ",bold:!0}),new $g(cx(new Date,"dd/MM/yyyy HH:mm"))],spacing:{after:200}}),new tw({text:"Notes",heading:jv,thematicBreak:!0,spacing:{after:200}}),...r.flatMap((e=>[new tw({text:`Time: ${e.formattedTime||"No timestamp"}`,spacing:{before:160},border:{top:{color:"#EEEEEE",space:1,style:eg,size:1}}}),new tw({children:[new $g({text:e.content,size:24})],spacing:{after:80}}),new tw({text:`Created: ${cx(new Date(e.timestamp),"dd/MM/yyyy HH:mm")}`,alignment:Ym,spacing:{after:160}})]))]}]});ix.toBlob(t).then((t=>{(0,sx.saveAs)(t,`notes_${e.videoId}.docx`)}))}else if("txt"===t){let t="";t+="Summary & Notes\n",t+="=============\n\n",t+=`Title: ${e.videoTitle}\n`,t+=`URL: ${e.videoURL}\n`,t+=`Exported on: ${cx(new Date,"dd/MM/yyyy HH:mm")}\n\n`,t+="Notes:\n",t+="------\n\n",r.forEach((e=>{t+=`Time: ${e.formattedTime||"N/A"}\n`,t+=`Note: ${e.content}\n`,t+=`Created: ${cx(new Date(e.timestamp),"dd/MM/yyyy HH:mm")}\n\n`}));const n=new Blob([t],{type:"text/plain"}),o=URL.createObjectURL(n),a=document.createElement("a");a.href=o,a.download=`notes_${e.videoId}.txt`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(o)}else if("html"===t){let t="<html><head><title>Summary & Notes</title></head><body>";t+=`<h1>${e.videoTitle}</h1>`,t+=`<p>URL: ${e.videoURL}</p>`,t+=`<p>Exported on: ${cx(new Date,"dd/MM/yyyy HH:mm")}</p>`,t+="<h2>Notes</h2>",t+="<ul>",r.forEach((e=>{t+=`<li>${e.formattedTime||"N/A"} - ${e.content}</li>`})),t+="</ul>",t+="</body></html>";const n=new Blob([t],{type:"text/html"});(0,sx.saveAs)(n,`notes_${e.videoId}.html`)}else if("json"===t){const t=JSON.stringify(e,null,2),r=new Blob([t],{type:"application/json"});(0,sx.saveAs)(r,`notes_${e.videoId}.json`)}}catch(e){console.error("Failed to export notes:",e),alert("Failed to export notes. Please try again.")}finally{d(!1)}})),I=(e,t)=>{t.stopPropagation(),window.open(e,"_blank")};return e.createElement("div",{className:"w-full h-full flex flex-col overflow-hidden bg-white dark:bg-slate-900 rounded-lg shadow-lg border border-gray-200 dark:border-slate-800"},e.createElement("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-slate-800 bg-gray-50 dark:bg-slate-800 backdrop-blur-sm rounded-t-lg"},e.createElement("h2",{className:"text-2xl font-bold flex items-center gap-2 text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-indigo-600 dark:from-blue-400 dark:to-indigo-500 drop-shadow-sm"},e.createElement("span",{className:"text-gray-600 dark:text-white text-opacity-75 mr-1"},"📝"),e.createElement("span",{className:"tracking-wide"},"Notes & Summaries")),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("button",{onClick:E,disabled:g,className:"p-2 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors text-blue-600 dark:text-blue-400 disabled:opacity-50",title:"Sync notes with Firestore"},e.createElement(Ee,{size:18,className:g?"animate-spin":""})),e.createElement("button",{onClick:l?_:t,className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors text-gray-600 dark:text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},e.createElement("polyline",{points:"15 18 9 12 15 6"}))))),e.createElement("div",{className:"flex-1 overflow-y-auto p-4 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-slate-700 scrollbar-track-gray-100 dark:scrollbar-track-slate-800"},o?e.createElement("div",{className:"flex items-center justify-center h-full"},e.createElement("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 rounded-full border-t-transparent"})):i?e.createElement("div",{className:"text-center py-8 px-4 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800/30 shadow-lg"},e.createElement("div",{className:"text-red-500 dark:text-red-400 text-5xl mb-4"},"⚠️"),e.createElement("h3",{className:"text-xl font-semibold text-red-600 dark:text-red-400 mb-2"},"Error Loading Notes"),e.createElement("p",{className:"text-red-600 dark:text-slate-300"},i),e.createElement("button",{onClick:E,disabled:g,className:"mt-4 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg flex items-center justify-center gap-2 mx-auto"},g?e.createElement("span",{className:"inline-block h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):e.createElement(Ee,{size:16}),"Try Again")):l?e.createElement("div",{className:"space-y-4 animate-fadeIn"},e.createElement("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-md backdrop-blur-sm mb-4 transition-all hover:shadow-lg"},e.createElement("div",{className:"flex justify-between items-center mb-2"},e.createElement("h3",{className:"text-lg font-bold text-blue-600 dark:text-blue-400"},l.videoTitle),e.createElement("button",{onClick:_,className:"p-1.5 rounded-full bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 transition-colors text-gray-600 dark:text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},e.createElement("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),e.createElement("polyline",{points:"12 19 5 12 12 5"})))),e.createElement("div",{className:"flex flex-wrap gap-2 items-center text-xs text-gray-500 dark:text-slate-400"},e.createElement("span",{className:"inline-flex items-center"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1"},e.createElement("circle",{cx:"12",cy:"12",r:"10"}),e.createElement("polyline",{points:"12 6 12 12 16 14"})),cx(new Date(l.lastUpdated),"dd/MM/yyyy HH:mm")),e.createElement("span",{className:"inline-flex items-center"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1"},e.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})),l.notes.length," notes"),e.createElement("div",{className:"flex-grow"}),e.createElement("div",{className:"relative inline-block"},e.createElement("button",{onClick:()=>f(!h),disabled:u,className:"px-2 py-1 bg-blue-600 hover:bg-blue-500 dark:bg-blue-600 dark:hover:bg-blue-500 rounded text-white text-xs font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center","aria-haspopup":"true","aria-expanded":h},u?e.createElement(e.Fragment,null,e.createElement("span",{className:"animate-spin h-3 w-3 border-2 border-white rounded-full border-t-transparent mr-1"}),"Exporting..."):e.createElement(e.Fragment,null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1"},e.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.createElement("polyline",{points:"7 10 12 15 17 10"}),e.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"})),"Export",e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"ml-1 transform transition-transform "+(h?"rotate-180":"")},e.createElement("polyline",{points:"6 9 12 15 18 9"})))),h&&e.createElement("div",{ref:y,className:"absolute right-0 top-full mt-2 w-56 rounded-lg shadow-xl bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 z-[100] overflow-hidden animate-fadeIn",style:{minWidth:"180px",maxWidth:"100%",position:"relative"}},e.createElement("div",{className:"py-1",role:"menu","aria-orientation":"vertical"},["docx","txt","html","json"].map((t=>e.createElement("button",{key:t,className:"flex items-center w-full text-left px-4 py-2.5 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>N(l,t)},e.createElement(Fe,{className:"mr-2 h-4 w-4 text-blue-500 dark:text-blue-400"}),e.createElement("span",null,"Export as ",e.createElement("span",{className:"font-medium"},t.toUpperCase())),"docx"===t&&e.createElement("span",{className:"ml-auto text-xs text-blue-500"},"Recommended"))))))),e.createElement("button",{onClick:e=>I(l.videoURL,e),className:"px-2 py-1 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded text-gray-700 dark:text-white text-xs font-medium transition-colors flex items-center"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1"},e.createElement("polygon",{points:"5 3 19 12 5 21 5 3"})),"Open Video"))),l.notes.length>0?e.createElement("div",{className:"space-y-3 pb-4"},l.notes.map((t=>e.createElement("div",{key:t.id,className:"note-item bg-white dark:bg-slate-800 backdrop-blur-sm rounded-xl border border-gray-200 dark:border-slate-700 overflow-hidden transition-all hover:shadow-md shadow-sm"},e.createElement("div",{className:"p-3 border-b border-gray-100 dark:border-slate-700 flex items-center justify-between"},e.createElement("div",{className:"text-sm text-gray-500 dark:text-slate-400"},cx(new Date(t.timestamp),"dd/MM/yyyy HH:mm")),e.createElement("div",{className:"flex items-center gap-2"},void 0!==t.videoTime&&e.createElement("div",{className:"px-2 py-0.5 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-full text-xs font-medium"},t.formattedTime||"00:00"),e.createElement("button",{onClick:e=>A(t.id,e),className:"p-1 rounded-full hover:bg-red-50 dark:hover:bg-red-900/30 text-red-500 hover:text-red-600 dark:text-red-400 dark:hover:text-red-300 transition-colors",disabled:p===t.id},p===t.id?e.createElement("span",{className:"inline-block h-4 w-4 border-2 border-red-500 border-t-transparent rounded-full animate-spin"}):e.createElement(ud,{size:15})))),e.createElement("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50"},e.createElement("div",{className:"text-gray-800 dark:text-white whitespace-pre-wrap"},t.content)))))):e.createElement("div",{className:"flex flex-col items-center justify-center h-64 bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-inner p-8"},e.createElement("div",{className:"text-5xl mb-4"},"📝"),e.createElement("h3",{className:"text-xl font-semibold text-gray-700 dark:text-slate-300 mb-1"},"No Notes Found"),e.createElement("p",{className:"text-gray-500 dark:text-slate-400 text-center"},"There are no notes for this video yet. Notes are automatically saved when you create them while watching videos."))):r.length>0?e.createElement("div",{className:"grid grid-cols-1 gap-4 animate-fadeIn"},r.map((t=>e.createElement("div",{key:t.videoId,className:"rounded-xl bg-white hover:bg-gray-50 dark:bg-slate-800 dark:hover:bg-slate-700 border border-gray-200 hover:border-blue-200 dark:border-slate-700 dark:hover:border-blue-700 shadow-sm hover:shadow-md p-5 cursor-pointer transition-all",onClick:()=>T(t)},e.createElement("div",{className:"flex justify-between items-start"},e.createElement("h3",{className:"text-lg font-medium text-gray-800 dark:text-slate-100 mb-2 line-clamp-1"},t.videoTitle),e.createElement("div",{className:"flex space-x-2"},e.createElement("button",{onClick:e=>I(t.videoURL,e),className:"p-1.5 text-blue-600 hover:text-blue-500 hover:bg-blue-50 dark:text-blue-400 dark:hover:text-blue-300 dark:hover:bg-blue-900/30 rounded-full transition-colors"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},e.createElement("polygon",{points:"5 3 19 12 5 21 5 3"}))),e.createElement("button",{onClick:e=>C(t.videoId,e),className:"p-1.5 text-red-600 hover:text-red-500 hover:bg-red-50 dark:text-red-400 dark:hover:text-red-300 dark:hover:bg-red-900/30 rounded-full transition-colors"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},e.createElement("path",{d:"M3 6h18"}),e.createElement("path",{d:"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"}))))),e.createElement("div",{className:"text-sm text-gray-500 dark:text-slate-400 mb-2"},cx(new Date(t.lastUpdated),"dd/MM/yyyy HH:mm")),e.createElement("div",{className:"flex items-center text-gray-500 dark:text-slate-400 text-sm"},e.createElement("span",{className:"font-medium mr-1"},t.notes.length),1===t.notes.length?"note":"notes"))))):e.createElement("div",{className:"flex flex-col items-center justify-center h-64 bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-inner p-8"},e.createElement("div",{className:"text-5xl mb-4"},"📝"),e.createElement("h3",{className:"text-xl font-semibold text-gray-700 dark:text-slate-300 mb-1"},"No Notes Found"),e.createElement("p",{className:"text-gray-500 dark:text-slate-400 text-center"},"You haven't created any notes yet. Notes are automatically saved when you create them while watching videos."))))}const dx=ye("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var hx=e=>"number"==typeof e&&!isNaN(e),fx=e=>"string"==typeof e,px=e=>"function"==typeof e,mx=t=>(0,e.isValidElement)(t)||fx(t)||px(t)||hx(t);function gx({enter:t,exit:r,appendPosition:n=!1,collapse:o=!0,collapseDuration:a=300}){return function({children:i,position:s,preventExitTransition:l,done:c,nodeRef:u,isIn:d,playToast:h}){let f=n?`${t}--${s}`:t,p=n?`${r}--${s}`:r,m=(0,e.useRef)(0);return(0,e.useLayoutEffect)((()=>{let e=u.current,t=f.split(" "),r=n=>{n.target===u.current&&(h(),e.removeEventListener("animationend",r),e.removeEventListener("animationcancel",r),0===m.current&&"animationcancel"!==n.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",r),e.addEventListener("animationcancel",r)}),[]),(0,e.useEffect)((()=>{let e=u.current,t=()=>{e.removeEventListener("animationend",t),o?function(e,t,r=300){let{scrollHeight:n,style:o}=e;requestAnimationFrame((()=>{o.minHeight="initial",o.height=n+"px",o.transition=`all ${r}ms`,requestAnimationFrame((()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,r)}))}))}(e,c,a):c()};d||(l?t():(m.current=1,e.className+=` ${p}`,e.addEventListener("animationend",t)))}),[d]),e.createElement(e.Fragment,null,i)}}var vx=1,yx=()=>""+vx++;var wx=new Map,bx=[],xx=new Set,Ex=()=>wx.size>0;function kx(e,t){var r;if(t)return!(null==(r=wx.get(t))||!r.isToastActive(e));let n=!1;return wx.forEach((t=>{t.isToastActive(e)&&(n=!0)})),n}function Sx(e){if(Ex()){if(null==e||(e=>fx(e)||hx(e))(e))wx.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){let t=wx.get(e.containerId);t?t.removeToast(e.id):wx.forEach((t=>{t.removeToast(e.id)}))}}else bx=bx.filter((t=>null!=e&&t.options.toastId!==e))}function Tx(e,t){mx(e)&&(Ex()||bx.push({content:e,options:t}),wx.forEach((r=>{r.buildToast(e,t)})))}function _x(e,t){wx.forEach((r=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===r.id)&&r.toggle(e,null==t?void 0:t.id)}))}function Ax(e){return e&&(fx(e.toastId)||hx(e.toastId))?e.toastId:yx()}function Cx(e,t){return Tx(e,t),t.toastId}function Nx(e,t){return{...t,type:t&&t.type||e,toastId:Ax(t)}}function Ix(e){return(t,r)=>Cx(t,Nx(e,r))}function Ox(e,t){return Cx(e,Nx("default",t))}Ox.loading=(e,t)=>Cx(e,Nx("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Ox.promise=function(e,{pending:t,error:r,success:n},o){let a;t&&(a=fx(t)?Ox.loading(t,o):Ox.loading(t.render,{...o,...t}));let i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},s=(e,t,r)=>{if(null==t)return void Ox.dismiss(a);let n={type:e,...i,...o,data:r},s=fx(t)?{render:t}:t;return a?Ox.update(a,{...n,...s}):Ox(s.render,{...n,...s}),r},l=px(e)?e():e;return l.then((e=>s("success",n,e))).catch((e=>s("error",r,e))),l},Ox.success=Ix("success"),Ox.info=Ix("info"),Ox.error=Ix("error"),Ox.warning=Ix("warning"),Ox.warn=Ox.warning,Ox.dark=(e,t)=>Cx(e,Nx("default",{theme:"dark",...t})),Ox.dismiss=function(e){Sx(e)},Ox.clearWaitingQueue=(e={})=>{wx.forEach((t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()}))},Ox.isActive=kx,Ox.update=(e,t={})=>{let r=((e,{containerId:t})=>{var r;return null==(r=wx.get(t||1))?void 0:r.toasts.get(e)})(e,t);if(r){let{props:n,content:o}=r,a={delay:100,...n,...t,toastId:t.toastId||e,updateId:yx()};a.toastId!==e&&(a.staleId=e);let i=a.render||o;delete a.render,Cx(i,a)}},Ox.done=e=>{Ox.update(e,{progress:1})},Ox.onChange=function(e){return xx.add(e),()=>{xx.delete(e)}},Ox.play=e=>_x(!0,e),Ox.pause=e=>_x(!1,e);"undefined"!=typeof window?e.useLayoutEffect:e.useEffect;var Px=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t});gx(Px("bounce",!0)),gx(Px("slide",!0)),gx(Px("zoom")),gx(Px("flip"));var Rx=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))};function Dx({onBack:t}){const[r,n]=(0,e.useState)([]),[o,a]=(0,e.useState)({}),[i,s]=(0,e.useState)({}),[l,c]=(0,e.useState)(!0),[u,d]=(0,e.useState)(null),[h,f]=(0,e.useState)(null),[p,m]=(0,e.useState)(!1),[g,v]=(0,e.useState)(!1),[y,w]=(0,e.useState)(!1),b=(0,e.useRef)(null);(0,e.useRef)((()=>{}));(0,e.useEffect)((()=>{function e(e){b.current&&!b.current.contains(e.target)&&v(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]),(0,e.useEffect)((()=>{let e=!0;return(()=>{Rx(this,void 0,void 0,(function*(){c(!0);try{const t=yield gd();if(e){const e=(t||[]).map((e=>(e.videoTitle&&"Unknown Video"!==e.videoTitle||(e.videoTitle=`Video: ${e.videoId}`),!e.videoURL&&e.videoId&&(e.videoURL=`https://www.youtube.com/watch?v=${e.videoId}`),e)));n(e),x(e),c(!1)}}catch(t){console.error("Error loading chats:",t),e&&(d("Failed to load chats. Please try again."),c(!1),E())}}))})(),()=>{e=!1}}),[]);const x=e=>{try{const t={},r={};e.forEach((e=>{const n=e.id||e.conversationId;t[n]=e,r[e.videoId]||(r[e.videoId]=[]),r[e.videoId].includes(n)||r[e.videoId].push(n)})),console.log("WordStream: Updating local storage with synced chats"),chrome.storage.local.set({chats_storage:t,video_chats_map:r},(()=>{chrome.runtime.lastError?console.error("WordStream: Error updating local storage:",chrome.runtime.lastError):console.log("WordStream: Successfully updated local storage with synced chats")}))}catch(e){console.error("WordStream: Error updating local storage:",e)}},E=()=>{try{if(console.log("WordStream: Loading chats from local storage"),"undefined"==typeof chrome||!chrome.storage||!chrome.storage.local)return d("Chrome storage API not available"),void c(!1);chrome.storage.local.get(["chats_storage","video_chats_map"],(e=>{if(chrome.runtime.lastError)return console.error("WordStream: Error loading chats from storage:",chrome.runtime.lastError),d(`Error loading saved chats: ${chrome.runtime.lastError.message}`),void c(!1);const t=e.chats_storage||{},r=Object.values(t).sort(((e,t)=>new Date(t.lastUpdated).getTime()-new Date(e.lastUpdated).getTime()));console.log("WordStream: Loaded chats from local storage:",r.length),n(r),c(!1)}))}catch(e){console.error("WordStream: Exception while loading chats from storage:",e),d(`Failed to load saved chats: ${e}`),c(!1)}};(0,e.useEffect)((()=>{if(r.length>0){const e={};r.forEach((t=>{t.id||t.conversationId;e[t.videoId]?(e[t.videoId].conversations.push(t),e[t.videoId].totalMessages+=t.messages.length,new Date(t.lastUpdated)>new Date(e[t.videoId].lastUpdated)&&(e[t.videoId].lastUpdated=t.lastUpdated)):e[t.videoId]={videoTitle:t.videoTitle||`Video: ${t.videoId}`,videoURL:t.videoURL||`https://www.youtube.com/watch?v=${t.videoId}`,lastUpdated:t.lastUpdated,totalMessages:t.messages.length,conversations:[t]}})),Object.keys(e).forEach((t=>{e[t].conversations.sort(((e,t)=>new Date(t.lastUpdated).getTime()-new Date(e.lastUpdated).getTime()))})),a(e),1===Object.keys(e).length&&s({[Object.keys(e)[0]]:!0})}}),[r]);const k=e=>Rx(this,void 0,void 0,(function*(){if(e)try{c(!0);(yield vd(e))?(n((t=>t.filter((t=>t.id!==e)))),a((t=>{const r=Object.assign({},t);return Object.keys(r).forEach((t=>{r[t]&&r[t].conversations&&(r[t].conversations=r[t].conversations.filter((t=>t.id!==e)),0===r[t].conversations.length&&delete r[t])})),r}))):Ox.error("Failed to delete chat. Please try again.")}catch(e){console.error("Error deleting chat:",e),Ox.error("An error occurred while deleting the chat.")}finally{c(!1)}})),S=()=>Rx(this,void 0,void 0,(function*(){if(!y){w(!0);try{console.log("WordStream: Manual sync triggered"),Ox.info("Synchronizing chats..."),yield chrome.runtime.sendMessage({action:"SYNC_DATA"}),Ox.success("Chats synchronized successfully")}catch(e){console.error("WordStream: Error during manual sync:",e),Ox.error("Failed to synchronize chats. Please try again.")}finally{w(!1)}}})),T=()=>{f(null)},_=e=>Rx(this,void 0,void 0,(function*(){if(e&&confirm(`Are you sure you want to delete all saved chats for "${(e=>{if(!o[e]){const t=r.find((t=>t.videoId===e));return t&&t.videoTitle?t.videoTitle:`Video: ${e}`}return o[e].videoTitle||`Video: ${e}`})(e)||"this video"}"?`))try{c(!0);const t=yield gd();if(!t||0===t.length)return void Ox.error("No chats found to delete.");const r=t.filter((t=>t.videoId===e)).map((e=>vd(e.id))),o=(yield Promise.all(r)).filter(Boolean).length;o>0?(n((t=>t.filter((t=>t.videoId!==e)))),a((t=>{const r=Object.assign({},t);return delete r[e],r})),Ox.success(`Deleted ${o} chat${1===o?"":"s"}.`)):Ox.error("No chats were deleted. Please try again.")}catch(e){console.error("Error clearing chats for video:",e),Ox.error("An error occurred while deleting chats.")}finally{c(!1)}})),A=(e,...t)=>Rx(this,[e,...t],void 0,(function*(e,t="docx"){if(e&&e.messages&&0!==e.messages.length){m(!0),v(!1);try{if("docx"===t){const t=new Wb({sections:[{properties:{},children:[new tw({text:"Saved Chat Conversation",heading:Uv,spacing:{after:200}}),new tw({text:`Video: ${e.videoTitle}`,heading:jv,spacing:{after:100}}),new tw({children:[new $g({text:"Watch video: ",bold:!0}),new $g({text:e.videoURL,color:"0000FF",underline:{type:"single"}})],spacing:{after:200}}),new tw({text:"Conversation",heading:jv,spacing:{before:200,after:200}}),...e.messages.map(((e,t)=>new tw({children:[new $g({text:""+("user"===e.role?"👤 You: ":"🤖 Assistant: "),bold:!0}),new $g({text:e.content,break:1})],spacing:{before:100,after:100},border:{bottom:{color:"#CCCCCC",style:eg,size:1}},indent:{left:"user"===e.role?0:200,right:"user"===e.role?200:0}}))),new tw({text:`Exported on: ${ce(new Date,"PPpp")}`,spacing:{before:200},alignment:Ym})]}]}),r=yield ix.toBlob(t);(0,sx.saveAs)(r,`Chat-${e.conversationId.substring(0,10)}-${ce(new Date,"yyyy-MM-dd")}.docx`)}else if("txt"===t){let t="SAVED CHAT CONVERSATION\n";t+="=========================\n\n",t+=`Video: ${e.videoTitle}\n`,t+=`URL: ${e.videoURL}\n`,t+=`Exported: ${ce(new Date,"PPpp")}\n\n`,t+="CONVERSATION\n",t+="=========================\n\n",e.messages.forEach(((e,r)=>{t+=`${"user"===e.role?"YOU":"ASSISTANT"}: ${e.content}\n\n`}));const r=new Blob([t],{type:"text/plain;charset=utf-8"});(0,sx.saveAs)(r,`Chat-${e.conversationId.substring(0,10)}-${ce(new Date,"yyyy-MM-dd")}.txt`)}else if("html"===t){let t="<h1>Saved Chat Conversation</h1>";t+=`<p><strong>Video:</strong> ${e.videoTitle}</p>`,t+=`<p><strong>URL:</strong> <a href="${e.videoURL}" target="_blank">${e.videoURL}</a></p>`,t+=`<p><strong>Exported:</strong> ${ce(new Date,"PPpp")}</p>`,t+="<h2>Conversation</h2>",e.messages.forEach(((e,r)=>{t+=`<p><strong>${"user"===e.role?"YOU":"ASSISTANT"}:</strong></p>`,t+=`<p>${e.content}</p>`}));const r=new Blob([t],{type:"text/html;charset=utf-8"});(0,sx.saveAs)(r,`Chat-${e.conversationId.substring(0,10)}-${ce(new Date,"yyyy-MM-dd")}.html`)}else if("json"===t){const t=new Blob([JSON.stringify(e,null,2)],{type:"application/json;charset=utf-8"});(0,sx.saveAs)(t,`Chat-${e.conversationId.substring(0,10)}-${ce(new Date,"yyyy-MM-dd")}.json`)}}catch(e){console.error("Error exporting chat:",e),alert(`Error exporting chat: ${e}`)}finally{m(!1)}}else Ox.error("No chat data to export")})),C=(e,t)=>{t.stopPropagation(),window.open(e,"_blank")},N=(e,t)=>"user"===e?t?"text-blue-200":"text-blue-800":t?"text-gray-200":"text-gray-800";return e.createElement("div",{className:"w-full h-full flex flex-col overflow-hidden bg-white dark:bg-slate-900 rounded-lg shadow-lg border border-gray-200 dark:border-slate-800"},e.createElement("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-slate-800 bg-gray-50 dark:bg-slate-800 backdrop-blur-sm rounded-t-lg"},e.createElement("h2",{className:"text-2xl font-bold flex items-center gap-2 text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 to-purple-600 dark:from-indigo-400 dark:to-purple-500 drop-shadow-sm"},e.createElement("span",{className:"text-gray-600 dark:text-white text-opacity-75 mr-1"},"💬"),e.createElement("span",{className:"tracking-wide"},"Saved Chats")),e.createElement("div",{className:"flex items-center"},e.createElement("button",{onClick:S,disabled:y,className:"mr-2 p-2 rounded-full hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors text-gray-600 dark:text-white flex items-center justify-center",title:"Sync chats with cloud storage"},e.createElement(Ee,{className:"h-5 w-5 "+(y?"animate-spin":"")})),e.createElement("button",{onClick:h?T:t,className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-slate-700 transition-colors text-gray-600 dark:text-white"},e.createElement(we,{className:"h-5 w-5"})))),e.createElement("div",{className:"flex-1 overflow-auto p-4"},l?e.createElement("div",{className:"flex items-center justify-center h-full"},e.createElement("div",{className:"animate-spin h-8 w-8 border-4 border-indigo-500 rounded-full border-t-transparent"})):u?e.createElement("div",{className:"text-center py-8 px-4 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800/30 shadow-lg"},e.createElement("div",{className:"text-red-500 dark:text-red-400 text-5xl mb-4"},"⚠️"),e.createElement("h3",{className:"text-xl font-semibold text-red-600 dark:text-red-400 mb-2"},"Error Loading Chats"),e.createElement("p",{className:"text-red-600 dark:text-slate-300 mb-4"},u),e.createElement(Ht,{variant:"outline",onClick:S,disabled:y,className:"bg-white dark:bg-slate-800 border border-red-300 dark:border-red-800 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20"},y?e.createElement(e.Fragment,null,e.createElement(Ee,{className:"mr-2 h-4 animate-spin"}),"Syncing..."):e.createElement(e.Fragment,null,e.createElement(Ee,{className:"mr-2 h-4 w-4"}),"Retry Sync"))):h?e.createElement("div",{className:"space-y-4 animate-fadeIn"},e.createElement("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-200 dark:border-slate-700 shadow-md backdrop-blur-sm mb-4 transition-all hover:shadow-lg"},e.createElement("div",{className:"flex justify-between items-center mb-2"},e.createElement("h3",{className:"text-lg font-bold text-indigo-600 dark:text-indigo-400"},h.videoTitle),e.createElement("button",{onClick:T,className:"p-1.5 rounded-full bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 transition-colors text-gray-600 dark:text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},e.createElement("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),e.createElement("polyline",{points:"12 19 5 12 12 5"})))),e.createElement("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400 space-x-4 mb-3"},e.createElement("span",{className:"inline-flex items-center"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1"},e.createElement("circle",{cx:"12",cy:"12",r:"10"}),e.createElement("polyline",{points:"12 6 12 12 16 14"})),new Date(h.lastUpdated).toLocaleDateString()," ",new Date(h.lastUpdated).toLocaleTimeString()),e.createElement("span",{className:"inline-flex items-center"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1"},e.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})),h.messages.length," messages")),e.createElement("div",{className:"flex justify-between items-center"},e.createElement("div",{className:"relative"},e.createElement("button",{onClick:()=>v(!g),className:"px-2 py-1 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/30 dark:hover:bg-indigo-800/50 rounded text-indigo-700 dark:text-indigo-300 text-xs font-medium transition-colors flex items-center","aria-haspopup":"true","aria-expanded":g},e.createElement(Fe,{className:"mr-1 h-3 w-3"}),"Export",e.createElement(cd,{className:"ml-1 h-3 w-3 transform transition-transform "+(g?"rotate-180":"")})),g&&e.createElement((()=>e.createElement("div",{ref:b,className:"absolute left-0 top-full mt-2 w-56 rounded-lg shadow-xl bg-white dark:bg-slate-800 ring-1 ring-black ring-opacity-5 z-50 border border-gray-200 dark:border-slate-700 overflow-hidden animate-fadeIn",style:{minWidth:"180px",maxWidth:"100%"}},e.createElement("div",{className:"py-1",role:"menu","aria-orientation":"vertical"},["docx","txt","html","json"].map((t=>e.createElement("button",{key:t,className:"w-full text-left px-4 py-2.5 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700 flex items-center transition-colors",onClick:()=>h&&A(h,t),role:"menuitem"},e.createElement(Fe,{className:"mr-2 h-4 w-4 text-indigo-500 dark:text-indigo-400"}),e.createElement("span",null,"Export as ",e.createElement("span",{className:"font-medium"},t.toUpperCase())))))))),null)),e.createElement("button",{onClick:e=>C(h.videoURL,e),className:"px-2 py-1 bg-gray-100 hover:bg-gray-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded text-gray-700 dark:text-white text-xs font-medium transition-colors flex items-center"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1"},e.createElement("polygon",{points:"5 3 19 12 5 21 5 3"})),"Open Video"))),h.messages.length>0?e.createElement("div",{className:"space-y-3 pb-4"},h.messages.map(((t,r)=>{return e.createElement("div",{key:r,className:`message-item p-4 rounded-xl border ${"user"===t.role?"border-blue-200 dark:border-blue-900/40 ml-8":"border-gray-200 dark:border-slate-700 mr-8"} ${n=t.role,o=document.documentElement.classList.contains("dark"),"user"===n?o?"bg-blue-900/30":"bg-blue-50":o?"bg-gray-800":"bg-gray-50"} shadow-sm transition-all`},e.createElement("div",{className:"font-semibold mb-2 flex items-center"},"user"===t.role?e.createElement(e.Fragment,null,e.createElement("div",{className:"bg-blue-500 text-white p-1 rounded-full mr-2"},e.createElement("div",{className:"h-4 w-4 flex items-center justify-center"},"👤")),e.createElement("span",null,"You")):e.createElement(e.Fragment,null,e.createElement("div",{className:"bg-indigo-500 text-white p-1 rounded-full mr-2"},e.createElement("div",{className:"h-4 w-4 flex items-center justify-center"},"🤖")),e.createElement("span",null,"Assistant"))),e.createElement("div",{className:`${N(t.role,document.documentElement.classList.contains("dark"))} whitespace-pre-wrap`},t.content));var n,o}))):e.createElement("div",{className:"flex flex-col items-center justify-center h-64 bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-inner p-8"},e.createElement("div",{className:"text-5xl mb-4"},"💬"),e.createElement("h3",{className:"text-xl font-semibold text-gray-700 dark:text-slate-300 mb-1"},"No Messages Found"),e.createElement("p",{className:"text-gray-500 dark:text-slate-400 text-center"},"This chat doesn't contain any messages. This might be due to data corruption or an error during saving."))):Object.keys(o).length>0?e.createElement("div",{className:"grid grid-cols-1 gap-4 animate-fadeIn"},Object.entries(o).sort((([,e],[,t])=>new Date(t.lastUpdated).getTime()-new Date(e.lastUpdated).getTime())).map((([t,r])=>e.createElement("div",{key:t,className:"bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all"},e.createElement("div",{className:"p-4 flex justify-between items-start cursor-pointer hover:bg-gray-50 dark:hover:bg-slate-700/80 transition-colors",onClick:e=>((e,t)=>{t.stopPropagation(),s((t=>Object.assign(Object.assign({},t),{[e]:!t[e]})))})(t,e)},e.createElement("div",{className:"flex-1"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(dx,{className:"h-5 w-5 text-indigo-500 dark:text-indigo-400"}),e.createElement("h3",{className:"text-lg font-medium text-gray-800 dark:text-slate-100 line-clamp-1"},r.videoTitle),e.createElement("span",{className:"bg-indigo-100 dark:bg-indigo-900/50 text-indigo-800 dark:text-indigo-300 text-xs px-2 py-0.5 rounded-full"},r.conversations.length," chat",1!==r.conversations.length?"s":"")),e.createElement("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400 space-x-4 mt-1"},e.createElement("span",{className:"inline-flex items-center"},e.createElement(Ae,{className:"mr-1 h-3 w-3"}),new Date(r.lastUpdated).toLocaleDateString()),e.createElement("span",{className:"inline-flex items-center"},e.createElement(Le,{className:"mr-1 h-3 w-3"}),r.totalMessages," message",1!==r.totalMessages?"s":""))),e.createElement("div",{className:"flex items-center"},e.createElement("button",{onClick:e=>C(r.videoURL,e),className:"p-1.5 text-indigo-600 hover:text-indigo-500 hover:bg-indigo-50 dark:text-indigo-400 dark:hover:text-indigo-300 dark:hover:bg-indigo-900/30 rounded-full transition-colors mr-2"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},e.createElement("polygon",{points:"5 3 19 12 5 21 5 3"}))),e.createElement("button",{onClick:e=>_(t),className:"p-1.5 text-red-600 hover:text-red-500 hover:bg-red-50 dark:text-red-400 dark:hover:text-red-300 dark:hover:bg-red-900/30 rounded-full transition-colors mr-2"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},e.createElement("polyline",{points:"3 6 5 6 21 6"}),e.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))),e.createElement("div",{className:"p-1 rounded transition-colors "+(i[t]?"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300":"text-gray-400")},i[t]?e.createElement(cd,{size:18}):e.createElement(be,{size:18})))),i[t]&&e.createElement("div",{className:"border-t border-gray-100 dark:border-slate-700/50 divide-y divide-gray-100 dark:divide-slate-700/30"},r.conversations.map((t=>e.createElement("div",{key:t.conversationId,className:"p-4 pl-8 hover:bg-gray-50 dark:hover:bg-slate-700/40 cursor-pointer transition-colors flex justify-between items-center",onClick:()=>(e=>{f(e)})(t)},e.createElement("div",null,e.createElement("div",{className:"flex items-center gap-2"},e.createElement(Le,{className:"h-4 w-4 text-indigo-400 dark:text-indigo-300"}),e.createElement("span",{className:"text-sm font-medium text-gray-700 dark:text-slate-200"},"Conversation - ",new Date(t.lastUpdated).toLocaleTimeString()),e.createElement("span",{className:"bg-gray-100 dark:bg-slate-700 text-gray-600 dark:text-gray-300 text-xs px-2 py-0.5 rounded-full"},t.messages.length," message",1!==t.messages.length?"s":"")),t.messages.length>0&&e.createElement("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400 line-clamp-1 pl-6"},e.createElement("span",{className:"font-medium"},"user"===t.messages[0].role?"You: ":"AI: "),t.messages[0].content)),e.createElement("button",{onClick:e=>k(t.conversationId),className:"p-1 text-red-600 hover:text-red-500 hover:bg-red-50 dark:text-red-400 dark:hover:text-red-300 dark:hover:bg-red-900/30 rounded-full transition-colors"},e.createElement(ud,{size:14})))))))))):e.createElement("div",{className:"flex flex-col items-center justify-center h-64 bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-inner p-8"},e.createElement("div",{className:"text-5xl mb-4"},"💬"),e.createElement("h3",{className:"text-xl font-semibold text-gray-700 dark:text-slate-300 mb-1"},"No Saved Chats"),e.createElement("p",{className:"text-gray-500 dark:text-slate-400 text-center"},"You haven't saved any chats yet. Chats are automatically saved when you talk with the AI Assistant while watching videos."))))}var Lx=r(521),Mx=r(797),Fx=r(334),Ux=r(570),jx=r(364),Bx=r(405),zx=r(316),Wx=r(188);var Vx=r(921),Hx=r(746),$x=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))};const Gx={totalWords:0,totalChats:0,totalNotes:0,totalVideos:0,lastActive:(new Date).toISOString(),lastChatTime:"",lastWordTime:"",lastNoteTime:"",lastUpdated:(new Date).toISOString()};function Kx(){return new Promise((e=>{chrome.storage.sync.get(["stats"],(t=>{if(chrome.runtime.lastError)return console.error("WordStream: Error getting stats from local storage:",chrome.runtime.lastError),void e(Gx);const r=t.stats||Gx;e(r)}))}))}function qx(e){return $x(this,void 0,void 0,(function*(){try{if(!(yield(0,Vx.K)()))return console.warn("WordStream: Cannot save stats - not connected"),Yx(e),!1;const t=(0,zx.HW)();if(!t)return console.warn("WordStream: Cannot save stats - no authenticated user"),Yx(e),!1;const r=t.uid,n=yield function(){return $x(this,void 0,void 0,(function*(){try{if(!(yield(0,Vx.K)()))return console.warn("WordStream: Cannot get stats - no connection"),Kx();const e=(0,zx.HW)();if(!e)return console.warn("WordStream: Cannot get stats - no authenticated user"),Kx();const t=e.uid,r=(0,Hx.ru)(t),n=(0,Bx.H9)(Mx.kA,r),o=yield(0,Bx.x7)(n);if(o.exists()){const e=o.data();return Yx(e),e}return yield(0,Bx.BN)(n,Object.assign(Object.assign({},Gx),{userId:t,createdAt:(0,Bx.O5)(),updatedAt:(0,Bx.O5)()})),Yx(Gx),Gx}catch(e){return console.error("WordStream: Error getting user stats:",e),Kx()}}))}(),o=Object.assign(Object.assign(Object.assign({},n),e),{lastUpdated:(new Date).toISOString(),lastActive:(new Date).toISOString()}),a=(0,Hx.ru)(r),i=(0,Bx.H9)(Mx.kA,a);return yield(0,Bx.BN)(i,o,{merge:!0}),Yx(o),(0,Wx.Lo)({action:"STATS_UPDATED",stats:o,timestamp:(new Date).toISOString()}),!0}catch(e){return console.error("WordStream: Error saving user stats:",e),!1}}))}function Yx(e){chrome.storage.sync.get(["stats"],(t=>{if(chrome.runtime.lastError)return void console.error("WordStream: Error getting stats from local storage:",chrome.runtime.lastError);const r=t.stats||Gx,n=Object.assign(Object.assign({},r),e);chrome.storage.sync.set({stats:n},(()=>{chrome.runtime.lastError&&console.error("WordStream: Error saving stats to local storage:",chrome.runtime.lastError)}))}))}r(590);var Xx=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))};function Qx(e){return Xx(this,void 0,void 0,(function*(){try{if(!(yield(0,Vx.K)()))return void console.warn("WordStream: Cannot sync data - not connected or not authenticated");const t=(0,zx.HW)();if(!t)return void console.warn("WordStream: Cannot sync data - no authenticated user");const r=t.uid;console.log(`WordStream: Starting sync of ${e||"all"} data for user ${r}`);const n=[];"words"!==e&&e||n.push("words"),"stats"!==e&&e||n.push("stats"),"chats"!==e&&e||n.push("chats_storage","video_chats_map"),"notes"!==e&&e||n.push("notes_storage");const o=yield new Promise((e=>{chrome.storage.sync.get(n,(t=>{chrome.runtime.lastError&&console.error("WordStream: Error getting data from storage:",chrome.runtime.lastError),e(t)}))}));let a={words:{success:!1,count:0},stats:{success:!1},chats:{success:!1,count:0},notes:{success:!1,count:0}};if(("words"===e||!e)&&o.words&&Array.isArray(o.words))try{let e=0;for(const t of o.words){(yield(0,Ux.saveWord)(t))&&e++}a.words={success:e>0,count:e},console.log(`WordStream: Synced ${e} words to Firestore`)}catch(e){console.error("WordStream: Error syncing words:",e)}if(("stats"===e||!e)&&o.stats)try{const e=yield qx(o.stats);a.stats={success:e},console.log("WordStream: Synced stats to Firestore")}catch(e){console.error("WordStream: Error syncing stats:",e)}if(("chats"===e||!e)&&o.chats_storage)try{const e=o.chats_storage||{};let t=0;for(const[r,n]of Object.entries(e))if(n){const e=Object.assign(Object.assign({},n),{id:r});(yield(0,jx.saveChat)(e))&&t++}a.chats={success:t>0,count:t},console.log(`WordStream: Synced ${t} chats to Firestore`)}catch(e){console.error("WordStream: Error syncing chats:",e)}if(("notes"===e||!e)&&o.notes_storage)try{const e=o.notes_storage;let t=0;for(const r in e){const n=e[r];if(n&&Array.isArray(n.notes))for(const e of n.notes)if(e){const n=Object.assign(Object.assign({},e),{videoId:r});(yield(0,Fx.saveNote)(n))&&t++}}a.notes={success:t>0,count:t},console.log(`WordStream: Synced ${t} notes to Firestore`)}catch(e){console.error("WordStream: Error syncing notes:",e)}console.log(`WordStream: Completed sync of ${e||"all"} data:`,a)}catch(t){console.error(`WordStream: Error syncing ${e||"all"} data:`,t)}}))}!function(e,t){let r=null}((e=>Qx(e)),2e3);const Jx={"auth/email-already-in-use":"This email is already registered. Please try signing in instead.","auth/invalid-email":"Please enter a valid email address.","auth/user-disabled":"This account has been disabled. Please contact support for assistance.","auth/user-not-found":"We couldn't find an account with this email. Please check your email or sign up.","auth/wrong-password":"The password you entered is incorrect. Please try again or reset your password.","auth/too-many-requests":"Too many unsuccessful attempts. Please try again later or reset your password.","auth/weak-password":"Your password isn't strong enough. Please create a stronger password.","auth/requires-recent-login":"For security reasons, please sign in again before making this change.","auth/invalid-credential":"Your login information appears to be incorrect. Please try again.","auth/invalid-verification-code":"The verification code you entered is invalid. Please try again.","auth/invalid-verification-id":"Your verification session has expired. Please try again.","auth/account-exists-with-different-credential":"An account already exists with this email but with a different sign-in method.","auth/popup-blocked":"Sign-in popup was blocked by your browser. Please allow popups and try again.","auth/popup-closed-by-user":"The sign-in window was closed before completing. Please try again.","auth/cancelled-popup-request":"The authentication process was canceled. Please try again.","auth/unauthorized-domain":"This domain is not authorized for this authentication method.","auth/api-key-not-valid":"There's an issue with the application configuration. Please contact support.","auth/app-deleted":"The authentication service is unavailable. Please try again later.","auth/app-not-authorized":"This application is not authorized to use Firebase authentication.","auth/argument-error":"There was an error with your request. Please try again.","auth/invalid-api-key":"The application is misconfigured. Please contact support for assistance.","auth/invalid-tenant-id":"Invalid authentication configuration. Please contact support.","auth/operation-not-allowed":"This sign-in method is not enabled for this project.","auth/project-not-found":"The application is misconfigured. Please contact support for assistance.","auth/network-request-failed":"A network error occurred. Please check your internet connection and try again.","auth/timeout":"The operation timed out. Please try again.","auth/web-storage-unsupported":"Your browser does not support web storage or it's disabled. Please enable it or try a different browser."};function Zx(e){let t=e;if(e.includes("auth/")){const r=e.match(/auth\/[a-z-]+/);r&&(t=r[0])}return Jx[t]||"Something went wrong with authentication. Please try again or contact support."}function eE(e){if(!e)return"An unknown error occurred";if(e instanceof Error){const t=e.message||"";return t.includes("Firebase")||t.includes("auth/")?Zx(t):t}return"string"==typeof e?e.includes("Firebase")||e.includes("auth/")?Zx(e):e:"An unexpected error occurred. Please try again."}var tE=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))};var rE={version:"0.18.5"},nE=1200,oE=1252,aE=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],iE={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},sE=function(e){-1!=aE.indexOf(e)&&(oE=iE[0]=e)};var lE=function(e){nE=e,sE(e)};function cE(){lE(1200),sE(1252)}function uE(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var dE,hE=function(e){return String.fromCharCode(e)},fE=function(e){return String.fromCharCode(e)};var pE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function mE(e){for(var t="",r=0,n=0,o=0,a=0,i=0,s=0,l=0,c=0;c<e.length;)a=(r=e.charCodeAt(c++))>>2,i=(3&r)<<4|(n=e.charCodeAt(c++))>>4,s=(15&n)<<2|(o=e.charCodeAt(c++))>>6,l=63&o,isNaN(n)?s=l=64:isNaN(o)&&(l=64),t+=pE.charAt(a)+pE.charAt(i)+pE.charAt(s)+pE.charAt(l);return t}function gE(e){var t="",r=0,n=0,o=0,a=0,i=0,s=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<e.length;)r=pE.indexOf(e.charAt(l++))<<2|(a=pE.indexOf(e.charAt(l++)))>>4,t+=String.fromCharCode(r),n=(15&a)<<4|(i=pE.indexOf(e.charAt(l++)))>>2,64!==i&&(t+=String.fromCharCode(n)),o=(3&i)<<6|(s=pE.indexOf(e.charAt(l++))),64!==s&&(t+=String.fromCharCode(o));return t}var vE=function(){return"undefined"!=typeof Buffer&&void 0!=={}.versions&&!!{}.versions.node}(),yE=function(){if("undefined"!=typeof Buffer){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(t){e=!0}return e?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function wE(e){return vE?Buffer.alloc?Buffer.alloc(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function bE(e){return vE?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var xE=function(e){return vE?yE(e,"binary"):e.split("").map((function(e){return 255&e.charCodeAt(0)}))};function EE(e){if("undefined"==typeof ArrayBuffer)return xE(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=255&e.charCodeAt(n);return t}function kE(e){if(Array.isArray(e))return e.map((function(e){return String.fromCharCode(e)})).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}var SE=vE?function(e){return Buffer.concat(e.map((function(e){return Buffer.isBuffer(e)?e:yE(e)})))}:function(e){if("undefined"!=typeof Uint8Array){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),o=0;for(t=0,r=0;t<e.length;r+=o,++t)if(o=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if("string"==typeof e[t])throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map((function(e){return Array.isArray(e)?e:[].slice.call(e)})))};var TE=/\u0000/g,_E=/[\u0001-\u0006]/g;function AE(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function CE(e,t){var r=""+e;return r.length>=t?r:Bk("0",t-r.length)+r}function NE(e,t){var r=""+e;return r.length>=t?r:Bk(" ",t-r.length)+r}function IE(e,t){var r=""+e;return r.length>=t?r:r+Bk(" ",t-r.length)}var OE=Math.pow(2,32);function PE(e,t){return e>OE||e<-OE?function(e,t){var r=""+Math.round(e);return r.length>=t?r:Bk("0",t-r.length)+r}(e,t):function(e,t){var r=""+e;return r.length>=t?r:Bk("0",t-r.length)+r}(Math.round(e),t)}function RE(e,t){return t=t||0,e.length>=7+t&&103==(32|e.charCodeAt(t))&&101==(32|e.charCodeAt(t+1))&&110==(32|e.charCodeAt(t+2))&&101==(32|e.charCodeAt(t+3))&&114==(32|e.charCodeAt(t+4))&&97==(32|e.charCodeAt(t+5))&&108==(32|e.charCodeAt(t+6))}var DE=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],LE=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];var ME={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},FE={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},UE={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function jE(e,t,r){for(var n=e<0?-1:1,o=e*n,a=0,i=1,s=0,l=1,c=0,u=0,d=Math.floor(o);c<t&&(s=(d=Math.floor(o))*i+a,u=d*c+l,!(o-d<5e-8));)o=1/(o-d),a=i,i=s,l=c,c=u;if(u>t&&(c>t?(u=l,s=a):(u=c,s=i)),!r)return[0,n*s,u];var h=Math.floor(n*s/u);return[h,n*s-h*u,u]}function BE(e,t,r){if(e>2958465||e<0)return null;var n=0|e,o=Math.floor(86400*(e-n)),a=0,i=[],s={D:n,T:o,u:86400*(e-n)-o,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),t&&t.date1904&&(n+=1462),s.u>.9999&&(s.u=0,86400==++o&&(s.T=o=0,++n,++s.D)),60===n)i=r?[1317,10,29]:[1900,2,29],a=3;else if(0===n)i=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),i=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),n<60&&(a=(a+6)%7),r&&(a=function(e,t){t[0]-=581;var r=e.getDay();e<60&&(r=(r+6)%7);return r}(l,i))}return s.y=i[0],s.m=i[1],s.d=i[2],s.S=o%60,o=Math.floor(o/60),s.M=o%60,o=Math.floor(o/60),s.H=o,s.q=a,s}var zE=new Date(1899,11,31,0,0,0),WE=zE.getTime(),VE=new Date(1900,2,1,0,0,0);function HE(e,t){var r=e.getTime();return t?r-=1262304e5:e>=VE&&(r+=864e5),(r-(WE+6e4*(e.getTimezoneOffset()-zE.getTimezoneOffset())))/864e5}function $E(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function GE(e){var t,r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=r>=-4&&r<=-1?e.toPrecision(10+r):Math.abs(r)<=9?function(e){var t=e<0?12:11,r=$E(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10)).length<=t?r:e.toExponential(5)}(e):10===r?e.toFixed(10).substr(0,12):function(e){var t=$E(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}(e),$E(function(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}function KE(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):GE(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return pk(14,HE(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function qE(e,t,r,n){var o,a="",i=0,s=0,l=r.y,c=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:o=l%100,c=2;break;default:o=l%1e4,c=4}break;case 109:switch(t.length){case 1:case 2:o=r.m,c=t.length;break;case 3:return LE[r.m-1][1];case 5:return LE[r.m-1][0];default:return LE[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:o=r.d,c=t.length;break;case 3:return DE[r.q][0];default:return DE[r.q][1]}break;case 104:switch(t.length){case 1:case 2:o=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:o=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:o=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==r.u||"s"!=t&&"ss"!=t?(s=n>=2?3===n?1e3:100:1===n?10:1,(i=Math.round(s*(r.S+r.u)))>=60*s&&(i=0),"s"===t?0===i?"0":""+i/s:(a=CE(i,2+n),"ss"===t?a.substr(0,2):"."+a.substr(2,t.length-1))):CE(r.S,t.length);case 90:switch(t){case"[h]":case"[hh]":o=24*r.D+r.H;break;case"[m]":case"[mm]":o=60*(24*r.D+r.H)+r.M;break;case"[s]":case"[ss]":o=60*(60*(24*r.D+r.H)+r.M)+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=3===t.length?1:2;break;case 101:o=l,c=1}return c>0?CE(o,c):""}function YE(e){if(e.length<=3)return e;for(var t=e.length%3,r=e.substr(0,t);t!=e.length;t+=3)r+=(r.length>0?",":"")+e.substr(t,3);return r}var XE=/%/g;function QE(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+QE(e,-t);var o=e.indexOf(".");-1===o&&(o=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%o;if(a<0&&(a+=o),-1===(r=(t/Math.pow(10,a)).toPrecision(n+1+(o+a)%o)).indexOf("e")){var i=Math.floor(Math.log(t)*Math.LOG10E);for(-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+a):r+="E+"+(i-a);"0."===r.substr(0,2);)r=(r=r.charAt(0)+r.substr(2,o)+"."+r.substr(2+o)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,r,n){return t+r+n.substr(0,(o+a)%o)+"."+n.substr(a)+"E"}))}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var JE=/# (\?+)( ?)\/( ?)(\d+)/;var ZE=/^#*0*\.([0#]+)/,ek=/\).*[0#]/,tk=/\(###\) ###\\?-####/;function rk(e){for(var t,r="",n=0;n!=e.length;++n)switch(t=e.charCodeAt(n)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(t)}return r}function nk(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function ok(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function ak(e,t,r){if(40===e.charCodeAt(0)&&!t.match(ek)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ak("n",n,r):"("+ak("n",n,-r)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,r){for(var n=t.length-1;44===t.charCodeAt(n-1);)--n;return lk(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}(e,t,r);if(-1!==t.indexOf("%"))return function(e,t,r){var n=t.replace(XE,""),o=t.length-n.length;return lk(e,n,r*Math.pow(10,2*o))+Bk("%",o)}(e,t,r);if(-1!==t.indexOf("E"))return QE(t,r);if(36===t.charCodeAt(0))return"$"+ak(e,t.substr(" "==t.charAt(1)?2:1),r);var o,a,i,s,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+PE(l,t.length);if(t.match(/^[#?]+$/))return"0"===(o=PE(r,0))&&(o=""),o.length>t.length?o:rk(t.substr(0,t.length-o.length))+o;if(a=t.match(JE))return function(e,t,r){var n=parseInt(e[4],10),o=Math.round(t*n),a=Math.floor(o/n),i=o-a*n,s=n;return r+(0===a?"":""+a)+" "+(0===i?Bk(" ",e[1].length+1+e[4].length):NE(i,e[1].length)+e[2]+"/"+e[3]+CE(s,e[4].length))}(a,l,c);if(t.match(/^#+0+$/))return c+PE(l,t.length-t.indexOf("0"));if(a=t.match(ZE))return o=nk(r,a[1].length).replace(/^([^\.]+)$/,"$1."+rk(a[1])).replace(/\.$/,"."+rk(a[1])).replace(/\.(\d*)$/,(function(e,t){return"."+t+Bk("0",rk(a[1]).length-t.length)})),-1!==t.indexOf("0.")?o:o.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return c+nk(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return c+YE(PE(l,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ak(e,t,-r):YE(""+(Math.floor(r)+function(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(r,a[1].length)))+"."+CE(ok(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return ak(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return o=AE(ak(e,t.replace(/[\\-]/g,""),r)),i=0,AE(AE(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return i<o.length?o.charAt(i++):"0"===e?"0":""})));if(t.match(tk))return"("+(o=ak(e,"##########",r)).substr(0,3)+") "+o.substr(3,3)+"-"+o.substr(6);var u="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),s=jE(l,Math.pow(10,i)-1,!1),o=""+c," "==(u=lk("n",a[1],s[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),o+=u+a[2]+"/"+a[3],(u=IE(s[2],i)).length<a[4].length&&(u=rk(a[4].substr(a[4].length-u.length))+u),o+=u;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),c+((s=jE(l,Math.pow(10,i)-1,!0))[0]||(s[1]?"":"0"))+" "+(s[1]?NE(s[1],i)+a[2]+"/"+a[3]+IE(s[2],i):Bk(" ",2*i+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return o=PE(r,0),t.length<=o.length?o:rk(t.substr(0,t.length-o.length))+o;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){o=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=o.indexOf(".");var d=t.indexOf(".")-i,h=t.length-o.length-d;return rk(t.substr(0,d)+o+t.substr(t.length-h))}if(a=t.match(/^00,000\.([#0]*0)$/))return i=ok(r,a[1].length),r<0?"-"+ak(e,t,-r):YE(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?CE(0,3-e.length):"")+e}))+"."+CE(i,a[1].length);switch(t){case"###,##0.00":return ak(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var f=YE(PE(l,0));return"0"!==f?c+f:"";case"###,###.00":return ak(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ak(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function ik(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+ik(e,-t);var o=e.indexOf(".");-1===o&&(o=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%o;if(a<0&&(a+=o),!(r=(t/Math.pow(10,a)).toPrecision(n+1+(o+a)%o)).match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+a):r+="E+"+(i-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,r,n){return t+r+n.substr(0,(o+a)%o)+"."+n.substr(a)+"E"}))}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function sk(e,t,r){if(40===e.charCodeAt(0)&&!t.match(ek)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?sk("n",n,r):"("+sk("n",n,-r)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,r){for(var n=t.length-1;44===t.charCodeAt(n-1);)--n;return lk(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}(e,t,r);if(-1!==t.indexOf("%"))return function(e,t,r){var n=t.replace(XE,""),o=t.length-n.length;return lk(e,n,r*Math.pow(10,2*o))+Bk("%",o)}(e,t,r);if(-1!==t.indexOf("E"))return ik(t,r);if(36===t.charCodeAt(0))return"$"+sk(e,t.substr(" "==t.charAt(1)?2:1),r);var o,a,i,s,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+CE(l,t.length);if(t.match(/^[#?]+$/))return o=""+r,0===r&&(o=""),o.length>t.length?o:rk(t.substr(0,t.length-o.length))+o;if(a=t.match(JE))return function(e,t,r){return r+(0===t?"":""+t)+Bk(" ",e[1].length+2+e[4].length)}(a,l,c);if(t.match(/^#+0+$/))return c+CE(l,t.length-t.indexOf("0"));if(a=t.match(ZE))return o=(o=(""+r).replace(/^([^\.]+)$/,"$1."+rk(a[1])).replace(/\.$/,"."+rk(a[1]))).replace(/\.(\d*)$/,(function(e,t){return"."+t+Bk("0",rk(a[1]).length-t.length)})),-1!==t.indexOf("0.")?o:o.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return c+YE(""+l);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+sk(e,t,-r):YE(""+r)+"."+Bk("0",a[1].length);if(a=t.match(/^#,#*,#0/))return sk(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return o=AE(sk(e,t.replace(/[\\-]/g,""),r)),i=0,AE(AE(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return i<o.length?o.charAt(i++):"0"===e?"0":""})));if(t.match(tk))return"("+(o=sk(e,"##########",r)).substr(0,3)+") "+o.substr(3,3)+"-"+o.substr(6);var u="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),s=jE(l,Math.pow(10,i)-1,!1),o=""+c," "==(u=lk("n",a[1],s[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),o+=u+a[2]+"/"+a[3],(u=IE(s[2],i)).length<a[4].length&&(u=rk(a[4].substr(a[4].length-u.length))+u),o+=u;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),c+((s=jE(l,Math.pow(10,i)-1,!0))[0]||(s[1]?"":"0"))+" "+(s[1]?NE(s[1],i)+a[2]+"/"+a[3]+IE(s[2],i):Bk(" ",2*i+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return o=""+r,t.length<=o.length?o:rk(t.substr(0,t.length-o.length))+o;if(a=t.match(/^([#0]+)\.([#0]+)$/)){o=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=o.indexOf(".");var d=t.indexOf(".")-i,h=t.length-o.length-d;return rk(t.substr(0,d)+o+t.substr(t.length-h))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+sk(e,t,-r):YE(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?CE(0,3-e.length):"")+e}))+"."+CE(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var f=YE(""+l);return"0"!==f?c+f:"";default:if(t.match(/\.[0#?]*$/))return sk(e,t.slice(0,t.lastIndexOf(".")),r)+rk(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function lk(e,t,r){return(0|r)===r?sk(e,t,r):ak(e,t,r)}var ck=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function uk(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":RE(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("上午/下午"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(n=r;"]"!==e.charAt(t++)&&t<e.length;)n+=e.charAt(t);if(n.match(ck))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||"\\"==r&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}var dk=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function hk(e,t){if(null==t)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0}return!1}function fk(e,t){var r=function(e){for(var t=[],r=!1,n=0,o=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(o,n-o),o=n+1}if(t[t.length]=e.substr(o),!0===r)throw new Error("Format |"+e+"| unterminated string ");return t}(e),n=r.length,o=r[n-1].indexOf("@");if(n<4&&o>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if("number"!=typeof t)return[4,4===r.length||o>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=o>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=o>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=o>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"]}var a=t>0?r[0]:t<0?r[1]:r[2];if(-1===r[0].indexOf("[")&&-1===r[1].indexOf("["))return[n,a];if(null!=r[0].match(/\[[=<>]/)||null!=r[1].match(/\[[=<>]/)){var i=r[0].match(dk),s=r[1].match(dk);return hk(t,i)?[n,r[0]]:hk(t,s)?[n,r[1]]:[n,r[null!=i&&null!=s?2:1]]}return[n,a]}function pk(e,t,r){null==r&&(r={});var n="";switch(typeof e){case"string":n="m/d/yy"==e&&r.dateNF?r.dateNF:e;break;case"number":null==(n=14==e&&r.dateNF?r.dateNF:(null!=r.table?r.table:ME)[e])&&(n=r.table&&r.table[FE[e]]||ME[FE[e]]),null==n&&(n=UE[e]||"General")}if(RE(n,0))return KE(t,r);t instanceof Date&&(t=HE(t,r.date1904));var o=fk(n,t);if(RE(o[1]))return KE(t,r);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function(e,t,r,n){for(var o,a,i,s=[],l="",c=0,u="",d="t",h="H";c<e.length;)switch(u=e.charAt(c)){case"G":if(!RE(e,c))throw new Error("unrecognized character "+u+" in "+e);s[s.length]={t:"G",v:"General"},c+=7;break;case'"':for(l="";34!==(i=e.charCodeAt(++c))&&c<e.length;)l+=String.fromCharCode(i);s[s.length]={t:"t",v:l},++c;break;case"\\":var f=e.charAt(++c),p="("===f||")"===f?f:"t";s[s.length]={t:p,v:f},++c;break;case"_":s[s.length]={t:"t",v:" "},c+=2;break;case"@":s[s.length]={t:"T",v:t},++c;break;case"B":case"b":if("1"===e.charAt(c+1)||"2"===e.charAt(c+1)){if(null==o&&null==(o=BE(t,r,"2"===e.charAt(c+1))))return"";s[s.length]={t:"X",v:e.substr(c,2)},d=u,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==o&&null==(o=BE(t,r)))return"";for(l=u;++c<e.length&&e.charAt(c).toLowerCase()===u;)l+=u;"m"===u&&"h"===d.toLowerCase()&&(u="M"),"h"===u&&(u=h),s[s.length]={t:u,v:l},d=u;break;case"A":case"a":case"上":var m={t:u,v:u};if(null==o&&(o=BE(t,r)),"A/P"===e.substr(c,3).toUpperCase()?(null!=o&&(m.v=o.H>=12?"P":"A"),m.t="T",h="h",c+=3):"AM/PM"===e.substr(c,5).toUpperCase()?(null!=o&&(m.v=o.H>=12?"PM":"AM"),m.t="T",c+=5,h="h"):"上午/下午"===e.substr(c,5).toUpperCase()?(null!=o&&(m.v=o.H>=12?"下午":"上午"),m.t="T",c+=5,h="h"):(m.t="t",++c),null==o&&"T"===m.t)return"";s[s.length]=m,d=u;break;case"[":for(l=u;"]"!==e.charAt(c++)&&c<e.length;)l+=e.charAt(c);if("]"!==l.slice(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(ck)){if(null==o&&null==(o=BE(t,r)))return"";s[s.length]={t:"Z",v:l.toLowerCase()},d=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",uk(e)||(s[s.length]={t:"t",v:l}));break;case".":if(null!=o){for(l=u;++c<e.length&&"0"===(u=e.charAt(c));)l+=u;s[s.length]={t:"s",v:l};break}case"0":case"#":for(l=u;++c<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(c))>-1;)l+=u;s[s.length]={t:"n",v:l};break;case"?":for(l=u;e.charAt(++c)===u;)l+=u;s[s.length]={t:u,v:l},d=u;break;case"*":++c," "!=e.charAt(c)&&"*"!=e.charAt(c)||++c;break;case"(":case")":s[s.length]={t:1===n?"t":u,v:u},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=u;c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1;)l+=e.charAt(c);s[s.length]={t:"D",v:l};break;case" ":s[s.length]={t:u,v:u},++c;break;case"$":s[s.length]={t:"t",v:"$"},++c;break;default:if(-1===",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(u))throw new Error("unrecognized character "+u+" in "+e);s[s.length]={t:"t",v:u},++c}var g,v=0,y=0;for(c=s.length-1,d="t";c>=0;--c)switch(s[c].t){case"h":case"H":s[c].t=h,d="h",v<1&&(v=1);break;case"s":(g=s[c].v.match(/\.0+$/))&&(y=Math.max(y,g[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":d=s[c].t;break;case"m":"s"===d&&(s[c].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&s[c].v.match(/[Hh]/)&&(v=1),v<2&&s[c].v.match(/[Mm]/)&&(v=2),v<3&&s[c].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:o.u>=.5&&(o.u=0,++o.S),o.S>=60&&(o.S=0,++o.M),o.M>=60&&(o.M=0,++o.H);break;case 2:o.u>=.5&&(o.u=0,++o.S),o.S>=60&&(o.S=0,++o.M)}var w,b="";for(c=0;c<s.length;++c)switch(s[c].t){case"t":case"T":case" ":case"D":break;case"X":s[c].v="",s[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[c].v=qE(s[c].t.charCodeAt(0),s[c].v,o,y),s[c].t="t";break;case"n":case"?":for(w=c+1;null!=s[w]&&("?"===(u=s[w].t)||"D"===u||(" "===u||"t"===u)&&null!=s[w+1]&&("?"===s[w+1].t||"t"===s[w+1].t&&"/"===s[w+1].v)||"("===s[c].t&&(" "===u||"n"===u||")"===u)||"t"===u&&("/"===s[w].v||" "===s[w].v&&null!=s[w+1]&&"?"==s[w+1].t));)s[c].v+=s[w].v,s[w]={v:"",t:";"},++w;b+=s[c].v,c=w-1;break;case"G":s[c].t="t",s[c].v=KE(t,r)}var x,E,k="";if(b.length>0){40==b.charCodeAt(0)?(x=t<0&&45===b.charCodeAt(0)?-t:t,E=lk("n",b,x)):(E=lk("n",b,x=t<0&&n>1?-t:t),x<0&&s[0]&&"t"==s[0].t&&(E=E.substr(1),s[0].v="-"+s[0].v)),w=E.length-1;var S=s.length;for(c=0;c<s.length;++c)if(null!=s[c]&&"t"!=s[c].t&&s[c].v.indexOf(".")>-1){S=c;break}var T=s.length;if(S===s.length&&-1===E.indexOf("E")){for(c=s.length-1;c>=0;--c)null!=s[c]&&-1!=="n?".indexOf(s[c].t)&&(w>=s[c].v.length-1?(w-=s[c].v.length,s[c].v=E.substr(w+1,s[c].v.length)):w<0?s[c].v="":(s[c].v=E.substr(0,w+1),w=-1),s[c].t="t",T=c);w>=0&&T<s.length&&(s[T].v=E.substr(0,w+1)+s[T].v)}else if(S!==s.length&&-1===E.indexOf("E")){for(w=E.indexOf(".")-1,c=S;c>=0;--c)if(null!=s[c]&&-1!=="n?".indexOf(s[c].t)){for(a=s[c].v.indexOf(".")>-1&&c===S?s[c].v.indexOf(".")-1:s[c].v.length-1,k=s[c].v.substr(a+1);a>=0;--a)w>=0&&("0"===s[c].v.charAt(a)||"#"===s[c].v.charAt(a))&&(k=E.charAt(w--)+k);s[c].v=k,s[c].t="t",T=c}for(w>=0&&T<s.length&&(s[T].v=E.substr(0,w+1)+s[T].v),w=E.indexOf(".")+1,c=S;c<s.length;++c)if(null!=s[c]&&(-1!=="n?(".indexOf(s[c].t)||c===S)){for(a=s[c].v.indexOf(".")>-1&&c===S?s[c].v.indexOf(".")+1:0,k=s[c].v.substr(0,a);a<s[c].v.length;++a)w<E.length&&(k+=E.charAt(w++));s[c].v=k,s[c].t="t",T=c}}}for(c=0;c<s.length;++c)null!=s[c]&&"n?".indexOf(s[c].t)>-1&&(x=n>1&&t<0&&c>0&&"-"===s[c-1].v?-t:t,s[c].v=lk(s[c].t,s[c].v,x),s[c].t="t");var _="";for(c=0;c!==s.length;++c)null!=s[c]&&(_+=s[c].v);return _}(o[1],t,r,o[0])}function mk(e,t){if("number"!=typeof t){t=+t||-1;for(var r=0;r<392;++r)if(null!=ME[r]){if(ME[r]==e){t=r;break}}else t<0&&(t=r);t<0&&(t=391)}return ME[t]=e,t}function gk(e){for(var t=0;392!=t;++t)void 0!==e[t]&&mk(e[t],t)}function vk(){var e;e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',ME=e}var yk=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;var wk=function(){var e={};e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),r=0;256!=r;++r)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=r)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[r]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}();var r=function(e){var t=0,r=0,n=0,o="undefined"!=typeof Int32Array?new Int32Array(4096):new Array(4096);for(n=0;256!=n;++n)o[n]=e[n];for(n=0;256!=n;++n)for(r=e[n],t=256+n;t<4096;t+=256)r=o[t]=r>>>8^e[255&r];var a=[];for(n=1;16!=n;++n)a[n-1]="undefined"!=typeof Int32Array?o.subarray(256*n,256*n+256):o.slice(256*n,256*n+256);return a}(t),n=r[0],o=r[1],a=r[2],i=r[3],s=r[4],l=r[5],c=r[6],u=r[7],d=r[8],h=r[9],f=r[10],p=r[11],m=r[12],g=r[13],v=r[14];return e.table=t,e.bstr=function(e,r){for(var n=~r,o=0,a=e.length;o<a;)n=n>>>8^t[255&(n^e.charCodeAt(o++))];return~n},e.buf=function(e,r){for(var y=~r,w=e.length-15,b=0;b<w;)y=v[e[b++]^255&y]^g[e[b++]^y>>8&255]^m[e[b++]^y>>16&255]^p[e[b++]^y>>>24]^f[e[b++]]^h[e[b++]]^d[e[b++]]^u[e[b++]]^c[e[b++]]^l[e[b++]]^s[e[b++]]^i[e[b++]]^a[e[b++]]^o[e[b++]]^n[e[b++]]^t[e[b++]];for(w+=15;b<w;)y=y>>>8^t[255&(y^e[b++])];return~y},e.str=function(e,r){for(var n=~r,o=0,a=e.length,i=0,s=0;o<a;)(i=e.charCodeAt(o++))<128?n=n>>>8^t[255&(n^i)]:i<2048?n=(n=n>>>8^t[255&(n^(192|i>>6&31))])>>>8^t[255&(n^(128|63&i))]:i>=55296&&i<57344?(i=64+(1023&i),s=1023&e.charCodeAt(o++),n=(n=(n=(n=n>>>8^t[255&(n^(240|i>>8&7))])>>>8^t[255&(n^(128|i>>2&63))])>>>8^t[255&(n^(128|s>>6&15|(3&i)<<4))])>>>8^t[255&(n^(128|63&s))]):n=(n=(n=n>>>8^t[255&(n^(224|i>>12&15))])>>>8^t[255&(n^(128|i>>6&63))])>>>8^t[255&(n^(128|63&i))];return~n},e}(),bk=function(){var e,t={};function r(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:r(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function n(e){if("/"==e.charAt(e.length-1))return n(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function o(e,t){"string"==typeof t&&(t=new Date(t));var r=t.getHours();r=(r=r<<6|t.getMinutes())<<5|t.getSeconds()>>>1,e.write_shift(2,r);var n=t.getFullYear()-1980;n=(n=n<<4|t.getMonth()+1)<<5|t.getDate(),e.write_shift(2,n)}function a(e){mT(e,0);for(var t={},r=0;e.l<=e.length-4;){var n=e.read_shift(2),o=e.read_shift(2),a=e.l+o,i={};if(21589===n)1&(r=e.read_shift(1))&&(i.mtime=e.read_shift(4)),o>5&&(2&r&&(i.atime=e.read_shift(4)),4&r&&(i.ctime=e.read_shift(4))),i.mtime&&(i.mt=new Date(1e3*i.mtime));e.l=a,t[n]=i}return t}function i(){return e||(e={})}function s(e,t){if(80==e[0]&&75==e[1])return oe(e,t);if(109==(32|e[0])&&105==(32|e[1]))return function(e,t){if("mime-version:"!=E(e.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var r=t&&t.root||"",n=(vE&&Buffer.isBuffer(e)?e.toString("binary"):E(e)).split("\r\n"),o=0,a="";for(o=0;o<n.length;++o)if(a=n[o],/^Content-Location:/i.test(a)&&(a=a.slice(a.indexOf("file")),r||(r=a.slice(0,a.lastIndexOf("/")+1)),a.slice(0,r.length)!=r))for(;r.length>0&&(r=(r=r.slice(0,r.length-1)).slice(0,r.lastIndexOf("/")+1),a.slice(0,r.length)!=r););var i=(n[1]||"").match(/boundary="(.*?)"/);if(!i)throw new Error("MAD cannot find boundary");var s="--"+(i[1]||""),l=[],c=[],u={FileIndex:l,FullPaths:c};h(u);var d,f=0;for(o=0;o<n.length;++o){var p=n[o];p!==s&&p!==s+"--"||(f++&&ue(u,n.slice(d,o),r),d=o)}return u}(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var r,n,o,a,i,s,f=512,p=[],m=e.slice(0,512);mT(m,0);var g=function(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(y,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}(m);switch(r=g[0]){case 3:f=512;break;case 4:f=4096;break;case 0:if(0==g[1])return oe(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+r)}512!==f&&mT(m=e.slice(0,f),28);var w=e.slice(0,f);!function(e,t){var r=9;switch(e.l+=2,r=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+r);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+r);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+r)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}(m,r);var b=m.read_shift(4,"i");if(3===r&&0!==b)throw new Error("# Directory Sectors: Expected 0 saw "+b);m.l+=4,a=m.read_shift(4,"i"),m.l+=4,m.chk("00100000","Mini Stream Cutoff Size: "),i=m.read_shift(4,"i"),n=m.read_shift(4,"i"),s=m.read_shift(4,"i"),o=m.read_shift(4,"i");for(var x=-1,k=0;k<109&&!((x=m.read_shift(4,"i"))<0);++k)p[k]=x;var S=function(e,t){for(var r=Math.ceil(e.length/t)-1,n=[],o=1;o<r;++o)n[o-1]=e.slice(o*t,(o+1)*t);return n[r-1]=e.slice(r*t),n}(e,f);c(s,o,S,f,p);var T=function(e,t,r,n){var o=e.length,a=[],i=[],s=[],l=[],c=n-1,u=0,d=0,h=0,f=0;for(u=0;u<o;++u)if(s=[],(h=u+t)>=o&&(h-=o),!i[h]){l=[];var p=[];for(d=h;d>=0;){p[d]=!0,i[d]=!0,s[s.length]=d,l.push(e[d]);var m=r[Math.floor(4*d/n)];if(n<4+(f=4*d&c))throw new Error("FAT boundary crossed: "+d+" 4 "+n);if(!e[m])break;if(p[d=sT(e[m],f)])break}a[h]={nodes:s,data:MS([l])}}return a}(S,a,p,f);T[a].name="!Directory",n>0&&i!==v&&(T[i].name="!MiniFAT"),T[p[0]].name="!FAT",T.fat_addrs=p,T.ssz=f;var _=[],A=[],C=[];!function(e,t,r,n,o,a,i,s){for(var c,h=0,f=n.length?2:0,p=t[e].data,m=0,g=0;m<p.length;m+=128){var y=p.slice(m,m+128);mT(y,64),g=y.read_shift(2),c=US(y,0,g-f),n.push(c);var w={name:c,type:y.read_shift(1),color:y.read_shift(1),L:y.read_shift(4,"i"),R:y.read_shift(4,"i"),C:y.read_shift(4,"i"),clsid:y.read_shift(16),state:y.read_shift(4,"i"),start:0,size:0};0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(w.ct=d(y,y.l-8)),0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(w.mt=d(y,y.l-8)),w.start=y.read_shift(4,"i"),w.size=y.read_shift(4,"i"),w.size<0&&w.start<0&&(w.size=w.type=0,w.start=v,w.name=""),5===w.type?(h=w.start,o>0&&h!==v&&(t[h].name="!StreamData")):w.size>=4096?(w.storage="fat",void 0===t[w.start]&&(t[w.start]=u(r,w.start,t.fat_addrs,t.ssz)),t[w.start].name=w.name,w.content=t[w.start].data.slice(0,w.size)):(w.storage="minifat",w.size<0?w.size=0:h!==v&&w.start!==v&&t[h]&&(w.content=l(w,t[h].data,(t[s]||{}).data))),w.content&&mT(w.content,0),a[c]=w,i.push(w)}}(a,T,S,_,n,{},A,i),function(e,t,r){for(var n=0,o=0,a=0,i=0,s=0,l=r.length,c=[],u=[];n<l;++n)c[n]=u[n]=n,t[n]=r[n];for(;s<u.length;++s)o=e[n=u[s]].L,a=e[n].R,i=e[n].C,c[n]===n&&(-1!==o&&c[o]!==o&&(c[n]=c[o]),-1!==a&&c[a]!==a&&(c[n]=c[a])),-1!==i&&(c[i]=n),-1!==o&&n!=c[n]&&(c[o]=c[n],u.lastIndexOf(o)<s&&u.push(o)),-1!==a&&n!=c[n]&&(c[a]=c[n],u.lastIndexOf(a)<s&&u.push(a));for(n=1;n<l;++n)c[n]===n&&(-1!==a&&c[a]!==a?c[n]=c[a]:-1!==o&&c[o]!==o&&(c[n]=c[o]));for(n=1;n<l;++n)if(0!==e[n].type){if((s=n)!=c[s])do{s=c[s],t[n]=t[s]+"/"+t[n]}while(0!==s&&-1!==c[s]&&s!=c[s]);c[n]=-1}for(t[0]+="/",n=1;n<l;++n)2!==e[n].type&&(t[n]+="/")}(A,C,_),_.shift();var N={FileIndex:A,FullPaths:C};return t&&t.raw&&(N.raw={header:w,sectors:S}),N}function l(e,t,r){for(var n=e.start,o=e.size,a=[],i=n;r&&o>0&&i>=0;)a.push(t.slice(i*g,i*g+g)),o-=g,i=sT(r,4*i);return 0===a.length?vT(0):SE(a).slice(0,e.size)}function c(e,t,r,n,o){var a=v;if(e===v){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var i=r[e],s=(n>>>2)-1;if(!i)return;for(var l=0;l<s&&(a=sT(i,4*l))!==v;++l)o.push(a);c(sT(i,n-4),t-1,r,n,o)}}function u(e,t,r,n,o){var a=[],i=[];o||(o=[]);var s=n-1,l=0,c=0;for(l=t;l>=0;){o[l]=!0,a[a.length]=l,i.push(e[l]);var u=r[Math.floor(4*l/n)];if(n<4+(c=4*l&s))throw new Error("FAT boundary crossed: "+l+" 4 "+n);if(!e[u])break;l=sT(e[u],c)}return{nodes:a,data:MS([i])}}function d(e,t){return new Date(1e3*(iT(e,t+4)/1e7*Math.pow(2,32)+iT(e,t)/1e7-11644473600))}function h(e,t){var r=t||{},n=r.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=n+"/",e.FileIndex[0]={name:n,type:5}),r.CLSID&&(e.FileIndex[0].clsid=r.CLSID),function(e){var t="Sh33tJ5";if(bk.find(e,"/"+t))return;var r=vT(4);r[0]=55,r[1]=r[3]=50,r[2]=54,e.FileIndex.push({name:t,type:2,content:r,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),f(e)}(e)}function f(e,t){h(e);for(var o=!1,a=!1,i=e.FullPaths.length-1;i>=0;--i){var s=e.FileIndex[i];switch(s.type){case 0:a?o=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:a=!0,isNaN(s.R*s.L*s.C)&&(o=!0),s.R>-1&&s.L>-1&&s.R==s.L&&(o=!0);break;default:o=!0}}if(o||t){var l=new Date(1987,1,19),c=0,u=Object.create?Object.create(null):{},d=[];for(i=0;i<e.FullPaths.length;++i)u[e.FullPaths[i]]=!0,0!==e.FileIndex[i].type&&d.push([e.FullPaths[i],e.FileIndex[i]]);for(i=0;i<d.length;++i){var f=r(d[i][0]);(a=u[f])||(d.push([f,{name:n(f).replace("/",""),type:1,clsid:b,ct:l,mt:l,content:null}]),u[f]=!0)}for(d.sort((function(e,t){return function(e,t){for(var r=e.split("/"),n=t.split("/"),o=0,a=0,i=Math.min(r.length,n.length);o<i;++o){if(a=r[o].length-n[o].length)return a;if(r[o]!=n[o])return r[o]<n[o]?-1:1}return r.length-n.length}(e[0],t[0])})),e.FullPaths=[],e.FileIndex=[],i=0;i<d.length;++i)e.FullPaths[i]=d[i][0],e.FileIndex[i]=d[i][1];for(i=0;i<d.length;++i){var p=e.FileIndex[i],m=e.FullPaths[i];if(p.name=n(m).replace("/",""),p.L=p.R=p.C=-(p.color=1),p.size=p.content?p.content.length:0,p.start=0,p.clsid=p.clsid||b,0===i)p.C=d.length>1?1:-1,p.size=0,p.type=5;else if("/"==m.slice(-1)){for(c=i+1;c<d.length&&r(e.FullPaths[c])!=m;++c);for(p.C=c>=d.length?-1:c,c=i+1;c<d.length&&r(e.FullPaths[c])!=r(m);++c);p.R=c>=d.length?-1:c,p.type=1}else r(e.FullPaths[i+1]||"")==r(m)&&(p.R=i+1),p.type=2}}}function p(e,t){var r=t||{};if("mad"==r.fileType)return function(e,t){for(var r=t||{},n=r.boundary||"SheetJS",o=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(n="------="+n).slice(2)+'"',"","",""],a=e.FullPaths[0],i=a,s=e.FileIndex[0],l=1;l<e.FullPaths.length;++l)if(i=e.FullPaths[l].slice(a.length),(s=e.FileIndex[l]).size&&s.content&&"Sh33tJ5"!=i){i=i.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,(function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"})).replace(/[\u0080-\uFFFF]/g,(function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"}));for(var c=s.content,u=vE&&Buffer.isBuffer(c)?c.toString("binary"):E(c),d=0,h=Math.min(1024,u.length),f=0,p=0;p<=h;++p)(f=u.charCodeAt(p))>=32&&f<128&&++d;var m=d>=4*h/5;o.push(n),o.push("Content-Location: "+(r.root||"file:///C:/SheetJS/")+i),o.push("Content-Transfer-Encoding: "+(m?"quoted-printable":"base64")),o.push("Content-Type: "+se(s,i)),o.push(""),o.push(m?ce(u):le(u))}return o.push(n+"--\r\n"),o.join("\r\n")}(e,r);if(f(e),"zip"===r.fileType)return function(e,t){var r=t||{},n=[],a=[],i=vT(1),s=r.compression?8:0,l=0;0;var c=0,u=0,d=0,h=0,f=e.FullPaths[0],p=f,m=e.FileIndex[0],g=[],v=0;for(c=1;c<e.FullPaths.length;++c)if(p=e.FullPaths[c].slice(f.length),(m=e.FileIndex[c]).size&&m.content&&"Sh33tJ5"!=p){var y=d,w=vT(p.length);for(u=0;u<p.length;++u)w.write_shift(1,127&p.charCodeAt(u));w=w.slice(0,w.l),g[h]=wk.buf(m.content,0);var b=m.content;8==s&&(b=k(b)),(i=vT(30)).write_shift(4,67324752),i.write_shift(2,20),i.write_shift(2,l),i.write_shift(2,s),m.mt?o(i,m.mt):i.write_shift(4,0),i.write_shift(-4,8&l?0:g[h]),i.write_shift(4,8&l?0:b.length),i.write_shift(4,8&l?0:m.content.length),i.write_shift(2,w.length),i.write_shift(2,0),d+=i.length,n.push(i),d+=w.length,n.push(w),d+=b.length,n.push(b),8&l&&((i=vT(12)).write_shift(-4,g[h]),i.write_shift(4,b.length),i.write_shift(4,m.content.length),d+=i.l,n.push(i)),(i=vT(46)).write_shift(4,33639248),i.write_shift(2,0),i.write_shift(2,20),i.write_shift(2,l),i.write_shift(2,s),i.write_shift(4,0),i.write_shift(-4,g[h]),i.write_shift(4,b.length),i.write_shift(4,m.content.length),i.write_shift(2,w.length),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(4,0),i.write_shift(4,y),v+=i.l,a.push(i),v+=w.length,a.push(w),++h}return i=vT(22),i.write_shift(4,101010256),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,h),i.write_shift(2,h),i.write_shift(4,v),i.write_shift(4,d),i.write_shift(2,0),SE([SE(n),SE(a),i])}(e,r);var n=function(e){for(var t=0,r=0,n=0;n<e.FileIndex.length;++n){var o=e.FileIndex[n];if(o.content){var a=o.content.length;a>0&&(a<4096?t+=a+63>>6:r+=a+511>>9)}}for(var i=e.FullPaths.length+3>>2,s=t+127>>7,l=(t+7>>3)+r+i+s,c=l+127>>7,u=c<=109?0:Math.ceil((c-109)/127);l+c+u+127>>7>c;)u=++c<=109?0:Math.ceil((c-109)/127);var d=[1,u,c,s,i,r,t,0];return e.FileIndex[0].size=t<<6,d[7]=(e.FileIndex[0].start=d[0]+d[1]+d[2]+d[3]+d[4]+d[5])+(d[6]+7>>3),d}(e),a=vT(n[7]<<9),i=0,s=0;for(i=0;i<8;++i)a.write_shift(1,w[i]);for(i=0;i<8;++i)a.write_shift(2,0);for(a.write_shift(2,62),a.write_shift(2,3),a.write_shift(2,65534),a.write_shift(2,9),a.write_shift(2,6),i=0;i<3;++i)a.write_shift(2,0);for(a.write_shift(4,0),a.write_shift(4,n[2]),a.write_shift(4,n[0]+n[1]+n[2]+n[3]-1),a.write_shift(4,0),a.write_shift(4,4096),a.write_shift(4,n[3]?n[0]+n[1]+n[2]-1:v),a.write_shift(4,n[3]),a.write_shift(-4,n[1]?n[0]-1:v),a.write_shift(4,n[1]),i=0;i<109;++i)a.write_shift(-4,i<n[2]?n[1]+i:-1);if(n[1])for(s=0;s<n[1];++s){for(;i<236+127*s;++i)a.write_shift(-4,i<n[2]?n[1]+i:-1);a.write_shift(-4,s===n[1]-1?v:s+1)}var l=function(e){for(s+=e;i<s-1;++i)a.write_shift(-4,i+1);e&&(++i,a.write_shift(-4,v))};for(s=i=0,s+=n[1];i<s;++i)a.write_shift(-4,x.DIFSECT);for(s+=n[2];i<s;++i)a.write_shift(-4,x.FATSECT);l(n[3]),l(n[4]);for(var c=0,u=0,d=e.FileIndex[0];c<e.FileIndex.length;++c)(d=e.FileIndex[c]).content&&((u=d.content.length)<4096||(d.start=s,l(u+511>>9)));for(l(n[6]+7>>3);511&a.l;)a.write_shift(-4,x.ENDOFCHAIN);for(s=i=0,c=0;c<e.FileIndex.length;++c)(d=e.FileIndex[c]).content&&(!(u=d.content.length)||u>=4096||(d.start=s,l(u+63>>6)));for(;511&a.l;)a.write_shift(-4,x.ENDOFCHAIN);for(i=0;i<n[4]<<2;++i){var h=e.FullPaths[i];if(h&&0!==h.length){d=e.FileIndex[i],0===i&&(d.start=d.size?d.start-1:v);var p=0===i&&r.root||d.name;if(u=2*(p.length+1),a.write_shift(64,p,"utf16le"),a.write_shift(2,u),a.write_shift(1,d.type),a.write_shift(1,d.color),a.write_shift(-4,d.L),a.write_shift(-4,d.R),a.write_shift(-4,d.C),d.clsid)a.write_shift(16,d.clsid,"hex");else for(c=0;c<4;++c)a.write_shift(4,0);a.write_shift(4,d.state||0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,d.start),a.write_shift(4,d.size),a.write_shift(4,0)}else{for(c=0;c<17;++c)a.write_shift(4,0);for(c=0;c<3;++c)a.write_shift(4,-1);for(c=0;c<12;++c)a.write_shift(4,0)}}for(i=1;i<e.FileIndex.length;++i)if((d=e.FileIndex[i]).size>=4096)if(a.l=d.start+1<<9,vE&&Buffer.isBuffer(d.content))d.content.copy(a,a.l,0,d.size),a.l+=d.size+511&-512;else{for(c=0;c<d.size;++c)a.write_shift(1,d.content[c]);for(;511&c;++c)a.write_shift(1,0)}for(i=1;i<e.FileIndex.length;++i)if((d=e.FileIndex[i]).size>0&&d.size<4096)if(vE&&Buffer.isBuffer(d.content))d.content.copy(a,a.l,0,d.size),a.l+=d.size+63&-64;else{for(c=0;c<d.size;++c)a.write_shift(1,d.content[c]);for(;63&c;++c)a.write_shift(1,0)}if(vE)a.l=a.length;else for(;a.l<a.length;)a.write_shift(1,0);return a}t.version="1.2.1";var m,g=64,v=-2,y="d0cf11e0a1b11ae1",w=[208,207,17,224,161,177,26,225],b="00000000000000000000000000000000",x={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:v,FREESECT:-1,HEADER_SIGNATURE:y,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:b,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function E(e){for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function k(e){return m?m.deflateRawSync(e):Y(e)}var S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],_=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];for(var A,C,N="undefined"!=typeof Uint8Array,I=N?new Uint8Array(256):[],O=0;O<256;++O)I[O]=(C=void 0,255&((C=139536&((A=O)<<1|A<<11)|558144&(A<<5|A<<15))>>16|C>>8|C));function P(e,t){var r=I[255&e];return t<=8?r>>>8-t:(r=r<<8|I[e>>8&255],t<=16?r>>>16-t:(r=r<<8|I[e>>16&255])>>>24-t)}function R(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=6?0:e[n+1]<<8))>>>r&3}function D(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=5?0:e[n+1]<<8))>>>r&7}function L(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=3?0:e[n+1]<<8))>>>r&31}function M(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=1?0:e[n+1]<<8))>>>r&127}function F(e,t,r){var n=7&t,o=t>>>3,a=(1<<r)-1,i=e[o]>>>n;return r<8-n?i&a:(i|=e[o+1]<<8-n,r<16-n?i&a:(i|=e[o+2]<<16-n,r<24-n?i&a:(i|=e[o+3]<<24-n)&a))}function U(e,t,r){var n=7&t,o=t>>>3;return n<=5?e[o]|=(7&r)<<n:(e[o]|=r<<n&255,e[o+1]=(7&r)>>8-n),t+3}function j(e,t,r){return r=(1&r)<<(7&t),e[t>>>3]|=r,t+1}function B(e,t,r){var n=t>>>3;return r<<=7&t,e[n]|=255&r,r>>>=8,e[n+1]=r,t+8}function z(e,t,r){var n=t>>>3;return r<<=7&t,e[n]|=255&r,r>>>=8,e[n+1]=255&r,e[n+2]=r>>>8,t+16}function W(e,t){var r=e.length,n=2*r>t?2*r:t+5,o=0;if(r>=t)return e;if(vE){var a=bE(n);if(e.copy)e.copy(a);else for(;o<e.length;++o)a[o]=e[o];return a}if(N){var i=new Uint8Array(n);if(i.set)i.set(e);else for(;o<r;++o)i[o]=e[o];return i}return e.length=n,e}function V(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=0;return t}function H(e,t,r){var n=1,o=0,a=0,i=0,s=0,l=e.length,c=N?new Uint16Array(32):V(32);for(a=0;a<32;++a)c[a]=0;for(a=l;a<r;++a)e[a]=0;l=e.length;var u=N?new Uint16Array(l):V(l);for(a=0;a<l;++a)c[o=e[a]]++,n<o&&(n=o),u[a]=0;for(c[0]=0,a=1;a<=n;++a)c[a+16]=s=s+c[a-1]<<1;for(a=0;a<l;++a)0!=(s=e[a])&&(u[a]=c[s+16]++);var d=0;for(a=0;a<l;++a)if(0!=(d=e[a]))for(s=P(u[a],n)>>n-d,i=(1<<n+4-d)-1;i>=0;--i)t[s|i<<d]=15&d|a<<4;return n}var $=N?new Uint16Array(512):V(512),G=N?new Uint16Array(32):V(32);if(!N){for(var K=0;K<512;++K)$[K]=0;for(K=0;K<32;++K)G[K]=0}!function(){for(var e=[],t=0;t<32;t++)e.push(5);H(e,G,32);var r=[];for(t=0;t<=143;t++)r.push(8);for(;t<=255;t++)r.push(9);for(;t<=279;t++)r.push(7);for(;t<=287;t++)r.push(8);H(r,$,288)}();var q=function(){for(var e=N?new Uint8Array(32768):[],t=0,r=0;t<_.length-1;++t)for(;r<_[t+1];++r)e[r]=t;for(;r<32768;++r)e[r]=29;var n=N?new Uint8Array(259):[];for(t=0,r=0;t<T.length-1;++t)for(;r<T[t+1];++r)n[r]=t;return function(t,r){return t.length<8?function(e,t){for(var r=0;r<e.length;){var n=Math.min(65535,e.length-r),o=r+n==e.length;for(t.write_shift(1,+o),t.write_shift(2,n),t.write_shift(2,65535&~n);n-- >0;)t[t.l++]=e[r++]}return t.l}(t,r):function(t,r){for(var o=0,a=0,i=N?new Uint16Array(32768):[];a<t.length;){var s=Math.min(65535,t.length-a);if(s<10){for(7&(o=U(r,o,+!(a+s!=t.length)))&&(o+=8-(7&o)),r.l=o/8|0,r.write_shift(2,s),r.write_shift(2,65535&~s);s-- >0;)r[r.l++]=t[a++];o=8*r.l}else{o=U(r,o,+!(a+s!=t.length)+2);for(var l=0;s-- >0;){var c=t[a],u=-1,d=0;if((u=i[l=32767&(l<<5^c)])&&((u|=-32768&a)>a&&(u-=32768),u<a))for(;t[u+d]==t[a+d]&&d<250;)++d;if(d>2){(c=n[d])<=22?o=B(r,o,I[c+1]>>1)-1:(B(r,o,3),B(r,o+=5,I[c-23]>>5),o+=3);var h=c<8?0:c-4>>2;h>0&&(z(r,o,d-T[c]),o+=h),c=e[a-u],o=B(r,o,I[c]>>3),o-=3;var f=c<4?0:c-2>>1;f>0&&(z(r,o,a-u-_[c]),o+=f);for(var p=0;p<d;++p)i[l]=32767&a,l=32767&(l<<5^t[a]),++a;s-=d-1}else c<=143?c+=48:o=j(r,o,1),o=B(r,o,I[c]),i[l]=32767&a,++a}o=B(r,o,0)-1}}return r.l=(o+7)/8|0,r.l}(t,r)}}();function Y(e){var t=vT(50+Math.floor(1.1*e.length)),r=q(e,t);return t.slice(0,r)}var X=N?new Uint16Array(32768):V(32768),Q=N?new Uint16Array(32768):V(32768),J=N?new Uint16Array(128):V(128),Z=1,ee=1;function te(e,t){var r=L(e,t)+257,n=L(e,t+=5)+1,o=function(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=4?0:e[n+1]<<8))>>>r&15}(e,t+=5)+4;t+=4;for(var a=0,i=N?new Uint8Array(19):V(19),s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=1,c=N?new Uint8Array(8):V(8),u=N?new Uint8Array(8):V(8),d=i.length,h=0;h<o;++h)i[S[h]]=a=D(e,t),l<a&&(l=a),c[a]++,t+=3;var f=0;for(c[0]=0,h=1;h<=l;++h)u[h]=f=f+c[h-1]<<1;for(h=0;h<d;++h)0!=(f=i[h])&&(s[h]=u[f]++);var p=0;for(h=0;h<d;++h)if(0!=(p=i[h])){f=I[s[h]]>>8-p;for(var m=(1<<7-p)-1;m>=0;--m)J[f|m<<p]=7&p|h<<3}var g=[];for(l=1;g.length<r+n;)switch(t+=7&(f=J[M(e,t)]),f>>>=3){case 16:for(a=3+R(e,t),t+=2,f=g[g.length-1];a-- >0;)g.push(f);break;case 17:for(a=3+D(e,t),t+=3;a-- >0;)g.push(0);break;case 18:for(a=11+M(e,t),t+=7;a-- >0;)g.push(0);break;default:g.push(f),l<f&&(l=f)}var v=g.slice(0,r),y=g.slice(r);for(h=r;h<286;++h)v[h]=0;for(h=n;h<30;++h)y[h]=0;return Z=H(v,X,286),ee=H(y,Q,30),t}function re(e,t){var r=function(e,t){if(3==e[0]&&!(3&e[1]))return[wE(t),2];for(var r=0,n=0,o=bE(t||1<<18),a=0,i=o.length>>>0,s=0,l=0;!(1&n);)if(n=D(e,r),r+=3,n>>>1!=0)for(n>>1==1?(s=9,l=5):(r=te(e,r),s=Z,l=ee);;){!t&&i<a+32767&&(i=(o=W(o,a+32767)).length);var c=F(e,r,s),u=n>>>1==1?$[c]:X[c];if(r+=15&u,(u>>>=4)>>>8&255){if(256==u)break;var d=(u-=257)<8?0:u-4>>2;d>5&&(d=0);var h=a+T[u];d>0&&(h+=F(e,r,d),r+=d),c=F(e,r,l),r+=15&(u=n>>>1==1?G[c]:Q[c]);var f=(u>>>=4)<4?0:u-2>>1,p=_[u];for(f>0&&(p+=F(e,r,f),r+=f),!t&&i<h&&(i=(o=W(o,h+100)).length);a<h;)o[a]=o[a-p],++a}else o[a++]=u}else{7&r&&(r+=8-(7&r));var m=e[r>>>3]|e[1+(r>>>3)]<<8;if(r+=32,m>0)for(!t&&i<a+m&&(i=(o=W(o,a+m)).length);m-- >0;)o[a++]=e[r>>>3],r+=8}return t?[o,r+7>>>3]:[o.slice(0,a),r+7>>>3]}(e.slice(e.l||0),t);return e.l+=r[1],r[0]}function ne(e,t){if(!e)throw new Error(t);"undefined"!=typeof console&&console.error(t)}function oe(e,t){var r=e;mT(r,0);var n={FileIndex:[],FullPaths:[]};h(n,{root:t.root});for(var o=r.length-4;(80!=r[o]||75!=r[o+1]||5!=r[o+2]||6!=r[o+3])&&o>=0;)--o;r.l=o+4,r.l+=4;var i=r.read_shift(2);r.l+=6;var s=r.read_shift(4);for(r.l=s,o=0;o<i;++o){r.l+=20;var l=r.read_shift(4),c=r.read_shift(4),u=r.read_shift(2),d=r.read_shift(2),f=r.read_shift(2);r.l+=8;var p=r.read_shift(4),m=a(r.slice(r.l+u,r.l+u+d));r.l+=u+d+f;var g=r.l;r.l=p+4,ae(r,l,c,n,m),r.l=g}return n}function ae(e,t,r,n,o){e.l+=2;var i=e.read_shift(2),s=e.read_shift(2),l=function(e){var t=65535&e.read_shift(2),r=65535&e.read_shift(2),n=new Date,o=31&r,a=15&(r>>>=5);r>>>=4,n.setMilliseconds(0),n.setFullYear(r+1980),n.setMonth(a-1),n.setDate(o);var i=31&t,s=63&(t>>>=5);return t>>>=6,n.setHours(t),n.setMinutes(s),n.setSeconds(i<<1),n}(e);if(8257&i)throw new Error("Unsupported ZIP encryption");e.read_shift(4);for(var c=e.read_shift(4),u=e.read_shift(4),d=e.read_shift(2),h=e.read_shift(2),f="",p=0;p<d;++p)f+=String.fromCharCode(e[e.l++]);if(h){var g=a(e.slice(e.l,e.l+h));(g[21589]||{}).mt&&(l=g[21589].mt),((o||{})[21589]||{}).mt&&(l=o[21589].mt)}e.l+=h;var v=e.slice(e.l,e.l+c);switch(s){case 8:v=function(e,t){if(!m)return re(e,t);var r=new(0,m.InflateRaw),n=r._processChunk(e.slice(e.l),r._finishFlushFlag);return e.l+=r.bytesRead,n}(e,u);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+s)}var y=!1;8&i&&(134695760==e.read_shift(4)&&(e.read_shift(4),y=!0),c=e.read_shift(4),u=e.read_shift(4)),c!=t&&ne(y,"Bad compressed size: "+t+" != "+c),u!=r&&ne(y,"Bad uncompressed size: "+r+" != "+u),de(n,f,v,{unsafe:!0,mt:l})}var ie={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function se(e,t){if(e.ctype)return e.ctype;var r=e.name||"",n=r.match(/\.([^\.]+)$/);return n&&ie[n[1]]||t&&(n=(r=t).match(/[\.\\]([^\.\\])+$/))&&ie[n[1]]?ie[n[1]]:"application/octet-stream"}function le(e){for(var t=mE(e),r=[],n=0;n<t.length;n+=76)r.push(t.slice(n,n+76));return r.join("\r\n")+"\r\n"}function ce(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,(function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)}));"\n"==(t=t.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(t="=0D"+t.slice(1));for(var r=[],n=(t=t.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),o=0;o<n.length;++o){var a=n[o];if(0!=a.length)for(var i=0;i<a.length;){var s=76,l=a.slice(i,i+s);"="==l.charAt(s-1)?s--:"="==l.charAt(s-2)?s-=2:"="==l.charAt(s-3)&&(s-=3),l=a.slice(i,i+s),(i+=s)<a.length&&(l+="="),r.push(l)}else r.push("")}return r.join("\r\n")}function ue(e,t,r){for(var n,o="",a="",i="",s=0;s<10;++s){var l=t[s];if(!l||l.match(/^\s*$/))break;var c=l.match(/^(.*?):\s*([^\s].*)$/);if(c)switch(c[1].toLowerCase()){case"content-location":o=c[2].trim();break;case"content-type":i=c[2].trim();break;case"content-transfer-encoding":a=c[2].trim()}}switch(++s,a.toLowerCase()){case"base64":n=xE(gE(t.slice(s).join("")));break;case"quoted-printable":n=function(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r];r<=e.length&&"="==n.charAt(n.length-1);)n=n.slice(0,n.length-1)+e[++r];t.push(n)}for(var o=0;o<t.length;++o)t[o]=t[o].replace(/[=][0-9A-Fa-f]{2}/g,(function(e){return String.fromCharCode(parseInt(e.slice(1),16))}));return xE(t.join("\r\n"))}(t.slice(s));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+a)}var u=de(e,o.slice(r.length),n,{unsafe:!0});i&&(u.ctype=i)}function de(e,t,r,o){var a=o&&o.unsafe;a||h(e);var i=!a&&bk.find(e,t);if(!i){var s=e.FullPaths[0];t.slice(0,s.length)==s?s=t:("/"!=s.slice(-1)&&(s+="/"),s=(s+t).replace("//","/")),i={name:n(t),type:2},e.FileIndex.push(i),e.FullPaths.push(s),a||bk.utils.cfb_gc(e)}return i.content=r,i.size=r?r.length:0,o&&(o.CLSID&&(i.clsid=o.CLSID),o.mt&&(i.mt=o.mt),o.ct&&(i.ct=o.ct)),i}return t.find=function(e,t){var r=e.FullPaths.map((function(e){return e.toUpperCase()})),n=r.map((function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]})),o=!1;47===t.charCodeAt(0)?(o=!0,t=r[0].slice(0,-1)+t):o=-1!==t.indexOf("/");var a=t.toUpperCase(),i=!0===o?r.indexOf(a):n.indexOf(a);if(-1!==i)return e.FileIndex[i];var s=!a.match(_E);for(a=a.replace(TE,""),s&&(a=a.replace(_E,"!")),i=0;i<r.length;++i){if((s?r[i].replace(_E,"!"):r[i]).replace(TE,"")==a)return e.FileIndex[i];if((s?n[i].replace(_E,"!"):n[i]).replace(TE,"")==a)return e.FileIndex[i]}return null},t.read=function(t,r){var n=r&&r.type;switch(n||vE&&Buffer.isBuffer(t)&&(n="buffer"),n||"base64"){case"file":return function(t,r){return i(),s(e.readFileSync(t),r)}(t,r);case"base64":return s(xE(gE(t)),r);case"binary":return s(xE(t),r)}return s(t,r)},t.parse=s,t.write=function(t,r){var n=p(t,r);switch(r&&r.type||"buffer"){case"file":return i(),e.writeFileSync(r.filename,n),n;case"binary":return"string"==typeof n?n:E(n);case"base64":return mE("string"==typeof n?n:E(n));case"buffer":if(vE)return Buffer.isBuffer(n)?n:yE(n);case"array":return"string"==typeof n?xE(n):n}return n},t.writeFile=function(t,r,n){i();var o=p(t,n);e.writeFileSync(r,o)},t.utils={cfb_new:function(e){var t={};return h(t,e),t},cfb_add:de,cfb_del:function(e,t){h(e);var r=bk.find(e,t);if(r)for(var n=0;n<e.FileIndex.length;++n)if(e.FileIndex[n]==r)return e.FileIndex.splice(n,1),e.FullPaths.splice(n,1),!0;return!1},cfb_mov:function(e,t,r){h(e);var o=bk.find(e,t);if(o)for(var a=0;a<e.FileIndex.length;++a)if(e.FileIndex[a]==o)return e.FileIndex[a].name=n(r),e.FullPaths[a]=r,!0;return!1},cfb_gc:function(e){f(e,!0)},ReadShift:cT,CheckField:pT,prep_blob:mT,bconcat:SE,use_zlib:function(e){try{var t=new(0,e.InflateRaw);if(t._processChunk(new Uint8Array([3,0]),t._finishFlushFlag),!t.bytesRead)throw new Error("zlib does not expose bytesRead");m=e}catch(e){console.error("cannot use native zlib: "+(e.message||e))}},_deflateRaw:Y,_inflateRaw:re,consts:x},t}();let xk;function Ek(e){return"string"==typeof e?EE(e):Array.isArray(e)?function(e){if("undefined"==typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function kk(e,t,r){if(void 0!==xk&&xk.writeFileSync)return r?xk.writeFileSync(e,t,r):xk.writeFileSync(e,t);if("undefined"!=typeof Deno){if(r&&"string"==typeof t)switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=EE(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n="utf8"==r?sS(t):t;if("undefined"!=typeof IE_SaveFile)return IE_SaveFile(n,e);if("undefined"!=typeof Blob){var o=new Blob([Ek(n)],{type:"application/octet-stream"});if("undefined"!=typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(o,e);if("undefined"!=typeof saveAs)return saveAs(o,e);if("undefined"!=typeof URL&&"undefined"!=typeof document&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(o);if("object"==typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(a)}),6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var i=document.createElement("a");if(null!=i.download)return i.download=e,i.href=a,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(a)}),6e4),a}}if("undefined"!=typeof $&&"undefined"!=typeof File&&"undefined"!=typeof Folder)try{var s=File(e);return s.open("w"),s.encoding="binary",Array.isArray(t)&&(t=kE(t)),s.write(t),s.close(),t}catch(e){if(!e.message||!e.message.match(/onstruct/))throw e}throw new Error("cannot save file "+e)}function Sk(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function Tk(e,t){for(var r=[],n=Sk(e),o=0;o!==n.length;++o)null==r[e[n[o]][t]]&&(r[e[n[o]][t]]=n[o]);return r}function _k(e){for(var t=[],r=Sk(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function Ak(e){for(var t=[],r=Sk(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}var Ck=new Date(1899,11,30,0,0,0);function Nk(e,t){var r=e.getTime();return t&&(r-=1263168e5),(r-(Ck.getTime()+6e4*(e.getTimezoneOffset()-Ck.getTimezoneOffset())))/864e5}var Ik=new Date,Ok=Ck.getTime()+6e4*(Ik.getTimezoneOffset()-Ck.getTimezoneOffset()),Pk=Ik.getTimezoneOffset();function Rk(e){var t=new Date;return t.setTime(24*e*60*60*1e3+Ok),t.getTimezoneOffset()!==Pk&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-Pk)),t}var Dk=new Date("2017-02-19T19:06:09.000Z"),Lk=isNaN(Dk.getFullYear())?new Date("2/19/17"):Dk,Mk=2017==Lk.getFullYear();function Fk(e,t){var r=new Date(e);if(Mk)return t>0?r.setTime(r.getTime()+60*r.getTimezoneOffset()*1e3):t<0&&r.setTime(r.getTime()-60*r.getTimezoneOffset()*1e3),r;if(e instanceof Date)return e;if(1917==Lk.getFullYear()&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var o=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+o[0],+o[1]-1,+o[2],+o[3]||0,+o[4]||0,+o[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-60*a.getTimezoneOffset()*1e3)),a}function Uk(e,t){if(vE&&Buffer.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return sS(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return sS(uE(e.slice(2).toString("binary")))}return e.toString("binary")}if("undefined"!=typeof TextDecoder)try{if(t){if(255==e[0]&&254==e[1])return sS(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return sS(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"",ˆ:"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,(function(e){return r[e]||e}))}catch(e){}for(var n=[],o=0;o!=e.length;++o)n.push(String.fromCharCode(e[o]));return n.join("")}function jk(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=jk(e[r]));return t}function Bk(e,t){for(var r="";r.length<t;)r+=e;return r}function zk(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,(function(){return r*=100,""}));return isNaN(t=Number(n))?(n=n.replace(/[(](.*)[)]/,(function(e,t){return r=-r,t})),isNaN(t=Number(n))?t:t/r):t/r}var Wk=["january","february","march","april","may","june","july","august","september","october","november","december"];function Vk(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),o=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==Wk.indexOf(i))return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(o>0||a>1)&&101!=n?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Hk(e,t,r){if(e.FullPaths){var n;if("string"==typeof r)return n=vE?yE(r):function(e){for(var t=[],r=0,n=e.length+250,o=wE(e.length+255),a=0;a<e.length;++a){var i=e.charCodeAt(a);if(i<128)o[r++]=i;else if(i<2048)o[r++]=192|i>>6&31,o[r++]=128|63&i;else if(i>=55296&&i<57344){i=64+(1023&i);var s=1023&e.charCodeAt(++a);o[r++]=240|i>>8&7,o[r++]=128|i>>2&63,o[r++]=128|s>>6&15|(3&i)<<4,o[r++]=128|63&s}else o[r++]=224|i>>12&15,o[r++]=128|i>>6&63,o[r++]=128|63&i;r>n&&(t.push(o.slice(0,r)),r=0,o=wE(65535),n=65530)}return t.push(o.slice(0,r)),SE(t)}(r),bk.utils.cfb_add(e,t,n);bk.utils.cfb_add(e,t,r)}else e.file(t,r)}function $k(){return bk.utils.cfb_new()}var Gk='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n';var Kk={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},qk=_k(Kk),Yk=/[&<>'"]/g,Xk=/[\u0000-\u0008\u000b-\u001f]/g;function Qk(e){return(e+"").replace(Yk,(function(e){return qk[e]})).replace(Xk,(function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"}))}function Jk(e){return Qk(e).replace(/ /g,"_x0020_")}var Zk=/[\u0000-\u001f]/g;function eS(e){return(e+"").replace(Yk,(function(e){return qk[e]})).replace(/\n/g,"<br/>").replace(Zk,(function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"}))}function tS(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function rS(e){for(var t="",r=0,n=0,o=0,a=0,i=0,s=0;r<e.length;)(n=e.charCodeAt(r++))<128?t+=String.fromCharCode(n):(o=e.charCodeAt(r++),n>191&&n<224?(i=(31&n)<<6,i|=63&o,t+=String.fromCharCode(i)):(a=e.charCodeAt(r++),n<240?t+=String.fromCharCode((15&n)<<12|(63&o)<<6|63&a):(s=((7&n)<<18|(63&o)<<12|(63&a)<<6|63&(i=e.charCodeAt(r++)))-65536,t+=String.fromCharCode(55296+(s>>>10&1023)),t+=String.fromCharCode(56320+(1023&s)))));return t}function nS(e){var t,r,n,o=wE(2*e.length),a=1,i=0,s=0;for(r=0;r<e.length;r+=a)a=1,(n=e.charCodeAt(r))<128?t=n:n<224?(t=64*(31&n)+(63&e.charCodeAt(r+1)),a=2):n<240?(t=4096*(15&n)+64*(63&e.charCodeAt(r+1))+(63&e.charCodeAt(r+2)),a=3):(a=4,t=262144*(7&n)+4096*(63&e.charCodeAt(r+1))+64*(63&e.charCodeAt(r+2))+(63&e.charCodeAt(r+3)),s=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==s&&(o[i++]=255&s,o[i++]=s>>>8,s=0),o[i++]=t%256,o[i++]=t>>>8;return o.slice(0,i).toString("ucs2")}function oS(e){return yE(e,"binary").toString("utf8")}var aS="foo bar bazâð£",iS=vE&&(oS(aS)==rS(aS)&&oS||nS(aS)==rS(aS)&&nS)||rS,sS=vE?function(e){return yE(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,o=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(63&n)));break;case n>=55296&&n<57344:n-=55296,o=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(o>>18&7))),t.push(String.fromCharCode(144+(o>>12&63))),t.push(String.fromCharCode(128+(o>>6&63))),t.push(String.fromCharCode(128+(63&o)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(63&n)))}return t.join("")},lS=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map((function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]}));return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),n=0;n<e.length;++n)r=r.replace(e[n][0],e[n][1]);return r}}();var cS=/(^\s|\s$|\n)/;function uS(e,t){return"<"+e+(t.match(cS)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function dS(e){return Sk(e).map((function(t){return" "+t+'="'+e[t]+'"'})).join("")}function hS(e,t,r){return"<"+e+(null!=r?dS(r):"")+(null!=t?(t.match(cS)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function fS(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(e){if(t)throw e}return""}var pS="http://schemas.openxmlformats.org/package/2006/metadata/core-properties",mS="http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",gS="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vS="http://schemas.openxmlformats.org/package/2006/content-types",yS="http://schemas.openxmlformats.org/package/2006/relationships",wS="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",bS="http://purl.org/dc/elements/1.1/",xS="http://purl.org/dc/terms/",ES="http://purl.org/dc/dcmitype/",kS="http://schemas.openxmlformats.org/officeDocument/2006/relationships",SS="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",TS="http://www.w3.org/2001/XMLSchema-instance",_S="http://www.w3.org/2001/XMLSchema",AS=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],CS="urn:schemas-microsoft-com:office:office",NS="urn:schemas-microsoft-com:office:excel",IS="urn:schemas-microsoft-com:office:spreadsheet",OS="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",PS="http://macVmlSchemaUri",RS="urn:schemas-microsoft-com:vml",DS="http://www.w3.org/TR/REC-html40";var LS=function(e){for(var t=[],r=0;r<e[0].length;++r)if(e[0][r])for(var n=0,o=e[0][r].length;n<o;n+=10240)t.push.apply(t,e[0][r].slice(n,n+10240));return t},MS=vE?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map((function(e){return Buffer.isBuffer(e)?e:yE(e)}))):LS(e)}:LS,FS=function(e,t,r){for(var n=[],o=t;o<r;o+=2)n.push(String.fromCharCode(oT(e,o)));return n.join("").replace(TE,"")},US=vE?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(TE,""):FS(e,t,r)}:FS,jS=function(e,t,r){for(var n=[],o=t;o<t+r;++o)n.push(("0"+e[o].toString(16)).slice(-2));return n.join("")},BS=vE?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):jS(e,t,r)}:jS,zS=function(e,t,r){for(var n=[],o=t;o<r;o++)n.push(String.fromCharCode(nT(e,o)));return n.join("")},WS=vE?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):zS(e,t,r)}:zS,VS=function(e,t){var r=iT(e,t);return r>0?WS(e,t+4,t+4+r-1):""},HS=VS,$S=function(e,t){var r=iT(e,t);return r>0?WS(e,t+4,t+4+r-1):""},GS=$S,KS=function(e,t){var r=2*iT(e,t);return r>0?WS(e,t+4,t+4+r-1):""},qS=KS,YS=function(e,t){var r=iT(e,t);return r>0?US(e,t+4,t+4+r):""},XS=YS,QS=function(e,t){var r=iT(e,t);return r>0?WS(e,t+4,t+4+r):""},JS=QS,ZS=function(e,t){return function(e,t){for(var r=1-2*(e[t+7]>>>7),n=((127&e[t+7])<<4)+(e[t+6]>>>4&15),o=15&e[t+6],a=5;a>=0;--a)o=256*o+e[t+a];return 2047==n?0==o?r*(1/0):NaN:(0==n?n=-1022:(n-=1023,o+=Math.pow(2,52)),r*Math.pow(2,n-52)*o)}(e,t)},eT=ZS,tT=function(e){return Array.isArray(e)||"undefined"!=typeof Uint8Array&&e instanceof Uint8Array};function rT(){US=function(e,t,r){return dE.utils.decode(1200,e.slice(t,r)).replace(TE,"")},WS=function(e,t,r){return dE.utils.decode(65001,e.slice(t,r))},HS=function(e,t){var r=iT(e,t);return r>0?dE.utils.decode(oE,e.slice(t+4,t+4+r-1)):""},GS=function(e,t){var r=iT(e,t);return r>0?dE.utils.decode(nE,e.slice(t+4,t+4+r-1)):""},qS=function(e,t){var r=2*iT(e,t);return r>0?dE.utils.decode(1200,e.slice(t+4,t+4+r-1)):""},XS=function(e,t){var r=iT(e,t);return r>0?dE.utils.decode(1200,e.slice(t+4,t+4+r)):""},JS=function(e,t){var r=iT(e,t);return r>0?dE.utils.decode(65001,e.slice(t+4,t+4+r)):""}}vE&&(HS=function(e,t){if(!Buffer.isBuffer(e))return VS(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},GS=function(e,t){if(!Buffer.isBuffer(e))return $S(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},qS=function(e,t){if(!Buffer.isBuffer(e))return KS(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},XS=function(e,t){if(!Buffer.isBuffer(e))return YS(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},JS=function(e,t){if(!Buffer.isBuffer(e))return QS(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},eT=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):ZS(e,t)},tT=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||"undefined"!=typeof Uint8Array&&e instanceof Uint8Array}),void 0!==dE&&rT();var nT=function(e,t){return e[t]},oT=function(e,t){return 256*e[t+1]+e[t]},aT=function(e,t){var r=256*e[t+1]+e[t];return r<32768?r:-1*(65535-r+1)},iT=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},sT=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},lT=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function cT(e,t){var r,n,o,a,i,s,l="",c=[];switch(t){case"dbcs":if(s=this.l,vE&&Buffer.isBuffer(this))l=this.slice(this.l,this.l+2*e).toString("utf16le");else for(i=0;i<e;++i)l+=String.fromCharCode(oT(this,s)),s+=2;e*=2;break;case"utf8":l=WS(this,this.l,this.l+e);break;case"utf16le":e*=2,l=US(this,this.l,this.l+e);break;case"wstr":if(void 0===dE)return cT.call(this,e,"dbcs");l=dE.utils.decode(nE,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":l=HS(this,this.l),e=4+iT(this,this.l);break;case"lpstr-cp":l=GS(this,this.l),e=4+iT(this,this.l);break;case"lpwstr":l=qS(this,this.l),e=4+2*iT(this,this.l);break;case"lpp4":e=4+iT(this,this.l),l=XS(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+iT(this,this.l),l=JS(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,l="";0!==(o=nT(this,this.l+e++));)c.push(hE(o));l=c.join("");break;case"_wstr":for(e=0,l="";0!==(o=oT(this,this.l+e));)c.push(hE(o)),e+=2;e+=2,l=c.join("");break;case"dbcs-cont":for(l="",s=this.l,i=0;i<e;++i){if(this.lens&&-1!==this.lens.indexOf(s))return o=nT(this,s),this.l=s+1,a=cT.call(this,e-i,o?"dbcs-cont":"sbcs-cont"),c.join("")+a;c.push(hE(oT(this,s))),s+=2}l=c.join(""),e*=2;break;case"cpstr":if(void 0!==dE){l=dE.utils.decode(nE,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(l="",s=this.l,i=0;i!=e;++i){if(this.lens&&-1!==this.lens.indexOf(s))return o=nT(this,s),this.l=s+1,a=cT.call(this,e-i,o?"dbcs-cont":"sbcs-cont"),c.join("")+a;c.push(hE(nT(this,s))),s+=1}l=c.join("");break;default:switch(e){case 1:return r=nT(this,this.l),this.l++,r;case 2:return r=("i"===t?aT:oT)(this,this.l),this.l+=2,r;case 4:case-4:return"i"!==t&&128&this[this.l+3]?(n=iT(this,this.l),this.l+=4,n):(r=(e>0?sT:lT)(this,this.l),this.l+=4,r);case 8:case-8:if("f"===t)return n=8==e?eT(this,this.l):eT([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:l=BS(this,this.l,e)}}return this.l+=e,l}var uT=function(e,t,r){e[r]=255&t,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},dT=function(e,t,r){e[r]=255&t,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},hT=function(e,t,r){e[r]=255&t,e[r+1]=t>>>8&255};function fT(e,t,r){var n=0,o=0;if("dbcs"===r){for(o=0;o!=t.length;++o)hT(this,t.charCodeAt(o),this.l+2*o);n=2*t.length}else if("sbcs"===r){if(void 0!==dE&&874==oE)for(o=0;o!=t.length;++o){var a=dE.utils.encode(oE,t.charAt(o));this[this.l+o]=a[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),o=0;o!=t.length;++o)this[this.l+o]=255&t.charCodeAt(o);n=t.length}else{if("hex"===r){for(;o<e;++o)this[this.l++]=parseInt(t.slice(2*o,2*o+2),16)||0;return this}if("utf16le"===r){var i=Math.min(this.l+e,this.length);for(o=0;o<Math.min(t.length,e);++o){var s=t.charCodeAt(o);this[this.l++]=255&s,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}switch(e){case 1:n=1,this[this.l]=255&t;break;case 2:n=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:n=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:n=4,uT(this,t,this.l);break;case 8:if(n=8,"f"===r){!function(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,o=0,a=0,i=n?-t:t;isFinite(i)?0==i?o=a=0:(o=Math.floor(Math.log(i)/Math.LN2),a=i*Math.pow(2,52-o),o<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?o=-1022:(a-=Math.pow(2,52),o+=1023)):(o=2047,a=isNaN(t)?26985:0);for(var s=0;s<=5;++s,a/=256)e[r+s]=255&a;e[r+6]=(15&o)<<4|15&a,e[r+7]=o>>4|n}(this,t,this.l);break}case 16:break;case-4:n=4,dT(this,t,this.l)}}return this.l+=n,this}function pT(e,t){var r=BS(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function mT(e,t){e.l=t,e.read_shift=cT,e.chk=pT,e.write_shift=fT}function gT(e,t){e.l+=t}function vT(e){var t=wE(e);return mT(t,0),t}function yT(){var e=[],t=vE?256:2048,r=function(e){var t=vT(e);return mT(t,0),t},n=r(t),o=function(){n&&(n.length>n.l&&((n=n.slice(0,n.l)).l=n.length),n.length>0&&e.push(n),n=null)},a=function(e){return n&&e<n.length-n.l?n:(o(),n=r(Math.max(e+1,t)))};return{next:a,push:function(e){o(),null==(n=e).l&&(n.l=n.length),a(t)},end:function(){return o(),SE(e)},_bufs:e}}function wT(e,t,r,n){var o,a=+t;if(!isNaN(a)){n||(n=IN[a].p||(r||[]).length||0),o=1+(a>=128?1:0)+1,n>=128&&++o,n>=16384&&++o,n>=2097152&&++o;var i=e.next(o);a<=127?i.write_shift(1,a):(i.write_shift(1,128+(127&a)),i.write_shift(1,a>>7));for(var s=0;4!=s;++s){if(!(n>=128)){i.write_shift(1,n);break}i.write_shift(1,128+(127&n)),n>>=7}n>0&&tT(r)&&e.push(r)}}function bT(e,t,r){var n=jk(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function xT(e,t,r){var n=jk(e);return n.s=bT(n.s,t.s,r),n.e=bT(n.e,t.s,r),n}function ET(e,t){if(e.cRel&&e.c<0)for(e=jk(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=jk(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=NT(e);return e.cRel||null==e.cRel||(r=r.replace(/^([A-Z])/,"$$$1")),e.rRel||null==e.rRel||(r=function(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(r)),r}function kT(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?ET(e.s,t.biff)+":"+ET(e.e,t.biff):(e.s.rRel?"":"$")+TT(e.s.r)+":"+(e.e.rRel?"":"$")+TT(e.e.r):(e.s.cRel?"":"$")+AT(e.s.c)+":"+(e.e.cRel?"":"$")+AT(e.e.c)}function ST(e){return parseInt(e.replace(/\$(\d+)$/,"$1"),10)-1}function TT(e){return""+(e+1)}function _T(e){for(var t=e.replace(/^\$([A-Z])/,"$1"),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function AT(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function CT(e){for(var t=0,r=0,n=0;n<e.length;++n){var o=e.charCodeAt(n);o>=48&&o<=57?t=10*t+(o-48):o>=65&&o<=90&&(r=26*r+(o-64))}return{c:r-1,r:t-1}}function NT(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function IT(e){var t=e.indexOf(":");return-1==t?{s:CT(e),e:CT(e)}:{s:CT(e.slice(0,t)),e:CT(e.slice(t+1))}}function OT(e,t){return void 0===t||"number"==typeof t?OT(e.s,e.e):("string"!=typeof e&&(e=NT(e)),"string"!=typeof t&&(t=NT(t)),e==t?e:e+":"+t)}function PT(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,o=0,a=e.length;for(r=0;n<a&&!((o=e.charCodeAt(n)-64)<1||o>26);++n)r=26*r+o;for(t.s.c=--r,r=0;n<a&&!((o=e.charCodeAt(n)-48)<0||o>9);++n)r=10*r+o;if(t.s.r=--r,n===a||10!=o)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((o=e.charCodeAt(n)-64)<1||o>26);++n)r=26*r+o;for(t.e.c=--r,r=0;n!=a&&!((o=e.charCodeAt(n)-48)<0||o>9);++n)r=10*r+o;return t.e.r=--r,t}function RT(e,t){var r="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=pk(e.z,r?Nk(t):t)}catch(e){}try{return e.w=pk((e.XF||{}).numFmtId||(r?14:0),r?Nk(t):t)}catch(e){return""+t}}function DT(e,t,r){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),"e"==e.t?m_[e.v]||e.v:RT(e,null==t?e.v:t))}function LT(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function MT(e,t,r){var n=r||{},o=e?Array.isArray(e):n.dense;var a=e||(o?[]:{}),i=0,s=0;if(a&&null!=n.origin){if("number"==typeof n.origin)i=n.origin;else{var l="string"==typeof n.origin?CT(n.origin):n.origin;i=l.r,s=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var u=PT(a["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),-1==i&&(c.e.r=i=u.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[d].length;++h)if(void 0!==t[d][h]){var f={v:t[d][h]},p=i+d,m=s+h;if(c.s.r>p&&(c.s.r=p),c.s.c>m&&(c.s.c=m),c.e.r<p&&(c.e.r=p),c.e.c<m&&(c.e.c=m),!t[d][h]||"object"!=typeof t[d][h]||Array.isArray(t[d][h])||t[d][h]instanceof Date)if(Array.isArray(f.v)&&(f.f=t[d][h][1],f.v=f.v[0]),null===f.v)if(f.f)f.t="n";else if(n.nullError)f.t="e",f.v=0;else{if(!n.sheetStubs)continue;f.t="z"}else"number"==typeof f.v?f.t="n":"boolean"==typeof f.v?f.t="b":f.v instanceof Date?(f.z=n.dateNF||ME[14],n.cellDates?(f.t="d",f.w=pk(f.z,Nk(f.v))):(f.t="n",f.v=Nk(f.v),f.w=pk(f.z,f.v))):f.t="s";else f=t[d][h];if(o)a[p]||(a[p]=[]),a[p][m]&&a[p][m].z&&(f.z=a[p][m].z),a[p][m]=f;else{var g=NT({c:m,r:p});a[g]&&a[g].z&&(f.z=a[g].z),a[g]=f}}}return c.s.c<1e7&&(a["!ref"]=OT(c)),a}function FT(e,t){return MT(null,e,t)}function UT(e,t){return t||(t=vT(4)),t.write_shift(4,e),t}function jT(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function BT(e,t){var r=!1;return null==t&&(r=!0,t=vT(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function zT(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function WT(e,t){var r=e.l,n=e.read_shift(1),o=jT(e),a=[],i={t:o,h:o};if(1&n){for(var s=e.read_shift(4),l=0;l!=s;++l)a.push(zT(e));i.r=a}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}var VT=WT;function HT(e,t){var r=!1;return null==t&&(r=!0,t=vT(23+4*e.t.length)),t.write_shift(1,1),BT(e.t,t),t.write_shift(4,1),function(e,t){t||(t=vT(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0)}({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function $T(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function GT(e,t){return null==t&&(t=vT(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function KT(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function qT(e,t){return null==t&&(t=vT(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var YT=jT,XT=BT;function QT(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function JT(e,t){var r=!1;return null==t&&(r=!0,t=vT(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var ZT=jT,e_=QT,t_=JT;function r_(e){var t=e.slice(e.l,e.l+4),r=1&t[0],n=2&t[0];e.l+=4;var o=0===n?eT([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):sT(t,0)>>2;return r?o/100:o}function n_(e,t){null==t&&(t=vT(4));var r=0,n=0,o=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?n=1:o==(0|o)&&o>=-(1<<29)&&o<1<<29&&(n=1,r=1),!n)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((r?o:e)<<2)+(r+2))}function o_(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var a_=o_,i_=function(e,t){return t||(t=vT(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t};function s_(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function l_(e,t){return(t||vT(8)).write_shift(8,e,"f")}function c_(e,t){if(t||(t=vT(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),e.rgb&&null==e.theme){var n=e.rgb||"FFFFFF";"number"==typeof n&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}var u_=80,d_={1:{n:"CodePage",t:2},2:{n:"Category",t:u_},3:{n:"PresentationFormat",t:u_},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:u_},15:{n:"Company",t:u_},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:u_},27:{n:"ContentStatus",t:u_},28:{n:"Language",t:u_},29:{n:"Version",t:u_},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},h_={1:{n:"CodePage",t:2},2:{n:"Title",t:u_},3:{n:"Subject",t:u_},4:{n:"Author",t:u_},5:{n:"Keywords",t:u_},6:{n:"Comments",t:u_},7:{n:"Template",t:u_},8:{n:"LastAuthor",t:u_},9:{n:"RevNumber",t:u_},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:u_},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function f_(e){return e.map((function(e){return[e>>16&255,e>>8&255,255&e]}))}var p_=jk(f_([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),m_={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},g_={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},v_={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function y_(e,t){var r,n=function(e){for(var t=[],r=Sk(e),n=0;n!==r.length;++n)null==t[e[r[n]]]&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}(g_),o=[];o[o.length]=Gk,o[o.length]=hS("Types",null,{xmlns:vS,"xmlns:xsd":_S,"xmlns:xsi":TS}),o=o.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map((function(e){return hS("Default",null,{Extension:e[0],ContentType:e[1]})})));var a=function(n){e[n]&&e[n].length>0&&(r=e[n][0],o[o.length]=hS("Override",null,{PartName:("/"==r[0]?"":"/")+r,ContentType:v_[n][t.bookType]||v_[n].xlsx}))},i=function(r){(e[r]||[]).forEach((function(e){o[o.length]=hS("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:v_[r][t.bookType]||v_[r].xlsx})}))},s=function(t){(e[t]||[]).forEach((function(e){o[o.length]=hS("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:n[t][0]})}))};return a("workbooks"),i("sheets"),i("charts"),s("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(s),s("vba"),s("comments"),s("threadedcomments"),s("drawings"),i("metadata"),s("people"),o.length>2&&(o[o.length]="</Types>",o[1]=o[1].replace("/>",">")),o.join("")}var w_={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function b_(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function x_(e){var t=[Gk,hS("Relationships",null,{xmlns:yS})];return Sk(e["!id"]).forEach((function(r){t[t.length]=hS("Relationship",null,e["!id"][r])})),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function E_(e,t,r,n,o,a){if(o||(o={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,o.Id="rId"+t,o.Type=n,o.Target=r,a?o.TargetMode=a:[w_.HLINK,w_.XPATH,w_.XMISS].indexOf(o.Type)>-1&&(o.TargetMode="External"),e["!id"][o.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][o.Id]=o,e[("/"+o.Target).replace("//","/")]=o,t}function k_(e,t,r){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function S_(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+rE.version+"</meta:generator></office:meta></office:document-meta>"}var T_=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function __(e,t,r,n,o){null==o[e]&&null!=t&&""!==t&&(o[e]=t,t=Qk(t),n[n.length]=r?hS(e,t,r):uS(e,t))}function A_(e,t){var r=t||{},n=[Gk,hS("cp:coreProperties",null,{"xmlns:cp":pS,"xmlns:dc":bS,"xmlns:dcterms":xS,"xmlns:dcmitype":ES,"xmlns:xsi":TS})],o={};if(!e&&!r.Props)return n.join("");e&&(null!=e.CreatedDate&&__("dcterms:created","string"==typeof e.CreatedDate?e.CreatedDate:fS(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,o),null!=e.ModifiedDate&&__("dcterms:modified","string"==typeof e.ModifiedDate?e.ModifiedDate:fS(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,o));for(var a=0;a!=T_.length;++a){var i=T_[a],s=r.Props&&null!=r.Props[i[1]]?r.Props[i[1]]:e?e[i[1]]:null;!0===s?s="1":!1===s?s="0":"number"==typeof s&&(s=String(s)),null!=s&&__(i[0],s,null,n,o)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var C_=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],N_=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function I_(e){var t=[],r=hS;return e||(e={}),e.Application="SheetJS",t[t.length]=Gk,t[t.length]=hS("Properties",null,{xmlns:gS,"xmlns:vt":SS}),C_.forEach((function(n){if(void 0!==e[n[1]]){var o;switch(n[2]){case"string":o=Qk(String(e[n[1]]));break;case"bool":o=e[n[1]]?"true":"false"}void 0!==o&&(t[t.length]=r(n[0],o))}})),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map((function(e){return"<vt:lpstr>"+Qk(e)+"</vt:lpstr>"})).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function O_(e){var t=[Gk,hS("Properties",null,{xmlns:mS,"xmlns:vt":SS})];if(!e)return t.join("");var r=1;return Sk(e).forEach((function(n){++r,t[t.length]=hS("property",function(e,t){switch(typeof e){case"string":var r=hS("vt:lpwstr",Qk(e));return t&&(r=r.replace(/&quot;/g,"_x0022_")),r;case"number":return hS((0|e)==e?"vt:i4":"vt:r8",Qk(String(e)));case"boolean":return hS("vt:bool",e?"true":"false")}if(e instanceof Date)return hS("vt:filetime",fS(e));throw new Error("Unable to serialize "+e)}(e[n],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Qk(n)})})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var P_={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function R_(e,t){var r=vT(4),n=vT(4);switch(r.write_shift(4,80==e?31:e),e){case 3:n.write_shift(-4,t);break;case 5:(n=vT(8)).write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=function(e){var t=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,r=t%Math.pow(2,32),n=(t-r)/Math.pow(2,32);n*=1e7;var o=(r*=1e7)/Math.pow(2,32)|0;o>0&&(r%=Math.pow(2,32),n+=o);var a=vT(8);return a.write_shift(4,r),a.write_shift(4,n),a}(t);break;case 31:case 80:for((n=vT(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return SE([r,n])}var D_=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function L_(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function M_(e,t,r){var n=vT(8),o=[],a=[],i=8,s=0,l=vT(8),c=vT(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),a.push(l),o.push(c),i+=8+l.length,!t){(c=vT(8)).write_shift(4,0),o.unshift(c);var u=[vT(4)];for(u[0].write_shift(4,e.length),s=0;s<e.length;++s){var d=e[s][0];for((l=vT(8+2*(d.length+1)+(d.length%2?0:2))).write_shift(4,s+2),l.write_shift(4,d.length+1),l.write_shift(0,d,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=SE(u),a.unshift(l),i+=8+l.length}for(s=0;s<e.length;++s)if((!t||t[e[s][0]])&&!(D_.indexOf(e[s][0])>-1||N_.indexOf(e[s][0])>-1)&&null!=e[s][1]){var h=e[s][1],f=0;if(t){var p=r[f=+t[e[s][0]]];if("version"==p.p&&"string"==typeof h){var m=h.split(".");h=(+m[0]<<16)+(+m[1]||0)}l=R_(p.t,h)}else{var g=L_(h);-1==g&&(g=31,h=String(h)),l=R_(g,h)}a.push(l),(c=vT(8)).write_shift(4,t?f:2+s),o.push(c),i+=8+l.length}var v=8*(a.length+1);for(s=0;s<a.length;++s)o[s].write_shift(4,v),v+=a[s].length;return n.write_shift(4,i),n.write_shift(4,a.length),SE([n].concat(o).concat(a))}function F_(e,t,r,n,o,a){var i=vT(o?68:48),s=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,bk.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,o?2:1),i.write_shift(16,t,"hex"),i.write_shift(4,o?68:48);var l=M_(e,r,n);if(s.push(l),o){var c=M_(o,null,null);i.write_shift(16,a,"hex"),i.write_shift(4,68+l.length),s.push(c)}return SE(s)}function U_(e,t){return 1===e.read_shift(t)}function j_(e,t){return t||(t=vT(2)),t.write_shift(2,+!!e),t}function B_(e){return e.read_shift(2,"u")}function z_(e,t){return t||(t=vT(2)),t.write_shift(2,e),t}function W_(e,t,r){return r||(r=vT(2)),r.write_shift(1,"e"==t?+e:+!!e),r.write_shift(1,"e"==t?1:0),r}function V_(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),o="sbcs-cont",a=nE;(r&&r.biff>=8&&(nE=1200),r&&8!=r.biff)?12==r.biff&&(o="wstr"):e.read_shift(1)&&(o="dbcs-cont");r.biff>=2&&r.biff<=5&&(o="cpstr");var i=n?e.read_shift(n,o):"";return nE=a,i}function H_(e){var t=e.t||"",r=vT(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=vT(2*t.length);return n.write_shift(2*t.length,t,"utf16le"),SE([r,n])}function $_(e,t,r){if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}return 0===e.read_shift(1)?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont")}function G_(e,t,r){var n=e.read_shift(r&&2==r.biff?1:2);return 0===n?(e.l++,""):$_(e,n,r)}function K_(e,t,r){if(r.biff>5)return G_(e,0,r);var n=e.read_shift(1);return 0===n?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function q_(e,t,r){return r||(r=vT(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function Y_(e,t){t||(t=vT(6+2*e.length)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function X_(e){var t=vT(512),r=0,n=e.Target;"file://"==n.slice(0,7)&&(n=n.slice(7));var o=n.indexOf("#"),a=o>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3}t.write_shift(4,2),t.write_shift(4,a);var i=[8,6815827,6619237,4849780,83];for(r=0;r<i.length;++r)t.write_shift(4,i[r]);if(28==a)Y_(n=n.slice(1),t);else if(2&a){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));var s=o>-1?n.slice(0,o):n;for(t.write_shift(4,2*(s.length+1)),r=0;r<s.length;++r)t.write_shift(2,s.charCodeAt(r));t.write_shift(2,0),8&a&&Y_(o>-1?n.slice(o+1):"",t)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));for(var l=0;"../"==n.slice(3*l,3*l+3)||"..\\"==n.slice(3*l,3*l+3);)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,255&n.charCodeAt(r+3*l));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Q_(e,t,r,n){return n||(n=vT(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function J_(e,t,r){var n=r.biff>8?4:2;return[e.read_shift(n),e.read_shift(n,"i"),e.read_shift(n,"i")]}function Z_(e){var t=e.read_shift(2),r=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r}}}function eA(e,t){return t||(t=vT(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function tA(e,t,r){var n=1536,o=16;switch(r.bookType){case"biff8":case"xla":break;case"biff5":n=1280,o=8;break;case"biff4":n=4,o=6;break;case"biff3":n=3,o=6;break;case"biff2":n=2,o=4;break;default:throw new Error("unsupported BIFF version")}var a=vT(o);return a.write_shift(2,n),a.write_shift(2,t),o>4&&a.write_shift(2,29282),o>6&&a.write_shift(2,1997),o>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function rA(e,t){var r=!t||t.biff>=8?2:1,n=vT(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var o=n.slice(0,n.l);return o.l=n.l,o}function nA(e,t,r,n){var o=r&&5==r.biff;n||(n=vT(o?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(o?1:2,t.length),o||n.write_shift(1,1),n.write_shift((o?1:2)*t.length,t,o?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return null==a.l&&(a.l=a.length),a}function oA(e,t,r,n){var o=r&&5==r.biff;n||(n=vT(o?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var a=0;return e.numFmtId>0&&o&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),o||n.write_shift(4,0),n.write_shift(2,0),n}function aA(e,t,r){if(r.biff<8)return function(e,t,r){3==e[e.l+1]&&e[e.l]++;var n=V_(e,0,r);return 3==n.charCodeAt(0)?n.slice(1):n}(e,0,r);for(var n=[],o=e.l+t,a=e.read_shift(r.biff>8?4:2);0!=a--;)n.push(J_(e,r.biff,r));if(e.l!=o)throw new Error("Bad ExternSheet: "+e.l+" != "+o);return n}function iA(e){var t=vT(24),r=CT(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),o=0;o<16;++o)t.write_shift(1,parseInt(n[o],16));return SE([t,X_(e[1])])}function sA(e){var t=e[1].Tooltip,r=vT(10+2*(t.length+1));r.write_shift(2,2048);var n=CT(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var o=0;o<t.length;++o)r.write_shift(2,t.charCodeAt(o));return r.write_shift(2,0),r}function lA(e,t,r){if(!r.cellStyles)return gT(e,t);var n=r&&r.biff>=12?4:2,o=e.read_shift(n),a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),l=e.read_shift(2);2==n&&(e.l+=2);var c={s:o,e:a,w:i,ixfe:s,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}var cA=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=_k({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(t,r){var n=r||{};n.dateNF||(n.dateNF="yyyymmdd");var o=FT(function(t,r){var n=[],o=wE(1);switch(r.type){case"base64":o=xE(gE(t));break;case"binary":o=xE(t);break;case"buffer":case"array":o=t}mT(o,0);var a=o.read_shift(1),i=!!(136&a),s=!1,l=!1;switch(a){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:s=!0,i=!0;break;case 140:l=!0;break;default:throw new Error("DBF Unsupported Version: "+a.toString(16))}var c=0,u=521;2==a&&(c=o.read_shift(2)),o.l+=3,2!=a&&(c=o.read_shift(4)),c>1048576&&(c=1e6),2!=a&&(u=o.read_shift(2));var d=o.read_shift(2),h=r.codepage||1252;2!=a&&(o.l+=16,o.read_shift(1),0!==o[o.l]&&(h=e[o[o.l]]),o.l+=1,o.l+=2),l&&(o.l+=36);for(var f=[],p={},m=Math.min(o.length,2==a?521:u-10-(s?264:0)),g=l?32:11;o.l<m&&13!=o[o.l];)switch((p={}).name=dE.utils.decode(h,o.slice(o.l,o.l+g)).replace(/[\u0000\r\n].*$/g,""),o.l+=g,p.type=String.fromCharCode(o.read_shift(1)),2==a||l||(p.offset=o.read_shift(4)),p.len=o.read_shift(1),2==a&&(p.offset=o.read_shift(2)),p.dec=o.read_shift(1),p.name.length&&f.push(p),2!=a&&(o.l+=l?13:14),p.type){case"B":s&&8==p.len||!r.WTF||console.log("Skipping "+p.name+":"+p.type);break;case"G":case"P":r.WTF&&console.log("Skipping "+p.name+":"+p.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+p.type)}if(13!==o[o.l]&&(o.l=u-1),13!==o.read_shift(1))throw new Error("DBF Terminator not found "+o.l+" "+o[o.l]);o.l=u;var v=0,y=0;for(n[0]=[],y=0;y!=f.length;++y)n[0][y]=f[y].name;for(;c-- >0;)if(42!==o[o.l])for(++o.l,n[++v]=[],y=0,y=0;y!=f.length;++y){var w=o.slice(o.l,o.l+f[y].len);o.l+=f[y].len,mT(w,0);var b=dE.utils.decode(h,w);switch(f[y].type){case"C":b.trim().length&&(n[v][y]=b.replace(/\s+$/,""));break;case"D":8===b.length?n[v][y]=new Date(+b.slice(0,4),+b.slice(4,6)-1,+b.slice(6,8)):n[v][y]=b;break;case"F":n[v][y]=parseFloat(b.trim());break;case"+":case"I":n[v][y]=l?2147483648^w.read_shift(-4,"i"):w.read_shift(4,"i");break;case"L":switch(b.trim().toUpperCase()){case"Y":case"T":n[v][y]=!0;break;case"N":case"F":n[v][y]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+b+"|")}break;case"M":if(!i)throw new Error("DBF Unexpected MEMO for type "+a.toString(16));n[v][y]="##MEMO##"+(l?parseInt(b.trim(),10):w.read_shift(4));break;case"N":(b=b.replace(/\u0000/g,"").trim())&&"."!=b&&(n[v][y]=+b||0);break;case"@":n[v][y]=new Date(w.read_shift(-8,"f")-621356832e5);break;case"T":n[v][y]=new Date(864e5*(w.read_shift(4)-2440588)+w.read_shift(4));break;case"Y":n[v][y]=w.read_shift(4,"i")/1e4+w.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":n[v][y]=-w.read_shift(-8,"f");break;case"B":if(s&&8==f[y].len){n[v][y]=w.read_shift(8,"f");break}case"G":case"P":w.l+=f[y].len;break;case"0":if("_NullFlags"===f[y].name)break;default:throw new Error("DBF Unsupported data type "+f[y].type)}}else o.l+=d;if(2!=a&&o.l<o.length&&26!=o[o.l++])throw new Error("DBF EOF Marker missing "+(o.l-1)+" of "+o.length+" "+o[o.l-1].toString(16));return r&&r.sheetRows&&(n=n.slice(0,r.sheetRows)),r.DBF=f,n}(t,n),n);return o["!cols"]=n.DBF.map((function(e){return{wch:e.len,DBF:e}})),delete n.DBF,o}var n={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function(e,t){try{return LT(r(e,t),t)}catch(e){if(t&&t.WTF)throw e}return{SheetNames:[],Sheets:{}}},to_sheet:r,from_sheet:function(e,r){var o=r||{};if(+o.codepage>=0&&lE(+o.codepage),"string"==o.type)throw new Error("Cannot write DBF to JS string");var a=yT(),i=AI(e,{header:1,raw:!0,cellDates:!0}),s=i[0],l=i.slice(1),c=e["!cols"]||[],u=0,d=0,h=0,f=1;for(u=0;u<s.length;++u)if(((c[u]||{}).DBF||{}).name)s[u]=c[u].DBF.name,++h;else if(null!=s[u]){if(++h,"number"==typeof s[u]&&(s[u]=s[u].toString(10)),"string"!=typeof s[u])throw new Error("DBF Invalid column name "+s[u]+" |"+typeof s[u]+"|");if(s.indexOf(s[u])!==u)for(d=0;d<1024;++d)if(-1==s.indexOf(s[u]+"_"+d)){s[u]+="_"+d;break}}var p=PT(e["!ref"]),m=[],g=[],v=[];for(u=0;u<=p.e.c-p.s.c;++u){var y="",w="",b=0,x=[];for(d=0;d<l.length;++d)null!=l[d][u]&&x.push(l[d][u]);if(0!=x.length&&null!=s[u]){for(d=0;d<x.length;++d){switch(typeof x[d]){case"number":w="B";break;case"string":default:w="C";break;case"boolean":w="L";break;case"object":w=x[d]instanceof Date?"D":"C"}b=Math.max(b,String(x[d]).length),y=y&&y!=w?"C":w}b>250&&(b=250),"C"==(w=((c[u]||{}).DBF||{}).type)&&c[u].DBF.len>b&&(b=c[u].DBF.len),"B"==y&&"N"==w&&(y="N",v[u]=c[u].DBF.dec,b=c[u].DBF.len),g[u]="C"==y||"N"==w?b:n[y]||0,f+=g[u],m[u]=y}else m[u]="?"}var E=a.next(32);for(E.write_shift(4,318902576),E.write_shift(4,l.length),E.write_shift(2,296+32*h),E.write_shift(2,f),u=0;u<4;++u)E.write_shift(4,0);for(E.write_shift(4,(+t[oE]||3)<<8),u=0,d=0;u<s.length;++u)if(null!=s[u]){var k=a.next(32),S=(s[u].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);k.write_shift(1,S,"sbcs"),k.write_shift(1,"?"==m[u]?"C":m[u],"sbcs"),k.write_shift(4,d),k.write_shift(1,g[u]||n[m[u]]||0),k.write_shift(1,v[u]||0),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(4,0),k.write_shift(4,0),d+=g[u]||n[m[u]]||0}var T=a.next(264);for(T.write_shift(4,13),u=0;u<65;++u)T.write_shift(4,0);for(u=0;u<l.length;++u){var _=a.next(f);for(_.write_shift(1,0),d=0;d<s.length;++d)if(null!=s[d])switch(m[d]){case"L":_.write_shift(1,null==l[u][d]?63:l[u][d]?84:70);break;case"B":_.write_shift(8,l[u][d]||0,"f");break;case"N":var A="0";for("number"==typeof l[u][d]&&(A=l[u][d].toFixed(v[d]||0)),h=0;h<g[d]-A.length;++h)_.write_shift(1,32);_.write_shift(1,A,"sbcs");break;case"D":l[u][d]?(_.write_shift(4,("0000"+l[u][d].getFullYear()).slice(-4),"sbcs"),_.write_shift(2,("00"+(l[u][d].getMonth()+1)).slice(-2),"sbcs"),_.write_shift(2,("00"+l[u][d].getDate()).slice(-2),"sbcs")):_.write_shift(8,"00000000","sbcs");break;case"C":var C=String(null!=l[u][d]?l[u][d]:"").slice(0,g[d]);for(_.write_shift(1,C,"sbcs"),h=0;h<g[d]-C.length;++h)_.write_shift(1,32)}}return a.next(1).write_shift(1,26),a.end()}}}(),uA=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("N("+Sk(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(t,r){var n=e[r];return"number"==typeof n?fE(n):n},n=function(e,t,r){var n=t.charCodeAt(0)-32<<4|r.charCodeAt(0)-48;return 59==n?e:fE(n)};function o(e,o){var a,i=e.split(/[\n\r]+/),s=-1,l=-1,c=0,u=0,d=[],h=[],f=null,p={},m=[],g=[],v=[],y=0;for(+o.codepage>=0&&lE(+o.codepage);c!==i.length;++c){y=0;var w,b=i[c].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),x=b.replace(/;;/g,"\0").split(";").map((function(e){return e.replace(/\u0000/g,";")})),E=x[0];if(b.length>0)switch(E){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==x[1].charAt(0)&&h.push(b.slice(3).replace(/;;/g,";"));break;case"C":var k=!1,S=!1,T=!1,_=!1,A=-1,C=-1;for(u=1;u<x.length;++u)switch(x[u].charAt(0)){case"A":case"G":break;case"X":l=parseInt(x[u].slice(1))-1,S=!0;break;case"Y":for(s=parseInt(x[u].slice(1))-1,S||(l=0),a=d.length;a<=s;++a)d[a]=[];break;case"K":'"'===(w=x[u].slice(1)).charAt(0)?w=w.slice(1,w.length-1):"TRUE"===w?w=!0:"FALSE"===w?w=!1:isNaN(zk(w))?isNaN(Vk(w).getDate())||(w=Fk(w)):(w=zk(w),null!==f&&uk(f)&&(w=Rk(w))),void 0!==dE&&"string"==typeof w&&"string"!=(o||{}).type&&(o||{}).codepage&&(w=dE.utils.decode(o.codepage,w)),k=!0;break;case"E":_=!0;var N=tC(x[u].slice(1),{r:s,c:l});d[s][l]=[d[s][l],N];break;case"S":T=!0,d[s][l]=[d[s][l],"S5S"];break;case"R":A=parseInt(x[u].slice(1))-1;break;case"C":C=parseInt(x[u].slice(1))-1;break;default:if(o&&o.WTF)throw new Error("SYLK bad record "+b)}if(k&&(d[s][l]&&2==d[s][l].length?d[s][l][0]=w:d[s][l]=w,f=null),T){if(_)throw new Error("SYLK shared formula cannot have own formula");var I=A>-1&&d[A][C];if(!I||!I[1])throw new Error("SYLK shared formula cannot find base");d[s][l][1]=oC(I[1],{r:s-A,c:l-C})}break;case"F":var O=0;for(u=1;u<x.length;++u)switch(x[u].charAt(0)){case"X":l=parseInt(x[u].slice(1))-1,++O;break;case"Y":for(s=parseInt(x[u].slice(1))-1,a=d.length;a<=s;++a)d[a]=[];break;case"M":y=parseInt(x[u].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":f=h[parseInt(x[u].slice(1))];break;case"W":for(v=x[u].slice(1).split(" "),a=parseInt(v[0],10);a<=parseInt(v[1],10);++a)y=parseInt(v[2],10),g[a-1]=0===y?{hidden:!0}:{wch:y},AA(g[a-1]);break;case"C":g[l=parseInt(x[u].slice(1))-1]||(g[l]={});break;case"R":m[s=parseInt(x[u].slice(1))-1]||(m[s]={}),y>0?(m[s].hpt=y,m[s].hpx=IA(y)):0===y&&(m[s].hidden=!0);break;default:if(o&&o.WTF)throw new Error("SYLK bad record "+b)}O<1&&(f=null);break;default:if(o&&o.WTF)throw new Error("SYLK bad record "+b)}}return m.length>0&&(p["!rows"]=m),g.length>0&&(p["!cols"]=g),o&&o.sheetRows&&(d=d.slice(0,o.sheetRows)),[d,p]}function a(e,t){var r=function(e,t){switch(t.type){case"base64":return o(gE(e),t);case"binary":return o(e,t);case"buffer":return o(vE&&Buffer.isBuffer(e)?e.toString("binary"):kE(e),t);case"array":return o(Uk(e),t)}throw new Error("Unrecognized type "+t.type)}(e,t),n=r[0],a=r[1],i=FT(n,t);return Sk(a).forEach((function(e){i[e]=a[e]})),i}function i(e,t,r,n){var o="C;Y"+(r+1)+";X"+(n+1)+";K";switch(e.t){case"n":o+=e.v||0,e.f&&!e.F&&(o+=";E"+nC(e.f,{r,c:n}));break;case"b":o+=e.v?"TRUE":"FALSE";break;case"e":o+=e.w||e.v;break;case"d":o+='"'+(e.w||e.v)+'"';break;case"s":o+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return o}return e["|"]=254,{to_workbook:function(e,t){return LT(a(e,t),t)},to_sheet:a,from_sheet:function(e,t){var r,n,o=["ID;PWXL;N;E"],a=[],s=PT(e["!ref"]),l=Array.isArray(e),c="\r\n";o.push("P;PGeneral"),o.push("F;P0;DG0G8;M255"),e["!cols"]&&(n=o,e["!cols"].forEach((function(e,t){var r="F;W"+(t+1)+" "+(t+1)+" ";e.hidden?r+="0":("number"!=typeof e.width||e.wpx||(e.wpx=SA(e.width)),"number"!=typeof e.wpx||e.wch||(e.wch=TA(e.wpx)),"number"==typeof e.wch&&(r+=Math.round(e.wch)))," "!=r.charAt(r.length-1)&&n.push(r)}))),e["!rows"]&&function(e,t){t.forEach((function(t,r){var n="F;";t.hidden?n+="M0;":t.hpt?n+="M"+20*t.hpt+";":t.hpx&&(n+="M"+20*NA(t.hpx)+";"),n.length>2&&e.push(n+"R"+(r+1))}))}(o,e["!rows"]),o.push("B;Y"+(s.e.r-s.s.r+1)+";X"+(s.e.c-s.s.c+1)+";D"+[s.s.c,s.s.r,s.e.c,s.e.r].join(" "));for(var u=s.s.r;u<=s.e.r;++u)for(var d=s.s.c;d<=s.e.c;++d){var h=NT({r:u,c:d});(r=l?(e[u]||[])[d]:e[h])&&(null!=r.v||r.f&&!r.F)&&a.push(i(r,0,u,d))}return o.join(c)+c+a.join(c)+c+"E"+c}}}(),dA=function(){function e(e,t){for(var r=e.split("\n"),n=-1,o=-1,a=0,i=[];a!==r.length;++a)if("BOT"!==r[a].trim()){if(!(n<0)){for(var s=r[a].trim().split(","),l=s[0],c=s[1],u=r[++a]||"";1&(u.match(/["]/g)||[]).length&&a<r.length-1;)u+="\n"+r[++a];switch(u=u.trim(),+l){case-1:if("BOT"===u){i[++n]=[],o=0;continue}if("EOD"!==u)throw new Error("Unrecognized DIF special command "+u);break;case 0:"TRUE"===u?i[n][o]=!0:"FALSE"===u?i[n][o]=!1:isNaN(zk(c))?isNaN(Vk(c).getDate())?i[n][o]=c:i[n][o]=Fk(c):i[n][o]=zk(c),++o;break;case 1:(u=(u=u.slice(1,u.length-1)).replace(/""/g,'"'))&&u.match(/^=".*"$/)&&(u=u.slice(2,-1)),i[n][o++]=""!==u?u:null}if("EOD"===u)break}}else i[++n]=[],o=0;return t&&t.sheetRows&&(i=i.slice(0,t.sheetRows)),i}function t(t,r){return FT(function(t,r){switch(r.type){case"base64":return e(gE(t),r);case"binary":return e(t,r);case"buffer":return e(vE&&Buffer.isBuffer(t)?t.toString("binary"):kE(t),r);case"array":return e(Uk(t),r)}throw new Error("Unrecognized type "+r.type)}(t,r),r)}return{to_workbook:function(e,r){return LT(t(e,r),r)},to_sheet:t,from_sheet:function(){var e=function(e,t,r,n,o){e.push(t),e.push(r+","+n),e.push('"'+o.replace(/"/g,'""')+'"')},t=function(e,t,r,n){e.push(t+","+r),e.push(1==t?'"'+n.replace(/"/g,'""')+'"':n)};return function(r){var n,o=[],a=PT(r["!ref"]),i=Array.isArray(r);e(o,"TABLE",0,1,"sheetjs"),e(o,"VECTORS",0,a.e.r-a.s.r+1,""),e(o,"TUPLES",0,a.e.c-a.s.c+1,""),e(o,"DATA",0,0,"");for(var s=a.s.r;s<=a.e.r;++s){t(o,-1,0,"BOT");for(var l=a.s.c;l<=a.e.c;++l){var c=NT({r:s,c:l});if(n=i?(r[s]||[])[l]:r[c])switch(n.t){case"n":var u=n.w;u||null==n.v||(u=n.v),null==u?n.f&&!n.F?t(o,1,0,"="+n.f):t(o,1,0,""):t(o,0,u,"V");break;case"b":t(o,0,n.v?1:0,n.v?"TRUE":"FALSE");break;case"s":t(o,1,0,isNaN(n.v)?n.v:'="'+n.v+'"');break;case"d":n.w||(n.w=pk(n.z||ME[14],Nk(Fk(n.v)))),t(o,0,n.w,"V");break;default:t(o,1,0,"")}else t(o,1,0,"")}}t(o,-1,0,"EOD");return o.join("\r\n")}}()}}(),hA=function(){function e(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(e,t){return FT(function(e,t){for(var r=e.split("\n"),n=-1,o=-1,a=0,i=[];a!==r.length;++a){var s=r[a].trim().split(":");if("cell"===s[0]){var l=CT(s[1]);if(i.length<=l.r)for(n=i.length;n<=l.r;++n)i[n]||(i[n]=[]);switch(n=l.r,o=l.c,s[2]){case"t":i[n][o]=s[3].replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n");break;case"v":i[n][o]=+s[3];break;case"vtf":var c=s[s.length-1];case"vtc":"nl"===s[3]?i[n][o]=!!+s[4]:i[n][o]=+s[4],"vtf"==s[2]&&(i[n][o]=[i[n][o],c])}}}return t&&t.sheetRows&&(i=i.slice(0,t.sheetRows)),i}(e,t),t)}var r=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),n=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),a="--SocialCalcSpreadsheetControlSave--";function i(t){if(!t||!t["!ref"])return"";for(var r,n=[],o=[],a="",i=IT(t["!ref"]),s=Array.isArray(t),l=i.s.r;l<=i.e.r;++l)for(var c=i.s.c;c<=i.e.c;++c)if(a=NT({r:l,c}),(r=s?(t[l]||[])[c]:t[a])&&null!=r.v&&"z"!==r.t){switch(o=["cell",a,"t"],r.t){case"s":case"str":o.push(e(r.v));break;case"n":r.f?(o[2]="vtf",o[3]="n",o[4]=r.v,o[5]=e(r.f)):(o[2]="v",o[3]=r.v);break;case"b":o[2]="vt"+(r.f?"f":"c"),o[3]="nl",o[4]=r.v?"1":"0",o[5]=e(r.f||(r.v?"TRUE":"FALSE"));break;case"d":var u=Nk(Fk(r.v));o[2]="vtc",o[3]="nd",o[4]=""+u,o[5]=r.w||pk(r.z||ME[14],u);break;case"e":continue}n.push(o.join(":"))}return n.push("sheet:c:"+(i.e.c-i.s.c+1)+":r:"+(i.e.r-i.s.r+1)+":tvf:1"),n.push("valueformat:1:text-wiki"),n.join("\n")}return{to_workbook:function(e,r){return LT(t(e,r),r)},to_sheet:t,from_sheet:function(e){return[r,n,o,n,i(e),a].join("\n")}}}(),fA=function(){function e(e,t,r,n,o){o.raw?t[r][n]=e:""===e||("TRUE"===e?t[r][n]=!0:"FALSE"===e?t[r][n]=!1:isNaN(zk(e))?isNaN(Vk(e).getDate())?t[r][n]=e:t[r][n]=Fk(e):t[r][n]=zk(e))}var t={44:",",9:"\t",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function n(e){for(var n={},o=!1,a=0,i=0;a<e.length;++a)34==(i=e.charCodeAt(a))?o=!o:!o&&i in t&&(n[i]=(n[i]||0)+1);for(a in i=[],n)Object.prototype.hasOwnProperty.call(n,a)&&i.push([n[a],a]);if(!i.length)for(a in n=r)Object.prototype.hasOwnProperty.call(n,a)&&i.push([n[a],a]);return i.sort((function(e,t){return e[0]-t[0]||r[e[1]]-r[t[1]]})),t[i.pop()[1]]||44}function o(e,t){var r=t||{},o="";var a=r.dense?[]:{},i={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(o=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(o=e.charAt(4),e=e.slice(6)):o=n(e.slice(0,1024)):o=r&&r.FS?r.FS:n(e.slice(0,1024));var s=0,l=0,c=0,u=0,d=0,h=o.charCodeAt(0),f=!1,p=0,m=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var g,v,y=null!=r.dateNF?(g=r.dateNF,v=(v="number"==typeof g?ME[g]:g).replace(yk,"(\\d+)"),new RegExp("^"+v+"$")):null;function w(){var t=e.slice(u,d),n={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)n.t="z";else if(r.raw)n.t="s",n.v=t;else if(0===t.trim().length)n.t="s",n.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(n.t="s",n.v=t.slice(2,-1).replace(/""/g,'"')):1!=t.length?(n.t="n",n.f=t.slice(1)):(n.t="s",n.v=t);else if("TRUE"==t)n.t="b",n.v=!0;else if("FALSE"==t)n.t="b",n.v=!1;else if(isNaN(c=zk(t)))if(!isNaN(Vk(t).getDate())||y&&t.match(y)){n.z=r.dateNF||ME[14];var o=0;y&&t.match(y)&&(t=function(e,t,r){var n=-1,o=-1,a=-1,i=-1,s=-1,l=-1;(t.match(yk)||[]).forEach((function(e,t){var c=parseInt(r[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":n=c;break;case"d":a=c;break;case"h":i=c;break;case"s":l=c;break;case"m":i>=0?s=c:o=c}})),l>=0&&-1==s&&o>=0&&(s=o,o=-1);var c=(""+(n>=0?n:(new Date).getFullYear())).slice(-4)+"-"+("00"+(o>=1?o:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);7==c.length&&(c="0"+c),8==c.length&&(c="20"+c);var u=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return-1==i&&-1==s&&-1==l?c:-1==n&&-1==o&&-1==a?u:c+"T"+u}(0,r.dateNF,t.match(y)||[]),o=1),r.cellDates?(n.t="d",n.v=Fk(t,o)):(n.t="n",n.v=Nk(Fk(t,o))),!1!==r.cellText&&(n.w=pk(n.z,n.v instanceof Date?Nk(n.v):n.v)),r.cellNF||delete n.z}else n.t="s",n.v=t;else n.t="n",!1!==r.cellText&&(n.w=t),n.v=c;if("z"==n.t||(r.dense?(a[s]||(a[s]=[]),a[s][l]=n):a[NT({c:l,r:s})]=n),u=d+1,m=e.charCodeAt(u),i.e.c<l&&(i.e.c=l),i.e.r<s&&(i.e.r=s),p==h)++l;else if(l=0,++s,r.sheetRows&&r.sheetRows<=s)return!0}e:for(;d<e.length;++d)switch(p=e.charCodeAt(d)){case 34:34===m&&(f=!f);break;case h:case 10:case 13:if(!f&&w())break e}return d-u>0&&w(),a["!ref"]=OT(i),a}function a(t,r){return r&&r.PRN?r.FS||"sep="==t.slice(0,4)||t.indexOf("\t")>=0||t.indexOf(",")>=0||t.indexOf(";")>=0?o(t,r):FT(function(t,r){var n=r||{},o=[];if(!t||0===t.length)return o;for(var a=t.split(/[\r\n]/),i=a.length-1;i>=0&&0===a[i].length;)--i;for(var s=10,l=0,c=0;c<=i;++c)-1==(l=a[c].indexOf(" "))?l=a[c].length:l++,s=Math.max(s,l);for(c=0;c<=i;++c){o[c]=[];var u=0;for(e(a[c].slice(0,s).trim(),o,c,u,n),u=1;u<=(a[c].length-s)/10+1;++u)e(a[c].slice(s+10*(u-1),s+10*u).trim(),o,c,u,n)}return n.sheetRows&&(o=o.slice(0,n.sheetRows)),o}(t,r),r):o(t,r)}function i(e,t){var r="",n="string"==t.type?[0,0,0,0]:wI(e,t);switch(t.type){case"base64":r=gE(e);break;case"binary":case"string":r=e;break;case"buffer":r=65001==t.codepage?e.toString("utf8"):t.codepage&&void 0!==dE?dE.utils.decode(t.codepage,e):vE&&Buffer.isBuffer(e)?e.toString("binary"):kE(e);break;case"array":r=Uk(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==n[0]&&187==n[1]&&191==n[2]?r=iS(r.slice(3)):"string"!=t.type&&"buffer"!=t.type&&65001==t.codepage?r=iS(r):"binary"==t.type&&void 0!==dE&&t.codepage&&(r=dE.utils.decode(t.codepage,dE.utils.encode(28591,r))),"socialcalc:version:"==r.slice(0,19)?hA.to_sheet("string"==t.type?r:iS(r),t):a(r,t)}return{to_workbook:function(e,t){return LT(i(e,t),t)},to_sheet:i,from_sheet:function(e){for(var t,r=[],n=PT(e["!ref"]),o=Array.isArray(e),a=n.s.r;a<=n.e.r;++a){for(var i=[],s=n.s.c;s<=n.e.c;++s){var l=NT({r:a,c:s});if((t=o?(e[a]||[])[s]:e[l])&&null!=t.v){for(var c=(t.w||(DT(t),t.w)||"").slice(0,10);c.length<10;)c+=" ";i.push(c+(0===s?" ":""))}else i.push("          ")}r.push(i.join(""))}return r.join("\n")}}}();var pA=function(){function e(e,t,r){if(e){mT(e,e.l||0);for(var n=r.Enum||v;e.l<e.length;){var o=e.read_shift(2),a=n[o]||n[65535],i=e.read_shift(2),s=e.l+i,l=a.f&&a.f(e,i,r);if(e.l=s,t(l,a,o))return}}}function t(t,r){if(!t)return t;var n=r||{};var o=n.dense?[]:{},a="Sheet1",i="",s=0,l={},c=[],u=[],d={s:{r:0,c:0},e:{r:0,c:0}},h=n.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw new Error("Unsupported Works 3 for Mac file");if(2==t[2])n.Enum=v,e(t,(function(e,t,r){switch(r){case 0:n.vers=e,e>=4096&&(n.qpro=!0);break;case 6:d=e;break;case 204:e&&(i=e);break;case 222:i=e;break;case 15:case 51:n.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==r&&!(112&~e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=n.dateNF||ME[14],n.cellDates&&(e[1].t="d",e[1].v=Rk(e[1].v))),n.qpro&&e[3]>s&&(o["!ref"]=OT(d),l[a]=o,c.push(a),o=n.dense?[]:{},d={s:{r:0,c:0},e:{r:0,c:0}},s=e[3],a=i||"Sheet"+(s+1),i="");var u=n.dense?(o[e[0].r]||[])[e[0].c]:o[NT(e[0])];if(u){u.t=e[1].t,u.v=e[1].v,null!=e[1].z&&(u.z=e[1].z),null!=e[1].f&&(u.f=e[1].f);break}n.dense?(o[e[0].r]||(o[e[0].r]=[]),o[e[0].r][e[0].c]=e[1]):o[NT(e[0])]=e[1]}}),n);else{if(26!=t[2]&&14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);n.Enum=y,14==t[2]&&(n.qpro=!0,t.l=0),e(t,(function(e,t,r){switch(r){case 204:a=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>s&&(o["!ref"]=OT(d),l[a]=o,c.push(a),o=n.dense?[]:{},d={s:{r:0,c:0},e:{r:0,c:0}},s=e[3],a="Sheet"+(s+1)),h>0&&e[0].r>=h)break;n.dense?(o[e[0].r]||(o[e[0].r]=[]),o[e[0].r][e[0].c]=e[1]):o[NT(e[0])]=e[1],d.e.c<e[0].c&&(d.e.c=e[0].c),d.e.r<e[0].r&&(d.e.r=e[0].r);break;case 27:e[14e3]&&(u[e[14e3][0]]=e[14e3][1]);break;case 1537:u[e[0]]=e[1],e[0]==s&&(a=e[1])}}),n)}if(o["!ref"]=OT(d),l[i||a]=o,c.push(i||a),!u.length)return{SheetNames:c,Sheets:l};for(var f={},p=[],m=0;m<u.length;++m)l[c[m]]?(p.push(u[m]||c[m]),f[u[m]]=l[u[m]]||l[c[m]]):(p.push(u[m]),f[u[m]]={"!ref":"A1"});return{SheetNames:p,Sheets:f}}function r(e,t,r){var n=[{c:0,r:0},{t:"n",v:0},0,0];return r.qpro&&20768!=r.vers?(n[0].c=e.read_shift(1),n[3]=e.read_shift(1),n[0].r=e.read_shift(2),e.l+=2):(n[2]=e.read_shift(1),n[0].c=e.read_shift(2),n[0].r=e.read_shift(2)),n}function n(e,t,n){var o=e.l+t,a=r(e,0,n);if(a[1].t="s",20768==n.vers){e.l++;var i=e.read_shift(1);return a[1].v=e.read_shift(i,"utf8"),a}return n.qpro&&e.l++,a[1].v=e.read_shift(o-e.l,"cstr"),a}function o(e,t,r){var n=vT(7+r.length);n.write_shift(1,255),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(1,39);for(var o=0;o<n.length;++o){var a=r.charCodeAt(o);n.write_shift(1,a>=128?95:a)}return n.write_shift(1,0),n}function a(e,t,r){var n=vT(7);return n.write_shift(1,255),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r,"i"),n}function i(e,t,r){var n=vT(13);return n.write_shift(1,255),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(8,r,"f"),n}function s(e,t,r){var n=32768&t;return t=(n?e:0)+((t&=-32769)>=8192?t-16384:t),(n?"":"$")+(r?AT(t):TT(t))}var l={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},c=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function u(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function d(e,t,r,n){var o=vT(6+n.length);o.write_shift(2,e),o.write_shift(1,r),o.write_shift(1,t),o.write_shift(1,39);for(var a=0;a<n.length;++a){var i=n.charCodeAt(a);o.write_shift(1,i>=128?95:i)}return o.write_shift(1,0),o}function h(e,t){var r=u(e),n=e.read_shift(4),o=e.read_shift(4),a=e.read_shift(2);if(65535==a)return 0===n&&3221225472===o?(r[1].t="e",r[1].v=15):0===n&&3489660928===o?(r[1].t="e",r[1].v=42):r[1].v=0,r;var i=32768&a;return a=(32767&a)-16446,r[1].v=(1-2*i)*(o*Math.pow(2,a+32)+n*Math.pow(2,a)),r}function f(e,t,r,n){var o=vT(14);if(o.write_shift(2,e),o.write_shift(1,r),o.write_shift(1,t),0==n)return o.write_shift(4,0),o.write_shift(4,0),o.write_shift(2,65535),o;var a,i=0,s=0,l=0;return n<0&&(i=1,n=-n),s=0|Math.log2(n),2147483648&(l=(n/=Math.pow(2,s-31))>>>0)||(++s,l=(n/=2)>>>0),n-=l,l|=2147483648,l>>>=0,a=(n*=Math.pow(2,32))>>>0,o.write_shift(4,a),o.write_shift(4,l),s+=16383+(i?32768:0),o.write_shift(2,s),o}function p(e,t){var r=u(e),n=e.read_shift(8,"f");return r[1].v=n,r}function m(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}function g(e,t){var r=vT(5+e.length);r.write_shift(2,14e3),r.write_shift(2,t);for(var n=0;n<e.length;++n){var o=e.charCodeAt(n);r[r.l++]=o>127?95:o}return r[r.l++]=0,r}var v={0:{n:"BOF",f:B_},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(e,t,r){var n={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&r.qpro?(n.s.c=e.read_shift(1),e.l++,n.s.r=e.read_shift(2),n.e.c=e.read_shift(1),e.l++,n.e.r=e.read_shift(2),n):(n.s.c=e.read_shift(2),n.s.r=e.read_shift(2),12==t&&r.qpro&&(e.l+=2),n.e.c=e.read_shift(2),n.e.r=e.read_shift(2),12==t&&r.qpro&&(e.l+=2),65535==n.s.c&&(n.s.c=n.e.c=n.s.r=n.e.r=0),n)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(e,t,n){var o=r(e,0,n);return o[1].v=e.read_shift(2,"i"),o}},14:{n:"NUMBER",f:function(e,t,n){var o=r(e,0,n);return o[1].v=e.read_shift(8,"f"),o}},15:{n:"LABEL",f:n},16:{n:"FORMULA",f:function(e,t,n){var o=e.l+t,a=r(e,0,n);if(a[1].v=e.read_shift(8,"f"),n.qpro)e.l=o;else{var i=e.read_shift(2);!function(e,t){mT(e,0);var r=[],n=0,o="",a="",i="",u="";for(;e.l<e.length;){var d=e[e.l++];switch(d){case 0:r.push(e.read_shift(8,"f"));break;case 1:a=s(t[0].c,e.read_shift(2),!0),o=s(t[0].r,e.read_shift(2),!1),r.push(a+o);break;case 2:var h=s(t[0].c,e.read_shift(2),!0),f=s(t[0].r,e.read_shift(2),!1);a=s(t[0].c,e.read_shift(2),!0),o=s(t[0].r,e.read_shift(2),!1),r.push(h+f+":"+a+o);break;case 3:if(e.l<e.length)return void console.error("WK1 premature formula end");break;case 4:r.push("("+r.pop()+")");break;case 5:r.push(e.read_shift(2));break;case 6:for(var p="";d=e[e.l++];)p+=String.fromCharCode(d);r.push('"'+p.replace(/"/g,'""')+'"');break;case 8:r.push("-"+r.pop());break;case 23:r.push("+"+r.pop());break;case 22:r.push("NOT("+r.pop()+")");break;case 20:case 21:u=r.pop(),i=r.pop(),r.push(["AND","OR"][d-20]+"("+i+","+u+")");break;default:if(d<32&&c[d])u=r.pop(),i=r.pop(),r.push(i+c[d]+u);else{if(!l[d])return d<=7?console.error("WK1 invalid opcode "+d.toString(16)):d<=24?console.error("WK1 unsupported op "+d.toString(16)):d<=30?console.error("WK1 invalid opcode "+d.toString(16)):d<=115?console.error("WK1 unsupported function opcode "+d.toString(16)):console.error("WK1 unrecognized opcode "+d.toString(16));if(69==(n=l[d][1])&&(n=e[e.l++]),n>r.length)return void console.error("WK1 bad formula parse 0x"+d.toString(16)+":|"+r.join("|")+"|");var m=r.slice(-n);r.length-=n,r.push(l[d][0]+"("+m.join(",")+")")}}}1==r.length?t[1].f=""+r[0]:console.error("WK1 bad formula parse |"+r.join("|")+"|")}(e.slice(e.l,e.l+i),a),e.l+=i}return a}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:n},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:m},222:{n:"SHEETNAMELP",f:function(e,t){var r=e[e.l++];r>t-1&&(r=t-1);for(var n="";n.length<r;)n+=String.fromCharCode(e[e.l++]);return n}},65535:{n:""}},y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(e,t){var r=u(e);return r[1].t="s",r[1].v=e.read_shift(t-4,"cstr"),r}},23:{n:"NUMBER17",f:h},24:{n:"NUMBER18",f:function(e,t){var r=u(e);r[1].v=e.read_shift(2);var n=r[1].v>>1;if(1&r[1].v)switch(7&n){case 0:n=5e3*(n>>3);break;case 1:n=500*(n>>3);break;case 2:n=(n>>3)/20;break;case 3:n=(n>>3)/200;break;case 4:n=(n>>3)/2e3;break;case 5:n=(n>>3)/2e4;break;case 6:n=(n>>3)/16;break;case 7:n=(n>>3)/64}return r[1].v=n,r}},25:{n:"FORMULA19",f:function(e,t){var r=h(e);return e.l+=t-14,r}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(e,t){for(var r={},n=e.l+t;e.l<n;){var o=e.read_shift(2);if(14e3==o){for(r[o]=[0,""],r[o][0]=e.read_shift(2);e[e.l];)r[o][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return r}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(e,t){var r=u(e),n=e.read_shift(4);return r[1].v=n>>6,r}},38:{n:"??"},39:{n:"NUMBER27",f:p},40:{n:"FORMULA28",f:function(e,t){var r=p(e);return e.l+=t-10,r}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:m},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(e,t,r){if(r.qpro&&!(t<21)){var n=e.read_shift(1);return e.l+=17,e.l+=1,e.l+=2,[n,e.read_shift(t-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function(e,t){var r=t||{};if(+r.codepage>=0&&lE(+r.codepage),"string"==r.type)throw new Error("Cannot write WK1 to JS string");var n,s,l=yT(),c=PT(e["!ref"]),u=Array.isArray(e),d=[];ON(l,0,(n=1030,(s=vT(2)).write_shift(2,n),s)),ON(l,6,function(e){var t=vT(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}(c));for(var h=Math.min(c.e.r,8191),f=c.s.r;f<=h;++f)for(var p=TT(f),m=c.s.c;m<=c.e.c;++m){f===c.s.r&&(d[m]=AT(m));var g=d[m]+p,v=u?(e[f]||[])[m]:e[g];if(v&&"z"!=v.t)if("n"==v.t)(0|v.v)==v.v&&v.v>=-32768&&v.v<=32767?ON(l,13,a(f,m,v.v)):ON(l,14,i(f,m,v.v));else ON(l,15,o(f,m,DT(v).slice(0,239)))}return ON(l,1),l.end()},book_to_wk3:function(e,t){var r=t||{};if(+r.codepage>=0&&lE(+r.codepage),"string"==r.type)throw new Error("Cannot write WK3 to JS string");var n=yT();ON(n,0,function(e){var t=vT(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var r=0,n=0,o=0,a=0;a<e.SheetNames.length;++a){var i=e.SheetNames[a],s=e.Sheets[i];if(s&&s["!ref"]){++o;var l=IT(s["!ref"]);r<l.e.r&&(r=l.e.r),n<l.e.c&&(n=l.e.c)}}r>8191&&(r=8191);return t.write_shift(2,r),t.write_shift(1,o),t.write_shift(1,n),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}(e));for(var o=0,a=0;o<e.SheetNames.length;++o)(e.Sheets[e.SheetNames[o]]||{})["!ref"]&&ON(n,27,g(e.SheetNames[o],a++));var i=0;for(o=0;o<e.SheetNames.length;++o){var s=e.Sheets[e.SheetNames[o]];if(s&&s["!ref"]){for(var l=PT(s["!ref"]),c=Array.isArray(s),u=[],h=Math.min(l.e.r,8191),p=l.s.r;p<=h;++p)for(var m=TT(p),v=l.s.c;v<=l.e.c;++v){p===l.s.r&&(u[v]=AT(v));var y=u[v]+m,w=c?(s[p]||[])[v]:s[y];if(w&&"z"!=w.t)if("n"==w.t)ON(n,23,f(p,v,i,w.v));else ON(n,22,d(p,v,i,DT(w).slice(0,239)))}++i}}return ON(n,1),n.end()},to_workbook:function(e,r){switch(r.type){case"base64":return t(xE(gE(e)),r);case"binary":return t(xE(e),r);case"buffer":case"array":return t(e,r)}throw"Unsupported type "+r.type}}}();var mA=/^\s|\s$|[\t\n\r]/;function gA(e,t){if(!t.bookSST)return"";var r=[Gk];r[r.length]=hS("sst",null,{xmlns:AS[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(null!=e[n]){var o=e[n],a="<si>";o.r?a+=o.r:(a+="<t",o.t||(o.t=""),o.t.match(mA)&&(a+=' xml:space="preserve"'),a+=">"+Qk(o.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}var vA=function(e,t){var r=!1;return null==t&&(r=!0,t=vT(15+4*e.t.length)),t.write_shift(1,0),BT(e.t,t),r?t.slice(0,t.l):t};function yA(e){var t=yT();wT(t,159,function(e,t){return t||(t=vT(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}(e));for(var r=0;r<e.length;++r)wT(t,19,vA(e[r]));return wT(t,160),t.end()}function wA(e){if(void 0!==dE)return dE.utils.encode(oE,e);for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function bA(e){var t,r,n=0,o=wA(e),a=o.length+1;for((t=wE(a))[0]=o.length,r=1;r!=a;++r)t[r]=o[r-1];for(r=a-1;r>=0;--r)n=((16384&n?1:0)|n<<1&32767)^t[r];return 52811^n}var xA=function(){function e(e,r){switch(r.type){case"base64":return t(gE(e),r);case"binary":return t(e,r);case"buffer":return t(vE&&Buffer.isBuffer(e)?e.toString("binary"):kE(e),r);case"array":return t(Uk(e),r)}throw new Error("Unrecognized type "+r.type)}function t(e,t){var r=(t||{}).dense?[]:{},n=e.match(/\\trowd.*?\\row\b/g);if(!n.length)throw new Error("RTF missing table");var o={s:{c:0,r:0},e:{c:0,r:n.length-1}};return n.forEach((function(e,t){Array.isArray(r)&&(r[t]=[]);for(var n,a=/\\\w+\b/g,i=0,s=-1;n=a.exec(e);){if("\\cell"===n[0]){var l=e.slice(i,a.lastIndex-n[0].length);if(" "==l[0]&&(l=l.slice(1)),++s,l.length){var c={v:l,t:"s"};Array.isArray(r)?r[t][s]=c:r[NT({r:t,c:s})]=c}}i=a.lastIndex}s>o.e.c&&(o.e.c=s)})),r["!ref"]=OT(o),r}return{to_workbook:function(t,r){return LT(e(t,r),r)},to_sheet:e,from_sheet:function(e){for(var t,r=["{\\rtf1\\ansi"],n=PT(e["!ref"]),o=Array.isArray(e),a=n.s.r;a<=n.e.r;++a){r.push("\\trowd\\trautofit1");for(var i=n.s.c;i<=n.e.c;++i)r.push("\\cellx"+(i+1));for(r.push("\\pard\\intbl"),i=n.s.c;i<=n.e.c;++i){var s=NT({r:a,c:i});(t=o?(e[a]||[])[i]:e[s])&&(null!=t.v||t.f&&!t.F)&&(r.push(" "+(t.w||(DT(t),t.w))),r.push("\\cell"))}r.push("\\pard\\intbl\\row")}return r.join("")+"}"}}}();function EA(e){for(var t=0,r=1;3!=t;++t)r=256*r+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var kA=6;function SA(e){return Math.floor((e+Math.round(128/kA)/256)*kA)}function TA(e){return Math.floor((e-5)/kA*100+.5)/100}function _A(e){return Math.round((e*kA+5)/kA*256)/256}function AA(e){e.width?(e.wpx=SA(e.width),e.wch=TA(e.wpx),e.MDW=kA):e.wpx?(e.wch=TA(e.wpx),e.width=_A(e.wch),e.MDW=kA):"number"==typeof e.wch&&(e.width=_A(e.wch),e.wpx=SA(e.width),e.MDW=kA),e.customWidth&&delete e.customWidth}var CA=96;function NA(e){return 96*e/CA}function IA(e){return e*CA/96}function OA(e,t){var r,n=[Gk,hS("styleSheet",null,{xmlns:AS[0],"xmlns:vt":SS})];return e.SSF&&null!=(r=function(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach((function(r){for(var n=r[0];n<=r[1];++n)null!=e[n]&&(t[t.length]=hS("numFmt",null,{numFmtId:n,formatCode:Qk(e[n])}))})),1===t.length?"":(t[t.length]="</numFmts>",t[0]=hS("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(e.SSF))&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=function(e){var t=[];return t[t.length]=hS("cellXfs",null),e.forEach((function(e){t[t.length]=hS("xf",null,e)})),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=hS("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function PA(e,t,r){r||(r=vT(6+4*t.length)),r.write_shift(2,e),BT(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return null==r.l&&(r.l=r.length),n}function RA(e,t){t||(t=vT(153)),t.write_shift(2,20*e.sz),function(e,t){t||(t=vT(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);t.write_shift(1,r),t.write_shift(1,0)}(e,t),t.write_shift(2,e.bold?700:400);var r=0;"superscript"==e.vertAlign?r=1:"subscript"==e.vertAlign&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),c_(e.color,t);var n=0;return"major"==e.scheme&&(n=1),"minor"==e.scheme&&(n=2),t.write_shift(1,n),BT(e.name,t),t.length>t.l?t.slice(0,t.l):t}var DA,LA=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],MA=gT;function FA(e,t){t||(t=vT(84)),DA||(DA=_k(LA));var r=DA[e.patternType];null==r&&(r=40),t.write_shift(4,r);var n=0;if(40!=r)for(c_({auto:1},t),c_({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function UA(e,t,r){r||(r=vT(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);return r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function jA(e,t){return t||(t=vT(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var BA=gT;function zA(e){var t;wT(e,613,UT(1)),wT(e,46,(t||(t=vT(51)),t.write_shift(1,0),jA(0,t),jA(0,t),jA(0,t),jA(0,t),jA(0,t),t.length>t.l?t.slice(0,t.l):t)),wT(e,614)}function WA(e){var t,r;wT(e,619,UT(1)),wT(e,48,(t={xfId:0,builtinId:0,name:"Normal"},r||(r=vT(52)),r.write_shift(4,t.xfId),r.write_shift(2,1),r.write_shift(1,+t.builtinId),r.write_shift(1,0),JT(t.name||"",r),r.length>r.l?r.slice(0,r.l):r)),wT(e,620)}function VA(e){wT(e,508,function(e,t,r){var n=vT(2052);return n.write_shift(4,e),JT(t,n),JT(r,n),n.length>n.l?n.slice(0,n.l):n}(0,"TableStyleMedium9","PivotStyleMedium4")),wT(e,509)}function HA(e,t){var r=yT();return wT(r,278),function(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach((function(e){for(var n=e[0];n<=e[1];++n)null!=t[n]&&++r})),0!=r&&(wT(e,615,UT(r)),[[5,8],[23,26],[41,44],[50,392]].forEach((function(r){for(var n=r[0];n<=r[1];++n)null!=t[n]&&wT(e,44,PA(n,t[n]))})),wT(e,616))}}(r,e.SSF),function(e){wT(e,611,UT(1)),wT(e,43,RA({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),wT(e,612)}(r),function(e){wT(e,603,UT(2)),wT(e,45,FA({patternType:"none"})),wT(e,45,FA({patternType:"gray125"})),wT(e,604)}(r),zA(r),function(e){wT(e,626,UT(1)),wT(e,47,UA({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),wT(e,627)}(r),function(e,t){wT(e,617,UT(t.length)),t.forEach((function(t){wT(e,47,UA(t,0))})),wT(e,618)}(r,t.cellXfs),WA(r),function(e){wT(e,505,UT(0)),wT(e,506)}(r),VA(r),wT(r,279),r.end()}function $A(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var r=[Gk];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function GA(){var e,t,r=yT();return wT(r,332),wT(r,334,UT(1)),wT(r,335,((t=vT(12+2*(e={name:"XLDAPR",version:12e4,flags:3496657072}).name.length)).write_shift(4,e.flags),t.write_shift(4,e.version),BT(e.name,t),t.slice(0,t.l))),wT(r,336),wT(r,339,function(e,t){var r=vT(8+2*t.length);return r.write_shift(4,e),BT(t,r),r.slice(0,r.l)}(1,"XLDAPR")),wT(r,52),wT(r,35,UT(514)),wT(r,4096,UT(0)),wT(r,4097,z_(1)),wT(r,36),wT(r,53),wT(r,340),wT(r,337,function(e,t){var r=vT(8);return r.write_shift(4,e),r.write_shift(4,t?1:0),r}(1,!0)),wT(r,51,function(e){var t=vT(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}([[1,0]])),wT(r,338),wT(r,333),r.end()}function KA(){var e=[Gk];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}var qA=1024;function YA(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),o=[hS("xml",null,{"xmlns:v":RS,"xmlns:o":CS,"xmlns:x":NS,"xmlns:mv":PS}).replace(/\/>/,">"),hS("o:shapelayout",hS("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),hS("v:shapetype",[hS("v:stroke",null,{joinstyle:"miter"}),hS("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];qA<1e3*e;)qA+=1e3;return t.forEach((function(e){var t=CT(e[0]),r={color2:"#BEFF82",type:"gradient"};"gradient"==r.type&&(r.angle="-180");var n="gradient"==r.type?hS("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,a=hS("v:fill",n,r);++qA,o=o.concat(["<v:shape"+dS({id:"_x0000_s"+qA,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",a,hS("v:shadow",null,{on:"t",obscured:"t"}),hS("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",uS("x:Anchor",[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(",")),uS("x:AutoFill","False"),uS("x:Row",String(t.r)),uS("x:Column",String(t.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])})),o.push("</xml>"),o.join("")}function XA(e){var t=[Gk,hS("comments",null,{xmlns:AS[0]})],r=[];return t.push("<authors>"),e.forEach((function(e){e[1].forEach((function(e){var n=Qk(e.a);-1==r.indexOf(n)&&(r.push(n),t.push("<author>"+n+"</author>")),e.T&&e.ID&&-1==r.indexOf("tc="+e.ID)&&(r.push("tc="+e.ID),t.push("<author>tc="+e.ID+"</author>"))}))})),0==r.length&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach((function(e){var n=0,o=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID?n=r.indexOf("tc="+e[1][0].ID):e[1].forEach((function(e){e.a&&(n=r.indexOf(Qk(e.a))),o.push(e.t||"")})),t.push('<comment ref="'+e[0]+'" authorId="'+n+'"><text>'),o.length<=1)t.push(uS("t",Qk(o[0]||"")));else{for(var a="Comment:\n    "+o[0]+"\n",i=1;i<o.length;++i)a+="Reply:\n    "+o[i]+"\n";t.push(uS("t",Qk(a)))}t.push("</text></comment>")})),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function QA(e,t,r){var n=[Gk,hS("ThreadedComments",null,{xmlns:wS}).replace(/[\/]>/,">")];return e.forEach((function(e){var o="";(e[1]||[]).forEach((function(a,i){if(a.T){a.a&&-1==t.indexOf(a.a)&&t.push(a.a);var s={ref:e[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};0==i?o=s.id:s.parentId=o,a.ID=s.id,a.a&&(s.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(a.a)).slice(-12)+"}"),n.push(hS("threadedComment",uS("text",a.t||""),s))}else delete a.ID}))})),n.push("</ThreadedComments>"),n.join("")}var JA=jT;function ZA(e){var t=yT(),r=[];return wT(t,628),wT(t,630),e.forEach((function(e){e[1].forEach((function(e){r.indexOf(e.a)>-1||(r.push(e.a.slice(0,54)),wT(t,632,function(e){return BT(e.slice(0,54))}(e.a)))}))})),wT(t,631),wT(t,633),e.forEach((function(e){e[1].forEach((function(n){n.iauthor=r.indexOf(n.a);var o={s:CT(e[0]),e:CT(e[0])};wT(t,635,function(e,t){return null==t&&(t=vT(36)),t.write_shift(4,e[1].iauthor),i_(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([o,n])),n.t&&n.t.length>0&&wT(t,637,HT(n)),wT(t,636),delete n.iauthor}))})),wT(t,634),wT(t,629),t.end()}var eC=["xlsb","xlsm","xlam","biff8","xla"];var tC=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(e,r,n,o){var a=!1,i=!1;0==n.length?i=!0:"["==n.charAt(0)&&(i=!0,n=n.slice(1,-1)),0==o.length?a=!0:"["==o.charAt(0)&&(a=!0,o=o.slice(1,-1));var s=n.length>0?0|parseInt(n,10):0,l=o.length>0?0|parseInt(o,10):0;return a?l+=t.c:--l,i?s+=t.r:--s,r+(a?"":"$")+AT(l)+(i?"":"$")+TT(s)}return function(n,o){return t=o,n.replace(e,r)}}(),rC=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,nC=function(){return function(e,t){return e.replace(rC,(function(e,r,n,o,a,i){var s=_T(o)-(n?0:t.c),l=ST(i)-(a?0:t.r);return r+"R"+(0==l?"":a?l+1:"["+l+"]")+"C"+(0==s?"":n?s+1:"["+s+"]")}))}}();function oC(e,t){return e.replace(rC,(function(e,r,n,o,a,i){return r+("$"==n?n+o:AT(_T(o)+t.c))+("$"==a?a+i:TT(ST(i)+t.r))}))}function aC(e){e.l+=1}function iC(e,t){var r=e.read_shift(1==t?1:2);return[16383&r,r>>14&1,r>>15&1]}function sC(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return lC(e);12==r.biff&&(n=4)}var o=e.read_shift(n),a=e.read_shift(n),i=iC(e,2),s=iC(e,2);return{s:{r:o,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function lC(e){var t=iC(e,2),r=iC(e,2),n=e.read_shift(1),o=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:o,cRel:r[1],rRel:r[2]}}}function cC(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return function(e){var t=iC(e,2),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}(e);var n=e.read_shift(r&&12==r.biff?4:2),o=iC(e,2);return{r:n,c:o[0],cRel:o[1],rRel:o[2]}}function uC(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:255&r,fQuoted:!!(16384&r),cRel:r>>15,rRel:r>>15}}function dC(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function hC(e){return[e.read_shift(1),e.read_shift(1)]}function fC(e,t){var r=[e.read_shift(1)];if(12==t)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2}switch(r[0]){case 4:r[1]=U_(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:r[1]=m_[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:r[1]=s_(e);break;case 2:r[1]=K_(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function pC(e,t,r){for(var n=e.read_shift(12==r.biff?4:2),o=[],a=0;a!=n;++a)o.push((12==r.biff?a_:Z_)(e,8));return o}function mC(e,t,r){var n=0,o=0;12==r.biff?(n=e.read_shift(4),o=e.read_shift(4)):(o=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,0==--o&&(o=256));for(var a=0,i=[];a!=n&&(i[a]=[]);++a)for(var s=0;s!=o;++s)i[a][s]=fC(e,r.biff);return i}function gC(e,t,r){return e.l+=2,[uC(e)]}function vC(e){return e.l+=6,[]}function yC(e){return e.l+=2,[B_(e),1&e.read_shift(2)]}var wC=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];var bC={1:{n:"PtgExp",f:function(e,t,r){return e.l++,r&&12==r.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(r&&2==r.biff?1:2)]}},2:{n:"PtgTbl",f:gT},3:{n:"PtgAdd",f:aC},4:{n:"PtgSub",f:aC},5:{n:"PtgMul",f:aC},6:{n:"PtgDiv",f:aC},7:{n:"PtgPower",f:aC},8:{n:"PtgConcat",f:aC},9:{n:"PtgLt",f:aC},10:{n:"PtgLe",f:aC},11:{n:"PtgEq",f:aC},12:{n:"PtgGe",f:aC},13:{n:"PtgGt",f:aC},14:{n:"PtgNe",f:aC},15:{n:"PtgIsect",f:aC},16:{n:"PtgUnion",f:aC},17:{n:"PtgRange",f:aC},18:{n:"PtgUplus",f:aC},19:{n:"PtgUminus",f:aC},20:{n:"PtgPercent",f:aC},21:{n:"PtgParen",f:aC},22:{n:"PtgMissArg",f:aC},23:{n:"PtgStr",f:function(e,t,r){return e.l++,V_(e,0,r)}},26:{n:"PtgSheet",f:function(e,t,r){return e.l+=5,e.l+=2,e.l+=2==r.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(e,t,r){return e.l+=2==r.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(e){return e.l++,m_[e.read_shift(1)]}},29:{n:"PtgBool",f:function(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function(e){return e.l++,s_(e)}},32:{n:"PtgArray",f:function(e,t,r){var n=(96&e[e.l++])>>5;return e.l+=2==r.biff?6:12==r.biff?14:7,[n]}},33:{n:"PtgFunc",f:function(e,t,r){var n=(96&e[e.l])>>5;e.l+=1;var o=e.read_shift(r&&r.biff<=3?1:2);return[jC[o],UC[o],n]}},34:{n:"PtgFuncVar",f:function(e,t,r){var n=e[e.l++],o=e.read_shift(1),a=r&&r.biff<=3?[88==n?-1:0,e.read_shift(1)]:function(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[o,(0===a[0]?UC:FC)[a[1]]]}},35:{n:"PtgName",f:function(e,t,r){var n=e.read_shift(1)>>>5&3,o=!r||r.biff>=8?4:2,a=e.read_shift(o);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[n,0,a]}},36:{n:"PtgRef",f:function(e,t,r){var n=(96&e[e.l])>>5;return e.l+=1,[n,cC(e,0,r)]}},37:{n:"PtgArea",f:function(e,t,r){return[(96&e[e.l++])>>5,sC(e,r.biff>=2&&r.biff,r)]}},38:{n:"PtgMemArea",f:function(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=r&&2==r.biff?3:4,[n,e.read_shift(r&&2==r.biff?1:2)]}},39:{n:"PtgMemErr",f:gT},40:{n:"PtgMemNoMem",f:gT},41:{n:"PtgMemFunc",f:function(e,t,r){return[e.read_shift(1)>>>5&3,e.read_shift(r&&2==r.biff?1:2)]}},42:{n:"PtgRefErr",f:function(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,12==r.biff&&(e.l+=2),[n]}},43:{n:"PtgAreaErr",f:function(e,t,r){var n=(96&e[e.l++])>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}},44:{n:"PtgRefN",f:function(e,t,r){var n=(96&e[e.l])>>5;e.l+=1;var o=function(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return function(e){var t=e.read_shift(2),r=e.read_shift(1),n=(32768&t)>>15,o=(16384&t)>>14;return t&=16383,1==n&&t>=8192&&(t-=16384),1==o&&r>=128&&(r-=256),{r:t,c:r,cRel:o,rRel:n}}(e);var o=e.read_shift(n>=12?4:2),a=e.read_shift(2),i=(16384&a)>>14,s=(32768&a)>>15;if(a&=16383,1==s)for(;o>524287;)o-=1048576;if(1==i)for(;a>8191;)a-=16384;return{r:o,c:a,cRel:i,rRel:s}}(e,0,r);return[n,o]}},45:{n:"PtgAreaN",f:function(e,t,r){var n=(96&e[e.l++])>>5,o=function(e,t,r){if(r.biff<8)return lC(e);var n=e.read_shift(12==r.biff?4:2),o=e.read_shift(12==r.biff?4:2),a=iC(e,2),i=iC(e,2);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:o,c:i[0],cRel:i[1],rRel:i[2]}}}(e,0,r);return[n,o]}},46:{n:"PtgMemAreaN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function(e,t,r){return 5==r.biff?function(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function(e,t,r){var n=(96&e[e.l])>>5;e.l+=1;var o=e.read_shift(2);return r&&5==r.biff&&(e.l+=12),[n,o,cC(e,0,r)]}},59:{n:"PtgArea3d",f:function(e,t,r){var n=(96&e[e.l++])>>5,o=e.read_shift(2,"i");if(r)switch(r.biff){case 5:e.l+=12;break;case 12:0}return[n,o,sC(e,0,r)]}},60:{n:"PtgRefErr3d",f:function(e,t,r){var n=(96&e[e.l++])>>5,o=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6}return e.l+=a,[n,o]}},61:{n:"PtgAreaErr3d",f:function(e,t,r){var n=(96&e[e.l++])>>5,o=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12}return e.l+=a,[n,o]}},255:{}},xC={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},EC={1:{n:"PtgElfLel",f:yC},2:{n:"PtgElfRw",f:gC},3:{n:"PtgElfCol",f:gC},6:{n:"PtgElfRwV",f:gC},7:{n:"PtgElfColV",f:gC},10:{n:"PtgElfRadical",f:gC},11:{n:"PtgElfRadicalS",f:vC},13:{n:"PtgElfColS",f:vC},15:{n:"PtgElfColSV",f:vC},16:{n:"PtgElfRadicalLel",f:yC},25:{n:"PtgList",f:function(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),o=e.read_shift(2),a=e.read_shift(2);return{ixti:t,coltype:3&r,rt:wC[r>>2&31],idx:n,c:o,C:a}}},29:{n:"PtgSxName",f:function(e){return e.l+=2,[e.read_shift(4)]}},255:{}},kC={0:{n:"PtgAttrNoop",f:function(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(e,t,r){var n=255&e[e.l+1]?1:0;return e.l+=r&&2==r.biff?3:4,[n]}},2:{n:"PtgAttrIf",f:function(e,t,r){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(r&&2==r.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function(e,t,r){e.l+=2;for(var n=e.read_shift(r&&2==r.biff?1:2),o=[],a=0;a<=n;++a)o.push(e.read_shift(r&&2==r.biff?1:2));return o}},8:{n:"PtgAttrGoto",f:function(e,t,r){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(r&&2==r.biff?1:2)]}},16:{n:"PtgAttrSum",f:function(e,t,r){e.l+=r&&2==r.biff?3:4}},32:{n:"PtgAttrBaxcel",f:dC},33:{n:"PtgAttrBaxcel",f:dC},64:{n:"PtgAttrSpace",f:function(e){return e.read_shift(2),hC(e)}},65:{n:"PtgAttrSpaceSemi",f:function(e){return e.read_shift(2),hC(e)}},128:{n:"PtgAttrIfError",f:function(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function SC(e,t,r,n){if(n.biff<8)return gT(e,t);for(var o=e.l+t,a=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=mC(e,0,n),a.push(r[i][1]);break;case"PtgMemArea":r[i][2]=pC(e,r[i][1],n),a.push(r[i][2]);break;case"PtgExp":n&&12==n.biff&&(r[i][1][1]=e.read_shift(4),a.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return 0!==(t=o-e.l)&&a.push(gT(e,t)),a}function TC(e,t,r){for(var n,o,a=e.l+t,i=[];a!=e.l;)t=a-e.l,o=e[e.l],n=bC[o]||bC[xC[o]],24!==o&&25!==o||(n=(24===o?EC:kC)[e[e.l+1]]),n&&n.f?i.push([n.n,n.f(e,t,r)]):gT(e,t);return i}function _C(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],o=[],a=0;a<n.length;++a){var i=n[a];if(i)if(2===i[0])o.push('"'+i[1].replace(/"/g,'""')+'"');else o.push(i[1]);else o.push("")}t.push(o.join(","))}return t.join(";")}var AC={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function CC(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var o="";if(r.biff>8)switch(e[n[0]][0]){case 357:return o=-1==n[1]?"#REF":e.SheetNames[n[1]],n[1]==n[2]?o:o+":"+e.SheetNames[n[2]];case 358:return null!=r.SID?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return o=-1==n[1]?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?o:o+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map((function(e){return e.Name})).join(";;");default:return e[n[0]][0][3]?(o=-1==n[1]?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?o:o+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function NC(e,t,r){var n=CC(e,t,r);return"#REF"==n?n:function(e,t){if(!(e||t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(n,r)}function IC(e,t,r,n,o){var a,i,s,l,c=o&&o.biff||8,u={s:{c:0,r:0},e:{c:0,r:0}},d=[],h=0,f=0,p="";if(!e[0]||!e[0][0])return"";for(var m=-1,g="",v=0,y=e[0].length;v<y;++v){var w=e[0][v];switch(w[0]){case"PtgUminus":d.push("-"+d.pop());break;case"PtgUplus":d.push("+"+d.pop());break;case"PtgPercent":d.push(d.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(a=d.pop(),i=d.pop(),m>=0){switch(e[0][m][1][0]){case 0:g=Bk(" ",e[0][m][1][1]);break;case 1:g=Bk("\r",e[0][m][1][1]);break;default:if(g="",o.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}i+=g,m=-1}d.push(i+AC[w[0]]+a);break;case"PtgIsect":a=d.pop(),i=d.pop(),d.push(i+" "+a);break;case"PtgUnion":a=d.pop(),i=d.pop(),d.push(i+","+a);break;case"PtgRange":a=d.pop(),i=d.pop(),d.push(i+":"+a);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":s=bT(w[1][1],u,o),d.push(ET(s,c));break;case"PtgRefN":s=r?bT(w[1][1],r,o):w[1][1],d.push(ET(s,c));break;case"PtgRef3d":h=w[1][1],s=bT(w[1][2],u,o);p=NC(n,h,o);d.push(p+"!"+ET(s,c));break;case"PtgFunc":case"PtgFuncVar":var b=w[1][0],x=w[1][1];b||(b=0);var E=0==(b&=127)?[]:d.slice(-b);d.length-=b,"User"===x&&(x=E.shift()),d.push(x+"("+E.join(",")+")");break;case"PtgBool":d.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":d.push(w[1]);break;case"PtgNum":d.push(String(w[1]));break;case"PtgStr":d.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":l=xT(w[1][1],r?{s:r}:u,o),d.push(kT(l,o));break;case"PtgArea":l=xT(w[1][1],u,o),d.push(kT(l,o));break;case"PtgArea3d":h=w[1][1],l=w[1][2],p=NC(n,h,o),d.push(p+"!"+kT(l,o));break;case"PtgAttrSum":d.push("SUM("+d.pop()+")");break;case"PtgName":f=w[1][2];var k=(n.names||[])[f-1]||(n[0]||[])[f],S=k?k.Name:"SH33TJSNAME"+String(f);S&&"_xlfn."==S.slice(0,6)&&!o.xlfn&&(S=S.slice(6)),d.push(S);break;case"PtgNameX":var T,_=w[1][1];if(f=w[1][2],!(o.biff<=5)){var A="";if(14849==((n[_]||[])[0]||[])[0]||(1025==((n[_]||[])[0]||[])[0]?n[_][f]&&n[_][f].itab>0&&(A=n.SheetNames[n[_][f].itab-1]+"!"):A=n.SheetNames[f-1]+"!"),n[_]&&n[_][f])A+=n[_][f].Name;else if(n[0]&&n[0][f])A+=n[0][f].Name;else{var C=(CC(n,_,o)||"").split(";;");C[f-1]?A=C[f-1]:A+="SH33TJSERRX"}d.push(A);break}_<0&&(_=-_),n[_]&&(T=n[_][f]),T||(T={Name:"SH33TJSERRY"}),d.push(T.Name);break;case"PtgParen":var N="(",I=")";if(m>=0){switch(g="",e[0][m][1][0]){case 2:N=Bk(" ",e[0][m][1][1])+N;break;case 3:N=Bk("\r",e[0][m][1][1])+N;break;case 4:I=Bk(" ",e[0][m][1][1])+I;break;case 5:I=Bk("\r",e[0][m][1][1])+I;break;default:if(o.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}d.push(N+d.pop()+I);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":d.push("#REF!");break;case"PtgExp":s={c:w[1][1],r:w[1][0]};var O={c:r.c,r:r.r};if(n.sharedf[NT(s)]){var P=n.sharedf[NT(s)];d.push(IC(P,u,O,n,o))}else{var R=!1;for(a=0;a!=n.arrayf.length;++a)if(i=n.arrayf[a],!(s.c<i[0].s.c||s.c>i[0].e.c||s.r<i[0].s.r||s.r>i[0].e.r)){d.push(IC(i[1],u,O,n,o)),R=!0;break}R||d.push(w[1])}break;case"PtgArray":d.push("{"+_C(w[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=v;break;case"PtgMissArg":d.push("");break;case"PtgList":d.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(w))}if(3!=o.biff&&m>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][v][0])){var D=!0;switch((w=e[0][m])[1][0]){case 4:D=!1;case 0:g=Bk(" ",w[1][1]);break;case 5:D=!1;case 1:g=Bk("\r",w[1][1]);break;default:if(g="",o.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}d.push((D?g:"")+d.pop()+(D?"":g)),m=-1}}if(d.length>1&&o.WTF)throw new Error("bad formula stack");return d[0]}function OC(e,t,r,n,o){var a=Q_(t,r,o),i=function(e){if(null==e){var t=vT(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return l_("number"==typeof e?e:0)}(e.v),s=vT(6);s.write_shift(2,33),s.write_shift(4,0);for(var l=vT(e.bf.length),c=0;c<e.bf.length;++c)l[c]=e.bf[c];return SE([a,i,s,l])}function PC(e,t,r){var n=e.read_shift(4),o=TC(e,n,r),a=e.read_shift(4);return[o,a>0?SC(e,a,o,r):null]}var RC=PC,DC=PC,LC=PC,MC=PC,FC={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},UC={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},jC={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};var BC="undefined"!=typeof Map;function zC(e,t,r){var n=0,o=e.length;if(r){if(BC?r.has(t):Object.prototype.hasOwnProperty.call(r,t))for(var a=BC?r.get(t):r[t];n<a.length;++n)if(e[a[n]].t===t)return e.Count++,a[n]}else for(;n<o;++n)if(e[n].t===t)return e.Count++,n;return e[o]={t},e.Count++,e.Unique++,r&&(BC?(r.has(t)||r.set(t,[]),r.get(t).push(o)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(o))),o}function WC(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(kA=t.MDW),null!=t.width?r.customWidth=1:null!=t.wpx?n=TA(t.wpx):null!=t.wch&&(n=t.wch),n>-1?(r.width=_A(n),r.customWidth=1):null!=t.width&&(r.width=t.width),t.hidden&&(r.hidden=!0),null!=t.level&&(r.outlineLevel=r.level=t.level),r}function VC(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(r=[1,1,1,1,.5,.5]),null==e.left&&(e.left=r[0]),null==e.right&&(e.right=r[1]),null==e.top&&(e.top=r[2]),null==e.bottom&&(e.bottom=r[3]),null==e.header&&(e.header=r[4]),null==e.footer&&(e.footer=r[5])}}function HC(e,t,r){var n=r.revssf[null!=t.z?t.z:"General"],o=60,a=e.length;if(null==n&&r.ssf)for(;o<392;++o)if(null==r.ssf[o]){mk(t.z,o),r.ssf[o]=t.z,r.revssf[t.z]=n=o;break}for(o=0;o!=a;++o)if(e[o].numFmtId===n)return o;return e[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function $C(e,t,r){if(e&&e["!ref"]){var n=PT(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}var GC=["objects","scenarios","selectLockedCells","selectUnlockedCells"],KC=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function qC(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),void 0===e.v&&"string"!=typeof e.f||"z"===e.t&&!e.f)return"";var o="",a=e.t,i=e.v;if("z"!==e.t)switch(e.t){case"b":o=e.v?"1":"0";break;case"n":o=""+e.v;break;case"e":o=m_[e.v];break;case"d":n&&n.cellDates?o=Fk(e.v,-1).toISOString():((e=jk(e)).t="n",o=""+(e.v=Nk(Fk(e.v)))),void 0===e.z&&(e.z=ME[14]);break;default:o=e.v}var s=uS("v",Qk(o)),l={r:t},c=HC(n.cellXfs,e,n);switch(0!==c&&(l.s=c),e.t){case"n":case"z":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){s=uS("v",""+zC(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str"}if(e.t!=a&&(e.t=a,e.v=i),"string"==typeof e.f&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;s=hS("f",Qk(e.f),u)+(null!=e.v?s:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),hS("c",s,l)}function YC(e,t,r,n){var o,a=[Gk,hS("worksheet",null,{xmlns:AS[0],"xmlns:r":kS})],i=r.SheetNames[e],s="",l=r.Sheets[i];null==l&&(l={});var c=l["!ref"]||"A1",u=PT(c);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=OT(u)}n||(n={}),l["!comments"]=[];var d=[];!function(e,t,r,n,o){var a=!1,i={},s=null;if("xlsx"!==n.bookType&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch(e){}a=!0,i.codeName=sS(Qk(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),s=(s||"")+hS("outlinePr",null,c)}(a||s)&&(o[o.length]=hS("sheetPr",s,i))}(l,r,e,t,a),a[a.length]=hS("dimension",null,{ref:c}),a[a.length]=function(e,t,r,n){var o={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(o.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),hS("sheetViews",hS("sheetView",null,o),{})}(0,0,0,r),t.sheetFormat&&(a[a.length]=hS("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=l["!cols"]&&l["!cols"].length>0&&(a[a.length]=function(e,t){for(var r,n=["<cols>"],o=0;o!=t.length;++o)(r=t[o])&&(n[n.length]=hS("col",null,WC(o,r)));return n[n.length]="</cols>",n.join("")}(0,l["!cols"])),a[o=a.length]="<sheetData/>",l["!links"]=[],null!=l["!ref"]&&(s=function(e,t){var r,n,o=[],a=[],i=PT(e["!ref"]),s="",l="",c=[],u=0,d=0,h=e["!rows"],f=Array.isArray(e),p={r:l},m=-1;for(d=i.s.c;d<=i.e.c;++d)c[d]=AT(d);for(u=i.s.r;u<=i.e.r;++u){for(a=[],l=TT(u),d=i.s.c;d<=i.e.c;++d){r=c[d]+l;var g=f?(e[u]||[])[d]:e[r];void 0!==g&&null!=(s=qC(g,r,e,t))&&a.push(s)}(a.length>0||h&&h[u])&&(p={r:l},h&&h[u]&&((n=h[u]).hidden&&(p.hidden=1),m=-1,n.hpx?m=NA(n.hpx):n.hpt&&(m=n.hpt),m>-1&&(p.ht=m,p.customHeight=1),n.level&&(p.outlineLevel=n.level)),o[o.length]=hS("row",a.join(""),p))}if(h)for(;u<h.length;++u)h&&h[u]&&(p={r:u+1},(n=h[u]).hidden&&(p.hidden=1),m=-1,n.hpx?m=NA(n.hpx):n.hpt&&(m=n.hpt),m>-1&&(p.ht=m,p.customHeight=1),n.level&&(p.outlineLevel=n.level),o[o.length]=hS("row","",p));return o.join("")}(l,t,0,0),s.length>0&&(a[a.length]=s)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),l["!protect"]&&(a[a.length]=function(e){var t={sheet:1};return GC.forEach((function(r){null!=e[r]&&e[r]&&(t[r]="1")})),KC.forEach((function(r){null==e[r]||e[r]||(t[r]="0")})),e.password&&(t.password=bA(e.password).toString(16).toUpperCase()),hS("sheetProtection",null,t)}(l["!protect"])),null!=l["!autofilter"]&&(a[a.length]=function(e,t,r,n){var o="string"==typeof e.ref?e.ref:OT(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,i=IT(o);i.s.r==i.e.r&&(i.e.r=IT(t["!ref"]).e.r,o=OT(i));for(var s=0;s<a.length;++s){var l=a[s];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+o;break}}return s==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+o}),hS("autoFilter",null,{ref:o})}(l["!autofilter"],l,r,e)),null!=l["!merges"]&&l["!merges"].length>0&&(a[a.length]=function(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+OT(e[r])+'"/>';return t+"</mergeCells>"}(l["!merges"]));var h,f,p=-1,m=-1;return l["!links"].length>0&&(a[a.length]="<hyperlinks>",l["!links"].forEach((function(e){e[1].Target&&(h={ref:e[0]},"#"!=e[1].Target.charAt(0)&&(m=E_(n,-1,Qk(e[1].Target).replace(/#.*$/,""),w_.HLINK),h["r:id"]="rId"+m),(p=e[1].Target.indexOf("#"))>-1&&(h.location=Qk(e[1].Target.slice(p+1))),e[1].Tooltip&&(h.tooltip=Qk(e[1].Tooltip)),a[a.length]=hS("hyperlink",null,h))})),a[a.length]="</hyperlinks>"),delete l["!links"],null!=l["!margins"]&&(a[a.length]=(VC(f=l["!margins"]),hS("pageMargins",null,f))),t&&!t.ignoreEC&&null!=t.ignoreEC||(a[a.length]=uS("ignoredErrors",hS("ignoredError",null,{numberStoredAsText:1,sqref:c}))),d.length>0&&(m=E_(n,-1,"../drawings/drawing"+(e+1)+".xml",w_.DRAW),a[a.length]=hS("drawing",null,{"r:id":"rId"+m}),l["!drawing"]=d),l["!comments"].length>0&&(m=E_(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",w_.VML),a[a.length]=hS("legacyDrawing",null,{"r:id":"rId"+m}),l["!legacy"]=m),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function XC(e,t,r,n){var o=function(e,t,r){var n=vT(145),o=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var a=320;o.hpx?a=20*NA(o.hpx):o.hpt&&(a=20*o.hpt),n.write_shift(2,a),n.write_shift(1,0);var i=0;o.level&&(i|=o.level),o.hidden&&(i|=16),(o.hpx||o.hpt)&&(i|=32),n.write_shift(1,i),n.write_shift(1,0);var s=0,l=n.l;n.l+=4;for(var c={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var d=-1,h=-1,f=u<<10;f<u+1<<10;++f)c.c=f,(Array.isArray(r)?(r[c.r]||[])[c.c]:r[NT(c)])&&(d<0&&(d=f),h=f);d<0||(++s,n.write_shift(4,d),n.write_shift(4,h))}var p=n.l;return n.l=l,n.write_shift(4,s),n.l=p,n.length>n.l?n.slice(0,n.l):n}(n,r,t);(o.length>17||(t["!rows"]||[])[n])&&wT(e,0,o)}var QC=a_,JC=i_;function ZC(e){return[KT(e),s_(e),"n"]}var eN=a_,tN=i_;var rN=["left","right","top","bottom","header","footer"];function nN(e,t,r,n,o,a,i){if(void 0===t.v)return!1;var s="";switch(t.t){case"b":s=t.v?"1":"0";break;case"d":(t=jk(t)).z=t.z||ME[14],t.v=Nk(Fk(t.v)),t.t="n";break;case"n":case"e":s=""+t.v;break;default:s=t.v}var l={r,c:n};switch(l.s=HC(o.cellXfs,t,o),t.l&&a["!links"].push([NT(l),t.l]),t.c&&a["!comments"].push([NT(l),t.c]),t.t){case"s":case"str":return o.bookSST?(s=zC(o.Strings,t.v,o.revStrings),l.t="s",l.v=s,i?wT(e,18,function(e,t,r){return null==r&&(r=vT(8)),qT(t,r),r.write_shift(4,t.v),r}(0,l)):wT(e,7,function(e,t,r){return null==r&&(r=vT(12)),GT(t,r),r.write_shift(4,t.v),r}(0,l))):(l.t="str",i?wT(e,17,function(e,t,r){return null==r&&(r=vT(8+4*e.v.length)),qT(t,r),BT(e.v,r),r.length>r.l?r.slice(0,r.l):r}(t,l)):wT(e,6,function(e,t,r){return null==r&&(r=vT(12+4*e.v.length)),GT(t,r),BT(e.v,r),r.length>r.l?r.slice(0,r.l):r}(t,l))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?i?wT(e,13,function(e,t,r){return null==r&&(r=vT(8)),qT(t,r),n_(e.v,r),r}(t,l)):wT(e,2,function(e,t,r){return null==r&&(r=vT(12)),GT(t,r),n_(e.v,r),r}(t,l)):i?wT(e,16,function(e,t,r){return null==r&&(r=vT(12)),qT(t,r),l_(e.v,r),r}(t,l)):wT(e,5,function(e,t,r){return null==r&&(r=vT(16)),GT(t,r),l_(e.v,r),r}(t,l)),!0;case"b":return l.t="b",i?wT(e,15,function(e,t,r){return null==r&&(r=vT(5)),qT(t,r),r.write_shift(1,e.v?1:0),r}(t,l)):wT(e,4,function(e,t,r){return null==r&&(r=vT(9)),GT(t,r),r.write_shift(1,e.v?1:0),r}(t,l)),!0;case"e":return l.t="e",i?wT(e,14,function(e,t,r){return null==r&&(r=vT(8)),qT(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}(t,l)):wT(e,3,function(e,t,r){return null==r&&(r=vT(9)),GT(t,r),r.write_shift(1,e.v),r}(t,l)),!0}return i?wT(e,12,function(e,t,r){return null==r&&(r=vT(4)),qT(t,r)}(0,l)):wT(e,1,function(e,t,r){return null==r&&(r=vT(8)),GT(t,r)}(0,l)),!0}function oN(e,t){var r,n;t&&t["!merges"]&&(wT(e,177,(r=t["!merges"].length,null==n&&(n=vT(4)),n.write_shift(4,r),n)),t["!merges"].forEach((function(t){wT(e,176,tN(t))})),wT(e,178))}function aN(e,t){t&&t["!cols"]&&(wT(e,390),t["!cols"].forEach((function(t,r){t&&wT(e,60,function(e,t,r){null==r&&(r=vT(18));var n=WC(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,256*(n.width||10)),r.write_shift(4,0);var o=0;return t.hidden&&(o|=1),"number"==typeof n.width&&(o|=2),t.level&&(o|=t.level<<8),r.write_shift(2,o),r}(r,t))})),wT(e,391))}function iN(e,t){var r,n;t&&t["!ref"]&&(wT(e,648),wT(e,649,(r=PT(t["!ref"]),(n=vT(24)).write_shift(4,4),n.write_shift(4,1),i_(r,n),n)),wT(e,650))}function sN(e,t,r){t["!links"].forEach((function(t){if(t[1].Target){var n=E_(r,-1,t[1].Target.replace(/#.*$/,""),w_.HLINK);wT(e,494,function(e,t){var r=vT(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));i_({s:CT(e[0]),e:CT(e[0])},r),t_("rId"+t,r);var n=e[1].Target.indexOf("#");return BT((-1==n?"":e[1].Target.slice(n+1))||"",r),BT(e[1].Tooltip||"",r),BT("",r),r.slice(0,r.l)}(t,n))}})),delete t["!links"]}function lN(e,t,r){wT(e,133),wT(e,137,function(e,t,r){null==r&&(r=vT(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}(0,r)),wT(e,138),wT(e,134)}function cN(e,t){var r,n;t["!protect"]&&wT(e,535,(r=t["!protect"],null==n&&(n=vT(66)),n.write_shift(2,r.password?bA(r.password):0),n.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach((function(e){e[1]?n.write_shift(4,null==r[e[0]]||r[e[0]]?0:1):n.write_shift(4,null!=r[e[0]]&&r[e[0]]?0:1)})),n))}function uN(e,t,r,n){var o=yT(),a=r.SheetNames[e],i=r.Sheets[a]||{},s=a;try{r&&r.Workbook&&(s=r.Workbook.Sheets[e].CodeName||s)}catch(e){}var l,c,u=PT(i["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],wT(o,129),(r.vbaraw||i["!outline"])&&wT(o,147,function(e,t,r){null==r&&(r=vT(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var o=1;o<3;++o)r.write_shift(1,0);return c_({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),XT(e,r),r.slice(0,r.l)}(s,i["!outline"])),wT(o,148,JC(u)),lN(o,0,r.Workbook),aN(o,i),function(e,t,r,n){var o,a=PT(t["!ref"]||"A1"),i="",s=[];wT(e,145);var l=Array.isArray(t),c=a.e.r;t["!rows"]&&(c=Math.max(a.e.r,t["!rows"].length-1));for(var u=a.s.r;u<=c;++u){i=TT(u),XC(e,t,a,u);var d=!1;if(u<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){u===a.s.r&&(s[h]=AT(h)),o=s[h]+i;var f=l?(t[u]||[])[h]:t[o];d=!!f&&nN(e,f,u,h,n,t,d)}}wT(e,146)}(o,i,0,t),cN(o,i),function(e,t,r,n){if(t["!autofilter"]){var o=t["!autofilter"],a="string"==typeof o.ref?o.ref:OT(o.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=IT(a);s.s.r==s.e.r&&(s.e.r=IT(t["!ref"]).e.r,a=OT(s));for(var l=0;l<i.length;++l){var c=i[l];if("_xlnm._FilterDatabase"==c.Name&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),wT(e,161,i_(PT(a))),wT(e,162)}}(o,i,r,e),oN(o,i),sN(o,i,n),i["!margins"]&&wT(o,476,(l=i["!margins"],null==c&&(c=vT(48)),VC(l),rN.forEach((function(e){l_(l[e],c)})),c)),t&&!t.ignoreEC&&null!=t.ignoreEC||iN(o,i),function(e,t,r,n){if(t["!comments"].length>0){var o=E_(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",w_.VML);wT(e,551,t_("rId"+o)),t["!legacy"]=o}}(o,i,e,n),wT(o,130),o.end()}var dN=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];var hN="][*?/\\".split("");function fN(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var r=!0;return hN.forEach((function(n){if(-1!=e.indexOf(n)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");r=!1}})),r}function pN(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t,r,n,o=e.Workbook&&e.Workbook.Sheets||[];t=e.SheetNames,r=o,n=!!e.vbaraw,t.forEach((function(e,o){fN(e);for(var a=0;a<o;++a)if(e==t[a])throw new Error("Duplicate Sheet Name: "+e);if(n){var i=r&&r[o]&&r[o].CodeName||e;if(95==i.charCodeAt(0)&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}}));for(var a=0;a<e.SheetNames.length;++a)$C(e.Sheets[e.SheetNames[a]],e.SheetNames[a],a)}function mN(e){var t=[Gk];t[t.length]=hS("workbook",null,{xmlns:AS[0],"xmlns:r":kS});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(dN.forEach((function(t){null!=e.Workbook.WBProps[t[0]]&&e.Workbook.WBProps[t[0]]!=t[1]&&(n[t[0]]=e.Workbook.WBProps[t[0]])})),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=hS("workbookPr",null,n);var o=e.Workbook&&e.Workbook.Sheets||[],a=0;if(o&&o[0]&&o[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=e.SheetNames.length&&o[a]&&o[a].Hidden;++a);a==e.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var i={name:Qk(e.SheetNames[a].slice(0,31))};if(i.sheetId=""+(a+1),i["r:id"]="rId"+(a+1),o[a])switch(o[a].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden"}t[t.length]=hS("sheet",null,i)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach((function(e){var r={name:e.Name};e.Comment&&(r.comment=e.Comment),null!=e.Sheet&&(r.localSheetId=""+e.Sheet),e.Hidden&&(r.hidden="1"),e.Ref&&(t[t.length]=hS("definedName",Qk(e.Ref),r))})),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function gN(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var r,n,o=t.Workbook.Sheets,a=0,i=-1,s=-1;a<o.length;++a)!o[a]||!o[a].Hidden&&-1==i?i=a:1==o[a].Hidden&&-1==s&&(s=a);if(!(s>i))wT(e,135),wT(e,158,(r=i,n||(n=vT(29)),n.write_shift(-4,0),n.write_shift(-4,460),n.write_shift(4,28800),n.write_shift(4,17600),n.write_shift(4,500),n.write_shift(4,r),n.write_shift(4,r),n.write_shift(1,120),n.length>n.l?n.slice(0,n.l):n)),wT(e,136)}}function vN(e,t){var r=yT();return wT(r,131),wT(r,128,function(e,t){t||(t=vT(127));for(var r=0;4!=r;++r)t.write_shift(4,0);return BT("SheetJS",t),BT(rE.version,t),BT(rE.version,t),BT("7262",t),t.length>t.l?t.slice(0,t.l):t}()),wT(r,153,function(e,t){t||(t=vT(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),XT(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(e.Workbook&&e.Workbook.WBProps||null)),gN(r,e),function(e,t){wT(e,143);for(var r=0;r!=t.SheetNames.length;++r){wT(e,156,(n={Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]},(o=void 0)||(o=vT(127)),o.write_shift(4,n.Hidden),o.write_shift(4,n.iTabID),t_(n.strRelID,o),BT(n.name.slice(0,31),o),o.length>o.l?o.slice(0,o.l):o))}var n,o;wT(e,144)}(r,e),wT(r,132),r.end()}function yN(e,t,r,n,o){return(".bin"===t.slice(-4)?uN:YC)(e,r,n,o)}function wN(e,t,r){return(".bin"===t.slice(-4)?ZA:XA)(e,r)}function bN(e,t){var r=[];return e.Props&&r.push(function(e,t){var r=[];return Sk(P_).map((function(e){for(var t=0;t<T_.length;++t)if(T_[t][1]==e)return T_[t];for(t=0;t<C_.length;++t)if(C_[t][1]==e)return C_[t];throw e})).forEach((function(n){if(null!=e[n[1]]){var o=t&&t.Props&&null!=t.Props[n[1]]?t.Props[n[1]]:e[n[1]];"date"===n[2]&&(o=new Date(o).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof o?o=String(o):!0===o||!1===o?o=o?"1":"0":o instanceof Date&&(o=new Date(o).toISOString().replace(/\.\d*Z/,"")),r.push(uS(P_[n[1]]||n[1],o))}})),hS("DocumentProperties",r.join(""),{xmlns:CS})}(e.Props,t)),e.Custprops&&r.push(function(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",o=[];return e&&Sk(e).forEach((function(t){if(Object.prototype.hasOwnProperty.call(e,t)){for(var n=0;n<T_.length;++n)if(t==T_[n][1])return;for(n=0;n<C_.length;++n)if(t==C_[n][1])return;for(n=0;n<r.length;++n)if(t==r[n])return;var a=e[t],i="string";"number"==typeof a?(i="float",a=String(a)):!0===a||!1===a?(i="boolean",a=a?"1":"0"):a=String(a),o.push(hS(Jk(t),a,{"dt:dt":i}))}})),t&&Sk(t).forEach((function(r){if(Object.prototype.hasOwnProperty.call(t,r)&&(!e||!Object.prototype.hasOwnProperty.call(e,r))){var n=t[r],a="string";"number"==typeof n?(a="float",n=String(n)):!0===n||!1===n?(a="boolean",n=n?"1":"0"):n instanceof Date?(a="dateTime.tz",n=n.toISOString()):n=String(n),o.push(hS(Jk(r),n,{"dt:dt":a}))}})),"<"+n+' xmlns="'+CS+'">'+o.join("")+"</"+n+">"}(e.Props,e.Custprops)),r.join("")}function xN(e){return hS("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+nC(e.Ref,{r:0,c:0})})}function EN(e,t,r,n,o,a,i){if(!e||null==e.v&&null==e.f)return"";var s={};if(e.f&&(s["ss:Formula"]="="+Qk(nC(e.f,i))),e.F&&e.F.slice(0,t.length)==t){var l=CT(e.F.slice(t.length+1));s["ss:ArrayRange"]="RC:R"+(l.r==i.r?"":"["+(l.r-i.r)+"]")+"C"+(l.c==i.c?"":"["+(l.c-i.c)+"]")}if(e.l&&e.l.Target&&(s["ss:HRef"]=Qk(e.l.Target),e.l.Tooltip&&(s["x:HRefScreenTip"]=Qk(e.l.Tooltip))),r["!merges"])for(var c=r["!merges"],u=0;u!=c.length;++u)c[u].s.c==i.c&&c[u].s.r==i.r&&(c[u].e.c>c[u].s.c&&(s["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(s["ss:MergeDown"]=c[u].e.r-c[u].s.r));var d="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":d="Number",h=String(e.v);break;case"b":d="Boolean",h=e.v?"1":"0";break;case"e":d="Error",h=m_[e.v];break;case"d":d="DateTime",h=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||ME[14]);break;case"s":d="String",h=((e.v||"")+"").replace(Yk,(function(e){return qk[e]})).replace(Zk,(function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}))}var f=HC(n.cellXfs,e,n);s["ss:StyleID"]="s"+(21+f),s["ss:Index"]=i.c+1;var p=null!=e.v?h:"",m="z"==e.t?"":'<Data ss:Type="'+d+'">'+p+"</Data>";return(e.c||[]).length>0&&(m+=e.c.map((function(e){var t=hS("ss:Data",(e.t||"").replace(/(\r\n|[\r\n])/g,"&#10;"),{xmlns:"http://www.w3.org/TR/REC-html40"});return hS("Comment",t,{"ss:Author":e.a})})).join("")),hS("Cell",m,s)}function kN(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=IA(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function SN(e,t,r){var n=[],o=r.SheetNames[e],a=r.Sheets[o],i=a?function(e,t,r,n){if(!e)return"";if(!((n||{}).Workbook||{}).Names)return"";for(var o=n.Workbook.Names,a=[],i=0;i<o.length;++i){var s=o[i];s.Sheet==r&&(s.Name.match(/^_xlfn\./)||a.push(xN(s)))}return a.join("")}(a,0,e,r):"";return i.length>0&&n.push("<Names>"+i+"</Names>"),i=a?function(e,t){if(!e["!ref"])return"";var r=PT(e["!ref"]),n=e["!merges"]||[],o=0,a=[];e["!cols"]&&e["!cols"].forEach((function(e,t){AA(e);var r=!!e.width,n=WC(t,e),o={"ss:Index":t+1};r&&(o["ss:Width"]=SA(n.width)),e.hidden&&(o["ss:Hidden"]="1"),a.push(hS("Column",null,o))}));for(var i=Array.isArray(e),s=r.s.r;s<=r.e.r;++s){for(var l=[kN(s,(e["!rows"]||[])[s])],c=r.s.c;c<=r.e.c;++c){var u=!1;for(o=0;o!=n.length;++o)if(!(n[o].s.c>c||n[o].s.r>s||n[o].e.c<c||n[o].e.r<s)){n[o].s.c==c&&n[o].s.r==s||(u=!0);break}if(!u){var d={r:s,c},h=NT(d),f=i?(e[s]||[])[c]:e[h];l.push(EN(f,h,e,t,0,0,d))}}l.push("</Row>"),l.length>2&&a.push(l.join(""))}return a.join("")}(a,t):"",i.length>0&&n.push("<Table>"+i+"</Table>"),n.push(function(e,t,r,n){if(!e)return"";var o=[];if(e["!margins"]&&(o.push("<PageSetup>"),e["!margins"].header&&o.push(hS("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&o.push(hS("Footer",null,{"x:Margin":e["!margins"].footer})),o.push(hS("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),o.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)o.push(hS("Visible",1==n.Workbook.Sheets[r].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&(!n.Workbook.Sheets[a]||n.Workbook.Sheets[a].Hidden);++a);a==r&&o.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&o.push("<DisplayRightToLeft/>"),e["!protect"]&&(o.push(uS("ProtectContents","True")),e["!protect"].objects&&o.push(uS("ProtectObjects","True")),e["!protect"].scenarios&&o.push(uS("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null==e["!protect"].selectUnlockedCells||e["!protect"].selectUnlockedCells||o.push(uS("EnableSelection","UnlockedCells")):o.push(uS("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach((function(t){e["!protect"][t[0]]&&o.push("<"+t[1]+"/>")}))),0==o.length?"":hS("WorksheetOptions",o.join(""),{xmlns:NS})}(a,0,e,r)),n.join("")}function TN(e,t){t||(t={}),e.SSF||(e.SSF=jk(ME)),e.SSF&&(vk(),gk(e.SSF),t.revssf=Ak(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],HC(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(bN(e,t)),r.push(""),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(hS("Worksheet",SN(n,t,e),{"ss:Name":Qk(e.SheetNames[n])}));return r[2]=function(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach((function(e,t){var n=[];n.push(hS("NumberFormat",null,{"ss:Format":Qk(ME[e.numFmtId])}));var o={"ss:ID":"s"+(21+t)};r.push(hS("Style",n.join(""),o))})),hS("Styles",r.join(""))}(0,t),r[3]=function(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var o=t[n];null==o.Sheet&&(o.Name.match(/^_xlfn\./)||r.push(xN(o)))}return hS("Names",r.join(""))}(e),Gk+hS("Workbook",r.join(""),{xmlns:IS,"xmlns:o":CS,"xmlns:x":NS,"xmlns:ss":IS,"xmlns:dt":OS,"xmlns:html":DS})}var _N="e0859ff2f94f6810ab9108002b27b3d9",AN="02d5cdd59c2e1b10939708002b2cf9ae",CN="05d5cdd59c2e1b10939708002b2cf9ae";function NN(e,t){var r=t||{},n=bk.utils.cfb_new({root:"R"}),o="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":o="/Workbook",r.biff=8;break;case"biff5":o="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return bk.utils.cfb_add(n,o,BN(e,r)),8==r.biff&&(e.Props||e.Custprops)&&function(e,t){var r,n=[],o=[],a=[],i=0,s=Tk(d_,"n"),l=Tk(h_,"n");if(e.Props)for(r=Sk(e.Props),i=0;i<r.length;++i)(Object.prototype.hasOwnProperty.call(s,r[i])?n:Object.prototype.hasOwnProperty.call(l,r[i])?o:a).push([r[i],e.Props[r[i]]]);if(e.Custprops)for(r=Sk(e.Custprops),i=0;i<r.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},r[i])||(Object.prototype.hasOwnProperty.call(s,r[i])?n:Object.prototype.hasOwnProperty.call(l,r[i])?o:a).push([r[i],e.Custprops[r[i]]]);var c=[];for(i=0;i<a.length;++i)D_.indexOf(a[i][0])>-1||N_.indexOf(a[i][0])>-1||null!=a[i][1]&&c.push(a[i]);o.length&&bk.utils.cfb_add(t,"/SummaryInformation",F_(o,_N,l,h_)),(n.length||c.length)&&bk.utils.cfb_add(t,"/DocumentSummaryInformation",F_(n,AN,s,d_,c.length?c:null,CN))}(e,n),8==r.biff&&e.vbaraw&&function(e,t){t.FullPaths.forEach((function(r,n){if(0!=n){var o=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==o.slice(-1)&&bk.utils.cfb_add(e,o,t.FileIndex[n].content)}}))}(n,bk.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),n}var IN={0:{f:function(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var o=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,7&a&&(r.level=7&a),16&a&&(r.hidden=!0),32&a&&(r.hpt=o/20),r}},1:{f:function(e){return[$T(e)]}},2:{f:function(e){return[$T(e),r_(e),"n"]}},3:{f:function(e){return[$T(e),e.read_shift(1),"e"]}},4:{f:function(e){return[$T(e),e.read_shift(1),"b"]}},5:{f:function(e){return[$T(e),s_(e),"n"]}},6:{f:function(e){return[$T(e),jT(e),"str"]}},7:{f:function(e){return[$T(e),e.read_shift(4),"s"]}},8:{f:function(e,t,r){var n=e.l+t,o=$T(e);o.r=r["!row"];var a=[o,jT(e),"str"];if(r.cellFormula){e.l+=2;var i=DC(e,n-e.l,r);a[3]=IC(i,0,o,r.supbooks,r)}else e.l=n;return a}},9:{f:function(e,t,r){var n=e.l+t,o=$T(e);o.r=r["!row"];var a=[o,s_(e),"n"];if(r.cellFormula){e.l+=2;var i=DC(e,n-e.l,r);a[3]=IC(i,0,o,r.supbooks,r)}else e.l=n;return a}},10:{f:function(e,t,r){var n=e.l+t,o=$T(e);o.r=r["!row"];var a=[o,e.read_shift(1),"b"];if(r.cellFormula){e.l+=2;var i=DC(e,n-e.l,r);a[3]=IC(i,0,o,r.supbooks,r)}else e.l=n;return a}},11:{f:function(e,t,r){var n=e.l+t,o=$T(e);o.r=r["!row"];var a=[o,e.read_shift(1),"e"];if(r.cellFormula){e.l+=2;var i=DC(e,n-e.l,r);a[3]=IC(i,0,o,r.supbooks,r)}else e.l=n;return a}},12:{f:function(e){return[KT(e)]}},13:{f:function(e){return[KT(e),r_(e),"n"]}},14:{f:function(e){return[KT(e),e.read_shift(1),"e"]}},15:{f:function(e){return[KT(e),e.read_shift(1),"b"]}},16:{f:ZC},17:{f:function(e){return[KT(e),jT(e),"str"]}},18:{f:function(e){return[KT(e),e.read_shift(4),"s"]}},19:{f:WT},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var o=e.read_shift(4),a=ZT(e),i=LC(e,0,r),s=QT(e);e.l=n;var l={Name:a,Ptg:i};return o<268435455&&(l.Sheet=o),s&&(l.Comment=s),l}},40:{},42:{},43:{f:function(e,t,r){var n={};n.sz=e.read_shift(2)/20;var o=function(e){var t=e.read_shift(1);return e.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(e);switch(o.fItalic&&(n.italic=1),o.fCondense&&(n.condense=1),o.fExtend&&(n.extend=1),o.fShadow&&(n.shadow=1),o.fOutline&&(n.outline=1),o.fStrikeout&&(n.strike=1),700===e.read_shift(2)&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript"}var a=e.read_shift(1);0!=a&&(n.underline=a);var i=e.read_shift(1);i>0&&(n.family=i);var s=e.read_shift(1);switch(s>0&&(n.charset=s),e.l++,n.color=function(e){var t={},r=e.read_shift(1)>>>1,n=e.read_shift(1),o=e.read_shift(2,"i"),a=e.read_shift(1),i=e.read_shift(1),s=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=n;var l=p_[n];l&&(t.rgb=EA(l));break;case 2:t.rgb=EA([a,i,s]);break;case 3:t.theme=n}return 0!=o&&(t.tint=o>0?o/32767:o/32768),t}(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor"}return n.name=jT(e),n}},44:{f:function(e,t){return[e.read_shift(2),jT(e)]}},45:{f:MA},46:{f:BA},47:{f:function(e,t){var r=e.l+t,n=e.read_shift(2),o=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:o}}},48:{},49:{f:function(e){return e.read_shift(4,"i")}},50:{},51:{f:function(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:lA},62:{f:function(e){return[$T(e),WT(e),"is"]}},63:{f:function(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=NT(r);var n=e.read_shift(1);return 2&n&&(t.l="1"),8&n&&(t.a="1"),t}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:gT,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(e,t){var r={},n=e[e.l];return++e.l,r.above=!(64&n),r.left=!(128&n),e.l+=18,r.name=YT(e,t-19),r}},148:{f:QC,p:16},151:{f:function(){}},152:{},153:{f:function(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var o=t>8?jT(e):"";return o.length>0&&(r.CodeName=o),r.autoCompressPictures=!!(65536&n),r.backupFile=!!(64&n),r.checkCompatibility=!!(4096&n),r.date1904=!!(1&n),r.filterPrivacy=!!(8&n),r.hidePivotFieldList=!!(1024&n),r.promptedSolutions=!!(16&n),r.publishItems=!!(2048&n),r.refreshAllConnections=!!(262144&n),r.saveExternalLinkValues=!!(128&n),r.showBorderUnselectedTables=!!(4&n),r.showInkAnnotation=!!(32&n),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(32768&n),r.updateLinks=["userSet","never","always"][n>>8&3],r}},154:{},155:{},156:{f:function(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=e_(e,t-8),r.name=jT(e),r}},157:{},158:{},159:{T:1,f:function(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:a_},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:eN},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:jT(e)}}},336:{T:-1},337:{f:function(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:e_},357:{},358:{},359:{},360:{T:1},361:{},362:{f:aA},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(e,t,r){var n=e.l+t,o=o_(e),a=e.read_shift(1),i=[o];if(i[2]=a,r.cellFormula){var s=RC(e,n-e.l,r);i[1]=s}else e.l=n;return i}},427:{f:function(e,t,r){var n=e.l+t,o=[a_(e,16)];if(r.cellFormula){var a=MC(e,n-e.l,r);o[1]=a,e.l=n}else e.l=n;return o}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(e){var t={};return rN.forEach((function(r){t[r]=s_(e)})),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(e,t){var r=e.l+t,n=a_(e,16),o=QT(e),a=jT(e),i=jT(e),s=jT(e);e.l=r;var l={rfx:n,relId:o,loc:a,display:s};return i&&(l.Tooltip=i),l}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:e_},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:JA},633:{T:1},634:{T:-1},635:{T:1,f:function(e){var t={};t.iauthor=e.read_shift(4);var r=a_(e,16);return t.rfx=r.s,t.ref=NT(r.s),e.l+=16,t}},636:{T:-1},637:{f:VT},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(e,t){return e.l+=10,{name:jT(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function ON(e,t,r,n){var o=t;if(!isNaN(o)){var a=n||(r||[]).length||0,i=e.next(4);i.write_shift(2,o),i.write_shift(2,a),a>0&&tT(r)&&e.push(r)}}function PN(e,t,r){return e||(e=vT(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function RN(e,t,r,n){if(null!=t.v)switch(t.t){case"d":case"n":var o="d"==t.t?Nk(Fk(t.v)):t.v;return void(o==(0|o)&&o>=0&&o<65536?ON(e,2,(a=r,i=n,s=o,l=vT(9),PN(l,a,i),l.write_shift(2,s),l)):ON(e,3,function(e,t,r){var n=vT(15);return PN(n,e,t),n.write_shift(8,r,"f"),n}(r,n,o)));case"b":case"e":return void ON(e,5,function(e,t,r,n){var o=vT(9);return PN(o,e,t),W_(r,n||"b",o),o}(r,n,t.v,t.t));case"s":case"str":return void ON(e,4,function(e,t,r){var n=vT(8+2*r.length);return PN(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}(r,n,(t.v||"").slice(0,255)))}var a,i,s,l;ON(e,1,PN(null,r,n))}function DN(e,t){var r=t||{};for(var n=yT(),o=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==r.sheet&&(o=a);if(0==o&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ON(n,4==r.biff?1033:3==r.biff?521:9,tA(0,16,r)),function(e,t,r,n){var o,a=Array.isArray(t),i=PT(t["!ref"]||"A1"),s="",l=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=OT(i)}for(var c=i.s.r;c<=i.e.r;++c){s=TT(c);for(var u=i.s.c;u<=i.e.c;++u){c===i.s.r&&(l[u]=AT(u)),o=l[u]+s;var d=a?(t[c]||[])[u]:t[o];d&&RN(e,d,c,u)}}}(n,e.Sheets[e.SheetNames[o]],0,r),ON(n,10),n.end()}function LN(e,t,r){ON(e,49,function(e,t){var r=e.name||"Arial",n=t&&5==t.biff,o=vT(n?15+r.length:16+2*r.length);return o.write_shift(2,20*(e.sz||12)),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,r.length),n||o.write_shift(1,1),o.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),o}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function MN(e,t){if(t){var r=0;t.forEach((function(t,n){++r<=256&&t&&ON(e,125,function(e,t){var r=vT(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,256*e.width),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}(WC(n,t),n))}))}}function FN(e,t,r,n,o){var a=16+HC(o.cellXfs,t,o);if(null!=t.v||t.bf)if(t.bf)ON(e,6,OC(t,r,n,0,a));else switch(t.t){case"d":case"n":ON(e,515,function(e,t,r,n){var o=vT(14);return Q_(e,t,n,o),l_(r,o),o}(r,n,"d"==t.t?Nk(Fk(t.v)):t.v,a));break;case"b":case"e":ON(e,517,function(e,t,r,n,o,a){var i=vT(8);return Q_(e,t,n,i),W_(r,a,i),i}(r,n,t.v,a,0,t.t));break;case"s":case"str":if(o.bookSST)ON(e,253,function(e,t,r,n){var o=vT(10);return Q_(e,t,n,o),o.write_shift(4,r),o}(r,n,zC(o.Strings,t.v,o.revStrings),a));else ON(e,516,function(e,t,r,n,o){var a=!o||8==o.biff,i=vT(+a+8+(1+a)*r.length);return Q_(e,t,n,i),i.write_shift(2,r.length),a&&i.write_shift(1,1),i.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),i}(r,n,(t.v||"").slice(0,255),a,o));break;default:ON(e,513,Q_(r,n,a))}else ON(e,513,Q_(r,n,a))}function UN(e,t,r){var n,o,a,i=yT(),s=r.SheetNames[e],l=r.Sheets[s]||{},c=(r||{}).Workbook||{},u=(c.Sheets||[])[e]||{},d=Array.isArray(l),h=8==t.biff,f="",p=[],m=PT(l["!ref"]||"A1"),g=h?65536:16384;if(m.e.c>255||m.e.r>=g){if(t.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,g-1)}ON(i,2057,tA(0,16,t)),ON(i,13,z_(1)),ON(i,12,z_(100)),ON(i,15,j_(!0)),ON(i,17,j_(!1)),ON(i,16,l_(.001)),ON(i,95,j_(!0)),ON(i,42,j_(!1)),ON(i,43,j_(!1)),ON(i,130,z_(1)),ON(i,128,(o=[0,0],(a=vT(8)).write_shift(4,0),a.write_shift(2,o[0]?o[0]+1:0),a.write_shift(2,o[1]?o[1]+1:0),a)),ON(i,131,j_(!1)),ON(i,132,j_(!1)),h&&MN(i,l["!cols"]),ON(i,512,function(e,t){var r=8!=t.biff&&t.biff?2:4,n=vT(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}(m,t)),h&&(l["!links"]=[]);for(var v=m.s.r;v<=m.e.r;++v){f=TT(v);for(var y=m.s.c;y<=m.e.c;++y){v===m.s.r&&(p[y]=AT(y)),n=p[y]+f;var w=d?(l[v]||[])[y]:l[n];w&&(FN(i,w,v,y,t),h&&w.l&&l["!links"].push([n,w.l]))}}var b=u.CodeName||u.name||s;return h&&ON(i,574,function(e){var t=vT(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((c.Views||[])[0])),h&&(l["!merges"]||[]).length&&ON(i,229,function(e){var t=vT(2+8*e.length);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)eA(e[r],t);return t}(l["!merges"])),h&&function(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];ON(e,440,iA(n)),n[1].Tooltip&&ON(e,2048,sA(n))}delete t["!links"]}(i,l),ON(i,442,q_(b)),h&&function(e,t){var r=vT(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ON(e,2151,r),(r=vT(39)).write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),eA(PT(t["!ref"]||"A1"),r),r.write_shift(4,4),ON(e,2152,r)}(i,l),ON(i,10),i.end()}function jN(e,t,r){var n,o=yT(),a=(e||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},l=8==r.biff,c=5==r.biff;(ON(o,2057,tA(0,5,r)),"xla"==r.bookType&&ON(o,135),ON(o,225,l?z_(1200):null),ON(o,193,function(e,t){t||(t=vT(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}(2)),c&&ON(o,191),c&&ON(o,192),ON(o,226),ON(o,92,function(e,t){var r=!t||8==t.biff,n=vT(r?112:54);for(n.write_shift(8==t.biff?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}(0,r)),ON(o,66,z_(l?1200:1252)),l&&ON(o,353,z_(0)),l&&ON(o,448),ON(o,317,function(e){for(var t=vT(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}(e.SheetNames.length)),l&&e.vbaraw&&ON(o,211),l&&e.vbaraw)&&ON(o,442,q_(s.CodeName||"ThisWorkbook"));ON(o,156,z_(17)),ON(o,25,j_(!1)),ON(o,18,j_(!1)),ON(o,19,z_(0)),l&&ON(o,431,j_(!1)),l&&ON(o,444,z_(0)),ON(o,61,((n=vT(18)).write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n)),ON(o,64,j_(!1)),ON(o,141,z_(0)),ON(o,34,j_("true"==function(e){return e.Workbook&&e.Workbook.WBProps&&tS(e.Workbook.WBProps.date1904)?"true":"false"}(e))),ON(o,14,j_(!0)),l&&ON(o,439,j_(!1)),ON(o,218,z_(0)),LN(o,0,r),function(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach((function(n){for(var o=n[0];o<=n[1];++o)null!=t[o]&&ON(e,1054,nA(o,t[o],r))}))}(o,e.SSF,r),function(e,t){for(var r=0;r<16;++r)ON(e,224,oA({numFmtId:0,style:!0},0,t));t.cellXfs.forEach((function(r){ON(e,224,oA(r,0,t))}))}(o,r),l&&ON(o,352,j_(!1));var u=o.end(),d=yT();l&&ON(d,140,function(e){return e||(e=vT(4)),e.write_shift(2,1),e.write_shift(2,1),e}()),l&&r.Strings&&function(e,t,r,n){var o=n||(r||[]).length||0;if(o<=8224)return ON(e,t,r,o);var a=t;if(!isNaN(a)){for(var i=r.parts||[],s=0,l=0,c=0;c+(i[s]||8224)<=8224;)c+=i[s]||8224,s++;var u=e.next(4);for(u.write_shift(2,a),u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c;l<o;){for((u=e.next(4)).write_shift(2,60),c=0;c+(i[s]||8224)<=8224;)c+=i[s]||8224,s++;u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c}}}(d,252,function(e){var t=vT(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var r=[],n=0;n<e.length;++n)r[n]=H_(e[n]);var o=SE([t].concat(r));return o.parts=[t.length].concat(r.map((function(e){return e.length}))),o}(r.Strings)),ON(d,10);var h=d.end(),f=yT(),p=0,m=0;for(m=0;m<e.SheetNames.length;++m)p+=(l?12:11)+(l?2:1)*e.SheetNames[m].length;var g=u.length+p+h.length;for(m=0;m<e.SheetNames.length;++m){ON(f,133,rA({pos:g,hs:(i[m]||{}).Hidden||0,dt:0,name:e.SheetNames[m]},r)),g+=t[m].length}var v=f.end();if(p!=v.length)throw new Error("BS8 "+p+" != "+v.length);var y=[];return u.length&&y.push(u),v.length&&y.push(v),h.length&&y.push(h),SE(y)}function BN(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(n&&n["!ref"])IT(n["!ref"]).e.c>255&&"undefined"!=typeof console&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}var o=t||{};switch(o.biff||2){case 8:case 5:return function(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=jk(ME)),e&&e.SSF&&(vk(),gk(e.SSF),r.revssf=Ak(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,gI(r),r.cellXfs=[],HC(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var o=0;o<e.SheetNames.length;++o)n[n.length]=UN(o,r,e);return n.unshift(jN(e,n,r)),SE(n)}(e,t);case 4:case 3:case 2:return DN(e,t)}throw new Error("invalid type "+o.bookType+" for BIFF")}function zN(e,t,r,n){for(var o=e["!merges"]||[],a=[],i=t.s.c;i<=t.e.c;++i){for(var s=0,l=0,c=0;c<o.length;++c)if(!(o[c].s.r>r||o[c].s.c>i||o[c].e.r<r||o[c].e.c<i)){if(o[c].s.r<r||o[c].s.c<i){s=-1;break}s=o[c].e.r-o[c].s.r+1,l=o[c].e.c-o[c].s.c+1;break}if(!(s<0)){var u=NT({r,c:i}),d=n.dense?(e[r]||[])[i]:e[u],h=d&&null!=d.v&&(d.h||eS(d.w||(DT(d),d.w)||""))||"",f={};s>1&&(f.rowspan=s),l>1&&(f.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":d&&(f["data-t"]=d&&d.t||"z",null!=d.v&&(f["data-v"]=d.v),null!=d.z&&(f["data-z"]=d.z),d.l&&"#"!=(d.l.Target||"#").charAt(0)&&(h='<a href="'+d.l.Target+'">'+h+"</a>")),f.id=(n.id||"sjs")+"-"+u,a.push(hS("td",h,f))}}return"<tr>"+a.join("")+"</tr>"}var WN='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',VN="</body></html>";function HN(e,t,r){return[].join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function $N(e,t){var r=t||{},n=null!=r.header?r.header:WN,o=null!=r.footer?r.footer:VN,a=[n],i=IT(e["!ref"]);r.dense=Array.isArray(e),a.push(HN(0,0,r));for(var s=i.s.r;s<=i.e.r;++s)a.push(zN(e,i,s,r));return a.push("</table>"+o),a.join("")}function GN(e,t,r){var n=r||{};var o=0,a=0;if(null!=n.origin)if("number"==typeof n.origin)o=n.origin;else{var i="string"==typeof n.origin?CT(n.origin):n.origin;o=i.r,a=i.c}var s=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,s.length),c={s:{r:0,c:0},e:{r:o,c:a}};if(e["!ref"]){var u=IT(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),-1==o&&(c.e.r=o=u.e.r+1)}var d=[],h=0,f=e["!rows"]||(e["!rows"]=[]),p=0,m=0,g=0,v=0,y=0,w=0;for(e["!cols"]||(e["!cols"]=[]);p<s.length&&m<l;++p){var b=s[p];if(qN(b)){if(n.display)continue;f[m]={hidden:!0}}var x=b.children;for(g=v=0;g<x.length;++g){var E=x[g];if(!n.display||!qN(E)){var k=E.hasAttribute("data-v")?E.getAttribute("data-v"):E.hasAttribute("v")?E.getAttribute("v"):lS(E.innerHTML),S=E.getAttribute("data-z")||E.getAttribute("z");for(h=0;h<d.length;++h){var T=d[h];T.s.c==v+a&&T.s.r<m+o&&m+o<=T.e.r&&(v=T.e.c+1-a,h=-1)}w=+E.getAttribute("colspan")||1,((y=+E.getAttribute("rowspan")||1)>1||w>1)&&d.push({s:{r:m+o,c:v+a},e:{r:m+o+(y||1)-1,c:v+a+(w||1)-1}});var _={t:"s",v:k},A=E.getAttribute("data-t")||E.getAttribute("t")||"";null!=k&&(0==k.length?_.t=A||"z":n.raw||0==k.trim().length||"s"==A||("TRUE"===k?_={t:"b",v:!0}:"FALSE"===k?_={t:"b",v:!1}:isNaN(zk(k))?isNaN(Vk(k).getDate())||(_={t:"d",v:Fk(k)},n.cellDates||(_={t:"n",v:Nk(_.v)}),_.z=n.dateNF||ME[14]):_={t:"n",v:zk(k)})),void 0===_.z&&null!=S&&(_.z=S);var C="",N=E.getElementsByTagName("A");if(N&&N.length)for(var I=0;I<N.length&&(!N[I].hasAttribute("href")||"#"==(C=N[I].getAttribute("href")).charAt(0));++I);C&&"#"!=C.charAt(0)&&(_.l={Target:C}),n.dense?(e[m+o]||(e[m+o]=[]),e[m+o][v+a]=_):e[NT({c:v+a,r:m+o})]=_,c.e.c<v+a&&(c.e.c=v+a),v+=w}}++m}return d.length&&(e["!merges"]=(e["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,m-1+o),e["!ref"]=OT(c),m>=l&&(e["!fullref"]=OT((c.e.r=s.length-p+m-1+o,c))),e}function KN(e,t){return GN((t||{}).dense?[]:{},e,t)}function qN(e){var t="",r=function(e){return e.ownerDocument.defaultView&&"function"==typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"==typeof getComputedStyle?getComputedStyle:null}(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}var YN=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+dS({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Gk+t}}(),XN=function(){var e="          <table:table-cell />\n",t=function(t,r,n){var o=[];o.push('      <table:table table:name="'+Qk(r.SheetNames[n])+'" table:style-name="ta1">\n');var a=0,i=0,s=IT(t["!ref"]||"A1"),l=t["!merges"]||[],c=0,u=Array.isArray(t);if(t["!cols"])for(i=0;i<=s.e.c;++i)o.push("        <table:table-column"+(t["!cols"][i]?' table:style-name="co'+t["!cols"][i].ods+'"':"")+"></table:table-column>\n");var d="",h=t["!rows"]||[];for(a=0;a<s.s.r;++a)d=h[a]?' table:style-name="ro'+h[a].ods+'"':"",o.push("        <table:table-row"+d+"></table:table-row>\n");for(;a<=s.e.r;++a){for(d=h[a]?' table:style-name="ro'+h[a].ods+'"':"",o.push("        <table:table-row"+d+">\n"),i=0;i<s.s.c;++i)o.push(e);for(;i<=s.e.c;++i){var f=!1,p={},m="";for(c=0;c!=l.length;++c)if(!(l[c].s.c>i||l[c].s.r>a||l[c].e.c<i||l[c].e.r<a)){l[c].s.c==i&&l[c].s.r==a||(f=!0),p["table:number-columns-spanned"]=l[c].e.c-l[c].s.c+1,p["table:number-rows-spanned"]=l[c].e.r-l[c].s.r+1;break}if(f)o.push("          <table:covered-table-cell/>\n");else{var g=NT({r:a,c:i}),v=u?(t[a]||[])[i]:t[g];if(v&&v.f&&(p["table:formula"]=Qk(("of:="+v.f.replace(rC,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")),v.F&&v.F.slice(0,g.length)==g)){var y=IT(v.F);p["table:number-matrix-columns-spanned"]=y.e.c-y.s.c+1,p["table:number-matrix-rows-spanned"]=y.e.r-y.s.r+1}if(v){switch(v.t){case"b":m=v.v?"TRUE":"FALSE",p["office:value-type"]="boolean",p["office:boolean-value"]=v.v?"true":"false";break;case"n":m=v.w||String(v.v||0),p["office:value-type"]="float",p["office:value"]=v.v||0;break;case"s":case"str":m=null==v.v?"":v.v,p["office:value-type"]="string";break;case"d":m=v.w||Fk(v.v).toISOString(),p["office:value-type"]="date",p["office:date-value"]=Fk(v.v).toISOString(),p["table:style-name"]="ce1";break;default:o.push(e);continue}var w=Qk(m).replace(/  +/g,(function(e){return'<text:s text:c="'+e.length+'"/>'})).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>");if(v.l&&v.l.Target){var b=v.l.Target;"#"==(b="#"==b.charAt(0)?"#"+b.slice(1).replace(/\./,"!"):b).charAt(0)||b.match(/^\w+:/)||(b="../"+b),w=hS("text:a",w,{"xlink:href":b.replace(/&/g,"&amp;")})}o.push("          "+hS("table:table-cell",hS("text:p",w,{}),p)+"\n")}else o.push(e)}}o.push("        </table:table-row>\n")}return o.push("      </table:table>\n"),o.join("")};return function(e,r){var n=[Gk],o=dS({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),a=dS({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==r.bookType?(n.push("<office:document"+o+a+">\n"),n.push(S_().replace(/office:document-meta/g,"office:meta"))):n.push("<office:document-content"+o+">\n"),function(e,t){e.push(" <office:automatic-styles>\n"),e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),e.push('   <number:month number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push('   <number:day number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push("   <number:year/>\n"),e.push("  </number:date-style>\n");var r=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!cols"])for(var n=0;n<t["!cols"].length;++n)if(t["!cols"][n]){var o=t["!cols"][n];if(null==o.width&&null==o.wpx&&null==o.wch)continue;AA(o),o.ods=r;var a=t["!cols"][n].wpx+"px";e.push('  <style:style style:name="co'+r+'" style:family="table-column">\n'),e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+a+'"/>\n'),e.push("  </style:style>\n"),++r}}));var n=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!rows"])for(var r=0;r<t["!rows"].length;++r)if(t["!rows"][r]){t["!rows"][r].ods=n;var o=t["!rows"][r].hpx+"px";e.push('  <style:style style:name="ro'+n+'" style:family="table-row">\n'),e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+o+'"/>\n'),e.push("  </style:style>\n"),++n}})),e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),e.push("  </style:style>\n"),e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),e.push(" </office:automatic-styles>\n")}(n,e),n.push("  <office:body>\n"),n.push("    <office:spreadsheet>\n");for(var i=0;i!=e.SheetNames.length;++i)n.push(t(e.Sheets[e.SheetNames[i]],e,i));return n.push("    </office:spreadsheet>\n"),n.push("  </office:body>\n"),"fods"==r.bookType?n.push("</office:document>"):n.push("</office:document-content>"),n.join("")}}();function QN(e,t){if("fods"==t.bookType)return XN(e,t);var r=$k(),n="",o=[],a=[];return Hk(r,n="mimetype","application/vnd.oasis.opendocument.spreadsheet"),Hk(r,n="content.xml",XN(e,t)),o.push([n,"text/xml"]),a.push([n,"ContentFile"]),Hk(r,n="styles.xml",YN(e,t)),o.push([n,"text/xml"]),a.push([n,"StylesFile"]),Hk(r,n="meta.xml",Gk+S_()),o.push([n,"text/xml"]),a.push([n,"MetadataFile"]),Hk(r,n="manifest.rdf",function(e){var t,r,n=[Gk];n.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var o=0;o!=e.length;++o)n.push(k_(e[o][0],e[o][1])),n.push((t="",r=e[o][0],['  <rdf:Description rdf:about="'+t+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+r+'"/>\n',"  </rdf:Description>\n"].join("")));return n.push(k_("","Document","pkg")),n.push("</rdf:RDF>"),n.join("")}(a)),o.push([n,"application/rdf+xml"]),Hk(r,n="META-INF/manifest.xml",function(e){var t=[Gk];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(o)),r}function JN(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ZN(e){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):xE(sS(e))}function eI(e){var t=e.reduce((function(e,t){return e+t.length}),0),r=new Uint8Array(t),n=0;return e.forEach((function(e){r.set(e,n),n+=e.length})),r}function tI(e,t){var r=t?t[0]:0,n=127&e[r];e:if(e[r++]>=128){if(n|=(127&e[r])<<7,e[r++]<128)break e;if(n|=(127&e[r])<<14,e[r++]<128)break e;if(n|=(127&e[r])<<21,e[r++]<128)break e;if(n+=(127&e[r])*Math.pow(2,28),++r,e[r++]<128)break e;if(n+=(127&e[r])*Math.pow(2,35),++r,e[r++]<128)break e;if(n+=(127&e[r])*Math.pow(2,42),++r,e[r++]<128)break e}return t&&(t[0]=r),n}function rI(e){var t=new Uint8Array(7);t[0]=127&e;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383)break e;if(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)break e;if(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)break e;if(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)break e;if(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103)break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function nI(e){var t=0,r=127&e[t];e:if(e[t++]>=128){if(r|=(127&e[t])<<7,e[t++]<128)break e;if(r|=(127&e[t])<<14,e[t++]<128)break e;if(r|=(127&e[t])<<21,e[t++]<128)break e;r|=(127&e[t])<<28}return r}function oI(e){for(var t=[],r=[0];r[0]<e.length;){var n,o=r[0],a=tI(e,r),i=7&a,s=0;if(0==(a=Math.floor(a/8)))break;switch(i){case 0:for(var l=r[0];e[r[0]++]>=128;);n=e.slice(l,r[0]);break;case 5:s=4,n=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,n=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=tI(e,r),n=e.slice(r[0],r[0]+s),r[0]+=s;break;default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(o))}var c={data:n,type:i};null==t[a]?t[a]=[c]:t[a].push(c)}return t}function aI(e){var t=[];return e.forEach((function(e,r){e.forEach((function(e){e.data&&(t.push(rI(8*r+e.type)),2==e.type&&t.push(rI(e.data.length)),t.push(e.data))}))})),eI(t)}function iI(e){for(var t,r=[],n=[0];n[0]<e.length;){var o=tI(e,n),a=oI(e.slice(n[0],n[0]+o));n[0]+=o;var i={id:nI(a[1][0].data),messages:[]};a[2].forEach((function(t){var r=oI(t.data),o=nI(r[3][0].data);i.messages.push({meta:r,data:e.slice(n[0],n[0]+o)}),n[0]+=o})),(null==(t=a[3])?void 0:t[0])&&(i.merge=nI(a[3][0].data)>>>0>0),r.push(i)}return r}function sI(e){var t=[];return e.forEach((function(e){var r=[];r[1]=[{data:rI(e.id),type:0}],r[2]=[],null!=e.merge&&(r[3]=[{data:rI(+!!e.merge),type:0}]);var n=[];e.messages.forEach((function(e){n.push(e.data),e.meta[3]=[{type:0,data:rI(e.data.length)}],r[2].push({data:aI(e.meta),type:2})}));var o=aI(r);t.push(rI(o.length)),t.push(o),n.forEach((function(e){return t.push(e)}))})),eI(t)}function lI(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=tI(t,r),o=[];r[0]<t.length;){var a=3&t[r[0]];if(0!=a){var i=0,s=0;if(1==a?(s=4+(t[r[0]]>>2&7),i=(224&t[r[0]++])<<3,i|=t[r[0]++]):(s=1+(t[r[0]++]>>2),2==a?(i=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(i=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),o=[eI(o)],0==i)throw new Error("Invalid offset 0");if(i>o[0].length)throw new Error("Invalid offset beyond length");if(s>=i)for(o.push(o[0].slice(-i)),s-=i;s>=o[o.length-1].length;)o.push(o[o.length-1]),s-=o[o.length-1].length;o.push(o[0].slice(-i,-i+s))}else{var l=t[r[0]++]>>2;if(l<60)++l;else{var c=l-59;l=t[r[0]],c>1&&(l|=t[r[0]+1]<<8),c>2&&(l|=t[r[0]+2]<<16),c>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=c}o.push(t.slice(r[0],r[0]+l)),r[0]+=l}}var u=eI(o);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function cI(e){for(var t=[],r=0;r<e.length;){var n=e[r++],o=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(lI(n,e.slice(r,r+o))),r+=o}if(r!==e.length)throw new Error("data is not a valid framed stream!");return eI(t)}function uI(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),o=new Uint8Array(4);t.push(o);var a=rI(n),i=a.length;t.push(a),n<=60?(i++,t.push(new Uint8Array([n-1<<2]))):n<=256?(i+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(i+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(i+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(i+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),i+=n,o[0]=0,o[1]=255&i,o[2]=i>>8&255,o[3]=i>>16&255,r+=n}return eI(t)}function dI(e,t){var r=new Uint8Array(32),n=JN(r),o=12,a=0;switch(r[0]=5,e.t){case"n":r[1]=2,function(e,t,r){var n=Math.floor(0==r?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,o=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(127&n)<<1;for(var a=0;o>=1;++a,o/=256)e[t+a]=255&o;e[t+15]|=r>=0?0:128}(r,o,e.v),a|=1,o+=16;break;case"b":r[1]=6,n.setFloat64(o,e.v?1:0,!0),a|=2,o+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(o,t.indexOf(e.v),!0),a|=8,o+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,a,!0),r.slice(0,o)}function hI(e,t){var r=new Uint8Array(32),n=JN(r),o=12,a=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(o,e.v,!0),a|=32,o+=8;break;case"b":r[2]=6,n.setFloat64(o,e.v?1:0,!0),a|=32,o+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(o,t.indexOf(e.v),!0),a|=16,o+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,a,!0),r.slice(0,o)}function fI(e){return tI(oI(e)[1][0].data)}function pI(e,t,r){var n,o,a,i;if(!(null==(n=e[6])?void 0:n[0])||!(null==(o=e[7])?void 0:o[0]))throw"Mutation only works on post-BNC storages!";if((null==(i=null==(a=e[8])?void 0:a[0])?void 0:i.data)&&nI(e[8][0].data)>0||!1)throw"Math only works with normal offsets";for(var s=0,l=JN(e[7][0].data),c=0,u=[],d=JN(e[4][0].data),h=0,f=[],p=0;p<t.length;++p)if(null!=t[p]){var m,g;switch(l.setUint16(2*p,c,!0),d.setUint16(2*p,h,!0),typeof t[p]){case"string":m=dI({t:"s",v:t[p]},r),g=hI({t:"s",v:t[p]},r);break;case"number":m=dI({t:"n",v:t[p]},r),g=hI({t:"n",v:t[p]},r);break;case"boolean":m=dI({t:"b",v:t[p]},r),g=hI({t:"b",v:t[p]},r);break;default:throw new Error("Unsupported value "+t[p])}u.push(m),c+=m.length,f.push(g),h+=g.length,++s}else l.setUint16(2*p,65535,!0),d.setUint16(2*p,65535);for(e[2][0].data=rI(s);p<e[7][0].data.length/2;++p)l.setUint16(2*p,65535,!0),d.setUint16(2*p,65535,!0);return e[6][0].data=eI(u),e[3][0].data=eI(f),s}function mI(e){return function(t){for(var r=0;r!=e.length;++r){var n=e[r];void 0===t[n[0]]&&(t[n[0]]=n[1]),"n"===n[2]&&(t[n[0]]=Number(t[n[0]]))}}}function gI(e){mI([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function vI(e,t){return"ods"==t.bookType?QN(e,t):"numbers"==t.bookType?function(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=IT(r["!ref"]);n.s.r=n.s.c=0;var o=!1;n.e.c>9&&(o=!0,n.e.c=9),n.e.r>49&&(o=!0,n.e.r=49),o&&console.error("The Numbers writer is currently limited to ".concat(OT(n)));var a=AI(r,{range:n,header:1}),i=["~Sh33tJ5~"];a.forEach((function(e){return e.forEach((function(e){"string"==typeof e&&i.push(e)}))}));var s={},l=[],c=bk.read(t.numbers,{type:"base64"});c.FileIndex.map((function(e,t){return[e,c.FullPaths[t]]})).forEach((function(e){var t=e[0],r=e[1];2==t.type&&t.name.match(/\.iwa/)&&iI(cI(t.content)).forEach((function(e){l.push(e.id),s[e.id]={deps:[],location:r,type:nI(e.messages[0].meta[1][0].data)}}))})),l.sort((function(e,t){return e-t}));var u=l.filter((function(e){return e>1})).map((function(e){return[e,rI(e)]}));c.FileIndex.map((function(e,t){return[e,c.FullPaths[t]]})).forEach((function(e){var t=e[0];e[1],t.name.match(/\.iwa/)&&iI(cI(t.content)).forEach((function(e){e.messages.forEach((function(t){u.forEach((function(t){e.messages.some((function(e){return 11006!=nI(e.meta[1][0].data)&&function(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}(e.data,t[1])}))&&s[t[0]].deps.push(e.id)}))}))}))}));for(var d,h=bk.find(c,s[1].location),f=iI(cI(h.content)),p=0;p<f.length;++p){var m=f[p];1==m.id&&(d=m)}var g=fI(oI(d.messages[0].data)[1][0].data);for(f=iI(cI((h=bk.find(c,s[g].location)).content)),p=0;p<f.length;++p)(m=f[p]).id==g&&(d=m);for(g=fI(oI(d.messages[0].data)[2][0].data),f=iI(cI((h=bk.find(c,s[g].location)).content)),p=0;p<f.length;++p)(m=f[p]).id==g&&(d=m);for(g=fI(oI(d.messages[0].data)[2][0].data),f=iI(cI((h=bk.find(c,s[g].location)).content)),p=0;p<f.length;++p)(m=f[p]).id==g&&(d=m);var v=oI(d.messages[0].data);v[6][0].data=rI(n.e.r+1),v[7][0].data=rI(n.e.c+1);for(var y=fI(v[46][0].data),w=bk.find(c,s[y].location),b=iI(cI(w.content)),x=0;x<b.length&&b[x].id!=y;++x);if(b[x].id!=y)throw"Bad ColumnRowUIDMapArchive";var E=oI(b[x].messages[0].data);E[1]=[],E[2]=[],E[3]=[];for(var k=0;k<=n.e.c;++k){var S=[];S[1]=S[2]=[{type:0,data:rI(k+420690)}],E[1].push({type:2,data:aI(S)}),E[2].push({type:0,data:rI(k)}),E[3].push({type:0,data:rI(k)})}E[4]=[],E[5]=[],E[6]=[];for(var T=0;T<=n.e.r;++T)(S=[])[1]=S[2]=[{type:0,data:rI(T+726270)}],E[4].push({type:2,data:aI(S)}),E[5].push({type:0,data:rI(T)}),E[6].push({type:0,data:rI(T)});b[x].messages[0].data=aI(E),w.content=uI(sI(b)),w.size=w.content.length,delete v[46];var _=oI(v[4][0].data);_[7][0].data=rI(n.e.r+1);var A=fI(oI(_[1][0].data)[2][0].data);if((b=iI(cI((w=bk.find(c,s[A].location)).content)))[0].id!=A)throw"Bad HeaderStorageBucket";var C=oI(b[0].messages[0].data);for(T=0;T<a.length;++T){var N=oI(C[2][0].data);N[1][0].data=rI(T),N[4][0].data=rI(a[T].length),C[2][T]={type:C[2][0].type,data:aI(N)}}b[0].messages[0].data=aI(C),w.content=uI(sI(b)),w.size=w.content.length;var I=fI(_[2][0].data);if((b=iI(cI((w=bk.find(c,s[I].location)).content)))[0].id!=I)throw"Bad HeaderStorageBucket";for(C=oI(b[0].messages[0].data),k=0;k<=n.e.c;++k)(N=oI(C[2][0].data))[1][0].data=rI(k),N[4][0].data=rI(n.e.r+1),C[2][k]={type:C[2][0].type,data:aI(N)};b[0].messages[0].data=aI(C),w.content=uI(sI(b)),w.size=w.content.length;var O=fI(_[4][0].data);!function(){for(var e,t=bk.find(c,s[O].location),r=iI(cI(t.content)),n=0;n<r.length;++n){var o=r[n];o.id==O&&(e=o)}var a=oI(e.messages[0].data);a[3]=[];var l=[];i.forEach((function(e,t){l[1]=[{type:0,data:rI(t)}],l[2]=[{type:0,data:rI(1)}],l[3]=[{type:2,data:ZN(e)}],a[3].push({type:2,data:aI(l)})})),e.messages[0].data=aI(a);var u=uI(sI(r));t.content=u,t.size=t.content.length}();var P=oI(_[3][0].data),R=P[1][0];delete P[2];var D=oI(R.data),L=fI(D[2][0].data);!function(){for(var e,t=bk.find(c,s[L].location),r=iI(cI(t.content)),o=0;o<r.length;++o){var l=r[o];l.id==L&&(e=l)}var u=oI(e.messages[0].data);delete u[6],delete P[7];var d=new Uint8Array(u[5][0].data);u[5]=[];for(var h=0,f=0;f<=n.e.r;++f){var p=oI(d);h+=pI(p,a[f],i),p[1][0].data=rI(f),u[5].push({data:aI(p),type:2})}u[1]=[{type:0,data:rI(n.e.c+1)}],u[2]=[{type:0,data:rI(n.e.r+1)}],u[3]=[{type:0,data:rI(h)}],u[4]=[{type:0,data:rI(n.e.r+1)}],e.messages[0].data=aI(u);var m=uI(sI(r));t.content=m,t.size=t.content.length}(),R.data=aI(D),_[3][0].data=aI(P),v[4][0].data=aI(_),d.messages[0].data=aI(v);var M=uI(sI(f));return h.content=M,h.size=h.content.length,c}(e,t):"xlsb"==t.bookType?function(e,t){qA=1024,e&&!e.SSF&&(e.SSF=jk(ME));e&&e.SSF&&(vk(),gk(e.SSF),t.revssf=Ak(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF);t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,BC?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xlsb"==t.bookType?"bin":"xml",n=eC.indexOf(t.bookType)>-1,o={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};gI(t=t||{});var a=$k(),i="",s=0;t.cellXfs=[],HC(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});if(Hk(a,i="docProps/core.xml",A_(e.Props,t)),o.coreprops.push(i),E_(t.rels,2,i,w_.CORE_PROPS),i="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,Hk(a,i,I_(e.Props)),o.extprops.push(i),E_(t.rels,3,i,w_.EXT_PROPS),e.Custprops!==e.Props&&Sk(e.Custprops||{}).length>0&&(Hk(a,i="docProps/custom.xml",O_(e.Custprops)),o.custprops.push(i),E_(t.rels,4,i,w_.CUST_PROPS));for(s=1;s<=e.SheetNames.length;++s){var u={"!id":{}},d=e.Sheets[e.SheetNames[s-1]];(d||{})["!type"];if(Hk(a,i="xl/worksheets/sheet"+s+"."+r,yN(s-1,i,t,e,u)),o.sheets.push(i),E_(t.wbrels,-1,"worksheets/sheet"+s+"."+r,w_.WS[0]),d){var h=d["!comments"],f=!1,p="";h&&h.length>0&&(Hk(a,p="xl/comments"+s+"."+r,wN(h,p,t)),o.comments.push(p),E_(u,-1,"../comments"+s+"."+r,w_.CMNT),f=!0),d["!legacy"]&&f&&Hk(a,"xl/drawings/vmlDrawing"+s+".vml",YA(s,d["!comments"])),delete d["!comments"],delete d["!legacy"]}u["!id"].rId1&&Hk(a,b_(i),x_(u))}null!=t.Strings&&t.Strings.length>0&&(Hk(a,i="xl/sharedStrings."+r,function(e,t,r){return(".bin"===t.slice(-4)?yA:gA)(e,r)}(t.Strings,i,t)),o.strs.push(i),E_(t.wbrels,-1,"sharedStrings."+r,w_.SST));Hk(a,i="xl/workbook."+r,function(e,t,r){return(".bin"===t.slice(-4)?vN:mN)(e,r)}(e,i,t)),o.workbooks.push(i),E_(t.rels,1,i,w_.WB),Hk(a,i="xl/theme/theme1.xml",$A(e.Themes,t)),o.themes.push(i),E_(t.wbrels,-1,"theme/theme1.xml",w_.THEME),Hk(a,i="xl/styles."+r,function(e,t,r){return(".bin"===t.slice(-4)?HA:OA)(e,r)}(e,i,t)),o.styles.push(i),E_(t.wbrels,-1,"styles."+r,w_.STY),e.vbaraw&&n&&(Hk(a,i="xl/vbaProject.bin",e.vbaraw),o.vba.push(i),E_(t.wbrels,-1,"vbaProject.bin",w_.VBA));return Hk(a,i="xl/metadata."+r,function(e){return(".bin"===e.slice(-4)?GA:KA)()}(i)),o.metadata.push(i),E_(t.wbrels,-1,"metadata."+r,w_.XLMETA),Hk(a,"[Content_Types].xml",y_(o,t)),Hk(a,"_rels/.rels",x_(t.rels)),Hk(a,"xl/_rels/workbook."+r+".rels",x_(t.wbrels)),delete t.revssf,delete t.ssf,a}(e,t):yI(e,t)}function yI(e,t){qA=1024,e&&!e.SSF&&(e.SSF=jk(ME)),e&&e.SSF&&(vk(),gk(e.SSF),t.revssf=Ak(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,BC?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=eC.indexOf(t.bookType)>-1,o={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};gI(t=t||{});var a=$k(),i="",s=0;if(t.cellXfs=[],HC(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),Hk(a,i="docProps/core.xml",A_(e.Props,t)),o.coreprops.push(i),E_(t.rels,2,i,w_.CORE_PROPS),i="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,Hk(a,i,I_(e.Props)),o.extprops.push(i),E_(t.rels,3,i,w_.EXT_PROPS),e.Custprops!==e.Props&&Sk(e.Custprops||{}).length>0&&(Hk(a,i="docProps/custom.xml",O_(e.Custprops)),o.custprops.push(i),E_(t.rels,4,i,w_.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,s=1;s<=e.SheetNames.length;++s){var d={"!id":{}},h=e.Sheets[e.SheetNames[s-1]];(h||{})["!type"];if(Hk(a,i="xl/worksheets/sheet"+s+"."+r,YC(s-1,t,e,d)),o.sheets.push(i),E_(t.wbrels,-1,"worksheets/sheet"+s+"."+r,w_.WS[0]),h){var f=h["!comments"],p=!1,m="";if(f&&f.length>0){var g=!1;f.forEach((function(e){e[1].forEach((function(e){1==e.T&&(g=!0)}))})),g&&(Hk(a,m="xl/threadedComments/threadedComment"+s+"."+r,QA(f,u,t)),o.threadedcomments.push(m),E_(d,-1,"../threadedComments/threadedComment"+s+"."+r,w_.TCMNT)),Hk(a,m="xl/comments"+s+"."+r,XA(f)),o.comments.push(m),E_(d,-1,"../comments"+s+"."+r,w_.CMNT),p=!0}h["!legacy"]&&p&&Hk(a,"xl/drawings/vmlDrawing"+s+".vml",YA(s,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&Hk(a,b_(i),x_(d))}return null!=t.Strings&&t.Strings.length>0&&(Hk(a,i="xl/sharedStrings."+r,gA(t.Strings,t)),o.strs.push(i),E_(t.wbrels,-1,"sharedStrings."+r,w_.SST)),Hk(a,i="xl/workbook."+r,mN(e)),o.workbooks.push(i),E_(t.rels,1,i,w_.WB),Hk(a,i="xl/theme/theme1.xml",$A(e.Themes,t)),o.themes.push(i),E_(t.wbrels,-1,"theme/theme1.xml",w_.THEME),Hk(a,i="xl/styles."+r,OA(e,t)),o.styles.push(i),E_(t.wbrels,-1,"styles."+r,w_.STY),e.vbaraw&&n&&(Hk(a,i="xl/vbaProject.bin",e.vbaraw),o.vba.push(i),E_(t.wbrels,-1,"vbaProject.bin",w_.VBA)),Hk(a,i="xl/metadata."+r,KA()),o.metadata.push(i),E_(t.wbrels,-1,"metadata."+r,w_.XLMETA),u.length>1&&(Hk(a,i="xl/persons/person.xml",function(e){var t=[Gk,hS("personList",null,{xmlns:wS,"xmlns:x":AS[0]}).replace(/[\/]>/,">")];return e.forEach((function(e,r){t.push(hS("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:e,providerId:"None"}))})),t.push("</personList>"),t.join("")}(u)),o.people.push(i),E_(t.wbrels,-1,"persons/person.xml",w_.PEOPLE)),Hk(a,"[Content_Types].xml",y_(o,t)),Hk(a,"_rels/.rels",x_(t.rels)),Hk(a,"xl/_rels/workbook.xml.rels",x_(t.wbrels)),delete t.revssf,delete t.ssf,a}function wI(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=gE(e.slice(0,12));break;case"binary":r=e;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function bI(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return kk(t.file,bk.write(e,{type:vE?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return bk.write(e,t)}function xI(e,t){var r={},n=vE?"nodebuffer":"undefined"!=typeof Uint8Array?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var o=e.FullPaths?bk.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if("undefined"!=typeof Deno&&"string"==typeof o){if("binary"==t.type||"base64"==t.type)return o;o=new Uint8Array(EE(o))}return t.password&&"undefined"!=typeof encrypt_agile?bI(encrypt_agile(o,t.password),t):"file"===t.type?kk(t.file,o):"string"==t.type?iS(o):o}function EI(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return mE(sS(n));case"binary":return sS(n);case"string":return e;case"file":return kk(t.file,n,"utf8");case"buffer":return vE?yE(n,"utf8"):"undefined"!=typeof TextEncoder?(new TextEncoder).encode(n):EI(n,{type:"binary"}).split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}function kI(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return"base64"==t.type?mE(r):"string"==t.type?iS(r):r;case"file":return kk(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function SI(e,t){cE(),pN(e);var r=jk(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),"array"==r.type){r.type="binary";var n=SI(e,r);return r.type="array",EE(n)}var o=0;if(r.sheet&&(o="number"==typeof r.sheet?r.sheet:e.SheetNames.indexOf(r.sheet),!e.SheetNames[o]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return EI(TN(e,r),r);case"slk":case"sylk":return EI(uA.from_sheet(e.Sheets[e.SheetNames[o]],r),r);case"htm":case"html":return EI($N(e.Sheets[e.SheetNames[o]],r),r);case"txt":return function(e,t){switch(t.type){case"base64":return mE(e);case"binary":case"string":return e;case"file":return kk(t.file,e,"binary");case"buffer":return vE?yE(e,"binary"):e.split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}(OI(e.Sheets[e.SheetNames[o]],r),r);case"csv":return EI(II(e.Sheets[e.SheetNames[o]],r),r,"\ufeff");case"dif":return EI(dA.from_sheet(e.Sheets[e.SheetNames[o]],r),r);case"dbf":return kI(cA.from_sheet(e.Sheets[e.SheetNames[o]],r),r);case"prn":return EI(fA.from_sheet(e.Sheets[e.SheetNames[o]],r),r);case"rtf":return EI(xA.from_sheet(e.Sheets[e.SheetNames[o]],r),r);case"eth":return EI(hA.from_sheet(e.Sheets[e.SheetNames[o]],r),r);case"fods":return EI(QN(e,r),r);case"wk1":return kI(pA.sheet_to_wk1(e.Sheets[e.SheetNames[o]],r),r);case"wk3":return kI(pA.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),kI(BN(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),function(e,t){var r=t||{};return bI(NN(e,r),r)}(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function(e,t){var r=jk(t||{});return xI(vI(e,r),r)}(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function TI(e){if(!e.bookType){var t=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(e.bookType=t.slice(1)),e.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[e.bookType]||e.bookType}}function _I(e,t,r,n,o,a,i,s){var l=TT(r),c=s.defval,u=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),d=!0,h=1===o?[]:{};if(1!==o)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch(e){h.__rowNum__=r}else h.__rowNum__=r;if(!i||e[r])for(var f=t.s.c;f<=t.e.c;++f){var p=i?e[r][f]:e[n[f]+l];if(void 0!==p&&void 0!==p.t){var m=p.v;switch(p.t){case"z":if(null==m)break;continue;case"e":m=0==m?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(null!=a[f]){if(null==m)if("e"==p.t&&null===m)h[a[f]]=null;else if(void 0!==c)h[a[f]]=c;else{if(!u||null!==m)continue;h[a[f]]=null}else h[a[f]]=u&&("n"!==p.t||"n"===p.t&&!1!==s.rawNumbers)?m:DT(p,m,s);null!=m&&(d=!1)}}else{if(void 0===c)continue;null!=a[f]&&(h[a[f]]=c)}}return{row:h,isempty:d}}function AI(e,t){if(null==e||null==e["!ref"])return[];var r={t:"n",v:0},n=0,o=1,a=[],i=0,s="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=null!=c.range?c.range:e["!ref"];switch(1===c.header?n=1:"A"===c.header?n=2:Array.isArray(c.header)?n=3:null==c.header&&(n=0),typeof u){case"string":l=PT(u);break;case"number":(l=PT(e["!ref"])).s.r=u;break;default:l=u}n>0&&(o=0);var d=TT(l.s.r),h=[],f=[],p=0,m=0,g=Array.isArray(e),v=l.s.r,y=0,w={};g&&!e[v]&&(e[v]=[]);var b=c.skipHidden&&e["!cols"]||[],x=c.skipHidden&&e["!rows"]||[];for(y=l.s.c;y<=l.e.c;++y)if(!(b[y]||{}).hidden)switch(h[y]=AT(y),r=g?e[v][y]:e[h[y]+d],n){case 1:a[y]=y-l.s.c;break;case 2:a[y]=h[y];break;case 3:a[y]=c.header[y-l.s.c];break;default:if(null==r&&(r={w:"__EMPTY",t:"s"}),s=i=DT(r,null,c),m=w[i]||0){do{s=i+"_"+m++}while(w[s]);w[i]=m,w[s]=1}else w[i]=1;a[y]=s}for(v=l.s.r+o;v<=l.e.r;++v)if(!(x[v]||{}).hidden){var E=_I(e,l,v,h,n,a,g,c);(!1===E.isempty||(1===n?!1!==c.blankrows:c.blankrows))&&(f[p++]=E.row)}return f.length=p,f}var CI=/"/g;function NI(e,t,r,n,o,a,i,s){for(var l=!0,c=[],u="",d=TT(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var f=s.dense?(e[r]||[])[h]:e[n[h]+d];if(null==f)u="";else if(null!=f.v){l=!1,u=""+(s.rawNumbers&&"n"==f.t?f.v:DT(f,null,s));for(var p=0,m=0;p!==u.length;++p)if((m=u.charCodeAt(p))===o||m===a||34===m||s.forceQuotes){u='"'+u.replace(CI,'""')+'"';break}"ID"==u&&(u='"ID"')}else null==f.f||f.F?u="":(l=!1,(u="="+f.f).indexOf(",")>=0&&(u='"'+u.replace(CI,'""')+'"'));c.push(u)}return!1===s.blankrows&&l?null:c.join(i)}function II(e,t){var r=[],n=null==t?{}:t;if(null==e||null==e["!ref"])return"";var o=PT(e["!ref"]),a=void 0!==n.FS?n.FS:",",i=a.charCodeAt(0),s=void 0!==n.RS?n.RS:"\n",l=s.charCodeAt(0),c=new RegExp(("|"==a?"\\|":a)+"+$"),u="",d=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],f=n.skipHidden&&e["!rows"]||[],p=o.s.c;p<=o.e.c;++p)(h[p]||{}).hidden||(d[p]=AT(p));for(var m=0,g=o.s.r;g<=o.e.r;++g)(f[g]||{}).hidden||null!=(u=NI(e,o,g,d,i,l,a,n))&&(n.strip&&(u=u.replace(c,"")),(u||!1!==n.blankrows)&&r.push((m++?s:"")+u));return delete n.dense,r.join("")}function OI(e,t){t||(t={}),t.FS="\t",t.RS="\n";var r=II(e,t);if(void 0===dE||"string"==t.type)return r;var n=dE.utils.encode(1200,r,"str");return String.fromCharCode(255)+String.fromCharCode(254)+n}function PI(e,t,r){var n,o=r||{},a=+!o.skipHeader,i=e||{},s=0,l=0;if(i&&null!=o.origin)if("number"==typeof o.origin)s=o.origin;else{var c="string"==typeof o.origin?CT(o.origin):o.origin;s=c.r,l=c.c}var u={s:{c:0,r:0},e:{c:l,r:s+t.length-1+a}};if(i["!ref"]){var d=PT(i["!ref"]);u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),-1==s&&(s=d.e.r+1,u.e.r=s+t.length-1+a)}else-1==s&&(s=0,u.e.r=t.length-1+a);var h=o.header||[],f=0;t.forEach((function(e,t){Sk(e).forEach((function(r){-1==(f=h.indexOf(r))&&(h[f=h.length]=r);var c=e[r],u="z",d="",p=NT({c:l+f,r:s+t+a});n=RI(i,p),!c||"object"!=typeof c||c instanceof Date?("number"==typeof c?u="n":"boolean"==typeof c?u="b":"string"==typeof c?u="s":c instanceof Date?(u="d",o.cellDates||(u="n",c=Nk(c)),d=o.dateNF||ME[14]):null===c&&o.nullError&&(u="e",c=0),n?(n.t=u,n.v=c,delete n.w,delete n.R,d&&(n.z=d)):i[p]=n={t:u,v:c},d&&(n.z=d)):i[p]=c}))})),u.e.c=Math.max(u.e.c,l+h.length-1);var p=TT(s);if(a)for(f=0;f<h.length;++f)i[AT(f+l)+p]={t:"s",v:h[f]};return i["!ref"]=OT(u),i}function RI(e,t,r){if("string"==typeof t){if(Array.isArray(e)){var n=CT(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return RI(e,NT("number"!=typeof t?t:{r:t,c:r||0}))}function DI(){return{SheetNames:[],Sheets:{}}}function LI(e,t,r,n){var o=1;if(!r)for(;o<=65535&&-1!=e.SheetNames.indexOf(r="Sheet"+o);++o,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);o=a&&+a[2]||0;var i=a&&a[1]||r;for(++o;o<=65535&&-1!=e.SheetNames.indexOf(r=i+o);++o);}if(fN(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function MI(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}var FI={encode_col:AT,encode_row:TT,encode_cell:NT,encode_range:OT,decode_col:_T,decode_row:ST,split_cell:function(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:CT,decode_range:IT,format_cell:DT,sheet_add_aoa:MT,sheet_add_json:PI,sheet_add_dom:GN,aoa_to_sheet:FT,json_to_sheet:function(e,t){return PI(null,e,t)},table_to_sheet:KN,table_to_book:function(e,t){return LT(KN(e,t),t)},sheet_to_csv:II,sheet_to_txt:OI,sheet_to_json:AI,sheet_to_html:$N,sheet_to_formulae:function(e){var t,r="",n="";if(null==e||null==e["!ref"])return[];var o,a=PT(e["!ref"]),i="",s=[],l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=AT(o);for(var u=a.s.r;u<=a.e.r;++u)for(i=TT(u),o=a.s.c;o<=a.e.c;++o)if(r=s[o]+i,n="",void 0!==(t=c?(e[u]||[])[o]:e[r])){if(null!=t.F){if(r=t.F,!t.f)continue;n=t.f,-1==r.indexOf(":")&&(r=r+":"+r)}if(null!=t.f)n=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)n=""+t.v;else if("b"==t.t)n=t.v?"TRUE":"FALSE";else if(void 0!==t.w)n="'"+t.w;else{if(void 0===t.v)continue;n="s"==t.t?"'"+t.v:""+t.v}}l[l.length]=r+"="+n}return l},sheet_to_row_object_array:AI,sheet_get_cell:RI,book_new:DI,book_append_sheet:LI,book_set_sheet_visibility:function(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=function(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r},cell_set_number_format:function(e,t){return e.z=t,e},cell_set_hyperlink:MI,cell_set_internal_link:function(e,t,r){return MI(e,"#"+t,r)},cell_add_comment:function(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})},sheet_set_array_formula:function(e,t,r,n){for(var o="string"!=typeof t?t:PT(t),a="string"==typeof t?t:OT(t),i=o.s.r;i<=o.e.r;++i)for(var s=o.s.c;s<=o.e.c;++s){var l=RI(e,i,s);l.t="n",l.F=a,delete l.v,i==o.s.r&&s==o.s.c&&(l.f=r,n&&(l.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};rE.version;var UI=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))};function jI(){return UI(this,arguments,void 0,(function*(e=5){var t,r;for(let n=0;n<e;n++){if("undefined"!=typeof chrome&&(null===(t=chrome.runtime)||void 0===t?void 0:t.id)&&(null===(r=chrome.storage)||void 0===r?void 0:r.sync))return!0;console.log(`WordStream: Waiting for Chrome API (attempt ${n+1}/${e})...`),yield new Promise((e=>setTimeout(e,1e3)))}return!1}))}function BI({selectedDate:t,onChange:r,onClose:n}){const[o,a]=(0,e.useState)(t?new Date(t):new Date),i=(0,e.useMemo)((()=>{const e=s(o),t=l(o);return h({start:c(e,-u(e)),end:c(t,6-u(t))})}),[o]);return e.createElement("div",{className:"date-picker-calendar"},e.createElement("div",{className:"date-picker-header"},e.createElement("div",{className:"date-picker-month-year"},ce(o,"MMMM yyyy")),e.createElement("div",{className:"date-picker-nav"},e.createElement("button",{onClick:()=>{a((e=>f(e,-1)))},"aria-label":"Previous month"},e.createElement(we,{size:16})),e.createElement("button",{onClick:()=>{a((e=>f(e,1)))},"aria-label":"Next month"},e.createElement(be,{size:16})))),e.createElement("div",{className:"date-picker-days"},["Su","Mo","Tu","We","Th","Fr","Sa"].map((t=>e.createElement("div",{key:t,className:"date-picker-day-name"},t))),i.map((a=>e.createElement("div",{key:a.toISOString(),className:`date-picker-day ${de(a,o)?"":"outside-month"} ${pe(a)?"today":""} ${t&&fe(a,new Date(t))?"selected":""}`,onClick:()=>(r(ce(a,"yyyy-MM-dd")),void n())},ce(a,"d"))))))}function zI(){const{isAuthenticated:t,currentUser:r,signOut:n,signInWithEmail:o}=function(){const[t,r]=(0,e.useState)({currentUser:null,isAuthenticated:!1,isLoading:!0,error:null}),n=(0,e.useCallback)((e=>{Ju.A.updateAuthState(e)}),[]);return(0,e.useEffect)((()=>{const e=Ju.A.getCurrentUser();r(e?{currentUser:e,isAuthenticated:!0,isLoading:!1,error:null}:e=>Object.assign(Object.assign({},e),{isLoading:!1}));const t=(0,Lx.Z6)((e=>{r({currentUser:e,isAuthenticated:Boolean(e),isLoading:!1,error:null}),n(e),e&&Qx().catch((e=>console.error("Failed to sync notes after auth change:",e)))}));return()=>t()}),[n]),Object.assign(Object.assign({},t),{signInWithEmail:(e,t)=>tE(this,void 0,void 0,(function*(){r((e=>Object.assign(Object.assign({},e),{isLoading:!0,error:null})));try{const o=yield(0,Lx.Ru)(e,t);return o&&o.user?(r({currentUser:o.user,isAuthenticated:!0,isLoading:!1,error:null}),n(o.user),!0):(r((e=>Object.assign(Object.assign({},e),{isLoading:!1,error:"Sign in failed"}))),!1)}catch(e){const t=eE(e);return console.error("Auth error:",e),r((e=>Object.assign(Object.assign({},e),{isLoading:!1,error:t}))),!1}})),signInWithGoogle:()=>tE(this,void 0,void 0,(function*(){r((e=>Object.assign(Object.assign({},e),{isLoading:!0,error:null})));try{const e=yield(0,Lx.G6)();return e&&e.user?(r({currentUser:e.user,isAuthenticated:!0,isLoading:!1,error:null}),n(e.user),!0):(r((e=>Object.assign(Object.assign({},e),{isLoading:!1,error:"Google sign in failed"}))),!1)}catch(e){const t=eE(e);return console.error("Google auth error:",e),r((e=>Object.assign(Object.assign({},e),{isLoading:!1,error:t}))),!1}})),register:(e,t,o)=>tE(this,void 0,void 0,(function*(){r((e=>Object.assign(Object.assign({},e),{isLoading:!0,error:null})));try{const a=yield(0,Lx.Wq)(e,t,o);return r({currentUser:a.user,isAuthenticated:!0,isLoading:!1,error:null}),n(a.user),!0}catch(e){const t=eE(e);return console.error("Registration error:",e),r((e=>Object.assign(Object.assign({},e),{isLoading:!1,error:t}))),!1}})),signOut:()=>tE(this,void 0,void 0,(function*(){r((e=>Object.assign(Object.assign({},e),{isLoading:!0})));try{yield(0,Lx.je)(),r({currentUser:null,isAuthenticated:!1,isLoading:!1,error:null}),n(null)}catch(e){const t=eE(e);console.error("Sign out error:",e),r((e=>Object.assign(Object.assign({},e),{isLoading:!1,error:t})))}})),resetPassword:e=>tE(this,void 0,void 0,(function*(){r((e=>Object.assign(Object.assign({},e),{isLoading:!0,error:null})));try{return yield(0,Lx.xw)(e),r((e=>Object.assign(Object.assign({},e),{isLoading:!1}))),!0}catch(e){const t=eE(e);return console.error("Password reset error:",e),r((e=>Object.assign(Object.assign({},e),{isLoading:!1,error:t}))),!1}}))})}(),[a,i]=(0,e.useState)([]),[s,l]=(0,e.useState)({totalWords:0,todayWords:0,streak:0,lastActive:(new Date).toISOString().split("T")[0]}),[c,u]=(0,e.useState)({autoTranslate:!0,notifications:!0,darkMode:window.matchMedia("(prefers-color-scheme: dark)").matches,targetLanguage:"en"}),[d,h]=(0,e.useState)(!1),[f,p]=(0,e.useState)(!0),[m,g]=(0,e.useState)(null),[v,y]=(0,e.useState)({from:null,to:null}),[w,b]=(0,e.useState)("all"),[x,E]=(0,e.useState)(!0),[k,S]=(0,e.useState)("all"),[T,_]=(0,e.useState)(""),[A,C]=(0,e.useState)(!1),N=(0,e.useRef)(null),[I,O]=(0,e.useState)(!1),[P,R]=(0,e.useState)(!1),[D,L]=(0,e.useState)(!1),[M,F]=(0,e.useState)("home"),[U,j]=(0,e.useState)(!1),[B,z]=(0,e.useState)("home"),[W,V]=(0,e.useState)(!1),[H,$]=(0,e.useState)(null),G=((0,e.useRef)(null),(e,t)=>UI(this,void 0,void 0,(function*(){var r;if(!c)return;console.log(`WordStream: Changing setting ${e} to`,t);const n=Object.assign(Object.assign({},c),{[e]:t});if(u(n),localStorage.setItem("wordstream_settings",JSON.stringify(n)),"targetLanguage"===e&&(null===(r=null===chrome||void 0===chrome?void 0:chrome.runtime)||void 0===r?void 0:r.sendMessage))try{const e=yield chrome.runtime.sendMessage({action:"updateLanguageSettings",settings:{targetLanguage:t}});console.log("WordStream: Language settings update response:",e)}catch(e){console.error("WordStream: Failed to update language settings:",e)}}))),K=e=>UI(this,void 0,void 0,(function*(){try{if(!(yield jI()))return void console.error("Chrome API not available");console.log("Adding/editing word:",e);const t=Object.assign(Object.assign({},e),{targetLanguage:e.targetLanguage||c.targetLanguage}),r=a.findIndex((e=>e.originalWord.trim().toLowerCase()===t.originalWord.trim().toLowerCase()&&e.sourceLanguage===t.sourceLanguage&&e.targetLanguage===t.targetLanguage));r>=0?console.log("Word already exists, updating existing word:",r,a[r]):console.log("Adding new word, no duplicate found");let n=[...a];const o=(new Date).toISOString();r>=0?n[r]=Object.assign(Object.assign({},t),{timestamp:o}):n.push(Object.assign(Object.assign({},t),{timestamp:o})),n.sort(((e,t)=>e.sourceLanguage===t.sourceLanguage?e.originalWord.localeCompare(t.originalWord):e.sourceLanguage.localeCompare(t.sourceLanguage)));const u=Object.assign(Object.assign({},s),{totalWords:n.length,lastActive:o});i(n),l(u),chrome.storage.sync.set({words:n,stats:u},(()=>{chrome.runtime.lastError&&(console.error("Error saving to storage:",chrome.runtime.lastError),i(a),l(s))}))}catch(e){console.error("Error in handleAddWord:",e),i(a),l(s)}})),q=(0,e.useMemo)((()=>{let e=[...a];if("all"!==w&&(e=e.filter((e=>e.sourceLanguage===w))),"all"!==k&&e.length>0){const t=new Date,r=new Date(t.getFullYear(),t.getMonth(),t.getDate());switch(k){case"today":e=e.filter((e=>{if(!e.timestamp)return!1;const t=ad(e.timestamp);return+new Date(t.getFullYear(),t.getMonth(),t.getDate())==+r}));break;case"week":e=e.filter((e=>{if(!e.timestamp)return!1;const t=new Date(r);t.setDate(r.getDate()-r.getDay());const n=ad(e.timestamp);return+new Date(n.getFullYear(),n.getMonth(),n.getDate())>=+t}));break;case"month":e=e.filter((e=>{if(!e.timestamp)return!1;const r=ad(e.timestamp);return r.getMonth()===t.getMonth()&&r.getFullYear()===t.getFullYear()}));break;case"custom":T&&(e=e.filter((e=>{if(!e.timestamp)return!1;const t=T.split("-").map(Number),r=new Date(t[0],t[1]-1,t[2]),n=ad(e.timestamp);return+new Date(n.getFullYear(),n.getMonth(),n.getDate())>=+r})))}}return e}),[a,w,k,T]),Y=(0,e.useMemo)((()=>x?q.reduce(((e,t)=>{const r=Be(t.sourceLanguage);return e[r]||(e[r]=[]),e[r].push(t),e[r].sort(((e,t)=>e.originalWord.localeCompare(t.originalWord))),e}),{}):{all:q}),[q,x]),X=(0,e.useMemo)((()=>{const e=new Set;return a.forEach((t=>{t.sourceLanguage&&e.add(t.sourceLanguage)})),Array.from(e)}),[a]),Q=Object.entries(je).filter((([e])=>"auto"!==e)).map((([e,t])=>({value:e,label:t})));(0,e.useEffect)((()=>{const e=(()=>UI(this,void 0,void 0,(function*(){try{if(p(!0),g(null),!(yield jI()))return g("Chrome API not available. Please try reloading the extension."),void p(!1);const e=yield new Promise(((e,t)=>{chrome.storage.sync.get(["settings","words","stats","words_metadata","words_groups"],(r=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e(r)}))})),r=e.settings||{targetLanguage:"en",autoTranslate:!0,notifications:!0,darkMode:!1};if(u(r),document.documentElement.classList.toggle("dark",r.darkMode),t){console.log("WordStream Popup: User is authenticated, initializing data sync");const e=yield function(){return dd(this,void 0,void 0,(function*(){try{return(yield fd({action:"initializeDataSync"})).cleanup||(()=>{})}catch(e){return console.error("WordStream: Failed to initialize data sync:",e),()=>{}}}))}(),t=wd(J);return()=>{console.log("WordStream Popup: Cleaning up data sync"),e(),t()}}console.log("WordStream Popup: User is not authenticated, loading from local storage only");let n=[];if(e.words_metadata&&e.words_groups&&Array.isArray(e.words_groups)){console.log("WordStream: Loading words in new grouped format");const t=yield new Promise(((t,r)=>{chrome.storage.sync.get(e.words_groups,(e=>{chrome.runtime.lastError?r(chrome.runtime.lastError):t(e)}))}));for(const r of e.words_groups)t[r]&&Array.isArray(t[r])&&n.push(...t[r]);console.log(`WordStream: Loaded ${n.length} words from new format`)}else e.words&&Array.isArray(e.words)&&(console.log("WordStream: Loading words in old format"),n=e.words);if(n.length>0){const t=new Map;console.log(`Checking ${n.length} words for duplicates...`);const r=n.filter((e=>{if(!e.originalWord||!e.sourceLanguage)return!0;const r=`${e.originalWord.trim().toLowerCase()}-${e.sourceLanguage}-${e.targetLanguage||""}`;if(t.has(r)){const n=t.get(r),o=ad(n.timestamp).getTime(),a=ad(e.timestamp).getTime();return console.log(`Found duplicate: "${e.originalWord}" (${e.sourceLanguage}/${e.targetLanguage})`),a>o?(console.log(`  Keeping newer version from ${id(e.timestamp,"PPP")}`),t.set(r,e),!0):(console.log(`  Keeping older version from ${id(n.timestamp,"PPP")}`),!1)}return t.set(r,e),!0}));if(i(r),e.stats){const t=e.stats.lastActive&&!isNaN(ad(e.stats.lastActive).getTime())?e.stats.lastActive:(new Date).toISOString();l({totalWords:r.length,todayWords:e.stats.todayWords||0,streak:e.stats.streak||0,lastActive:t}),e.stats.totalWords!==r.length&&(console.log(`Updating word count in storage from ${e.stats.totalWords} to ${r.length}`),chrome.storage.sync.set({stats:Object.assign(Object.assign({},e.stats),{totalWords:r.length})},(()=>{chrome.runtime.lastError?console.error("Error updating word count in storage:",chrome.runtime.lastError):console.log("Word count updated successfully in storage")})))}}else if(i([]),e.stats){const t=e.stats.lastActive&&!isNaN(ad(e.stats.lastActive).getTime())?e.stats.lastActive:(new Date).toISOString();l({totalWords:0,todayWords:e.stats.todayWords||0,streak:e.stats.streak||0,lastActive:t}),0!==e.stats.totalWords&&(console.log(`Updating word count in storage from ${e.stats.totalWords} to 0`),chrome.storage.sync.set({stats:Object.assign(Object.assign({},e.stats),{totalWords:0})}))}}catch(e){console.error("WordStream: Error loading data:",e),g("Failed to load data. Please try again.")}finally{p(!1)}})))();return()=>{e.then((e=>{"function"==typeof e&&e()}))}}),[t]);const J=(0,e.useCallback)((e=>{console.log("WordStream Popup: Received broadcast message:",e),"WORDS_UPDATED"===e.action&&Array.isArray(e.words)&&(console.log(`WordStream Popup: Updating words from broadcast (${e.words.length} words)`),i(e.words)),"STATS_UPDATED"===e.action&&e.stats&&(console.log("WordStream Popup: Updating stats from broadcast"),l(e.stats))}),[]);(0,e.useEffect)((()=>{(()=>{UI(this,void 0,void 0,(function*(){try{if(!(yield jI()))return;const e=yield new Promise(((e,t)=>{chrome.storage.sync.get(["stats"],(r=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e(r)}))}));if(!e.stats)return;const t=e=>{if(!e||!e.lastActive)return 0;const t=new Date,r=ad(e.lastActive),n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),o=new Date(r.getFullYear(),r.getMonth(),r.getDate()),a=Math.abs(n.getTime()-o.getTime()),i=Math.ceil(a/864e5);return 0===i?e.streak||1:1===i&&o<n?(e.streak||0)+1:i>1?1:e.streak||1},r=new Date,n=t(e.stats),o=ad(e.stats.lastActive),a=new Date(r.getFullYear(),r.getMonth(),r.getDate()),i=new Date(o.getFullYear(),o.getMonth(),o.getDate());let s=e.stats.todayWords||0;a.getTime()!==i.getTime()&&(s=0);const c=Object.assign(Object.assign({},e.stats),{streak:n,todayWords:s,lastActive:r.toISOString()});l(c),chrome.storage.sync.set({stats:c},(()=>{chrome.runtime.lastError&&console.error("Error saving streak to storage:",chrome.runtime.lastError)}))}catch(e){console.error("Error updating streak:",e)}}))})()}),[]);const Z=()=>{z("home")},ee=()=>{t?z("games"):V(!0)},te=()=>{ee()},re=()=>UI(this,void 0,void 0,(function*(){var e,t,n;try{if(!(yield jI()))return void console.error("Chrome API not available");if(r)try{const e=yield function(){return dd(this,void 0,void 0,(function*(){try{return yield fd({action:"getUserStats"})}catch(e){return console.error("WordStream: Failed to get user stats:",e),null}}))}();if(e)return console.log("WordStream: Successfully loaded stats from Firestore"),l(e),void chrome.storage.sync.set({stats:e},(()=>{chrome.runtime.lastError?console.error("Error saving Firestore stats to local storage:",chrome.runtime.lastError):console.log("WordStream: Successfully synced Firestore stats to local storage")}))}catch(e){console.error("WordStream: Error loading stats from Firestore:",e)}const o=yield new Promise(((e,t)=>{chrome.storage.sync.get(["stats","words_metadata","words_groups","words"],(r=>{chrome.runtime.lastError?t(chrome.runtime.lastError.message||"Error accessing storage"):e(r)}))}));o.stats&&l({totalWords:o.stats.totalWords||0,todayWords:o.stats.todayWords||0,streak:o.stats.streak||0,lastActive:o.stats.lastActive||(new Date).toISOString()});let a=0;if(o.words_metadata&&void 0!==o.words_metadata.totalWords)a=o.words_metadata.totalWords;else if(o.words_groups&&Array.isArray(o.words_groups)&&o.words_groups.length>0){const e=yield new Promise(((e,t)=>{chrome.storage.sync.get(o.words_groups,(r=>{chrome.runtime.lastError?t(chrome.runtime.lastError.message||"Error loading word groups"):e(r)}))}));for(const t of o.words_groups)e[t]&&Array.isArray(e[t])&&(a+=e[t].length)}else o.words&&Array.isArray(o.words)&&(a=o.words.length);if(a>0&&(!o.stats||o.stats.totalWords!==a)){const i={totalWords:a,todayWords:(null===(e=o.stats)||void 0===e?void 0:e.todayWords)||0,streak:(null===(t=o.stats)||void 0===t?void 0:t.streak)||0,lastActive:(null===(n=o.stats)||void 0===n?void 0:n.lastActive)||(new Date).toISOString()};l((e=>Object.assign(Object.assign({},e),{totalWords:a}))),chrome.storage.sync.set({stats:i},(()=>{chrome.runtime.lastError?console.error("Error saving updated stats to storage:",chrome.runtime.lastError):r&&yd(i).catch((e=>{console.error("WordStream: Error saving stats to Firestore:",e)}))}))}else r&&o.stats&&yd(o.stats).catch((e=>{console.error("WordStream: Error saving existing stats to Firestore:",e)}));console.log("Statistics refreshed successfully")}catch(e){console.error("Error refreshing statistics:",e)}}));(0,e.useEffect)((()=>{P&&re().then((()=>{z("stats"),R(!1),O(!1)}))}),[P]);const ne=e=>UI(this,void 0,void 0,(function*(){try{const t=a.filter((t=>t.id!==e));i(t),l(Object.assign(Object.assign({},s),{totalWords:t.length,todayWords:s.todayWords>0?s.todayWords-1:0}));const n=yield new Promise(((e,t)=>{chrome.storage.sync.get(["words_metadata","words_groups"],(r=>{chrome.runtime.lastError?t(chrome.runtime.lastError.message||"Error accessing storage"):e(r)}))}));if(n.words_metadata&&Array.isArray(n.words_groups)){console.log("Updating groups format after word deletion");try{const t=yield new Promise(((e,t)=>{chrome.storage.sync.get(n.words_groups,(r=>{chrome.runtime.lastError?t(chrome.runtime.lastError.message||"Error loading word groups"):e(r)}))}));let o=[];for(const r of n.words_groups)if(t[r]&&Array.isArray(t[r])){const n=t[r].filter((t=>t.id!==e));o.push(...n)}const a=10,i={};o.forEach(((e,t)=>{const r=`words_group_${Math.floor(t/a)}`;i[r]||(i[r]=[]),i[r].push(e)}));const l={};l.words_metadata={totalGroups:Object.keys(i).length,totalWords:o.length,lastUpdated:(new Date).toISOString()},l.stats={totalWords:o.length,todayWords:s.todayWords>0?s.todayWords-1:0,streak:s.streak,lastActive:s.lastActive},l.words_groups=Object.keys(i);for(const[e,t]of Object.entries(i))l[e]=t;const c=n.words_groups.filter((e=>!Object.keys(i).includes(e)));if(c.length>0&&(yield new Promise(((e,t)=>{chrome.storage.sync.remove(c,(()=>{chrome.runtime.lastError&&console.warn("Warning removing unused groups:",chrome.runtime.lastError.message),e()}))}))),yield new Promise(((e,t)=>{chrome.storage.sync.set(l,(()=>{chrome.runtime.lastError?t(chrome.runtime.lastError.message||"Error updating storage"):e()}))})),r){const e={totalWords:o.length,todayWords:s.todayWords>0?s.todayWords-1:0,streak:s.streak,lastActive:s.lastActive};yield yd(e)}}catch(e){console.error("Error updating storage after word deletion:",e)}}}catch(e){console.error("Error deleting word:",e)}})),oe=()=>UI(this,void 0,void 0,(function*(){try{const e=q.length>0?q:a;if(0===e.length)return void alert("No words available to export.");const t=e.map((e=>{var t;return{"Original Word":e.originalWord,Translation:e.targetWord,"Source Language":je[e.sourceLanguage]||e.sourceLanguage,"Target Language":je[e.targetLanguage]||e.targetLanguage,"Added Date":e.timestamp?id(e.timestamp,"yyyy-MM-dd HH:mm:ss"):"Unknown",Context:e.context?`${e.context.videoTitle} (${e.context.source})`:"No context",URL:(null===(t=e.context)||void 0===t?void 0:t.url)||"Not available"}})),r=FI.json_to_sheet(t),n=FI.book_new();FI.book_append_sheet(n,r,"Words List");const o=[{wch:20},{wch:20},{wch:15},{wch:15},{wch:20},{wch:40},{wch:50}];r["!cols"]=o;!function(e,t,r){var n=r||{};n.type="file",n.file=t,TI(n),SI(e,n)}(n,`wordstream_vocabulary_${id(new Date,"yyyy-MM-dd")}.xlsx`),console.log(`WordStream: Exported ${e.length} words to Excel`)}catch(e){console.error("Error exporting words to Excel:",e),alert("Failed to export words. Please try again.")}}));(0,e.useEffect)((()=>{function e(e){N.current&&!N.current.contains(e.target)&&C(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const ae=()=>{z("home")};(0,e.useEffect)((()=>{var e;const t=e=>{var t,r;console.log("WordStream: Received auth error event in popup",e.detail),"auth/session-expired"!==(null===(t=e.detail)||void 0===t?void 0:t.code)&&"auth/user-not-authenticated"!==(null===(r=e.detail)||void 0===r?void 0:r.code)||($(e.detail.message||"Your session has expired. Please sign in again."),V(!0))};window.addEventListener("wordstream-auth-error",t);const r=e=>{"OPEN_AUTH_DIALOG"===(null==e?void 0:e.action)&&"session_expired"===(null==e?void 0:e.reason)&&($("Your session has expired. Please sign in again."),V(!0))};return(null===(e=null===chrome||void 0===chrome?void 0:chrome.runtime)||void 0===e?void 0:e.onMessage)&&chrome.runtime.onMessage.addListener(r),()=>{var e;window.removeEventListener("wordstream-auth-error",t),(null===(e=null===chrome||void 0===chrome?void 0:chrome.runtime)||void 0===e?void 0:e.onMessage)&&chrome.runtime.onMessage.removeListener(r)}}),[]);const ie=(e,t)=>UI(this,void 0,void 0,(function*(){try{p(!0);(yield o(e,t))?(V(!1),$(null),p(!0)):$("Login failed. Please check your email and password.")}catch(e){console.error("WordStream: Re-login error:",e),$(`Login error: ${e instanceof Error?e.message:"Unknown error"}`)}finally{p(!1)}}));let se;return se="stats"===B?e.createElement(ld,{onBack:Z,showGames:te}):"games"===B?e.createElement("div",{className:"fixed inset-0 flex justify-center items-center w-screen h-screen z-[9999]"},e.createElement("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm z-[9999]"}),e.createElement("div",{className:"relative w-full h-full z-[10000]"},e.createElement(ed,{words:q.map((e=>{var t;return{word:e.originalWord,translation:e.targetWord,context:(null===(t=e.context)||void 0===t?void 0:t.source)?`From ${e.context.source}`:void 0}})),onBack:Z}))):"notes"===B?e.createElement(ux,{onBack:ae}):"chats"===B?e.createElement(Dx,{onBack:Z}):e.createElement("div",{className:"popup-container"},e.createElement("header",{className:"popup-header"},e.createElement("div",{className:"flex items-center"},e.createElement("img",{src:"/icons/icon48.png",alt:"Logo",className:"logo"}),e.createElement("h1",{className:"title"},"WordStream")),e.createElement("div",{className:"flex items-center gap-2"},e.createElement("button",{onClick:()=>c.darkMode?G("darkMode",!1):G("darkMode",!0),className:"icon-button","aria-label":"Toggle theme"},c.darkMode?e.createElement(Ce,{size:20}):e.createElement(Ne,{size:20})),e.createElement("button",{onClick:()=>h(!d),className:"icon-button","aria-label":"Settings"},e.createElement(Ie,{size:20})))),e.createElement("main",{className:"popup-content"},d?e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center"},e.createElement("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm"}),e.createElement("div",{className:"z-50 w-[320px] bg-background shadow-lg rounded-lg border border-border",style:{position:"absolute",top:"35%",left:"50%",transform:"translateX(-50%)"}},e.createElement("div",{className:"flex items-center justify-between p-3 border-b"},e.createElement("h2",{className:"text-lg font-bold"},"Settings"),e.createElement("button",{onClick:()=>{h(!1)},className:"icon-button text-muted-foreground hover:text-foreground","aria-label":"Close settings"},e.createElement(Te,{size:18}))),e.createElement("div",{className:"flex flex-col h-[270px] justify-between py-3 px-4"},e.createElement("div",null,e.createElement("div",{className:"mb-4 pb-3 border-b"},e.createElement("div",{className:"flex items-center justify-between mb-2"},e.createElement("label",{htmlFor:"target-language",className:"text-sm font-medium"},"Target Language")),e.createElement("select",{id:"target-language",value:c.targetLanguage,onChange:e=>G("targetLanguage",e.target.value),className:"select-input w-full text-sm"},Q.map((t=>e.createElement("option",{key:t.value,value:t.value},t.label))))),e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"setting-item"},e.createElement("div",{className:"flex items-center justify-between mb-1"},e.createElement("label",{htmlFor:"dark-mode",className:"text-sm font-medium"},"Dark Theme"),e.createElement("div",{className:"switch-wrapper"},e.createElement("input",{type:"checkbox",id:"dark-mode",checked:c.darkMode,onChange:()=>G("darkMode",!c.darkMode),className:"hidden"}),e.createElement("div",{onClick:()=>G("darkMode",!c.darkMode),className:"w-10 h-5 rounded-full flex items-center cursor-pointer transition-colors "+(c.darkMode?"bg-blue-600":"bg-gray-300")},e.createElement("div",{className:"w-4 h-4 rounded-full bg-white shadow-md transform transition-transform "+(c.darkMode?"translate-x-5":"translate-x-1")})))),e.createElement("p",{className:"text-xs text-muted-foreground"},"Switch between light and dark themes")),e.createElement("div",{className:"setting-item"},e.createElement("div",{className:"flex items-center justify-between mb-1"},e.createElement("label",{htmlFor:"auto-translate",className:"text-sm font-medium"},"Auto-translate"),e.createElement("div",{className:"switch-wrapper"},e.createElement("input",{type:"checkbox",id:"auto-translate",checked:c.autoTranslate,onChange:()=>G("autoTranslate",!c.autoTranslate),className:"hidden"}),e.createElement("div",{onClick:()=>G("autoTranslate",!c.autoTranslate),className:"w-10 h-5 rounded-full flex items-center cursor-pointer transition-colors "+(c.autoTranslate?"bg-blue-600":"bg-gray-300")},e.createElement("div",{className:"w-4 h-4 rounded-full bg-white shadow-md transform transition-transform "+(c.autoTranslate?"translate-x-5":"translate-x-1")})))),e.createElement("p",{className:"text-xs text-muted-foreground"},"Automatically translate subtitles")))),e.createElement("div",{className:"pt-3 mt-3 border-t"},e.createElement("div",null,e.createElement("p",{className:"text-xs text-muted-foreground mb-1"},"Logged in as:"),e.createElement("p",{className:"text-sm font-medium mb-2 truncate"},null==r?void 0:r.email),e.createElement("button",{onClick:n,className:"w-full py-1.5 px-4 rounded-md bg-red-600 text-white text-sm font-medium hover:bg-red-700 transition-colors"},"Sign Out")))))):e.createElement(e.Fragment,null,r&&e.createElement("div",{className:"flex items-center justify-between bg-blue-50 dark:bg-blue-900/20 px-4 py-3 rounded-lg mb-5"},e.createElement("div",{className:"flex items-center gap-2"},e.createElement(Oe,{size:18,className:"text-blue-600 dark:text-blue-400"}),e.createElement("span",{className:"text-blue-700 dark:text-blue-300 font-medium"},r.email)),e.createElement("button",{onClick:()=>n(),className:"flex items-center gap-1 px-3 py-1 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-md hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors","aria-label":"Sign out"},e.createElement(Pe,{size:16}),e.createElement("span",{className:"text-sm font-medium"},"Sign Out"))),e.createElement("div",{className:"stats-section mb-6"},e.createElement("div",{className:"flex items-center justify-between gap-2"},e.createElement("h2",{className:"section-title flex items-center gap-2"},e.createElement(xe,{size:18,className:"text-primary"}),e.createElement("span",null,"Statistics")),e.createElement(Ht,{variant:"ghost",size:"sm",className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full",title:"Refresh Statistics",onClick:()=>re()},e.createElement(Ee,{size:16,className:"text-slate-500"}))),e.createElement("div",{className:"cards-container grid grid-cols-2 gap-4 mt-2"},e.createElement(zt,{className:"col-span-1 flex flex-col glass-card p-4 cursor-pointer hover:ring-2 hover:ring-indigo-500/50",onClick:()=>{re().then((()=>z("stats")))}},e.createElement("div",{className:"flex items-center justify-center h-full gap-3"},e.createElement("div",{className:"stats-icon"},e.createElement(ke,{size:32,className:"text-indigo-400"})),e.createElement("div",{className:"stats-details flex flex-col"},e.createElement("span",{className:"text-base font-semibold"},"Total Words"),e.createElement("span",{className:"text-2xl font-bold"},s.totalWords||0)))),e.createElement(zt,{className:"col-span-1 flex flex-col glass-card p-4 cursor-pointer hover:ring-2 hover:ring-indigo-500/50",onClick:()=>{re().then((()=>z("stats")))}},e.createElement("div",{className:"flex items-center justify-center h-full gap-3"},e.createElement("div",{className:"stats-icon"},e.createElement(Se,{size:32,className:"text-orange-400"})),e.createElement("div",{className:"stats-details flex flex-col"},e.createElement("span",{className:"text-base font-semibold"},"Daily Streak"),e.createElement("span",{className:"text-2xl font-bold"},s.streak||0))))),e.createElement(Ht,{variant:"outline",className:"w-full mt-3 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 hover:from-blue-600 hover:via-purple-600 hover:to-pink-600 text-white font-medium py-3 rounded-xl shadow-lg transform transition duration-200 hover:scale-105",onClick:()=>{re().then((()=>z("stats")))}},e.createElement("span",{className:"mr-2"},"📊"),"View Detailed Statistics")),e.createElement("div",{className:"practice-section"},e.createElement("h2",{className:"section-title flex items-center gap-2 mb-3"},e.createElement(Re,{size:18,className:"text-primary"}),e.createElement("span",null,"Practice")),e.createElement(Ht,{className:"w-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 hover:from-blue-600 hover:via-purple-600 hover:to-pink-600 text-white font-medium py-3 rounded-xl shadow-lg transform transition duration-200 hover:scale-105 mb-3",onClick:()=>ee(),disabled:a.length<4,title:a.length<4?"Need at least 4 words to practice with games":""},e.createElement("span",{className:"mr-2"},"🎮"),"Practice Games",a.length>0&&a.length<4&&e.createElement("span",{className:"ml-2 text-xs opacity-80"},"(Need at least 4 words)")),e.createElement(Ht,{className:"w-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 hover:from-blue-600 hover:via-purple-600 hover:to-pink-600 text-white font-medium py-3 rounded-xl shadow-lg transform transition duration-200 hover:scale-105",onClick:()=>z("stats")},e.createElement("span",{className:"mr-2"},"📊"),"View Statistics")),e.createElement("div",{className:"notes-section mt-6 mb-6"},e.createElement("div",{className:"flex items-center justify-between gap-2"},e.createElement("h2",{className:"section-title flex items-center gap-2"},e.createElement(De,{size:18,className:"text-primary"}),e.createElement("span",null,"Notes & Resources"))),e.createElement("div",{className:"mt-2 space-y-3"},e.createElement(zt,{className:"hover:shadow-md cursor-pointer transition-all p-4 bg-white dark:bg-slate-800",onClick:()=>z("notes")},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-2 rounded-full bg-blue-500/10 text-blue-500"},e.createElement(De,{size:20})),e.createElement("div",null,e.createElement("h3",{className:"font-medium"},"Video Notes"),e.createElement("p",{className:"text-sm text-slate-500 dark:text-slate-400"},"View and manage your saved notes"))),e.createElement(be,{size:20,className:"text-slate-400"}))),e.createElement(zt,{className:"hover:shadow-md cursor-pointer transition-all p-4 bg-white dark:bg-slate-800",onClick:()=>z("chats")},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"p-2 rounded-full bg-indigo-500/10 text-indigo-500"},e.createElement(Le,{size:20})),e.createElement("div",null,e.createElement("h3",{className:"font-medium"},"Saved Chats"),e.createElement("p",{className:"text-sm text-slate-500 dark:text-slate-400"},"Review and export meaningful conversations"))),e.createElement(be,{size:20,className:"text-slate-400"}))))),e.createElement("div",{className:"words-section mt-8"},e.createElement("div",{className:"flex items-center justify-between mb-4"},e.createElement("h2",{className:"section-title flex items-center gap-2"},e.createElement(Me,{size:18,className:"text-primary"}),e.createElement("span",null,"Words")),e.createElement("div",{className:"flex items-center gap-3"},a.length>0&&e.createElement(Ht,{variant:"outline",size:"sm",className:"flex items-center gap-1 text-xs bg-green-50 hover:bg-green-100 text-green-700 border-green-200 hover:border-green-300 dark:bg-green-900/20 dark:text-green-400 dark:border-green-800 dark:hover:bg-green-900/30",onClick:oe},e.createElement(Fe,{size:14}),e.createElement("span",null,"Export to Excel")),e.createElement("div",{className:"text-sm text-muted-foreground"},"Total: ",a.length))),e.createElement("div",{className:"filter-container"},e.createElement("div",{className:"flex justify-between items-center mb-3"},e.createElement("h3",{className:"text-sm font-medium"},"Filters"),("all"!==w||"all"!==k)&&e.createElement("button",{onClick:()=>{b("all"),S("all"),_(""),C(!1)},className:"text-xs text-primary hover:text-primary/80 flex items-center gap-1","aria-label":"Reset filters"},e.createElement(Te,{size:14}),e.createElement("span",null,"Reset"))),e.createElement("div",{className:"filters space-y-4"},e.createElement("div",{className:"filter-group"},e.createElement("label",{htmlFor:"language-filter",className:"filter-label mb-1.5"},"Source Language"),e.createElement("div",{className:"relative"},e.createElement("select",{id:"language-filter",value:w,onChange:e=>b(e.target.value),className:"select-input pr-8 appearance-none w-full"},e.createElement("option",{value:"all"},"All Languages"),X.map((t=>e.createElement("option",{key:t,value:t},je[t]||t)))),e.createElement(_e,{size:16,className:"absolute right-2.5 top-1/2 transform -translate-y-1/2 text-muted-foreground pointer-events-none"}))),e.createElement("div",{className:"filter-group"},e.createElement("label",{htmlFor:"date-filter",className:"filter-label mb-1.5"},"Date Added"),e.createElement("div",{className:"relative"},e.createElement("select",{id:"date-filter",value:k,onChange:e=>{S(e.target.value),"custom"!==e.target.value&&(_(""),C(!1))},className:"select-input pr-8 appearance-none w-full"},e.createElement("option",{value:"all"},"All Time"),e.createElement("option",{value:"today"},"Today"),e.createElement("option",{value:"week"},"This Week"),e.createElement("option",{value:"month"},"This Month"),e.createElement("option",{value:"custom"},"Custom Date")),e.createElement(Ae,{size:16,className:"absolute right-2.5 top-1/2 transform -translate-y-1/2 text-muted-foreground pointer-events-none"}))),"custom"===k&&e.createElement("div",{className:"filter-group"},e.createElement("label",{htmlFor:"custom-date",className:"filter-label mb-1.5"},"Select Date"),e.createElement("div",{className:"date-picker-container",ref:N},e.createElement("div",{className:"relative"},e.createElement("input",{type:"text",id:"custom-date",value:T,readOnly:!0,placeholder:"YYYY-MM-DD",className:"date-input pr-8 w-full cursor-pointer",onClick:()=>C(!A)}),e.createElement(Ae,{size:16,className:"absolute right-2.5 top-1/2 transform -translate-y-1/2 text-muted-foreground pointer-events-none"})),A&&e.createElement(BI,{selectedDate:T,onChange:_,onClose:()=>C(!1)})))),e.createElement("div",{className:"filter-stats mt-2 text-sm text-muted-foreground"},"Showing ",q.length," of ",a.length," words")),e.createElement("div",{className:"words-grid mt-6 space-y-3"},f?e.createElement("div",{className:"text-center py-8"},e.createElement("div",{className:"spinner mb-2"}),e.createElement("p",{className:"text-muted-foreground"},"Loading words...")):0===q.length?e.createElement("div",{className:"empty-state text-center py-8"},e.createElement("div",{className:"mb-4"},0===a.length?"📚":"🔍"),e.createElement("h3",{className:"text-lg font-semibold mb-2"},0===a.length?"No words yet":"No words match your filters"),e.createElement("p",{className:"text-muted-foreground text-sm max-w-xs mx-auto"},0===a.length?"Words you save while watching videos will appear here.":"Try changing your language or date filters to see more words.")):x&&"all"===w?Object.entries(Y).map((([t,r])=>e.createElement("div",{key:t,className:"language-group mb-6"},e.createElement("div",{className:"language-header mb-2 pb-1 border-b border-border"},e.createElement("h3",{className:"font-medium"},je[t]||t," ",e.createElement("span",{className:"text-muted-foreground text-sm"},"(",r.length,")"))),r.map((t=>e.createElement(WI,{key:t.id,word:t,onEdit:K,onDelete:()=>ne(t.id)})))))):q.map((t=>e.createElement(WI,{key:t.id,word:t,onEdit:K,onDelete:()=>ne(t.id)}))))))),e.createElement("footer",{className:"popup-footer"},e.createElement("p",{className:"text-xs text-muted-foreground text-center"},"Last active: ",s.lastActive?id(s.lastActive,"PPP"):"Never"))),(0,e.useEffect)((()=>{const e=document.documentElement;c.darkMode?(e.classList.add("dark"),e.classList.remove("light")):(e.classList.add("light"),e.classList.remove("dark"))}),[c.darkMode]),(0,e.useEffect)((()=>{document.documentElement.lang="en-US"}),[]),e.createElement(e.Fragment,null,se,W&&e.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4"},e.createElement("div",{className:"bg-card text-card-foreground rounded-lg shadow-lg w-full max-w-md p-6 border border-border animate-in zoom-in-95 duration-200"},e.createElement("h2",{className:"text-xl font-semibold mb-2"},"התחברות נדרשת"),H&&e.createElement("div",{className:"bg-destructive/15 text-destructive rounded-md p-3 mb-4"},e.createElement("p",null,H)),e.createElement("p",{className:"text-muted-foreground mb-6"},"הסשן שלך פג תוקף. אנא התחבר שוב כדי להמשיך להשתמש ב-WordStream."),e.createElement("form",{onSubmit:e=>{e.preventDefault();const t=e.target,r=t.elements.namedItem("email").value,n=t.elements.namedItem("password").value;ie(r,n)},className:"space-y-4"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{htmlFor:"email",className:"text-sm font-medium"},'דוא"ל'),e.createElement("input",{type:"email",id:"email",name:"email",required:!0,className:"w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary"})),e.createElement("div",{className:"space-y-2"},e.createElement("label",{htmlFor:"password",className:"text-sm font-medium"},"סיסמה"),e.createElement("input",{type:"password",id:"password",name:"password",required:!0,className:"w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary"})),e.createElement("div",{className:"pt-2"},e.createElement("button",{type:"submit",disabled:f,className:"w-full bg-primary text-primary-foreground py-2 rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:pointer-events-none"},f?"מתחבר...":"התחבר"))))))}function WI({word:t,onEdit:r,onDelete:n}){const[o,a]=(0,e.useState)(!1),[i,s]=(0,e.useState)(t),l=()=>{var e;try{if(!(null===(e=null===chrome||void 0===chrome?void 0:chrome.runtime)||void 0===e?void 0:e.id))return void console.error("Chrome API not available");console.log("Saving edited word:",i),chrome.storage.sync.get(["words"],(e=>{if(chrome.runtime.lastError)return void console.error("Error accessing storage:",chrome.runtime.lastError);const n=(e.words||[]).filter((e=>!(e.originalWord.trim().toLowerCase()===t.originalWord.trim().toLowerCase()&&e.sourceLanguage===t.sourceLanguage&&e.targetLanguage===t.targetLanguage)));if(n.some((e=>e.originalWord.trim().toLowerCase()===i.originalWord.trim().toLowerCase()&&e.sourceLanguage===i.sourceLanguage&&e.targetLanguage===i.targetLanguage)))return console.warn("Edit would create a duplicate word, not saving:",i),void a(!1);n.push(Object.assign(Object.assign({},i),{timestamp:(new Date).toISOString()})),n.sort(((e,t)=>e.sourceLanguage===t.sourceLanguage?e.originalWord.localeCompare(t.originalWord):e.sourceLanguage.localeCompare(t.sourceLanguage))),chrome.storage.sync.set({words:n,stats:Object.assign(Object.assign({},e.stats),{totalWords:n.length})},(()=>{chrome.runtime.lastError?console.error("Error saving to storage:",chrome.runtime.lastError):(r(i),a(!1))}))}))}catch(e){console.error("Error in handleSave:",e)}},c=e=>{s(Object.assign(Object.assign({},i),{sourceLanguage:e,context:Object.assign(Object.assign({},i.context),{captionsLanguage:e})}))};return o?e.createElement(zt,{className:"word-card"},e.createElement("div",{className:"word-header"},e.createElement("input",{type:"text",value:i.originalWord,onChange:e=>s(Object.assign(Object.assign({},i),{originalWord:e.target.value})),className:"input-field",placeholder:"Original word"}),e.createElement("div",{className:"actions"},e.createElement("button",{onClick:l,className:"save-button",title:"Save changes"},"✓"),e.createElement("button",{onClick:()=>{s(t),a(!1)},className:"cancel-button",title:"Cancel editing"},"×"))),e.createElement("input",{type:"text",value:i.targetWord,onChange:e=>s(Object.assign(Object.assign({},i),{targetWord:e.target.value})),className:"input-field translated-input",placeholder:"Translation"}),e.createElement("div",{className:"word-meta"},e.createElement(Wt,{value:i.sourceLanguage,onValueChange:c,options:Object.entries(je).map((([e,t])=>({value:e,label:t}))),className:"language-select"}),e.createElement("span",{className:"text-xs text-muted-foreground"},t.timestamp?id(t.timestamp,"MMM d, yyyy"):"Just added"))):e.createElement(zt,{className:"word-card"},e.createElement("div",{className:"word-header"},e.createElement("span",{className:"original-word"},t.originalWord),e.createElement("div",{className:"actions"},e.createElement("button",{onClick:()=>a(!0),className:"edit-button",title:"Edit word"},e.createElement(Ue,{size:16})),e.createElement("button",{onClick:n,className:"delete-button",title:"Delete word"},"×"))),e.createElement("div",{className:"translated-word"},t.targetWord),e.createElement("div",{className:"word-meta"},e.createElement("span",{className:"language"},je[t.sourceLanguage]||t.sourceLanguage),e.createElement("span",{className:"text-xs text-muted-foreground"},t.timestamp?id(t.timestamp,"MMM d, yyyy"):"Just added")))}var VI=r(72),HI=r.n(VI),$I=r(825),GI=r.n($I),KI=r(659),qI=r.n(KI),YI=r(56),XI=r.n(YI),QI=r(159),JI=r.n(QI),ZI=r(113),eO=r.n(ZI),tO=r(457),rO={};rO.styleTagTransform=eO(),rO.setAttributes=XI(),rO.insert=qI().bind(null,"head"),rO.domAPI=GI(),rO.insertStyleElement=JI();HI()(tO.A,rO);tO.A&&tO.A.locals&&tO.A.locals;document.addEventListener("DOMContentLoaded",(()=>{const r=document.getElementById("app");if(r){(0,t.H)(r).render(e.createElement(zI,null))}}))})()})();